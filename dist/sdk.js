!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("bitcore-lib")):"function"==typeof define&&define.amd?define(["bitcore-lib"],e):"object"==typeof exports?exports.MobitSdk=e(require("bitcore-lib")):t.MobitSdk=e(t["bitcore-lib"])}(this,(__WEBPACK_EXTERNAL_MODULE__33470__=>(()=>{var __webpack_modules__={73513:(t,e,r)=>{"use strict";var n=r(48287).Buffer,i=r(9598),o=r(39615),s=r(22623);function a(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}})),e.default=t,Object.freeze(e)}var u=a(i);const c="Expected Private",f="Expected Point",l="Expected Tweak",d="Expected Signature",h="Expected Extra Data (32 bytes)",p="Expected Scalar";u.utils.hmacSha256Sync=(t,...e)=>o.hmac(s.sha256,t,u.utils.concatBytes(...e)),u.utils.sha256Sync=(...t)=>s.sha256(u.utils.concatBytes(...t));const y=u.utils._normalizePrivateKey,g=32,b=32,m=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),v=32,_=new Uint8Array(32),w=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function S(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function A(t){return 0===S(t,_)}function x(t){return t instanceof Uint8Array&&t.length===b&&!(S(t,m)>=0)}function E(t){return t instanceof Uint8Array&&64===t.length&&S(t.subarray(0,32),m)<0&&S(t.subarray(32,64),m)<0}function k(t){return t instanceof Uint8Array&&64===t.length&&S(t.subarray(0,32),w)<0}function I(t){return t instanceof Uint8Array&&t.length===g}function T(t){return void 0===t||t instanceof Uint8Array&&t.length===v}function C(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function O(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if("string"==typeof t){if(64!==t.length)throw new Error("Expected 32 bytes of private scalar");e=C(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==t.length)throw new Error("Expected 32 bytes of private scalar");r=t,e=C(u.utils.bytesToHex(r))}var r;if(e<0)throw new Error("Expected private scalar >= 0");return e}const P=(t,e,r)=>{const n=u.Point.fromHex(t),i=O(e),o=u.Point.BASE.multiplyAndAddUnsafe(n,i,BigInt(1));if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)};function M(t,e){return void 0===t?void 0===e||D(e):!!t}function B(t){try{return t()}catch(t){return null}}function R(t,e){if(32===t.length!==e)return!1;try{return!!u.Point.fromHex(t)}catch(t){return!1}}function j(t){return R(t,!1)}function D(t){return R(t,!1)&&33===t.length}function L(t){return u.utils.isValidPrivateKey(t)}function U(t){return R(t,!0)}function N(t){if(!j(t))throw new Error(f);return t.slice(1,33)}function H(t,e){if(!L(t))throw new Error(c);return B((()=>u.getPublicKey(t,M(e))))}e.isPoint=j,e.isPointCompressed=D,e.isPrivate=L,e.isXOnlyPoint=U,e.pointAdd=function(t,e,r){if(!j(t)||!j(e))throw new Error(f);return B((()=>{const n=u.Point.fromHex(t),i=u.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(M(r,t))}))},e.pointAddScalar=function(t,e,r){if(!j(t))throw new Error(f);if(!x(e))throw new Error(l);return B((()=>P(t,e,M(r,t))))},e.pointCompress=function(t,e){if(!j(t))throw new Error(f);return u.Point.fromHex(t).toRawBytes(M(e,t))},e.pointFromScalar=H,e.pointMultiply=function(t,e,r){if(!j(t))throw new Error(f);if(!x(e))throw new Error(l);return B((()=>((t,e,r)=>{const n=u.Point.fromHex(t),i="string"==typeof e?e:u.utils.bytesToHex(e),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)})(t,e,M(r,t))))},e.privateAdd=function(t,e){if(!1===L(t))throw new Error(c);if(!1===x(e))throw new Error(l);return B((()=>((t,e)=>{const r=y(t),n=O(e),i=u.utils._bigintTo32Bytes(u.utils.mod(r+n,u.CURVE.n));return u.utils.isValidPrivateKey(i)?i:null})(t,e)))},e.privateNegate=function(t){if(!1===L(t))throw new Error(c);return(t=>{const e=y(t),r=u.utils._bigintTo32Bytes(u.CURVE.n-e);return u.utils.isValidPrivateKey(r)?r:null})(t)},e.privateSub=function(t,e){if(!1===L(t))throw new Error(c);if(!1===x(e))throw new Error(l);return B((()=>((t,e)=>{const r=y(t),n=O(e),i=u.utils._bigintTo32Bytes(u.utils.mod(r-n,u.CURVE.n));return u.utils.isValidPrivateKey(i)?i:null})(t,e)))},e.recover=function(t,e,r,n){if(!I(t))throw new Error("Expected Hash");if(!E(e)||!function(t){return!(A(t.subarray(0,32))||A(t.subarray(32,64)))}(e))throw new Error(d);if(2&r&&!k(e))throw new Error("Bad Recovery Id");if(!U(e.subarray(0,32)))throw new Error(d);return u.recoverPublicKey(t,e,r,M(n))},e.sign=function(t,e,r){if(!L(e))throw new Error(c);if(!I(t))throw new Error(p);if(!T(r))throw new Error(h);return u.signSync(t,e,{der:!1,extraEntropy:r})},e.signRecoverable=function(t,e,r){if(!L(e))throw new Error(c);if(!I(t))throw new Error(p);if(!T(r))throw new Error(h);const[n,i]=u.signSync(t,e,{der:!1,extraEntropy:r,recovered:!0});return{signature:n,recoveryId:i}},e.signSchnorr=function(t,e,r=n.alloc(32,0)){if(!L(e))throw new Error(c);if(!I(t))throw new Error(p);if(!T(r))throw new Error(h);return u.schnorr.signSync(t,e,r)},e.verify=function(t,e,r,n){if(!j(e))throw new Error(f);if(!E(r))throw new Error(d);if(!I(t))throw new Error(p);return u.verify(r,t,e,{strict:n})},e.verifySchnorr=function(t,e,r){if(!U(e))throw new Error(f);if(!E(r))throw new Error(d);if(!I(t))throw new Error(p);return u.schnorr.verifySync(r,t,e)},e.xOnlyPointAddTweak=function(t,e){if(!U(t))throw new Error(f);if(!x(e))throw new Error(l);return B((()=>{const r=P(t,e,!0);return{parity:r[0]%2==1?1:0,xOnlyPubkey:r.slice(1)}}))},e.xOnlyPointFromPoint=N,e.xOnlyPointFromScalar=function(t){if(!L(t))throw new Error(c);return N(H(t))}},59819:(t,e,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var r=void 0!==t&&t||"undefined"!=typeof self&&self||void 0!==r&&r,n="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in r,a="ArrayBuffer"in r;if(a)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function y(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=y(e);return e.readAsArrayBuffer(t),r}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=p(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var t,e,r,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=y(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=f(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},h.prototype.delete=function(t){delete this.map[f(t)]},h.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},h.prototype.set=function(t,e){this.map[f(t)]=l(e)},h.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),d(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),d(t)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function S(t,e){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];S.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,n){return new Promise((function(i,s){var u=new _(t,n);if(u.signal&&u.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function f(){c.abort()}c.onload=function(){var t,e,r={status:c.status,statusText:c.statusText,headers:(t=c.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout((function(){i(new S(n,r))}),0)},c.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){s(new e.DOMException("Aborted","AbortError"))}),0)},c.open(u.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(u.url),!0),"include"===u.credentials?c.withCredentials=!0:"omit"===u.credentials&&(c.withCredentials=!1),"responseType"in c&&(o?c.responseType="blob":a&&u.headers.get("Content-Type")&&-1!==u.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof h?u.headers.forEach((function(t,e){c.setRequestHeader(e,t)})):Object.getOwnPropertyNames(n.headers).forEach((function(t){c.setRequestHeader(t,l(n.headers[t]))})),u.signal&&(u.signal.addEventListener("abort",f),c.onreadystatechange=function(){4===c.readyState&&u.signal.removeEventListener("abort",f)}),c.send(void 0===u._bodyInit?null:u._bodyInit)}))}x.polyfill=!0,r.fetch||(r.fetch=x,r.Headers=h,r.Request=_,r.Response=S),e.Headers=h,e.Request=_,e.Response=S,e.fetch=x}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=n.fetch?n:i;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e},67164:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},13892:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WitnessArgs=e.UncleBlockVec=e.UncleBlock=e.TransactionVec=e.Transaction=e.ScriptOpt=e.Script=e.RawTransaction=e.RawHeader=e.ProposalShortIdVec=e.ProposalShortId=e.OutPoint=e.Header=e.HashType=e.DepType=e.CellbaseWitness=e.CellOutputVec=e.CellOutput=e.CellInputVec=e.CellInput=e.CellDepVec=e.CellDep=e.BytesVec=e.BytesOptVec=e.BytesOpt=e.Bytes=e.Byte32Vec=e.Byte32=e.BlockV1=e.Block=e.BaseHeader=void 0,e.WitnessArgsOf=A,e.createFixedHexBytesCodec=b,e.deTransformHeaderCodecType=X,e.deTransformTransactionCodecType=G,e.transformHeaderCodecType=Q,e.transformTransactionCodecType=V;var n=r(71313),i=r(92900);function o(t){return{...t,unpack:e=>i.BI.from(t.unpack(e)).toHexString()}}const s=o(n.number.Uint8),a=o(n.number.Uint32LE),u=o(n.number.Uint64LE),c=o(n.number.Uint128LE),{byteVecOf:f,option:l,table:d,vector:h,struct:p}=n.molecule,{bytify:y,hexify:g}=n.bytes;function b(t){return(0,n.createFixedBytesCodec)({byteLength:t,pack:t=>y(t),unpack:t=>g(t)})}const m=e.Bytes=f({pack:y,unpack:g}),v=e.BytesOpt=l(m),_=e.BytesVec=h(m),w=(e.BytesOptVec=h(v),e.Byte32=b(32)),S=e.Byte32Vec=h(w);function A(t){return d({lock:l(f(t.lock)),inputType:l(f(t.inputType)),outputType:l(f(t.outputType))},["lock","inputType","outputType"])}const x=(0,n.createBytesCodec)({pack:y,unpack:g}),E=(e.WitnessArgs=A({lock:x,inputType:x,outputType:x}),e.HashType=(0,n.createFixedBytesCodec)({byteLength:1,pack:t=>{if("type"===t)return n.number.Uint8.pack(1);if("data"===t)return n.number.Uint8.pack(0);if("data1"===t)return n.number.Uint8.pack(2);if("data2"===t)return n.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${t}`)},unpack:t=>{const e=n.number.Uint8.unpack(t);if(1===e)return"type";if(0===e)return"data";if(2===e)return"data1";if(4===e)return"data2";throw new Error(`Invalid hash type: ${e}`)}})),k=e.DepType=(0,n.createFixedBytesCodec)({byteLength:1,pack:t=>{if("code"===t)return s.pack(0);if("depGroup"===t)return s.pack(1);throw new Error(`Invalid dep type: ${t}`)},unpack:t=>{const e=n.number.Uint8.unpack(t);if(0===e)return"code";if(1===e)return"depGroup";throw new Error(`Invalid dep type: ${e}`)}}),I=e.Script=d({codeHash:w,hashType:E,args:m},["codeHash","hashType","args"]),T=e.ScriptOpt=l(I),C=e.OutPoint=p({txHash:w,index:a},["txHash","index"]),O=e.CellInput=p({since:u,previousOutput:C},["since","previousOutput"]),P=e.CellInputVec=h(O),M=e.CellOutput=d({capacity:u,lock:I,type:T},["capacity","lock","type"]),B=e.CellOutputVec=h(M),R=e.CellDep=p({outPoint:C,depType:k},["outPoint","depType"]),j=e.CellDepVec=h(R),D=e.RawTransaction=d({version:a,cellDeps:j,headerDeps:S,inputs:P,outputs:B,outputsData:_},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),L=d({raw:D,witnesses:_},["raw","witnesses"]),U=e.Transaction=(0,n.createBytesCodec)({pack:t=>L.pack(V(t)),unpack:t=>G(L.unpack(t))}),N=e.TransactionVec=h(U),H=e.RawHeader=p({version:a,compactTarget:a,timestamp:u,number:u,epoch:u,parentHash:w,transactionsRoot:w,proposalsHash:w,extraHash:w,dao:w},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),F=e.BaseHeader=p({raw:H,nonce:c},["raw","nonce"]),z=e.Header=(0,n.createBytesCodec)({pack:t=>F.pack(Q(t)),unpack:t=>X(F.unpack(t))}),K=e.ProposalShortId=b(10),q=e.ProposalShortIdVec=h(K),W=e.UncleBlock=d({header:z,proposals:q},["header","proposals"]),$=e.UncleBlockVec=h(W);e.Block=d({header:z,uncles:$,transactions:N,proposals:q},["header","uncles","transactions","proposals"]),e.BlockV1=d({header:z,uncles:$,transactions:N,proposals:q,extension:m},["header","uncles","transactions","proposals","extension"]),e.CellbaseWitness=d({lock:I,message:m},["lock","message"]);function V(t){return{raw:{version:t.version,cellDeps:t.cellDeps,headerDeps:t.headerDeps,inputs:t.inputs,outputs:t.outputs,outputsData:t.outputsData},witnesses:t.witnesses}}function G(t){return{cellDeps:t.raw.cellDeps.map((t=>({outPoint:{txHash:t.outPoint.txHash,index:t.outPoint.index},depType:t.depType}))),headerDeps:t.raw.headerDeps,inputs:t.raw.inputs.map((t=>({previousOutput:{txHash:t.previousOutput.txHash,index:t.previousOutput.index},since:t.since}))),outputs:t.raw.outputs.map((t=>({capacity:t.capacity,lock:t.lock,type:t.type}))),outputsData:t.raw.outputsData,version:t.raw.version,witnesses:t.witnesses}}function Q(t){return{raw:{timestamp:t.timestamp,number:t.number,epoch:t.epoch,compactTarget:Number(t.compactTarget),dao:t.dao,parentHash:t.parentHash,proposalsHash:t.proposalsHash,transactionsRoot:t.transactionsRoot,extraHash:t.extraHash,version:t.version},nonce:t.nonce}}function X(t){return{timestamp:t.raw.timestamp,number:t.raw.number,epoch:t.raw.epoch,compactTarget:t.raw.compactTarget,dao:t.raw.dao,parentHash:t.raw.parentHash,proposalsHash:t.raw.proposalsHash,transactionsRoot:t.raw.transactionsRoot,extraHash:t.raw.extraHash,version:t.raw.version,nonce:t.nonce,hash:""}}},88701:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCellMatchQueryOptions=function(t,{lock:e,type:r,argsLen:s=-1,data:a="any",fromBlock:u,toBlock:c}){let f=null,l=null;e&&!o(e)?f={script:e,argsLen:s}:e&&(f=e,e.argsLen||(f.argsLen=s));r&&"empty"===r?l=r:r&&"object"==typeof r&&!o(r)?l={script:r,argsLen:s}:r&&"object"==typeof r&&o(r)&&(l=r,r.argsLen||(l.argsLen=s));if(f&&f.script&&-1===f.argsLen&&!new n.ScriptValue(t.cellOutput.lock,{validate:!1}).equals(new n.ScriptValue(f.script,{validate:!1})))return!1;if(f&&f.script&&"any"===f.argsLen){const e=t.cellOutput.lock;if(e.codeHash!==f.script.codeHash||e.hashType!==f.script.hashType||!e.args.startsWith(f.script.args))return!1}if(f&&f.script&&"number"==typeof f.argsLen&&f.argsLen>=0){const e=2*f.argsLen+2,r=f.script.args.length,n=Math.min(e,r),i=t.cellOutput.lock;if(i.args.length!==e)return!1;if(i.codeHash!==f.script.codeHash||i.hashType!==f.script.hashType||i.args.slice(0,n)!==f.script.args.slice(0,n))return!1}if(l&&"empty"===l&&t.cellOutput.type)return!1;if(l&&"object"==typeof l&&(!t.cellOutput.type||!new n.ScriptValue(t.cellOutput.type,{validate:!1}).equals(new n.ScriptValue(l.script,{validate:!1}))))return!1;if(a&&"any"!==a&&t.data!==a)return!1;if(u&&t.blockNumber&&i.BI.from(t.blockNumber).lt(i.BI.from(u)))return!1;if(c&&t.blockNumber&&i.BI.from(t.blockNumber).gt(i.BI.from(c)))return!1;return!0},e.isScriptWrapper=o;var n=r(16112),i=r(92900);function o(t){return null!==t&&void 0!==t.script}},41600:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};e.values=e.utils=e.since=e.logger=e.indexer=e.helpers=e.blockchain=void 0;var i=p(r(16112));e.values=i;var o=p(r(54617));e.utils=o;var s=p(r(37462));e.since=s;var a=p(r(88701));e.helpers=a;var u=p(r(28735));e.indexer=u,Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var c=p(r(13022));e.logger=c;var f=p(r(13892));e.blockchain=f;var l=r(20073);Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))}));var d=r(67164);function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(h=function(t){return t?r:e})(t)}function p(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=h(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===d[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))}))},28735:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.TransactionCollector=e.Indexer=void 0;var n=r(49805),i=r(54617),o=r(88701);e.Indexer=class{};class s{constructor(t,{lock:e,type:r,argsLen:s=-1,fromBlock:a,toBlock:u,order:c="asc",skip:f}={},{skipMissing:l=!1,includeStatus:d=!0}={}){if(!(e||r&&"empty"!==r))throw new Error("Either lock or type script must be provided!");if(e&&!(0,o.isScriptWrapper)(e)?(n.validators.ValidateScript(e),this.lock={script:e,ioType:"both",argsLen:s}):e&&e.script&&(n.validators.ValidateScript(e.script),this.lock=e,e.argsLen||(this.lock.argsLen=s),e.ioType||(this.lock.ioType="both")),"empty"===r?this.type=r:r&&!(0,o.isScriptWrapper)(r)?(n.validators.ValidateScript(r),this.type={script:r,ioType:"both",argsLen:s}):r&&r.script&&(n.validators.ValidateScript(r.script),this.type=r,r.argsLen||(this.type.argsLen=s),r.ioType||(this.type.ioType="both")),a&&(0,i.assertHexadecimal)("fromBlock",a),u&&(0,i.assertHexadecimal)("toBlock",u),"asc"!==c&&"desc"!==c)throw new Error("Order must be either asc or desc!");this.indexer=t,this.skipMissing=l,this.includeStatus=d,this.fromBlock=a,this.toBlock=u,this.order=c,this.skip=f,this.rpc=t.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const t=await this.getTransactionHashes();for(const e of t){const t=await this.rpc.get_transaction(e);if(!this.skipMissing&&!t)throw new Error(`Transaction ${e} is missing!`);this.includeStatus?yield t:yield t.transaction}}}e.TransactionCollector=s;const a={TransactionCollector:s};e.default=a},13022:(t,e)=>{"use strict";function r(t,e){const r=`[${t}] ${e}`;return"error"===t||"warn"===t?console.warn(r):void console.log(`[${t}] ${e}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLogger=r,e.deprecated=function(t){r("deprecated",t)}},20073:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},37462:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateAbsoluteEpochSince=a,e.generateHeaderEpoch=u,e.generateSince=o,e.maximumAbsoluteEpochSince=function(...t){const e=t.map((t=>c(t))),r=Math.max(...e.map((t=>t.number))),i=e.filter((t=>t.number===r));let o=i[0];for(let t=1;t<i.length;++t){const e=i[t];n.BI.from(e.index).mul(o.length).gte(n.BI.from(o.index).mul(e.length))&&(o=e)}return a(o)},e.parseAbsoluteEpochSince=c,e.parseEpoch=s,e.parseSince=function(t){const e=i(t);return"epochNumber"===e.type?e:{...e,value:e.value.toBigInt()}},e.parseSinceCompatible=i,e.validateAbsoluteEpochSince=f,e.validateSince=function(t,e,r){const{relative:o,type:a,value:u}=i(t);if(o){if("epochNumber"===a){const t=s(e.epoch),i=s(r.epoch),o={number:n.BI.from(u.number).add(i.number),index:n.BI.from(u.index).mul(i.length).add(n.BI.from(i.index).mul(u.length)),length:n.BI.from(u.length).mul(i.length)};return 0===u.length&&0!==i.length?(o.index=n.BI.from(i.index),o.length=n.BI.from(i.length)):0===i.length&&0!==u.length&&(o.index=n.BI.from(u.index),o.length=n.BI.from(u.length)),!n.BI.from(o.length).eq(0)&&n.BI.from(o.index).gte(o.length)&&(o.number=o.index.div(o.length).add(o.number),o.index=o.index.mod(o.length)),n.BI.from(o.number).lt(t.number)||n.BI.from(o.number).eq(t.number)&&n.BI.from(o.index).mul(t.length).lte(n.BI.from(t.index).mul(o.length))}if("blockNumber"===a)return n.BI.from(u).add(r.blockNumber).lte(e.blockNumber);if("blockTimestamp"===a){if(!e.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return n.BI.from(u).mul(1e3).add(r.median_timestamp).lte(e.median_timestamp)}}else{if("epochNumber"===a)return f(t,e.epoch);if("blockNumber"===a)return n.BI.from(u).lte(e.blockNumber);if("blockTimestamp"===a){if(!e.median_timestamp)throw new Error("Must provide tip median_timestamp!");return n.BI.from(u).mul(1e3).lte(e.median_timestamp)}}return!1};var n=r(92900);function i(t){const e=n.BI.from(t),r=e.shr(56),i=r.shr(5).and("0b11");let o,s;if(i.eq(0))o="blockNumber",s=e.and("0xFFFFFFFFFFFFFF");else if(i.eq(1))o="epochNumber",s={length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()};else{if(!i.eq(2))throw new Error("Invalid metric flag!");o="blockTimestamp",s=e.and("0xFFFFFFFFFFFFFF")}return{relative:!r.and("0x80").eq(0),type:o,value:s}}function o({relative:t,type:e,value:r}){let i,o=n.BI.from(0);return t&&(o=o.add(128)),"epochNumber"===e?o=o.add(32):"blockTimestamp"===e&&(o=o.add(64)),i=(0,n.isBIish)(r)?n.BI.from(r):"object"==typeof r?u(r):n.BI.from(r),l(o.shl(56).add(i))}function s(t){const e=n.BI.from(t);return{length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()}}function a({length:t,index:e,number:r}){return o({relative:!1,type:"epochNumber",value:{length:t,index:e,number:r}})}function u({length:t,index:e,number:r}){return l(n.BI.from(t).shl(40).add(n.BI.from(e).shl(24)).add(r))}function c(t){const{relative:e,type:r,value:n}=i(t);if(!1!==e||"epochNumber"!==r)throw new Error("Since format error!");return n}function f(t,e){const r=i(t).value,o=s(e);return n.BI.from(r.number).lt(o.number)||n.BI.from(r.number).eq(o.number)&&n.BI.from(r.index).mul(o.length).lte(n.BI.from(o.index).mul(r.length))}function l(t){return"0x"+t.toString(16)}},54617:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CKBHasher=void 0,e.assertHexString=function(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)},e.assertHexadecimal=v,e.ckbHash=p,e.ckbHash160=function(t){return p(t).slice(0,42)},e.computeScriptHash=function(t){return p(a.Script.pack(t))},e.deepCamel=S,e.deepCamelizeTransaction=function(t){return A(S(t))},e.generateTypeIdScript=function(t,e="0x0"){a.CellInput.pack(t),v("outputIndex",e);const r=function(t,e){const r=a.CellInput.pack(t),n=s.bytes.hexify(s.number.Uint64LE.pack(e)),i=new h;return i.update(r),i.update(n),i.digestHex()}(t,e);return{codeHash:_,hashType:"type",args:r}},e.hashCode=function(t){return(0,o.xxHash32)(t,0)},e.readBigUInt128LE=function(t){return m(t).toBigInt()},e.readBigUInt128LECompatible=m,e.readBigUInt64LE=function(t){return g(t).toBigInt()},e.readBigUInt64LECompatible=g,e.toBigUInt128LE=function(t){return b(t)},e.toBigUInt128LECompatible=b,e.toBigUInt64LE=function(t){return y(t)},e.toBigUInt64LECompatible=y;var n,i=(n=r(72206))&&n.__esModule?n:{default:n},o=r(52290),s=r(71313),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(13892)),u=r(6435);function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}const{bytify:f,hexify:l,bytifyRawString:d}=s.bytes;class h{constructor(t={}){const{outLength:e=32}=t;this.outLength=e,this.hasher=(0,i.default)(e,void 0,void 0,d("ckb-default-hash"))}update(t){return this.hasher.update(f(t)),this}digestHex(){const t=new Uint8Array(this.outLength);return this.hasher.digest(t),l(t.buffer)}}function p(t){const e=new h;return e.update(s.bytes.bytify(t)),e.digestHex()}function y(t){return s.bytes.hexify(u.Uint64LE.pack(t))}function g(t){return u.Uint64LE.unpack(t)}function b(t){return s.bytes.hexify(u.Uint128LE.pack(t))}function m(t){return u.Uint128LE.unpack(t)}function v(t,e){if(!/^0x(0|[0-9a-fA-F]+)$/.test(e))throw new Error(`${t} must be a hexadecimal!`)}e.CKBHasher=h;const _="0x00000000000000000000000000000000000000000000000000545950455f4944";function w(t){return t.replace(/([-_][a-z])/gi,(t=>t.toUpperCase().replace("-","").replace("_","")))}function S(t){if("[object Array]"===Object.prototype.toString.call(t))return 0===t.length?t:t.map((t=>S(t)));const e={};if("[object Object]"===Object.prototype.toString.call(t)){for(const r in t){const n=t[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?e[w(r)]=S(n):e[w(r)]=n}return e}return t}function A(t){if("[object Array]"===Object.prototype.toString.call(t))return 0===t.length?t:t.map((t=>A(t)));const e={};if("[object Object]"===Object.prototype.toString.call(t)){for(const r in t){const n=t[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?e[r]=A(n):e[r]="dep_group"===n?"depGroup":n}return e}return t}},16112:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionValue=e.ScriptValue=e.RawTransactionValue=e.OutPointValue=void 0;var i=r(52290),o=r(54617),s=r(71313),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(13892));function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(u=function(t){return t?r:e})(t)}const{hexify:c}=s.bytes;class f{constructor(t){this.buffer=t}equals(t){return c(this.buffer)===c(t.buffer)}hashCode(){return(0,i.xxHash32)(n.from(this.buffer),0)}hash(){return(0,o.ckbHash)(this.buffer)}}e.ScriptValue=class extends f{constructor(t,e={}){super(a.Script.pack(t))}};e.OutPointValue=class extends f{constructor(t,e={}){super(a.OutPoint.pack(t))}};e.RawTransactionValue=class extends f{constructor(t,e={}){super(a.RawTransaction.pack(t))}};e.TransactionValue=class extends f{constructor(t,e={}){super(a.Transaction.pack(t))}}},92900:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ckbDecimals=e.BI=void 0,e.formatUnit=function(t,e){const r=d(e);return function(t,e){if(!h(e))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(e).fill("0").join("");t=s.from(t);const n=t.isNegative();n&&(t=t.mul(l));const i=t.div(r).toString();let o=i;if(r.length>1){let e=t.mod(r).toString();for(;e.length<r.length-1;)e="0"+e;e=e.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+e}n&&(o="-"+o);return o}(t,r)},e.isBIish=o,e.parseUnit=function(t,e){const r=d(e);return function(t,e){if(!h(e))throw new Error("decimal size must be a non-negative integer");if(!t.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(e).fill("0").join(""),n="-"===t.substring(0,1);n&&(t=t.substring(1));let i,o;const a=t.split(".");if(1===a.length)i=a[0],o="0";else{if(2!==a.length)throw new Error("too many decimal points (should not happen)");i=a[0],o=a[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const u=s.from(i),c=s.from(o);let f=u.mul(r).add(c);n&&(f=f.mul(l));return f}(t,r)},e.toJSBI=u;var n,i=(n=r(75951))&&n.__esModule?n:{default:n};function o(t){return null!==t&&("number"==typeof t&&t%1==0||"string"==typeof t&&(!!t.match(/^0x(0|[0-9a-fA-F]+)$/)||!!t.match(/^-?[0-9]+$/))||"bigint"==typeof t||s.isBI(t))}class s{constructor(t){this.jsbi=t,this._isBI=!0}add(t){return a(i.default.add(this.jsbi,u(t)))}sub(t){return a(i.default.subtract(this.jsbi,u(t)))}div(t){return a(i.default.divide(this.jsbi,u(t)))}mul(t){return a(i.default.multiply(this.jsbi,u(t)))}mod(t){return a(i.default.remainder(this.jsbi,u(t)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,u(0))?a(this.jsbi):a(i.default.unaryMinus(this.jsbi))}pow(t){return a(i.default.exponentiate(this.jsbi,u(t)))}and(t){return a(i.default.bitwiseAnd(this.jsbi,u(t)))}or(t){return a(i.default.bitwiseOr(this.jsbi,u(t)))}xor(t){return a(i.default.bitwiseXor(this.jsbi,u(t)))}not(){return a(i.default.bitwiseNot(this.jsbi))}mask(t){const e=u(t);if(i.default.lessThan(e,u(0))||i.default.lessThan(this.jsbi,u(0)))throw new Error("mask works only with positive numbers");const r=u(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,e))return a(this.jsbi);{const t=i.default.leftShift(i.default.signedRightShift(this.jsbi,e),e);return a(i.default.bitwiseXor(this.jsbi,t))}}shl(t){return a(i.default.leftShift(this.jsbi,u(t)))}shr(t){return a(i.default.signedRightShift(this.jsbi,u(t)))}eq(t){return i.default.equal(this.jsbi,u(t))}lt(t){return i.default.lessThan(this.jsbi,u(t))}lte(t){return i.default.lessThanOrEqual(this.jsbi,u(t))}gt(t){return i.default.greaterThan(this.jsbi,u(t))}gte(t){return i.default.greaterThanOrEqual(this.jsbi,u(t))}isNegative(){return i.default.lessThan(this.jsbi,u(0))}isZero(){return i.default.equal(this.jsbi,u(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(t){throw new Error("this platform does not support BigInt")}}toString(t){return t=t||10,this.jsbi.toString(t)}toHexString(){return i.default.lessThan(this.jsbi,u(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(t){if(t instanceof s)return t;if(o(t))return a(u(t));if(t instanceof i.default)return a(u(t.toString()));throw new Error(`invalid type: ${t} can't be converted into BI`)}static isBI(t){return function(t){return null!=t&&"object"==typeof t}(t)&&!!t._isBI}}function a(t){return new s(t)}function u(t){return"number"==typeof t||"string"==typeof t?i.default.BigInt(t):i.default.BigInt(t.toString())}e.BI=s;const c=["shannon","ckb"],f=e.ckbDecimals=8,l=s.from(-1);function d(t){let e=0;if("string"==typeof t){if(-1===c.indexOf(t))throw new Error(`invalid unit name, supported names are ${c.join(", ")}`);"ckb"===t&&(e=f)}else{if(!h(t))throw new Error("unit of integer must be a non-negative integer");e=t}return e}function h(t){return Number.isInteger(t)&&t>=0}},8648:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertQueryOptionToLumosSearchKey=s,e.filterByLumosQueryOptions=function(t,e){const r=s(e);let n=t.filter((t=>a(t,r)));e.argsLen&&"any"!==e.argsLen&&-1!==e.argsLen&&(n=n.filter((t=>i.bytes.bytify(t.cellOutput.lock.args).length===e.argsLen)));if(e.data&&"any"!==e.data)if(l(e.data)&&"exact"===e.data.searchMode){const t=e.data;n=n.filter((e=>i.bytes.equal(i.bytes.bytify(e.data),i.bytes.bytify(t.data))))}else if(l(e.data)&&"prefix"===e.data.searchMode){const t=e.data;n=n.filter((e=>{const r=i.bytes.bytify(t.data),n=i.bytes.bytify(e.data).slice(0,r.length);return i.bytes.equal(r,n)}))}else n=n.filter((t=>{const r=i.bytes.bytify(e.data),n=i.bytes.bytify(t.data).slice(0,r.length);return i.bytes.equal(r,n)}));return n},e.filterByLumosSearchKey=a,e.instanceOfDataWithSearchMode=l,e.instanceOfScriptWrapper=f,e.unwrapScriptWrapper=e.unwrapDataWrapper=void 0;var n=r(41600),i=r(71313),o=r(92900);function s(t){let e,r,n;const i=t.lock,o=t.type;if(i&&(e=f(i)?i.script:i),o&&"empty"!==o&&(r=f(o)?o.script:o),e)n={script:e,scriptType:"lock",scriptSearchMode:f(i)&&i.searchMode||"prefix",filter:{}},r&&(n.filter.script=r);else{if(!r)throw new Error("query.lock and query.type can't be both empty");n={script:r,scriptType:"type",scriptSearchMode:f(o)&&o.searchMode||"prefix",filter:{}}}const{outputDataLenRange:s,outputCapacityRange:a,scriptLenRange:u}=t;return n.filter.outputDataLenRange=s,n.filter.outputCapacityRange=a,n.filter.scriptLenRange=u,"empty"===o&&(n.filter.scriptLenRange=["0x0","0x1"]),n}function a(t,e){const r="exact"===e.scriptSearchMode,{cellOutput:s}=t,{scriptType:a,script:f,filter:l}=e;if(r){if("lock"===a){if(!i.bytes.equal(n.blockchain.Script.pack(s.lock),n.blockchain.Script.pack(f)))return!1}else if(!s.type||!i.bytes.equal(n.blockchain.Script.pack(s.type),n.blockchain.Script.pack(f)))return!1}else if("lock"===a){if(!u(s.lock,f))return!1}else if(!u(s.type,f))return!1;if(!l)return!0;if("lock"===a){if(l.script&&!u(s.type,l.script))return!1;if(l.scriptLenRange&&!c(s.type,l.scriptLenRange))return!1}else{if(l.script&&!u(s.lock,l.script))return!1;if(l.scriptLenRange&&!c(s.lock,l.scriptLenRange))return!1}const{outputCapacityRange:d,outputDataLenRange:h}=l;if(d){const t=o.BI.from(s.capacity),e=o.BI.from(d[0]),r=o.BI.from(d[1]);if(t.lt(e)||t.gte(r))return!1}if(h){const e=o.BI.from(i.bytes.bytify(t.data).length),r=o.BI.from(h[0]),n=o.BI.from(h[1]);if(e.lt(r)||e.gte(n))return!1}return!0}function u(t,e){if(!t)return!1;if(!i.bytes.equal(e.codeHash,t.codeHash))return!1;const r=i.bytes.bytify(e.args),n=i.bytes.bytify(t.args).slice(0,r.length);return!!i.bytes.equal(r,n)&&t.hashType===e.hashType}function c(t,e){const r=t?o.BI.from(i.bytes.concat(t.codeHash,t.args).length+1):o.BI.from(0),n=o.BI.from(e[0]),s=o.BI.from(e[1]);return!r.lt(n)&&!r.gte(s)}function f(t){return"object"==typeof t&&null!=t&&"script"in t}function l(t){return"object"==typeof t&&null!=t&&"data"in t}e.unwrapScriptWrapper=t=>f(t)?t.script:t;e.unwrapDataWrapper=t=>l(t)?t.data:t},94182:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CKBCellCollector=void 0;var n,i=r(41600),o=r(49805),s=r(26861),a=(n=r(74945))&&n.__esModule?n:{default:n},u=r(8648);e.CKBCellCollector=class{constructor(t,e,r){this.terminableCellFetcher=t,this.otherQueryOptions=r;const n={lock:void 0,type:void 0,argsLen:-1,data:"any",fromBlock:void 0,toBlock:void 0,order:"asc",skip:void 0,outputDataLenRange:void 0,outputCapacityRange:void 0,bufferSize:void 0};this.queries=(Array.isArray(e)?e:[e]).map((t=>({...n,...t}))),this.queries.forEach((t=>{this.validateQueryOption(t)})),this.convertQueryOptionToSearchKey()}validateQueryOption(t){if(!(t.lock||t.type&&"empty"!==t.type))throw new Error("Either lock or type script must be provided!");if(t.lock&&((0,u.instanceOfScriptWrapper)(t.lock)?(0,u.instanceOfScriptWrapper)(t.lock)&&o.validators.ValidateScript(t.lock.script):o.validators.ValidateScript(t.lock)),t.type&&"empty"!==t.type&&("object"!=typeof t.type||(0,u.instanceOfScriptWrapper)(t.type)?"object"==typeof t.type&&(0,u.instanceOfScriptWrapper)(t.type)&&o.validators.ValidateScript(t.type.script):o.validators.ValidateScript(t.type)),t.fromBlock&&i.utils.assertHexadecimal("fromBlock",t.fromBlock),t.toBlock&&i.utils.assertHexadecimal("toBlock",t.toBlock),"asc"!==t.order&&"desc"!==t.order)throw new Error("Order must be either asc or desc!");if(t.outputCapacityRange&&(i.utils.assertHexadecimal("outputCapacityRange[0]",t.outputCapacityRange[0]),i.utils.assertHexadecimal("outputCapacityRange[1]",t.outputCapacityRange[1])),t.outputDataLenRange&&(i.utils.assertHexadecimal("outputDataLenRange[0]",t.outputDataLenRange[0]),i.utils.assertHexadecimal("outputDataLenRange[1]",t.outputDataLenRange[1])),t.scriptLenRange&&(i.utils.assertHexadecimal("scriptLenRange[0]",t.scriptLenRange[0]),i.utils.assertHexadecimal("scriptLenRange[1]",t.scriptLenRange[1])),t.outputDataLenRange&&t.data&&"any"!==t.data){const e=(0,s.getHexStringBytes)((0,u.unwrapDataWrapper)(t.data));if(e<Number(t.outputDataLenRange[0])||e>=Number(t.outputDataLenRange[1]))throw new Error("data length not match outputDataLenRange")}if(t.skip&&"number"!=typeof t.skip)throw new Error("skip must be a number!");if(t.bufferSize&&"number"!=typeof t.bufferSize)throw new Error("bufferSize must be a number!")}convertQueryOptionToSearchKey(){this.queries.forEach((t=>{const e=t.lock;if(e&&(0,u.instanceOfScriptWrapper)(e)&&(o.validators.ValidateScript(e.script),t.lock=e.script),t.type&&"empty"!==t.type&&"object"==typeof t.type&&(0,u.instanceOfScriptWrapper)(t.type)&&(o.validators.ValidateScript(t.type.script),t.type=t.type.script),!t.outputDataLenRange&&t.data&&"any"!==t.data){const e=(0,s.getHexStringBytes)((0,u.unwrapDataWrapper)(t.data));t.outputDataLenRange=["0x"+e.toString(16),"0x"+(e+1).toString(16)]}t.scriptLenRange||"empty"!==t.type||(t.scriptLenRange=["0x0","0x1"])}))}async getLiveCell(t,e){const r={sizeLimit:t.bufferSize,order:t.order,lastCursor:e};return await this.terminableCellFetcher.getCells((0,s.generateSearchKey)(t),void 0,r)}async count(){let t=0;for await(const e of this.collect())t++;return t}async request(t,e){const r=await(0,a.default)(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(200!==r.status)throw new Error(`indexer request failed with HTTP code ${r.status}`);const n=await r.json();if(void 0!==n.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(n.error)}`);return n}async getLiveCellWithBlockHash(t,e){if(!this.otherQueryOptions)throw new Error("CKB Rpc URL must provide");const r=await this.getLiveCell(t,e);if(0===r.objects.length)return r;const n=r.objects.map(((t,e)=>({id:e,jsonrpc:"2.0",method:"get_block_hash",params:[t.blockNumber]}))),i=await this.request(this.otherQueryOptions.ckbRpcUrl,n);return r.objects=r.objects.map(((t,e)=>{const r=i.find((t=>t.id===e));return{...t,blockHash:r&&r.result}})),r}async*collect(){const t=new Set;for(const n of this.queries)for await(const i of this.collectBySingleQuery(n)){var e,r;const n=`${null===(e=i.outPoint)||void 0===e?void 0:e.txHash}-${null===(r=i.outPoint)||void 0===r?void 0:r.index}`;t.has(n)||(t.add(n),yield i)}}async*collectBySingleQuery(t){const e=this.otherQueryOptions&&"withBlockHash"in this.otherQueryOptions&&this.otherQueryOptions.withBlockHash;let r;const n=async()=>{const n=await(e?this.getLiveCellWithBlockHash(t,r):this.getLiveCell(t,r));return r=n.lastCursor,n.objects};let i=await n();if(i=(0,u.filterByLumosQueryOptions)(i,t),0===i.length)return;let o=n(),s=0,a=0;for(;;)if(t.skip&&a<t.skip?a++:yield i[s],s++,s===i.length){if(s=0,i=await o,0===i.length)break;o=n()}}}},44837:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CellCollector",{enumerable:!0,get:function(){return n.CKBCellCollector}}),Object.defineProperty(e,"Indexer",{enumerable:!0,get:function(){return i.CkbIndexer}}),Object.defineProperty(e,"RPC",{enumerable:!0,get:function(){return s.RPC}}),Object.defineProperty(e,"TerminableCellAdapter",{enumerable:!0,get:function(){return i.TerminableCellAdapter}}),Object.defineProperty(e,"TransactionCollector",{enumerable:!0,get:function(){return o.CKBIndexerTransactionCollector}});var n=r(94182),i=r(7870),o=r(7109),s=r(24006)},7870:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminableCellAdapter=e.CkbIndexer=void 0;var n=r(41600),i=r(26861),o=r(94182),s=r(37007),a=r(21001),u=r(92900),c=r(24006),f=r(24980),l=r(49805),d=r(8648);const h=()=>({stop:!1,push:!0});function p(t,e){console.log(`[${t}] ${e}`)}e.CkbIndexer=class{static version="0.4.1";medianTimeEmitters=[];emitters=[];isSubscribeRunning=!1;constructor(t,e){this.ckbIndexerUrl=t,this.ckbRpcUrl=e,this.uri=e||t,this.ckbIndexerUri=t}getCkbRpc(){return new f.CKBRPC(this.uri)}getIndexerRpc(){if(this.uri===this.ckbIndexerUri){const t=this.getCkbRpc();return{...t,getTip:t.getIndexerTip}}return new c.RPC(this.ckbIndexerUri)}async tip(){return await this.getIndexerRpc().getTip()}asyncSleep(t){return new Promise((e=>setTimeout(e,t)))}async waitForSync(t=0){const e=parseInt((await this.getCkbRpc().getTipHeader()).number,16);for(;;){if(parseInt((await this.tip()).blockNumber,16)+t>=e)return;await this.asyncSleep(1e3)}}collector(t,e){return new o.CKBCellCollector(this,t,e)}async getCells(t,e=h,r={}){return new y(this.getIndexerRpc()).getCells(t,e,r)}async getTransactions(t,e={}){let r=[],n=e.lastCursor;const i=e.sizeLimit||100,o=e.order||"asc";for(;;){const e=await this.getIndexerRpc().getTransactions(t,o,`0x${i.toString(16)}`,n),s=e.objects;if(n=e.lastCursor,r=r.concat(s),s.length<=i)break}return{objects:r,lastCursor:n}}running(){return!0}start(){p("warn","deprecated: no need to start the ckb-indexer manually")}startForever(){p("warn","deprecated: no need to startForever the ckb-indexer manually")}stop(){p("warn","deprecated: no need to stop the ckb-indexer manually")}subscribe(t){if(this.isSubscribeRunning=!0,this.scheduleLoop(),t.lock&&t.type)throw new Error("The notification machanism only supports you subscribing for one script once so far!");null===t.toBlock&&null===t.skip||p("warn","The passing fields such as toBlock and skip are ignored in subscribe() method.");const e=new a.IndexerEmitter;if(e.argsLen=t.argsLen,e.outputData=t.data&&(0,d.unwrapDataWrapper)(t.data),t.fromBlock&&n.utils.assertHexadecimal("fromBlock",t.fromBlock),e.fromBlock=t.fromBlock?u.BI.from(t.fromBlock):u.BI.from(0),t.lock)l.validators.ValidateScript(t.lock),e.lock=t.lock;else{if(!t.type||"empty"===t.type)throw new Error("Either lock or type script must be provided!");l.validators.ValidateScript(t.type),e.type=t.type}return this.emitters.push(e),e}loop(){this.isSubscribeRunning&&this.poll().then((t=>{this.scheduleLoop(t)})).catch((t=>{p("error",`Error occurs: ${t} ${t.stack}, stopping indexer!`),this.isSubscribeRunning=!1}))}scheduleLoop(t=1){setTimeout((()=>{this.loop()}),t)}async poll(){let t=1;const e=await this.tip(),{blockNumber:r,blockHash:n}=e;if("0x0"===r){const t=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(t)}const i=u.BI.from(r).add(1),o=await this.getCkbRpc().getBlockByNumber(`0x${i.toString(16)}`);if(o)if(o.header.parentHash===n)await this.publishAppendBlockEvents(o);else{const t=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(t)}else{const e=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(e),t=3e3}return t}async publishAppendBlockEvents(t){for(const[e,r]of t.transactions.entries()){const n=t.header.number;if(e>0){const t=r.inputs.map((t=>t.previousOutput.txHash));(await(0,i.requestBatchTransactionWithStatus)(this.uri,t).then((t=>t.map(((t,e)=>{const n=r.inputs[e].previousOutput.index;return{output:t.transaction.outputs[parseInt(n)],outputData:t.transaction.outputsData[parseInt(n)]}}))))).forEach((({output:t,outputData:e})=>{this.filterEvents(t,n,e)}))}for(const[t,e]of r.outputs.entries()){const i=r.outputsData[t];this.filterEvents(e,n,i)}}await this.emitMedianTimeEvents()}filterEvents(t,e,r){for(const n of this.emitters)void 0!==n.lock&&this.checkFilterOptions(n,e,r,n.lock,t.lock)&&n.emit("changed");if(null!==t.type)for(const n of this.emitters)void 0!==n.type&&this.checkFilterOptions(n,e,r,n.type,t.type)&&n.emit("changed")}checkFilterOptions(t,e,r,n,i){const o=!t.fromBlock||u.BI.from(t.fromBlock).lte(e),s="any"===t.outputData||!t.outputData||t.outputData===r,a=!i||n.codeHash===i.codeHash&&n.hashType===i.hashType&&this.checkArgs(t.argsLen,n.args,i.args);return o&&s&&a}checkArgs(t,e,r){return-1===t||!t&&0!==t?e===r:("number"==typeof t&&r.length===2*t+2||"any"===t)&&r.substring(0,e.length)===e}async emitMedianTimeEvents(){if(0===this.medianTimeEmitters.length)return;const t=(await this.getCkbRpc().getBlockchainInfo()).medianTime;for(const e of this.medianTimeEmitters)e.emit("changed",t)}subscribeMedianTime(){this.isSubscribeRunning=!0,this.scheduleLoop();const t=new s.EventEmitter;return this.medianTimeEmitters.push(t),t}};class y{constructor(t){this.getCellsableRpc=t}async getCells(t,e=h,r={}){const n=[];let i=r.lastCursor;const o=r.sizeLimit||100,s=r.order||"asc";for(;;){const r=await this.getCellsableRpc.getCells(t,s,`0x${o.toString(16)}`,i),a=r.objects;i=r.lastCursor;for(const t of a){const r={cellOutput:t.output,data:t.outputData,outPoint:t.outPoint?t.outPoint:void 0,blockNumber:t.blockNumber},{stop:o,push:s}=e(0,r);if(s&&n.push(r),o)return{objects:n,lastCursor:i}}if(a.length<=o)break}return{objects:n,lastCursor:i}}}e.TerminableCellAdapter=y},32341:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toSearchKey=e.toSearchFilter=e.toScript=e.toGetTransactionsSearchKey=e.toGetCellsSearchKey=void 0;const r=t=>({code_hash:t.codeHash,hash_type:t.hashType,args:t.args});e.toScript=r;const n=t=>({script:t.script?r(t.script):t.script,output_data_len_range:t.outputDataLenRange,output_capacity_range:t.outputCapacityRange,block_range:t.blockRange,script_len_range:t.scriptLenRange});e.toSearchFilter=n;const i=t=>({script:r(t.script),script_type:t.scriptType,filter:t.filter?n(t.filter):t.filter,script_search_mode:t.scriptSearchMode?t.scriptSearchMode:"prefix"});e.toSearchKey=i;e.toGetCellsSearchKey=t=>({...i(t),with_data:t.withData});e.toGetTransactionsSearchKey=t=>({...i(t),group_by_transaction:t.groupByTransaction})},33896:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toTip=e.toSearchKey=e.toSearchFilter=e.toScript=e.toOutPoint=e.toCellOutPut=void 0;e.toTip=t=>({blockHash:t.block_hash,blockNumber:t.block_number});const r=t=>({codeHash:t.code_hash,hashType:t.hash_type,args:t.args});e.toScript=r;e.toOutPoint=t=>({txHash:t.tx_hash,index:t.index});e.toCellOutPut=t=>({...t,lock:r(t.lock),type:t.type?r(t.type):void 0});const n=t=>({script:t.script?r(t.script):t.script,outputDataLenRange:t.output_data_len_range,outputCapacityRange:t.output_capacity_range,scriptLenRange:t.script_len_range,blockRange:t.block_range});e.toSearchFilter=n;e.toSearchKey=t=>({script:r(t.script),scriptType:t.script_type,filter:t.filter?n(t.filter):t.filter,scriptSearchMode:t.script_search_mode})},24006:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RPC=void 0;var n,i=r(41600),o=(n=r(74945))&&n.__esModule?n:{default:n},s=r(32341);e.RPC=class{constructor(t){this.uri=t}async getTip(){return i.utils.deepCamel(await a(this.uri,"get_tip"))}async getCells(t,e,r,n){const o=[(0,s.toGetCellsSearchKey)(t),e,r,n];return i.utils.deepCamel(await a(this.uri,"get_cells",o))}async getTransactions(t,e,r,n){const o=[(0,s.toGetTransactionsSearchKey)(t),e,r,n];return i.utils.deepCamel(await a(this.uri,"get_transactions",o))}async getIndexerInfo(){return i.utils.deepCamel(await a(this.uri,"get_indexer_info"))}};const a=async(t,e,r)=>{const n=await(0,o.default)(t,{method:"POST",body:JSON.stringify({id:0,jsonrpc:"2.0",method:e,params:r}),headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(`indexer request failed with HTTP code ${n.status}`);const i=await n.json();if(void 0!==i.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(i.error)}`);return i.result}},26861:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHexStringBytes=e.generateSearchKey=void 0,e.requestBatch=d,e.requestBatchTransactionWithStatus=async function(t,e){if(0===e.length)return[];const r=e.map(((t,e)=>({id:e,jsonrpc:"2.0",method:"get_transaction",params:[t]})));return(await d(t,r)).map((t=>f.ResultFormatter.toTransactionWithStatus(t.result)))};var n,i=r(41600),o=(n=r(74945))&&n.__esModule?n:{default:n},s=r(92900),a=r(32341),u=r(33896),c=r(8648),f=r(24980);e.generateSearchKey=t=>{let e;const r={};let n,i="prefix";if(t.lock){const i=(0,c.unwrapScriptWrapper)(t.lock);if(e=(0,a.toScript)(i),n="lock",t.type&&"string"!=typeof t.type){const e=(0,c.unwrapScriptWrapper)(t.type);r.script=(0,a.toScript)(e)}}else if(t.type&&"string"!=typeof t.type){const r=(0,c.unwrapScriptWrapper)(t.type);e=(0,a.toScript)(r),n="type"}let o=null;if(t.fromBlock&&t.toBlock&&(o=[t.fromBlock,`0x${s.BI.from(t.toBlock).add(1).toString(16)}`]),o&&(r.block_range=o),t.outputDataLenRange&&(r.output_data_len_range=t.outputDataLenRange),t.outputCapacityRange&&(r.output_capacity_range=t.outputCapacityRange),t.scriptLenRange&&(r.script_len_range=t.scriptLenRange),t.scriptSearchMode&&(i=t.scriptSearchMode),!e)throw new Error("Either lock or type script must be provided!");if(!n)throw new Error("script_type must be provided");return(0,u.toSearchKey)({script:e,script_type:n,filter:r,script_search_mode:i})};e.getHexStringBytes=t=>(i.utils.assertHexString("",t),Math.ceil(t.substr(2).length/2));let l=0;async function d(t,e){if(!e.length)return[];const r=await(0,o.default)(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.map((t=>({id:l++,...t}))))});if(200!==r.status)throw new Error(`Indexer request failed with HTTP code ${r.status}`);const n=await r.json();if(void 0!==n.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(n.error)}`);return n}},7109:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CKBIndexerTransactionCollector=void 0;var n=r(41600),i=r(8648),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=s(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(26861));function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(s=function(t){return t?r:e})(t)}class a extends n.indexer.TransactionCollector{constructor(t,e,r,n){super(t,e,n),this.indexer=t,this.queries=e,this.CKBRpcUrl=r,this.options=n;this.filterOptions={skipMissing:!1,includeStatus:!0,...this.options}}static asBaseTransactionCollector(t){return class extends n.indexer.TransactionCollector{constructor(e,r,n){return super(e,r,n),new a(e,r,t,n)}}}async fetchIndexerTransaction(t,e){const r={sizeLimit:t.bufferSize,order:t.order};e&&(r.lastCursor=e);let n={objects:[],lastCursor:""};return(0,i.instanceOfScriptWrapper)(t.lock)&&(0,i.instanceOfScriptWrapper)(t.type)?(n=await this.getTransactionByLockAndTypeIndependent(r),e=n.lastCursor):(n=await this.indexer.getTransactions(o.generateSearchKey(t),r),e=n.lastCursor),n.objects=this.filterByTypeIoTypeAndLockIoType(n.objects,t),n}getResolvedTransactionRequestPayload(t,e){const r=[];return t.forEach(((t,n)=>{const i=e.objects[n];if("input"===i.ioType){const e=t.transaction.inputs[Number(i.ioIndex)].previousOutput;r.push(e.txHash)}})),r}getResolvedCell(t,e,r){if("input"!==r.ioType)return t.transaction.outputs[Number(r.ioIndex)];{const n=t.transaction.inputs[Number(r.ioIndex)].previousOutput,i=e.find((t=>t.transaction.hash===n.txHash));if(!i)throw new Error("Impossible: can NOT find resolved transaction!");return i.transaction.outputs[Number(n.index)]}}filterTransaction(t,e,r){return t.filter(((t,n)=>{const i=this.getResolvedCell(t,e,r.objects[n]);return this.isCellScriptArgsValid(i)})).map((t=>({transaction:t.transaction,txStatus:t.txStatus,cycles:t.cycles,timeAddedToPool:t.timeAddedToPool,minReplaceFee:t.minReplaceFee,fee:t.fee})))}async getTransactions(t){const e=await this.fetchIndexerTransaction(this.queries,t);if(t=e.lastCursor,0===e.objects.length)return{objects:[],lastCursor:t};const r=await this.getTransactionListFromRpc(e),n=this.getResolvedTransactionRequestPayload(r,e),i=await o.requestBatchTransactionWithStatus(this.CKBRpcUrl,n);return{objects:this.filterTransaction(r,i,e),lastCursor:t}}async getTransactionByLockAndTypeIndependent(t){const e={...t},r={...t};if(t.lastCursor){const[n,i]=t.lastCursor.split("-");r.lastCursor=n,e.lastCursor=i}const n={...this.queries,type:void 0},i=await this.indexer.getTransactions(o.generateSearchKey(n),e),s={...this.queries,lock:void 0},a=await this.indexer.getTransactions(o.generateSearchKey(s),r);return{objects:((t,e)=>{const r=[];return t.forEach((t=>{const n=e.find((e=>e.txHash===t.txHash));if(n){const e="output"===t.ioType?t:n;r.push({...e,ioType:"both"})}})),r})(a.objects,i.objects),lastCursor:i.lastCursor+"-"+a.lastCursor}}getTransactionListFromRpc=async t=>{const e=t.objects.map((t=>t.txHash));return await o.requestBatchTransactionWithStatus(this.CKBRpcUrl,e).then((e=>e.map(((e,r)=>{if(!this.filterOptions.skipMissing&&!e.transaction)throw new Error(`Transaction ${t.objects[r].txHash} is missing!`);return e}))))};isLockArgsLenMatched=(t,e)=>!e||("any"===e||(-1===e||o.getHexStringBytes(t)===e));isCellScriptArgsValid=t=>{if(this.queries.lock){const e=(0,i.instanceOfScriptWrapper)(this.queries.lock)?this.queries.lock.argsLen:this.queries.argsLen;if(!this.isLockArgsLenMatched(t.lock.args,e))return!1}if(this.queries.type&&"empty"!==this.queries.type){var e;const r=(0,i.instanceOfScriptWrapper)(this.queries.type)?this.queries.type.argsLen:this.queries.argsLen;if(!this.isLockArgsLenMatched(null===(e=t.type)||void 0===e?void 0:e.args,r))return!1}return!this.queries.type||"empty"!==this.queries.type||!t.type};filterByIoType=(t,e)=>"both"===e?t:"input"===e||"output"===e?t.filter((t=>t.ioType===e||"both"===t.ioType)):t;filterByTypeIoTypeAndLockIoType=(t,e)=>{let r=t;return(0,i.instanceOfScriptWrapper)(e.lock)&&e.lock.ioType&&(r=this.filterByIoType(r,e.lock.ioType)),(0,i.instanceOfScriptWrapper)(e.type)&&e.type.ioType&&(r=this.filterByIoType(r,e.type.ioType)),r};async count(){let t;const e=async()=>{const e=await this.getTransactions(t);return t=e.lastCursor,e.objects};let r=0,n=await e();if(0===n.length)return 0;let i=e(),o=0,s=0;for(;;)if(this.queries.skip&&s<this.queries.skip?s++:r+=1,o++,o===n.length){if(o=0,n=await i,0===n.length)break;i=e()}return r}async getTransactionHashes(){let t;const e=async()=>{const e=await this.getTransactions(t);return t=e.lastCursor,e.objects},r=[];let n=await e();if(0===n.length)return[];let i=e(),o=0,s=0;for(;;)if(this.queries.skip&&s<this.queries.skip?s++:n[o].transaction.hash&&r.push(n[o].transaction.hash),o++,o===n.length){if(o=0,n=await i,0===n.length)break;i=e()}return r}async*collect(){let t;const e=async()=>{const e=await this.getTransactions(t);return t=e.lastCursor,e.objects};let r=await e();if(0===r.length)return;let n=e(),i=0,o=0;for(;;)if(this.queries.skip&&o<this.queries.skip?o++:this.filterOptions.includeStatus?yield r[i]:yield r[i].transaction,i++,i===r.length){if(i=0,r=await n,0===r.length)break;n=e()}}}e.CKBIndexerTransactionCollector=a},21001:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexerEmitter=void 0;var n=r(37007);class i extends n.EventEmitter{}e.IndexerEmitter=i},83556:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBytesCodec=o,e.createFixedBytesCodec=function(t){const e=t.byteLength;return{__isFixedCodec__:!0,byteLength:e,...o({pack:r=>{const i=t.pack(r);return(0,n.assertBufferLength)(i,e),i},unpack:r=>((0,n.assertBufferLength)(r,e),t.unpack(r))})}},e.isFixedCodec=function(t){return(0,n.isObjectLike)(t)&&!!t.__isFixedCodec__};var n=r(56828),i=r(14962);function o(t){return{pack:e=>t.pack(e),unpack:e=>t.unpack((0,i.bytify)(e))}}},30555:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WitnessArgs=e.BytesVec=e.BytesOpt=e.Bytes=e.Byte32Vec=e.Byte32=void 0,e.WitnessArgsOf=c,e.createFixedHexBytesCodec=s;var n=r(83556),i=r(14962),o=r(72042);function s(t){return(0,n.createFixedBytesCodec)({byteLength:t,pack:t=>(0,i.bytify)(t),unpack:t=>(0,i.hexify)(t)})}const a=e.Bytes=(0,o.byteVecOf)({pack:i.bytify,unpack:i.hexify}),u=(e.BytesOpt=(0,o.option)(a),e.BytesVec=(0,o.vector)(a),e.Byte32=s(32));e.Byte32Vec=(0,o.vector)(u);function c(t){return(0,o.table)({lock:(0,o.option)((0,o.byteVecOf)(t.lock)),input_type:(0,o.option)((0,o.byteVecOf)(t.input_type)),output_type:(0,o.option)((0,o.byteVecOf)(t.output_type))},["lock","input_type","output_type"])}const f=(0,n.createBytesCodec)({pack:i.bytify,unpack:i.hexify});e.WitnessArgs=c({lock:f,input_type:f,output_type:f})},14962:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bytify=c,e.bytifyRawString=function(t){(0,n.assertUtf8String)(t);const e=new ArrayBuffer(t.length),r=new DataView(e);for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);r.setUint8(e,n)}return new Uint8Array(e)},e.concat=function(...t){const e=t.map(c),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);let i=0;return e.forEach((t=>{n.set(t,i),i+=t.length})),n},e.equal=function(t,e){const r=c(t),n=c(e);return function(t,e){if(t.length!==e.length)return!1;for(let r=t.length;-1<r;r-=1)if(t[r]!==e[r])return!1;return!0}(r,n)},e.hexify=function(t){let e="";const r=c(t);for(let t=0;t<r.length;t++)e+=f[r[t]];return"0x"+e};var n=r(56828);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0);function c(t){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return Uint8Array.from(t);if("string"==typeof t)return function(t){(0,n.assertHexString)(t);const e=Uint8Array.from({length:t.length/2-1});for(let r=2,n=0;r<t.length;r+=2,n++){const c=t.charCodeAt(r),f=t.charCodeAt(r+1),l=c<=o?c-i:c<=a?c-s+10:c-u+10,d=f<=o?f-i:f<=a?f-s+10:f-u+10;e[n]=l<<4|d}return e}(t);if(Array.isArray(t))return function(t){for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(t)}(t);throw new Error(`Cannot convert ${t}`)}const f=Array.from({length:256}).map(((t,e)=>e.toString(16).padStart(2,"0")))},10851:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodecExecuteError=e.CodecBaseParseError=e.CODEC_OPTIONAL_PATH=void 0,e.isCodecExecuteError=function(t){return t instanceof Error&&t.name===i};const r=e.CODEC_OPTIONAL_PATH="__lc_option__";class n extends Error{constructor(t,e){super(t),this.expectedType=e}}e.CodecBaseParseError=n;const i="CodecExecuteError";class o extends Error{name=i;constructor(t){super(),this.origin=t}keys=[];updateKey(t){this.keys.push(t),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var t;const e=this.keys.reduceRight(((t,e,n)=>t+(e=e===r?0===n?"?":"?.":"number"==typeof e?`[${e}]`:`.${e}`)),"input");return`${this.origin instanceof n?`Expect type ${this.origin.expectedType} at ${e} but got error:`:`Error at ${e}:`} ${this.origin.message}\n    ${null===(t=this.origin.stack)||void 0===t?void 0:t.replace(/Error:.+?\n/,"")}\n    `}}e.CodecExecuteError=o},32819:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(e,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(e,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(e,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(70776)},70776:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createArrayCodec=function(t){return{pack:e=>e.map(((e,r)=>(0,n.trackCodeExecuteError)(r,(()=>t.pack(e))))),unpack:e=>e.map((e=>t.unpack(e)))}},e.createNullableCodec=function(t){return{pack:e=>null==e?e:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>t.pack(e))),unpack:e=>null==e?e:t.unpack(e)}},e.createObjectCodec=function(t){const e=Object.entries(t);return{pack:t=>{const r={};return e.forEach((([e,i])=>{Object.assign(r,{[e]:(0,n.trackCodeExecuteError)(e,(()=>i.pack(t[e])))})})),r},unpack:t=>{const r={};return e.forEach((([e,n])=>{Object.assign(r,{[e]:n.unpack(t[e])})})),r}}},e.enhancePack=function(t,e,r){return{pack:r=>e(t.pack(r)),unpack:e=>t.unpack(r(e))}};var n=r(56828),i=r(10851)},71313:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};e.bytes=void 0,Object.defineProperty(e,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(e,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(e,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),e.number=e.molecule=void 0;var i=r(83556),o=r(32819);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var s=f(r(14962));e.bytes=s;var a=f(r(6435));e.number=a;var u=f(r(72042));function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}e.molecule=u},27732:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.byteArrayOf=a,e.byteOf=function(t){return a({...t,byteLength:1})},e.byteVecOf=function(t){return(0,o.createBytesCodec)({pack(e){const r=t.pack(e),n=s.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(e){(0,n.assertMinBufferLength)(e,4);const r=s.Uint32LE.unpack(e.slice(0,4));return(0,n.assertBufferLength)(e.slice(4),r),t.unpack(e.slice(4))}})};var n=r(56828),i=r(14962),o=r(83556),s=r(6435);function a(t){const e=t.byteLength;return(0,o.createFixedBytesCodec)({byteLength:e,pack:e=>t.pack(e),unpack:e=>t.unpack(e)})}},72042:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(e,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(e,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(e,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(e,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(e,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(e,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(27732),i=r(37786)},37786:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.array=u,e.dynvec=d,e.fixvec=l,e.option=function(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createNullableCodec)(t);return null!=e?r.pack(e):Uint8Array.from([])},unpack(e){if(0!==e.byteLength)return t.unpack(e)}})},e.struct=function(t,e){f(t,e);const r=(0,a.createObjectCodec)(t);return(0,n.createFixedBytesCodec)({byteLength:e.reduce(((e,r)=>e+t[r].byteLength),0),pack(t){const n=r.pack(t);return e.reduce(((t,e)=>(0,o.concat)(t,n[e])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return e.forEach((e=>{const o=t[e],s=r.slice(i,i+o.byteLength);Object.assign(n,{[e]:o.unpack(s)}),i+=o.byteLength})),n}})},e.table=function(t,e){return f(t,e),(0,n.createBytesCodec)({pack(r){const n=4+4*e.length,s=(0,a.createObjectCodec)(t).pack(r),u=e.reduce(((t,e)=>{const r=s[e],n=i.Uint32LE.pack(t.offset);return{header:(0,o.concat)(t.header,n),body:(0,o.concat)(t.body,r),offset:t.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),c=i.Uint32LE.pack(u.header.byteLength+u.body.byteLength+4);return(0,o.concat)(c,u.header,u.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===e.length)return{};{const o=e.map(((t,e)=>i.Uint32LE.unpack(r.slice(4+4*e,8+4*e))));o.push(n);const s={};for(let n=0;n<o.length-1;n++){const i=o[n],a=o[n+1],u=e[n],c=t[u],f=r.slice(i,a);Object.assign(s,{[u]:c.unpack(f)})}return s}}})},e.union=function(t,e){if(f(t,Array.isArray(e)?e:Object.keys(e)),!Array.isArray(e)){const t=Object.values(e);if(t.length!==new Set(t).size)throw new Error(`Duplicated id in union: ${t.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(t),a=r.type,u=`Union(${n.join(" | ")})`;if("string"!=typeof a)throw new s.CodecBaseParseError("Invalid type in union, type must be a string",u);const c=Array.isArray(e)?e.indexOf(a):e[a];if(c<0)throw new s.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,u);const f=i.Uint32LE.pack(c),l=t[a].pack(r.value);return(0,o.concat)(f,l)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(e))return e[n];const t=Object.entries(e).find((([,t])=>t===n));return null==t?void 0:t[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${e} are allowed`);return{type:o,value:t[o].unpack(r.slice(4))}}})},e.vector=function(t){if((0,n.isFixedCodec)(t))return l(t);return d(t)};var n=r(83556),i=r(6435),o=r(14962),s=r(10851),a=r(32819);function u(t,e){const r=(0,a.createArrayCodec)(t);return(0,n.createFixedBytesCodec)({byteLength:t.byteLength*e,pack(t){const e=r.pack(t);return(0,o.concat)(...e)},unpack(e){const r=[],n=t.byteLength;for(let i=0;i<e.byteLength;i+=n)r.push(t.unpack(e.slice(i,i+n)));return r}})}function c(t,e){return t.filter((t=>!e.includes(t)))}function f(t,e){const r=Object.keys(t),n=c(r,e),i=c(e,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function l(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createArrayCodec)(t);return(0,o.concat)(i.Uint32LE.pack(e.length),r.pack(e).reduce(((t,e)=>(0,o.concat)(t,e)),new ArrayBuffer(0)))},unpack(e){if(e.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${e.byteLength}`);const r=i.Uint32LE.unpack(e.slice(0,4));return u(t,r).unpack(e.slice(4))}})}function d(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createArrayCodec)(t).pack(e).reduce(((t,e)=>{const r=i.Uint32LE.pack(t.offset);return{header:(0,o.concat)(t.header,r),body:(0,o.concat)(t.body,e),offset:t.offset+e.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*e.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(e){const r=i.Uint32LE.unpack(e.slice(0,4));if(r!==e.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${e.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(e.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((t,r)=>i.Uint32LE.unpack(e.slice(4+4*r,8+4*r))));o.push(r);const s=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],a=e.slice(n,i);s.push(t.unpack(a))}return s}}})}},6435:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(65991);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))},65991:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(e,"BIish",{enumerable:!0,get:function(){return n.BIish}}),e.Uint8=e.Uint64LE=e.Uint64BE=e.Uint64=e.Uint512LE=e.Uint512BE=e.Uint512=e.Uint32LE=e.Uint32BE=e.Uint32=e.Uint256LE=e.Uint256BE=e.Uint256=e.Uint16LE=e.Uint16BE=e.Uint16=e.Uint128LE=e.Uint128BE=e.Uint128=void 0;var n=r(92900),i=r(83556),o=r(10851);function s(t,e=!1){const r=a(t,e);return{__isFixedCodec__:!0,byteLength:t,pack:t=>r.pack(t),unpack:t=>r.unpack(t).toNumber()}}const a=(t,e=!1)=>{const r=n.BI.from(1).shl(8*t).sub(1);return(0,i.createFixedBytesCodec)({byteLength:t,pack(i){let s=e?"LE":"BE";t<=1&&(s="");const a=`Uint${8*t}${s}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,a);let u=n.BI.from(i);!function(t,e,r,i){if((t=n.BI.from(t)).lt(e)||t.gt(r))throw new o.CodecBaseParseError(`Value must be between ${e.toString()} and ${r.toString()}, but got ${t.toString()}`,i)}(u,0,r,a);const c=new DataView(new ArrayBuffer(t));for(let r=0;r<t;r++)e?c.setUint8(r,u.and(255).toNumber()):c.setUint8(t-r-1,u.and(255).toNumber()),u=u.shr(8);return new Uint8Array(c.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<t;r++)o=e?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},u=(e.Uint8=s(1),e.Uint16LE=s(2,!0)),c=(e.Uint16BE=s(2),e.Uint16=u,e.Uint32LE=s(4,!0)),f=(e.Uint32BE=s(4),e.Uint32=c,e.Uint64LE=a(8,!0)),l=(e.Uint64BE=a(8),e.Uint64=f,e.Uint128LE=a(16,!0)),d=(e.Uint128BE=a(16),e.Uint128=l,e.Uint256LE=a(32,!0)),h=(e.Uint256BE=a(32),e.Uint256=d,e.Uint512LE=a(64,!0));e.Uint512BE=a(64),e.Uint512=h},56828:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertBufferLength=function(t,e){if(t.byteLength!==e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be ${e}`)},e.assertHexDecimal=function(t,e){if(f(t),2===t.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=t.length;if("number"==typeof e&&r>2*e+2)throw new Error(`Invalid hex decimal length, should be less than ${e} bytes, got ${r/2-1} bytes`);l(t)},e.assertHexString=function(t,e){f(t);const r=t.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof e&&r!==2*e+2)throw new Error("Invalid hex string length, not match with byteLength!");l(t)},e.assertMinBufferLength=function(t,e){if(t.byteLength<e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be at least ${e}`)},e.assertUtf8String=function(t){for(let e=0;e<t.length;e++){if(t.charCodeAt(e)>255)throw new Error("Invalid UTF-8 raw string!")}},e.isObjectLike=function(t){return!!t&&"object"==typeof t},e.trackCodeExecuteError=function(t,e){try{return e()}catch(e){const r=(0,n.isCodecExecuteError)(e)?e:new n.CodecExecuteError(e);throw r.updateKey(t),r}};var n=r(10851);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0),c="f".charCodeAt(0);function f(t){if(!t||!t.startsWith("0x"))throw new Error("Invalid hex string, expect starts with 0x")}function l(t){const e=t.length;for(let r=2;r<e;r++){const e=t[r].charCodeAt(0);if(!(e>=i&&e<=o||e>=u&&e<=c||e>=s&&e<=a))throw new Error(`Invalid hex character ${t[r]} in the string ${t}`)}}},83127:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CellCollector=void 0,e.checkLimit=b,e.default=void 0,e.injectCapacity=v,e.prepareSigningEntries=_,e.setupInputCell=g,e.setupOutputCell=m,e.withdraw=w;var n=r(41600),i=r(71313),o=r(14105),s=r(28670),a=r(49568),u=r(92900),c=r(45524),f=r(33089),l=r(6437);const{ScriptValue:d}=n.values,{CKBHasher:h,ckbHash:p}=n.utils,y=e.CellCollector=class{constructor(t,e,{config:r,queryOptions:n={}}={}){if(!e)throw new Error("Cell provider is missing!");r=r||(0,o.getConfig)(),this.fromScript=(0,c.parseFromInfo)(t,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=e.collector(n)}async*collect(){if((0,f.isAcpScript)(this.fromScript,this.config))for await(const t of this.cellCollector.collect())yield t}};async function g(t,e,r,{config:s,defaultWitness:a="0x",since:u}={}){s=s||(0,o.getConfig)();const c=e.cellOutput.lock;if(!(0,f.isAcpScript)(c,s))throw new Error("Not anyone-can-pay input!");t=t.update("inputs",(t=>t.push(e))),u&&(t=t.update("inputSinces",(e=>e.set(t.get("inputs").size-1,u)))),t=t.update("witnesses",(t=>t.push(a)));const l={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=(t=t.update("outputs",(t=>t.push(l)))).update("fixedEntries",(e=>e.push({field:"outputs",index:t.get("outputs").size-1})));const h=s.SCRIPTS.ANYONE_CAN_PAY;if(!h)throw new Error("ANYONE_CAN_PAY script not defined in config!");const p={txHash:h.TX_HASH,index:h.INDEX},y=(t=(0,f.addCellDep)(t,{outPoint:p,depType:h.DEP_TYPE})).get("inputs").findIndex((t=>new d(t.cellOutput.lock,{validate:!1}).equals(new d(c,{validate:!1}))));if(-1!==y){for(;y>=t.get("witnesses").size;)t=t.update("witnesses",(t=>t.push("0x")));let e=t.get("witnesses").get(y);const r={lock:f.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==e){const t=n.blockchain.WitnessArgs.unpack(i.bytes.bytify(e)),o=t.lock;if(o&&r.lock&&!i.bytes.equal(o,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const s=t.inputType;s&&(r.inputType=s);const a=t.outputType;a&&(r.outputType=a)}e=i.bytes.hexify(n.blockchain.WitnessArgs.pack(r)),t=t.update("witnesses",(t=>t.set(y,e)))}return t}function b(t,e){const r=u.BI.from(e);let n,i;if(t.length>=46&&(n=u.BI.from(10).pow("0x"+t.slice(44,46))),t.length>=44){const e=u.BI.from(10).pow("0x"+t.slice(42,44)),r=u.BI.from(10).pow(8);i=e.mul(r)}if(i&&n){if(r.lt(i))throw new Error(`capacity(${e}) less than toAddress minimal capacity limit(${i}), and amount less then toAddress minimal amount limit(${n})! If you want to transfer sudt, maybe sudt.transfer can help you.`)}else if(i&&r.lt(i))throw new Error(`capacity(${e}) less than toAddress minimal capacity limit(${i})!`)}async function m(t,e,{config:r}={}){r=r||(0,o.getConfig)();const n=e.cellOutput.lock,i=u.BI.from(e.cellOutput.capacity);b(n.args,i.toString());const a=t.get("cellProvider");if(!a)throw new Error("Cell Provider is missing!");const c=(0,s.generateAddress)(n,{config:r}),l=new y(c,a,{config:r}),d=(await l.collect().next()).value;let h=i;if(d&&(h=i.add(d.cellOutput.capacity),t=(t=t.update("inputs",(t=>t.push(d)))).update("witnesses",(t=>t.push("0x")))),e.cellOutput.capacity="0x"+h.toString(16),t=t.update("outputs",(t=>t.push(e))),d){const e=r.SCRIPTS.ANYONE_CAN_PAY;if(!e)throw new Error("ANYONE_CAN_PAY script not defined in config!");const n={txHash:e.TX_HASH,index:e.INDEX};t=(0,f.addCellDep)(t,{outPoint:n,depType:e.DEP_TYPE})}return t}async function v(t,e,r,n,{config:i}={}){if(i=i||(0,o.getConfig)(),r>=e.get("outputs").size)throw new Error("Invalid output index!");let c=u.BI.from(n);if(!i.SCRIPTS.ANYONE_CAN_PAY)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const f=t.fromScript,l=e.get("fixedEntries").filter((({field:t})=>"outputs"===t)).maxBy((({index:t})=>t));let h=l?l.index+1:0;for(;h<e.get("outputs").size&&c.gt(0);h++){const t=e.get("outputs").get(h);if(new d(t.cellOutput.lock,{validate:!1}).equals(new d(f,{validate:!1}))){const e=u.BI.from(t.cellOutput.capacity),r=e.sub((0,s.minimalCellCapacityCompatible)(t)),n=c.gte(r)?r:c;c=c.sub(n),t.cellOutput.capacity="0x"+e.sub(n).toString(16)}}e=e.update("outputs",(t=>t.filter((t=>!u.BI.from(t.cellOutput.capacity).eq(0)))));const p=t=>`${t.outPoint.txHash}_${t.outPoint.index}`;if(c.gt(0)){const r={cellOutput:{capacity:"0x0",lock:f,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let n=u.BI.from(0);const o=u.BI.from((0,s.minimalCellCapacityCompatible)(r));let l=(0,a.Set)();for(const t of e.get("inputs"))l=l.add(p(t));for await(const s of t.collect()){if(l.has(p(s)))continue;const t=(e=await g(e,s,0,{config:i})).get("outputs").size-1,a=(e=e.update("outputs",(e=>e.remove(t)))).get("fixedEntries").findIndex((e=>"outputs"===e.field&&e.index===t));a>=0&&(e=e.update("fixedEntries",(t=>t.remove(a))));const f=u.BI.from(s.cellOutput.capacity);let d=f;if(d.gt(c)&&(d=c),c=c.sub(d),n=n.add(f.sub(d)),c.eq(0)&&n.gte(o))break;r.cellOutput.capacity="0x"+n.toString(16),e=e.update("outputs",(t=>t.push(r)))}if(c.gt(0)||n<o)throw new Error("Not enough capacity in from address!");r.cellOutput.capacity="0x"+n.toString(16),e=e.update("outputs",(t=>t.push(r)))}return e}function _(t,{config:e}={}){const r="ANYONE_CAN_PAY",i=(e=e||(0,o.getConfig)()).SCRIPTS[r];if(!i)throw new Error(`Provided config does not have ${r} script setup!`);let c=(0,a.Set)();const y=(0,s.createTransactionFromSkeleton)(t),g=p(n.blockchain.RawTransaction.pack(y)),b=t.get("inputs"),m=t.get("witnesses");let v=t.get("signingEntries");for(let e=0;e<b.size;e++){const r=b.get(e);if(i.CODE_HASH===r.cellOutput.lock.codeHash&&i.HASH_TYPE===r.cellOutput.lock.hashType&&!c.has(r.cellOutput.lock.args)){c=c.add(r.cellOutput.lock.args);const i=t.get("outputs").filter((t=>new d(t.cellOutput.lock,{validate:!1}).equals(new d(r.cellOutput.lock,{validate:!1})))),o=i.map((t=>u.BI.from(t.cellOutput.capacity))).reduce(((t,e)=>t.add(e)),u.BI.from(0)),s=i.filter((t=>"0x"!==t.data)).map((t=>(0,l.unpackAmount)(t.data))).reduce(((t,e)=>t.add(e)),u.BI.from(0)),a=b.filter((t=>new d(t.cellOutput.lock,{validate:!1}).equals(new d(r.cellOutput.lock,{validate:!1})))),p=a.map((t=>u.BI.from(t.cellOutput.capacity))).reduce(((t,e)=>t.add(e)),u.BI.from(0)),y=a.filter((t=>"0x"!==t.data)).map((t=>u.BI.from((0,l.unpackAmount)(t.data)))).reduce(((t,e)=>t.add(e)),u.BI.from(0));if(p.lte(o)&&y.lte(s))continue;const _=new n.values.ScriptValue(r.cellOutput.lock,{validate:!1}),w=new h;if(w.update(g),e>=m.size)throw new Error(`The first witness in the script group starting at input index ${e} does not exist, maybe some other part has invalidly tampered the transaction?`);(0,f.hashWitness)(w,m.get(e));for(let t=e+1;t<b.size&&t<m.size;t++){const e=b.get(t);_.equals(new n.values.ScriptValue(e.cellOutput.lock,{validate:!1}))&&(0,f.hashWitness)(w,m.get(t))}for(let t=b.size;t<m.size;t++)(0,f.hashWitness)(w,m.get(t));const S={type:"witness_args_lock",index:e,message:w.digestHex()};v=v.push(S)}}return t=t.set("signingEntries",v)}async function w(t,e,r,n,{config:i}={}){if(i=i||(0,o.getConfig)(),!(0,f.isAcpScript)(e.cellOutput.lock,i))throw new Error("fromInput is not a ANYONE_CAN_PAY cell!");const a=u.BI.from(n),c=u.BI.from(e.cellOutput.capacity),l=u.BI.from((0,s.minimalCellCapacityCompatible)(e));if(!(a.gte(0)&&a.lte(c.sub(l))||a.eq(c)))throw new Error(`capacity must be in [0, ${c.sub(l)}] or ${c} !`);const d=(0,s.parseAddress)(r,{config:i}),h={cellOutput:{capacity:"0x"+n.toString(16),lock:d,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};if((0,f.isAcpScript)(d,i)){b(d.args,n);const e=t.get("cellProvider");if(!e)throw new Error("Cell Provider is missing!");const o=new y(r,e,{config:i}),s=(await o.collect().next()).value;if(!s)throw new Error("toAddress ANYONE_CAN_PAY input not found!");const u=a.add(s.cellOutput.capacity);h.cellOutput.capacity="0x"+u.toString(16),t=(t=t.update("inputs",(t=>t.push(s)))).update("witnesses",(t=>t.push("0x")))}t=t.update("outputs",(t=>t.push(h)));const p=(t=await g(t,e,(0,s.generateAddress)(e.cellOutput.lock,{config:i}),{config:i})).get("outputs").size-1,m=(t=t.update("outputs",(t=>t.remove(p)))).get("fixedEntries").findIndex((t=>"outputs"===t.field&&t.index===p));return m>=0&&(t=t.update("fixedEntries",(t=>t.remove(m)))),a.eq(c)||(t=t.update("outputs",(t=>t.push({cellOutput:{capacity:"0x"+c.sub(n).toString(16),lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data})))),t}e.default={CellCollector:y,setupInputCell:g,setupOutputCell:m,injectCapacity:v,prepareSigningEntries:_,withdraw:w}},10640:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.injectCapacity=x,e.payFee=E,e.payFeeByFeeRate=P,e.prepareSigningEntries=k,e.registerCustomLockScriptInfos=w,e.setupInputCell=O,e.transfer=A;var i=r(28670),o=b(r(94467)),s=r(45524),a=b(r(1874)),u=r(14105),c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=g(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(24900)),f=r(41600),l=b(r(83127)),d=r(49568),h=r(33089),p=r(92900),y=b(r(60699));function g(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(g=function(t){return t?r:e})(t)}function b(t){return t&&t.__esModule?t:{default:t}}const{ScriptValue:m}=f.values;function v(t,e){console.log(`[${t}] ${e}`)}const _={configHashCode:0,_predefinedInfos:[],_customInfos:[],get infos(){return[...this._predefinedInfos,...this._customInfos]}};function w(t){_._customInfos=t}function S({config:t}={}){t=t||(0,u.getConfig)();const e=()=>{var e,r,n,i;const s=null===(e=t)||void 0===e?void 0:e.SCRIPTS.SECP256K1_BLAKE160,u=null===(r=t)||void 0===r?void 0:r.SCRIPTS.SECP256K1_BLAKE160_MULTISIG,c=null===(n=t)||void 0===n?void 0:n.SCRIPTS.ANYONE_CAN_PAY,f=null===(i=t)||void 0===i?void 0:i.SCRIPTS.OMNILOCK,d=[];return s?d.push({codeHash:s.CODE_HASH,hashType:s.HASH_TYPE,lockScriptInfo:a.default}):v("warn","SECP256K1_BLAKE160 script info not found in config!"),u?d.push({codeHash:u.CODE_HASH,hashType:u.HASH_TYPE,lockScriptInfo:o.default}):v("warn","SECP256K1_BLAKE160_MULTISIG script info not found in config!"),c?d.push({codeHash:c.CODE_HASH,hashType:c.HASH_TYPE,lockScriptInfo:l.default}):v("warn","ANYONE_CAN_PAY script info not found in config!"),f?d.push({codeHash:f.CODE_HASH,hashType:f.HASH_TYPE,lockScriptInfo:y.default}):v("warn","OMNILOCK script info not found in config!"),d},r=f.utils.hashCode(n.from(JSON.stringify(t)));0===_.infos.length?(_._predefinedInfos=e(),_.configHashCode=r):r!==_.configHashCode&&(v("warn","`config` changed, regenerate lockScriptInfos!"),_._predefinedInfos=e(),_.configHashCode=r)}async function A(t,e,r,n,o,s,{config:a,useLocktimeCellsFirst:f=!0,LocktimePoolCellCollector:l=c.CellCollector}={}){var d;a=a||(0,u.getConfig)();const h=p.BI.from(n);if(!r)throw new Error("You must provide a to address!");const y=(0,i.parseAddress)(r,{config:a}),g={cellOutput:{capacity:"0x"+h.toString(16),lock:y,type:void 0},data:"0x"};S({config:a});const b=_.infos.find((t=>t.codeHash===y.codeHash&&t.hashType===y.hashType));return t=b&&null!==(d=b.lockScriptInfo)&&void 0!==d&&d.setupOutputCell?await b.lockScriptInfo.setupOutputCell(t,g,{config:a}):t.update("outputs",(t=>t.push(g))),t=await x(t,e,h.toString(),o,s,{config:a,useLocktimeCellsFirst:f,LocktimePoolCellCollector:l})}async function x(t,e,r,n,o,{config:a,useLocktimeCellsFirst:f=!0,LocktimePoolCellCollector:l=c.CellCollector,enableDeductCapacity:d=!0}={}){a=a||(0,u.getConfig)();let h=p.BI.from(r);if(0===e.length)throw new Error("No from info provided!");const y={cellOutput:{capacity:"0x0",lock:(0,s.parseFromInfo)(n||e[0],{config:a}).fromScript,type:void 0},data:"0x"},g=p.BI.from((0,i.minimalCellCapacityCompatible)(y));let b=p.BI.from(0);if(f){if(o){const r=await c.default.injectCapacityWithoutChangeCompatible(t,e,h.toString(),o,g.toString(),{config:a,LocktimeCellCollector:l,enableDeductCapacity:d});t=r.txSkeleton,h=p.BI.from(r.capacity),b=p.BI.from(r.changeCapacity)}if(h.gt(0)){const r=await I(t,e,h,g,{config:a,enableDeductCapacity:d});t=r.txSkeleton,h=r.capacity,b=r.changeCapacity}else if(h.eq(0)&&b.gt(0)&&b.lt(g)){const r=await I(t,e,g.sub(b),p.BI.from(0),{config:a,enableDeductCapacity:d});t=r.txSkeleton,h=r.capacity,b=r.changeCapacity}}else{const r=await I(t,e,h,g,{config:a,enableDeductCapacity:d});if(t=r.txSkeleton,h=r.capacity,b=r.changeCapacity,o)if(h.gt(0)){const r=await c.default.injectCapacityWithoutChangeCompatible(t,e,h.toString(),o,g.toString(),{config:a,LocktimeCellCollector:l,enableDeductCapacity:d});t=r.txSkeleton,h=p.BI.from(r.capacity),b=p.BI.from(r.changeCapacity)}else if(h.eq(0)&&b.gt(0)&&b.lt(g)){const r=await c.default.injectCapacityWithoutChangeCompatible(t,e,g.sub(b).toString(),o,0,{config:a,LocktimeCellCollector:l,enableDeductCapacity:d});t=r.txSkeleton,h=p.BI.from(r.capacity),b=p.BI.from(r.changeCapacity)}}if(h.gt(0))throw new Error("Not enough capacity in from infos!");if(b.gt(0)&&b.lt(g))throw new Error("Not enough capacity in from infos for change!");return b.gt(0)&&(y.cellOutput.capacity="0x"+b.toString(16),t=t.update("outputs",(t=>t.push(y)))),t}async function E(t,e,r,n,{config:i,useLocktimeCellsFirst:o=!0,enableDeductCapacity:s=!0}={}){return x(t,e,r,void 0,n,{config:i,useLocktimeCellsFirst:o,enableDeductCapacity:s})}function k(t,{config:e}={}){S({config:e=e||(0,u.getConfig)()});for(const r of _.infos)t=r.lockScriptInfo.prepareSigningEntries(t,{config:e});return t}async function I(t,e,r,n,{config:i,enableDeductCapacity:o=!0}={}){i=i||(0,u.getConfig)();let a=p.BI.from(r);const c=t.get("cellProvider");if(!c)throw new Error("Cell Provider is missing!");const f=t=>{var e,r;return`${null===(e=t.outPoint)||void 0===e?void 0:e.txHash}_${null===(r=t.outPoint)||void 0===r?void 0:r.index}`};let l=(0,d.Set)();for(const e of t.get("inputs"))l=l.add(f(e));const h=e.map((t=>(0,s.parseFromInfo)(t,{config:i}).fromScript));for(const e of h)o&&a.gt(0)&&([t,a]=T(t,e,a));S({config:i});let y=p.BI.from(0);if(a.gt(0))t:for(const r of e){const e=_.infos.map((t=>new t.lockScriptInfo.CellCollector(r,c,{config:i})));for(const o of e)for await(const e of o.collect()){const o=f(e);if(l.has(o))continue;l=l.add(o);const s=await C(t,e,r,{config:i,needCapacity:a});t=s.txSkeleton;const u=p.BI.from(s.availableCapacity);let c=u;if(c.gt(a)&&(c=a),a=a.sub(c),y=y.add(u.sub(c)),a.eq(0)&&(y.eq(0)||y.gt(n)))break t}}return{txSkeleton:t,capacity:a,changeCapacity:y}}function T(t,e,r){let n=p.BI.from(r);const o=t.get("fixedEntries").filter((({field:t})=>"outputs"===t)).maxBy((({index:t})=>t));let s=o?o.index+1:0;for(;s<t.get("outputs").size&&n.gt(0);s++){const o=t.get("outputs").get(s);if(o&&new m(o.cellOutput.lock,{validate:!1}).equals(new m(e,{validate:!1}))){const e=JSON.parse(JSON.stringify(o)),a=p.BI.from(e.cellOutput.capacity),u=a;let c;n.gte(u)?c=u:(c=a.sub((0,i.minimalCellCapacityCompatible)(e)),c.gt(r)&&(c=r)),n=n.sub(c),e.cellOutput.capacity="0x"+a.sub(c).toString(16),t=t.update("outputs",(t=>t.update(s,(()=>e))))}}return[t=t.update("outputs",(t=>t.filter((t=>p.BI.from(t.cellOutput.capacity).toString()!==p.BI.from(0).toString())))),n]}async function C(t,e,r,{config:n,since:o,defaultWitness:s="0x",needCapacity:a}={}){n=n||(0,u.getConfig)();const c=(t=await O(t,e,r,{config:n,since:o,defaultWitness:s})).get("outputs").size-1,f=t.get("outputs").get(c);if(!f)throw new Error("Impossible: can not find last output");const l=p.BI.from(f.cellOutput.capacity),d=t.get("fixedEntries").findIndex((t=>"outputs"===t.field&&t.index===c)),y=e.cellOutput.lock;let g=p.BI.from(0);if(n.SCRIPTS.ANYONE_CAN_PAY&&(0,h.isAcpScript)(y,n)){const e=!!(r&&"object"==typeof r&&"destroyable"in r&&r.destroyable),n=a?p.BI.from(a):l;if(e)g=l,t=t.update("outputs",(t=>t.remove(c))),d>=0&&(t=t.update("fixedEntries",(t=>t.remove(d))));else{const e=p.BI.from((0,i.minimalCellCapacityCompatible)(f)),r=l.sub(e),o=JSON.parse(JSON.stringify(f));let s=e;g=r,n.lt(r)&&(s=l.sub(n),g=n),o.cellOutput.capacity="0x"+s.toString(16),t=t.update("outputs",(t=>t.update(c,(()=>o))))}}else{var b;if(d<0)g=p.BI.from(null===(b=t.get("outputs").get(c))||void 0===b?void 0:b.cellOutput.capacity),t=t.update("outputs",(t=>t.remove(c)))}return{txSkeleton:t,availableCapacity:g}}async function O(t,e,r,{config:n,since:i,defaultWitness:o}={}){S({config:n=n||(0,u.getConfig)()});const s=e.cellOutput.lock,a=_.infos.find((t=>t.codeHash===s.codeHash&&t.hashType===s.hashType));if(!a)throw new Error("No LockScriptInfo found for setupInputCell!");return a.lockScriptInfo.setupInputCell(t,e,r,{config:n,since:i,defaultWitness:o})}async function P(t,e,r,n,{config:i,useLocktimeCellsFirst:o=!0,enableDeductCapacity:s=!0}={}){let a=0,u=t,c=B(u);for(;c>a;){a=c;const f=M(a,r);u=await E(t,e,f,n,{config:i,useLocktimeCellsFirst:o,enableDeductCapacity:s}),c=B(u)}return u}function M(t,e){const r=p.BI.from(1e3),n=p.BI.from(t).mul(e),i=n.div(r);return i.mul(r).lt(n)?i.add(1):p.BI.from(i)}function B(t){return R((0,i.createTransactionFromSkeleton)(t))}function R(t){return f.blockchain.Transaction.pack(t).byteLength+4}e.default={transfer:A,payFee:E,prepareSigningEntries:k,injectCapacity:x,setupInputCell:O,registerCustomLockScriptInfos:w,payFeeByFeeRate:P,__tests__:{_commonTransfer:async function(t,e,r,n,{config:i,enableDeductCapacity:o=!0}={}){const s=await I(t,e,r,n,{config:i,enableDeductCapacity:o});return{txSkeleton:s.txSkeleton,capacity:BigInt(s.capacity.toString()),changeCapacity:BigInt(s.changeCapacity.toString())}},resetLockScriptInfos:function(){_.configHashCode=0,_._predefinedInfos=[],_._customInfos=[]},getLockScriptInfos:function(){return _},generateLockScriptInfos:S,getTransactionSizeByTx:R,getTransactionSize:B,calculateFee:function(t,e){const r=M(t,e);return BigInt(r.toString())},calculateFeeCompatible:M}}},91461:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CellCollector=void 0,e.calculateDaoEarliestSince=x,e.calculateDaoEarliestSinceCompatible=E,e.calculateMaximumWithdraw=C,e.calculateMaximumWithdrawCompatible=O,e.default=void 0,e.deposit=_,e.extractDaoDataCompatible=T,e.listDaoCells=v,e.unlock=A;var n=r(28670),i=r(41600),o=r(71313),s=r(14105),a=p(r(1874)),u=p(r(94467)),c=r(45524),f=r(33089),l=r(92900),d=r(24980),h=p(r(10640));function p(t){return t&&t.__esModule?t:{default:t}}const{parseSince:y}=i.since,g="0x0000000000000000",b=l.BI.from(180);class m{constructor(t,e,r,{config:n}={}){if(!e)throw new Error("Cell Provider is missing!");n=n||(0,s.getConfig)();const i=(0,c.parseFromInfo)(t,{config:n}).fromScript,o=(0,f.generateDaoScript)(n),a="deposit"===r?g:"any";this.cellType=r,this.cellCollector=e.collector({lock:i,type:o,data:a})}async*collect(){for await(const t of this.cellCollector.collect())"withdraw"===this.cellType&&t.data===g||(yield t)}}async function*v(t,e,r,{config:n}={}){const i=new m(e,t,r,{config:n});for await(const t of i.collect())yield t}async function _(t,e,r,i,{config:d,enableNonSystemScript:p=!1}={}){const b=(d=d||(0,s.getConfig)()).SCRIPTS.DAO;if(!b)throw new Error("Provided config does not have DAO script setup!");if(function(t,e){let r;if("string"==typeof t){const i=(0,n.parseAddress)(t,{config:e}).args;58===i.length&&(r=o.number.Uint64LE.unpack("0x"+i.slice(42)).toHexString())}else"R"in t&&(r=t.since);if(null!=r){const{relative:t,type:e}=y(r);if(t||"epochNumber"!==e)throw new Error("Can't deposit a dao cell with multisig locktime which not using absolute-epoch-number format!")}}(e,d),t=I(t,d),!r)throw new Error("You must provide a to address!");const m=(0,n.parseAddress)(r,{config:d}),v={codeHash:b.CODE_HASH,hashType:b.HASH_TYPE,args:"0x"},_=(t=t.update("outputs",(t=>t.push({cellOutput:{capacity:"0x"+l.BI.from(i).toString(16),lock:m,type:v},data:g,outPoint:void 0,blockHash:void 0})))).get("outputs").size-1;if(t=t.update("fixedEntries",(t=>t.push({field:"outputs",index:_}))),"string"==typeof e){const r=(0,n.parseAddress)(e,{config:d});(0,f.isSecp256k1Blake160Script)(r,d)?t=await a.default.injectCapacity(t,_,e,{config:d}):(0,f.isSecp256k1Blake160MultisigScript)(r,d)?t=await u.default.injectCapacity(t,_,e,{config:d}):p&&(t=await h.default.injectCapacity(t,[e],i,(0,n.encodeToAddress)((0,c.parseFromInfo)(e).fromScript,{config:d}),void 0,{config:d}))}else e&&((0,c.isMultisigFromInfo)(e)?t=await u.default.injectCapacity(t,_,e,{config:d}):p&&(t=await h.default.injectCapacity(t,[e],i,(0,n.encodeToAddress)((0,c.parseFromInfo)(e).fromScript,{config:d}),void 0,{config:d})));return t}function w(t){const e=l.BI.from(t);return{length:e.shr(40).and(4095),index:e.shr(24).and(4095),number:e.and(16777215)}}function S({length:t,index:e,number:r}){const n=l.BI.from(t),i=l.BI.from(e),o=l.BI.from(r);return l.BI.from(32).shl(56).add(n.shl(40)).add(i.shl(24)).add(o)}async function A(t,e,r,c,h,{config:p,RpcClient:y=d.RPC}={}){if(k(p=p||(0,s.getConfig)()),t=I(t,p),!p.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");const m=t.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const v=new y(m.uri),_=e.cellOutput.type,A=p.SCRIPTS.DAO;if(!_||_.codeHash!==A.CODE_HASH||_.hashType!==A.HASH_TYPE||e.data!==g)throw new Error("depositInput is not a DAO deposit cell.");const x=r.cellOutput.type;if(!x||x.codeHash!==A.CODE_HASH||x.hashType!==A.HASH_TYPE||r.data===g)throw new Error("withdrawInput is not a DAO withdraw cell.");const E=await v.getHeader(e.blockHash),T=w(E.epoch),C=await v.getHeader(r.blockHash),P=w(C.epoch),M=P.index.mul(T.length),B=T.index.mul(P.length);let R=P.number.sub(T.number);M.gt(B)&&(R=R.add(1));const j=R.add(b).sub(1).div(b).mul(b),D=S({number:l.BI.from(T.number.add(j)),index:l.BI.from(T.index),length:l.BI.from(T.length)}),L="0x"+O(r,E.dao,C.dao).toString(16),U=(0,n.parseAddress)(c,{config:p});t=t.update("outputs",(t=>t.push({cellOutput:{capacity:L,lock:U,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})));const N="0x"+D.toString(16);for(;t.get("witnesses").size<t.get("inputs").size-1;)t=t.update("witnesses",(t=>t.push("0x")));const H=(t=t.update("headerDeps",(t=>t.push(e.blockHash,r.blockHash)))).get("headerDeps").size-2,F={inputType:o.bytes.hexify(o.number.Uint64LE.pack(H))},z=o.bytes.hexify(i.blockchain.WitnessArgs.pack(F)),K=r.cellOutput.lock;(0,f.isSecp256k1Blake160Script)(K,p)?t=await a.default.setupInputCell(t,r,void 0,{config:p,since:N,defaultWitness:z}):(0,f.isSecp256k1Blake160MultisigScript)(K,p)&&(t=await u.default.setupInputCell(t,r,h||(0,n.generateAddress)(K,{config:p}),{config:p,since:N,defaultWitness:z}));const q=t.get("outputs").size-1;return t=(t=t.update("outputs",(t=>t.remove(q)))).update("fixedEntries",(e=>e.push({field:"inputs",index:t.get("inputs").size-1},{field:"outputs",index:t.get("outputs").size-1},{field:"witnesses",index:t.get("witnesses").size-1},{field:"headerDeps",index:t.get("headerDeps").size-2})))}function x(t,e){const r=E(t,e);return BigInt(r.toString())}function E(t,e){const r=w(t),n=w(e),i=n.index.mul(r.length),o=r.index.mul(n.length);let s=n.number.sub(r.number);i.gt(o)&&(s=s.add(1));const a=s.add(b).sub(1).div(b).mul(b);return S({number:l.BI.from(r.number.add(a)),index:l.BI.from(r.index),length:l.BI.from(r.length)})}function k(t){if(!t.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!")}function I(t,e){const r=e.SCRIPTS.DAO;return(0,f.addCellDep)(t,{outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE})}function T(t){if(!/^(0x)?([0-9a-fA-F]){64}$/.test(t))throw new Error("Invalid dao format!");const e=t.startsWith("0x")?t.slice(2):t;return["c","ar","s","u"].map(((t,r)=>({[t]:o.number.Uint64LE.unpack("0x"+e.slice(16*r,16*(r+1)))}))).reduce(((t,e)=>({...t,...e})),{})}function C(t,e,r){return O(t,e,r).toBigInt()}function O(t,e,r){const i=l.BI.from(T(e).ar),o=l.BI.from(T(r).ar),s=l.BI.from((0,n.minimalCellCapacityCompatible)(t));return l.BI.from(t.cellOutput.capacity).sub(s).mul(o).div(i).add(s)}e.CellCollector=m;e.default={deposit:_,withdraw:async function(t,e,r,{config:i,enableNonSystemScript:c=!1}={}){if(k(i=i||(0,s.getConfig)()),(t=I(t,i)).get("inputs").size!==t.get("outputs").size)throw new Error("Input size must equals to output size in txSkeleton!");if(!i.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");if(!t.get("cellProvider"))throw new Error("Cell provider is missing!");const l=e.cellOutput.type,d=i.SCRIPTS.DAO;if(!l||l.codeHash!==d.CODE_HASH||l.hashType!==d.HASH_TYPE||e.data!==g)throw new Error("fromInput is not a DAO deposit cell.");const p=e.cellOutput.lock;(0,f.isSecp256k1Blake160Script)(p,i)?t=await a.default.setupInputCell(t,e,void 0,{config:i}):(0,f.isSecp256k1Blake160MultisigScript)(p,i)?t=await u.default.setupInputCell(t,e,r||(0,n.generateAddress)(p,{config:i}),{config:i}):c&&(t=await h.default.setupInputCell(t,e,r||(0,n.encodeToAddress)(p,{config:i}),{config:i}));const y=t.get("outputs").size-1,b=t.get("outputs").get(y),m=JSON.parse(JSON.stringify(b));if(!e.blockNumber)throw new Error("fromInput has no blockNumber!");return m.data=o.bytes.hexify(o.number.Uint64.pack(e.blockNumber)),t=(t=(t=t.update("outputs",(t=>t.update(y,(()=>m))))).update("headerDeps",(t=>t.push(e.blockHash)))).update("fixedEntries",(e=>e.push({field:"inputs",index:t.get("inputs").size-1},{field:"outputs",index:t.get("outputs").size-1})))},unlock:A,calculateMaximumWithdraw:C,calculateMaximumWithdrawCompatible:O,calculateDaoEarliestSince:x,calculateDaoEarliestSinceCompatible:E,CellCollector:m,listDaoCells:v}},92642:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareScriptBinaryWithOnChainData=A,e.default=void 0,e.generateDeployWithDataTx=_,e.generateDeployWithTypeIdTx=w,e.generateUpgradeTypeIdDataTx=S;var n=r(41600),i=r(71313),o=r(14105),s=r(28670),a=r(49568),u=r(45524),c=r(92900);const{ScriptValue:f}=n.values;function l(t,e){const r=(0,s.minimalCellCapacityCompatible)(e);return e.cellOutput.capacity=`0x${r.toString(16)}`,t=t.update("outputs",(t=>t.push(e)))}function d(t,e){t=t.update("cellDeps",(t=>t.clear()));const r=(e=e||(0,o.getConfig)()).SCRIPTS.SECP256K1_BLAKE160,n=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!r||!n)throw new Error("Provided config does not have SECP256K1_BLAKE160 or SECP256K1_BLAKE160_MULTISIG script setup!");return t=t.update("cellDeps",(t=>t.push({outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE},{outPoint:{txHash:n.TX_HASH,index:n.INDEX},depType:n.DEP_TYPE})))}async function h(t,e,r,l){const d=t.get("inputs").map((t=>c.BI.from(t.cellOutput.capacity))).reduce(((t,e)=>t.add(e)),c.BI.from(0)),h=t.get("outputs").map((t=>c.BI.from(t.cellOutput.capacity))).reduce(((t,e)=>t.add(e)),c.BI.from(0)).sub(d);return t=await async function(t,e,r,{config:l,feeRate:d}){l=l||(0,o.getConfig)();const h=d||1e3;let y=c.BI.from(r);const{fromScript:b,multisigScript:m}=(0,u.parseFromInfo)(e,{config:l});y=y.add(p);let v=p;const _={cellOutput:{capacity:"0x0",lock:b,type:void 0},data:"0x"},w=c.BI.from((0,s.minimalCellCapacityCompatible)(_)).add(p);y.lt(0)&&(v=v.sub(y),y=c.BI.from(0));if(y.gt(0)||v.lt(w)){const e=t.get("cellProvider");if(!e)throw new Error("Cell provider is missing!");const r=e.collector({lock:b,type:"empty",data:"0x"});let n=(0,a.Set)();for(const e of t.get("inputs"))n=n.add(`${e.outPoint.txHash}_${e.outPoint.index}`);for await(const e of r.collect()){if(n.has(`${e.outPoint.txHash}_${e.outPoint.index}`))continue;t=(t=t.update("inputs",(t=>t.push(e)))).update("witnesses",(t=>t.push("0x")));const r=c.BI.from(e.cellOutput.capacity);let i=r;if(i.gt(y)&&(i=y),y=y.sub(i),v=v.add(r).sub(i),y.eq(0)&&(v.eq(0)||v.gte(w)))break}}v.gt(0)&&(_.cellOutput.capacity="0x"+v.toString(16),t=t.update("outputs",(t=>t.push(_))));if(y.gt(0)||v.lt(w))throw new Error("Not enough capacity in from address!");const S=t.get("inputs").findIndex((t=>new f(t.cellOutput.lock,{validate:!1}).equals(new f(b,{validate:!1}))));if(-1!==S){for(;S>=t.get("witnesses").size;)t=t.update("witnesses",(t=>t.push("0x")));let r,o=t.get("witnesses").get(S);const s="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";if(r="string"!=typeof e?{lock:i.bytes.hexify(i.bytes.concat(m,...new Array(e.M).fill(s)))}:{lock:s},"0x"!==o){const t=n.blockchain.WitnessArgs.unpack(i.bytes.bytify(o)),e=t.lock;if(e&&r.lock&&!i.bytes.equal(e,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const s=t.inputType;s&&(r.inputType=s);const a=t.outputType;a&&(r.outputType=a)}o=i.bytes.hexify(n.blockchain.WitnessArgs.pack(r)),t=t.update("witnesses",(t=>t.set(S,o)))}const A=g(t,h);v=v.sub(A),t=t.update("outputs",(t=>t.pop())),v.gt(0)&&(_.cellOutput.capacity="0x"+v.toString(16),t=t.update("outputs",(t=>t.push(_))));return t}(t,e,c.BI.from(h),{config:r,feeRate:l}),t}const p=(0,c.parseUnit)("1","ckb");function y(t){return function(t){const e=n.blockchain.Transaction.pack(t),r=4;return e.byteLength+r}((0,s.createTransactionFromSkeleton)(t))}function g(t,e){const r=y(t);return c.BI.from(function(t,e){const r=c.BI.from(1e3),n=c.BI.from(t).mul(e),i=n.div(r);return i.mul(r).lt(n)?i.add(1):c.BI.from(i)}(r,e))}function b(t){const e=(0,s.createTransactionFromSkeleton)(t);return n.utils.ckbHash(n.blockchain.RawTransaction.pack(e))}function m(t,e){const r=t.outputs.get(e);if(null==r)throw new Error("Invalid txSkeleton or outputIndex");return void 0!==r.cellOutput.type?function(t,e){const r=t.outputs.get(e).cellOutput.type;return{CODE_HASH:n.utils.computeScriptHash(r),HASH_TYPE:"type",TX_HASH:b(t),INDEX:"0x0",DEP_TYPE:"code"}}(t,e):function(t,e){const r=t.outputs.get(e).data;return{CODE_HASH:n.utils.ckbHash(i.bytes.bytify(r)),HASH_TYPE:"data1",TX_HASH:b(t),INDEX:"0x0",DEP_TYPE:"code"}}(t,e)}function v(t,{config:e}={}){if(e=e||(0,o.getConfig)(),"string"==typeof t){if("SECP256K1_BLAKE160"!==o.helpers.nameOfScript((0,s.parseAddress)(t,{config:e}),e.SCRIPTS))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}else if(!function(t){return"object"==typeof t&&"M"in t&&"R"in t&&Array.isArray(t.publicKeyHashes)}(t))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}async function _(t){v(t.fromInfo,{config:t.config});let e=(0,s.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,u.parseFromInfo)(t.fromInfo,{config:t.config});e=l(e,{cellOutput:{capacity:"0x0",lock:r},data:i.bytes.hexify(t.scriptBinary)}),e=d(e,t.config),e=await h(e,t.fromInfo,t.config,t.feeRate);return{txSkeleton:e,scriptConfig:m(e,0)}}async function w(t){v(t.fromInfo,{config:t.config});let e=(0,s.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,u.parseFromInfo)(t.fromInfo,{config:t.config}),[o]=await async function(t,e){const r=e.collector({lock:t,type:"empty",data:"0x"}),n=[];for await(const t of r.collect())n.push(t);return n}(r,t.cellProvider);if(!o)throw new Error("fromAddress has no live ckb");const a=n.utils.generateTypeIdScript({previousOutput:o.outPoint,since:"0x0"},"0x0");e=l(e,{cellOutput:{capacity:"0x0",lock:r,type:a},data:i.bytes.hexify(t.scriptBinary)}),e=d(e,t.config),e=await h(e,t.fromInfo,t.config,t.feeRate);return{txSkeleton:e,scriptConfig:m(e,0),typeId:a}}async function S(t){v(t.fromInfo,{config:t.config});let e=(0,s.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,u.parseFromInfo)(t.fromInfo,{config:t.config}),n=t.cellProvider.collector({type:t.typeId}),o=[];for await(const t of n.collect())o.push(t);if(1!==o.length)throw new Error("the typeid maybe wrong");const a=o[0];e=e.update("inputs",(t=>t.push(a)));e=l(e,{cellOutput:{capacity:"0x0",lock:r,type:t.typeId},data:i.bytes.hexify(t.scriptBinary)}),e=d(e,t.config),e=await h(e,t.fromInfo,t.config,t.feeRate);return{txSkeleton:e,scriptConfig:m(e,0)}}async function A(t,e,r){const o=function(t){const e=t.valueOf();return(new n.utils.CKBHasher).update(e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)).digestHex()}(t),s=await async function(t,e){const r=t.txHash,o=parseInt(t.index,10),s=await e.getTransaction(r);if(!s)throw new Error(`TxHash(${r}) is not found`);const a=s.transaction.outputsData[o];if(!a)throw new Error("cannot find output data");return(new n.utils.CKBHasher).update(i.bytes.bytify(a)).digestHex()}(e,r);return o===s}e.default={generateDeployWithDataTx:_,generateDeployWithTypeIdTx:w,generateUpgradeTypeIdDataTx:S,compareScriptBinaryWithOnChainData:A,__tests__:{calculateTxFee:g}}},45524:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isMultisigFromInfo=function(t){if(!t||"object"!=typeof t)return!1;const e=t;return"number"==typeof(null==e?void 0:e.R)&&"number"==typeof(null==e?void 0:e.M)&&Array.isArray(null==e?void 0:e.publicKeyHashes)},e.multisigArgs=c,e.parseFromInfo=function(t,{config:e}={}){let r,n,s,a;if(e=e||(0,o.getConfig)(),"string"==typeof t)r=(0,i.parseAddress)(t,{config:e});else if("R"in t){const i=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!i)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");n=u(t);const o=c(n,t.since);r={codeHash:i.CODE_HASH,hashType:i.HASH_TYPE,args:o}}else if("address"in t){const n=e.SCRIPTS.ANYONE_CAN_PAY;if(!n)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const o=t.address;if(r=(0,i.parseAddress)(o,{config:e}),s=t.destroyable,r.codeHash!==n.CODE_HASH||r.hashType!==n.HASH_TYPE)throw new Error("fromInfo.address is not ANYONE_CAN_PAY address!")}else{if(!("script"in t))throw new Error("Invalid fromInfo format!");r=t.script,a=t.customData}return{fromScript:r,multisigScript:n,destroyable:s,customData:a}},e.serializeMultisigScript=u;var n=r(41600),i=r(28670),o=r(14105),s=r(71313);const{CKBHasher:a}=n.utils;function u({R:t,M:e,publicKeyHashes:r}){if(t<0||t>255)throw new Error("`R` should be less than 256!");if(e<0||e>255)throw new Error("`M` should be less than 256!");return"0x00"+("00"+t.toString(16)).slice(-2)+("00"+e.toString(16)).slice(-2)+("00"+r.length.toString(16)).slice(-2)+r.map((t=>t.slice(2))).join("")}function c(t,e){let r="0x";return null!=e&&(r=s.bytes.hexify(s.number.Uint64LE.pack(e))),(new a).update(t).digestHex().slice(0,42)+r.slice(2)}},33089:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SECP_SIGNATURE_PLACEHOLDER=void 0,e.addCellDep=f,e.default=void 0,e.ensureScript=A,e.generateDaoScript=l,e.hashWitness=w,e.isAcpAddress=_,e.isAcpScript=v,e.isDaoScript=b,e.isOmnilockAddress=function(t,e){return p((0,i.parseAddress)(t,{config:e}),e)},e.isOmnilockScript=p,e.isSecp256k1Blake160Address=h,e.isSecp256k1Blake160MultisigAddress=g,e.isSecp256k1Blake160MultisigScript=y,e.isSecp256k1Blake160Script=d,e.isSudtScript=m,e.prepareSigningEntries=S;var n=r(49568),i=r(28670),o=r(71313),s=r(41600),a=r(6435);const{CKBHasher:u,ckbHash:c}=s.utils;function f(t,e){return t.get("cellDeps").find((t=>t.depType===e.depType&&new s.values.OutPointValue(t.outPoint,{validate:!1}).equals(new s.values.OutPointValue(e.outPoint,{validate:!1}))))||(t=t.update("cellDeps",(t=>t.push({outPoint:e.outPoint,depType:e.depType})))),t}function l(t){const e=t.SCRIPTS.DAO;return{codeHash:e.CODE_HASH,hashType:e.HASH_TYPE,args:"0x"}}function d(t,e){const r=e.SCRIPTS.SECP256K1_BLAKE160;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function h(t,e){return d((0,i.parseAddress)(t,{config:e}),e)}function p(t,e){const r=e.SCRIPTS.OMNILOCK;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function y(t,e){const r=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function g(t,e){return y((0,i.parseAddress)(t,{config:e}),e)}function b(t,e){const r=e.SCRIPTS.DAO;return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function m(t,e){const r=e.SCRIPTS.SUDT;if(!r)throw new Error("SUDT script not defined in config!");return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function v(t,e){const r=e.SCRIPTS.ANYONE_CAN_PAY;if(!r)throw new Error("ANYONE_CAN_PAY script not defined in config!");return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function _(t,e){return v((0,i.parseAddress)(t,{config:e}),e)}function w(t,e){const r=o.bytes.hexify(a.Uint64.pack(o.bytes.bytify(e).length));t.update(r),t.update(e)}function S(t,e,r){const o=e.SCRIPTS[r];if(!o)throw new Error(`Provided config does not have ${r} script setup!`);let a=(0,n.Set)();const f=(0,i.createTransactionFromSkeleton)(t),l=c(s.blockchain.RawTransaction.pack(f)),d=t.get("inputs"),h=t.get("witnesses");let p=t.get("signingEntries");for(let t=0;t<d.size;t++){const e=d.get(t);if(o.CODE_HASH===e.cellOutput.lock.codeHash&&o.HASH_TYPE===e.cellOutput.lock.hashType&&!a.has(e.cellOutput.lock.args)){a=a.add(e.cellOutput.lock.args);const r=new s.values.ScriptValue(e.cellOutput.lock,{validate:!1}),n=new u;if(n.update(l),t>=h.size)throw new Error(`The first witness in the script group starting at input index ${t} does not exist, maybe some other part has invalidly tampered the transaction?`);w(n,h.get(t));for(let e=t+1;e<d.size&&e<h.size;e++){const t=d.get(e);r.equals(new s.values.ScriptValue(t.cellOutput.lock,{validate:!1}))&&w(n,h.get(e))}for(let t=d.size;t<h.size;t++)w(n,h.get(t));const i={type:"witness_args_lock",index:t,message:n.digestHex()};p=p.push(i)}}return t=t.set("signingEntries",p)}function A(t,e,r){const n=e.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);if(n.CODE_HASH!==t.codeHash||n.HASH_TYPE!==t.hashType)throw new Error(`Provided script is not ${r} script!`)}e.SECP_SIGNATURE_PLACEHOLDER="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";e.default={addCellDep:f,generateDaoScript:l,isSecp256k1Blake160Script:d,isSecp256k1Blake160MultisigScript:y,isDaoScript:b,isSudtScript:m,prepareSigningEntries:S,isSecp256k1Blake160Address:h,isSecp256k1Blake160MultisigAddress:g,ensureScript:A,isAcpScript:v,isAcpAddress:_}},35945:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"anyoneCanPay",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"common",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"createP2PKHMessageGroup",{enumerable:!0,get:function(){return l.createP2PKHMessageGroup}}),Object.defineProperty(e,"dao",{enumerable:!0,get:function(){return s.default}}),e.default=void 0,Object.defineProperty(e,"deploy",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"locktimePool",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"omnilock",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"parseFromInfo",{enumerable:!0,get:function(){return o.parseFromInfo}}),Object.defineProperty(e,"secp256k1Blake160",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"secp256k1Blake160Multisig",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"sudt",{enumerable:!0,get:function(){return c.default}});var n=p(r(1874)),i=p(r(94467)),o=r(45524),s=p(r(91461)),a=p(r(24900)),u=p(r(10640)),c=p(r(6437)),f=p(r(83127)),l=r(53484),d=p(r(92642)),h=p(r(60699));function p(t){return t&&t.__esModule?t:{default:t}}e.default={secp256k1Blake160:n.default,secp256k1Blake160Multisig:i.default,dao:s.default,locktimePool:a.default,common:u.default,sudt:c.default,anyoneCanPay:f.default}},24900:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CellCollector=void 0,e.injectCapacity=C,e.payFee=I,e.prepareSigningEntries=T,e.setupInputCell=P,e.transfer=A,e.transferCompatible=x;var n,i=r(28670),o=r(71313),s=r(45524),a=(n=r(1874))&&n.__esModule?n:{default:n},u=r(91461),c=r(41600),f=r(33089),l=r(49568),d=r(14105),h=r(35945),p=r(37462),y=r(92900),g=r(24980);const{ScriptValue:b}=c.values,{parseEpoch:m,maximumAbsoluteEpochSince:v,generateAbsoluteEpochSince:_,validateSince:w}=c.since,S=e.CellCollector=class{constructor(t,e,{config:r,queryOptions:n={},tipHeader:i,NodeRPC:o=g.RPC}={}){if(!e)throw new Error("Cell provider is missing!");r=r||(0,d.getConfig)();const a=(0,s.parseFromInfo)(t,{config:r}),u=a.fromScript;this.multisigScript=a.multisigScript,this.fromScript=u,this.config=r,this.tipHeader=i,i&&(this.tipSinceValidationInfo={blockNumber:i.number,epoch:i.epoch,median_timestamp:""}),this.rpc=new o(e.uri),n={...n,lock:this.fromScript};let c=(0,l.List)([]);if((0,f.isSecp256k1Blake160MultisigScript)(u,r)){const t={codeHash:u.codeHash,hashType:u.hashType,args:u.args.slice(0,42)};c=c.push(e.collector({lock:t,argsLen:n.argsLen||28,type:n.type||"empty",data:n.data||"0x"})),n.type||n.data&&"any"!==n.data||(c=c.push(e.collector({lock:t,type:(0,f.generateDaoScript)(r),data:"any"})),c=c.push(e.collector({lock:t,argsLen:28,type:(0,f.generateDaoScript)(r),data:"any"})))}else(0,f.isSecp256k1Blake160Script)(u,r)&&(n.type||n.data&&"any"!==n.data||(c=c.push(e.collector({lock:u,type:(0,f.generateDaoScript)(r),data:"any"}))));this.cellCollectors=c}async*collect(){for(const t of this.cellCollectors)for await(const e of t.collect()){const t=e.cellOutput.lock;let r,n,i,o,s;if(58===t.args.length){const n=await this.rpc.getHeader(e.blockHash);r="0x"+M(t.args).toString(16),s={epoch:n.epoch,blockNumber:n.number,median_timestamp:""}}if((0,f.isDaoScript)(e.cellOutput.type,this.config)){if("0x0000000000000000"===e.data)continue;const t=await this.rpc.getTransaction(e.outPoint.txHash);o=t.txStatus.blockHash;const s=t.transaction.inputs[+e.outPoint.index].previousOutput;i=(await this.rpc.getTransaction(s.txHash)).txStatus.blockHash;const a=await this.rpc.getHeader(i),c=await this.rpc.getHeader(o);let f="0x"+(0,u.calculateDaoEarliestSinceCompatible)(a.epoch,c.epoch).toString(16);n=(0,u.calculateMaximumWithdrawCompatible)(e,a.dao,c.dao);const l=m(c.epoch),d={number:l.number+4,length:l.length,index:l.index};if(f=v(f,_(d)),r){const t=(0,p.parseSinceCompatible)(r);if(!1!==t.relative||"epochNumber"!==t.type)continue;try{r=v(f,r)}catch{r=f}}else r=f}if("blockTimestamp"===(0,p.parseSinceCompatible)(r).type||this.tipHeader&&!w(r,this.tipSinceValidationInfo,s))continue;const a={...e,since:r,depositBlockHash:i,withdrawBlockHash:o,sinceValidationInfo:s};a.cellOutput.capacity="0x"+(n||y.BI.from(e.cellOutput.capacity)).toString(16),yield a}}};async function A(t,e,r,n,i,{config:o,requireToAddress:s=!0,assertAmountEnough:a=!0,LocktimeCellCollector:u=S}={}){const c=await x(t,e,r,n,i,{config:o,requireToAddress:s,assertAmountEnough:a,LocktimeCellCollector:u});let f,l;return c instanceof Array?(f=c[0],l=BigInt(c[1].toString()),[f,l]):(f=c,f)}async function x(t,e,r,n,i,{config:o,requireToAddress:s=!0,assertAmountEnough:a=!0,LocktimeCellCollector:u=S}={}){let c=y.BI.from(n);for(const[n,f]of e.entries()){const e=await E(t,f,0===n?r:void 0,c,i,{config:o,requireToAddress:0===n&&s,assertAmountEnough:!1,LocktimeCellCollector:u});if(t=e[0],c=e[1],c.eq(0))return a?t:[t,y.BI.from(c)]}if(a)throw new Error("Not enough capacity in from addresses!");return[t,y.BI.from(c)]}async function E(t,e,r,n,a,{config:u,requireToAddress:h=!0,assertAmountEnough:p=!0,LocktimeCellCollector:g=S,changeAddress:m}){u=u||(0,d.getConfig)();const{fromScript:v}=(0,s.parseFromInfo)(e,{config:u});if(!(0,f.isSecp256k1Blake160MultisigScript)(v,u)&&!(0,f.isSecp256k1Blake160Script)(v,u))throw new Error("fromInfo not supported!");if(h&&!r)throw new Error("You must provide a to address!");let _=y.BI.from(n||0);if(r){const e=(0,i.parseAddress)(r,{config:u});t=t.update("outputs",(t=>t.push({cellOutput:{capacity:"0x"+_.toString(16),lock:e,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const w=t.get("fixedEntries").filter((({field:t})=>"outputs"===t)).maxBy((({index:t})=>t));let A=w?w.index+1:0;for(;A<t.get("outputs").size&&_.gt(0);++A){const e=t.get("outputs").get(A);if(new b(e.cellOutput.lock,{validate:!1}).equals(new b(v,{validate:!1}))){const r=y.BI.from(e.cellOutput.capacity);let n;_.gte(r)?n=r:(n=r.sub((0,i.minimalCellCapacityCompatible)(e)),n.gt(_)&&(n=_)),_=_.sub(n);const o=JSON.parse(JSON.stringify(e));o.cellOutput.capacity="0x"+r.sub(n).toString(16),t=t.update("outputs",(t=>t.update(A,(()=>o))))}}if(t=t.update("outputs",(t=>t.filter((t=>!y.BI.from(t.cellOutput.capacity).eq(0))))),_.gt(0)){const r=t.get("cellProvider");if(!r)throw new Error("cell provider is missing!");const n={cellOutput:{capacity:"0x0",lock:m?(0,i.parseAddress)(m,{config:u}):v,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let s=y.BI.from(0),d=(0,l.Set)();for(const e of t.get("inputs"))d=d.add(`${e.outPoint.txHash}_${e.outPoint.index}`);const h=new g(e,r,{config:u,tipHeader:a});for await(const r of h.collect()){const a=r;if(d.has(`${a.outPoint.txHash}_${a.outPoint.index}`))continue;let l;if((0,f.isSecp256k1Blake160MultisigScript)(v,u)){const t=a.cellOutput.lock.args;l=58===t.length?y.BI.from(M(t)):void 0}let h="0x";if((0,f.isDaoScript)(a.cellOutput.type,u)){const e=u.SCRIPTS.DAO,r=(t=(t=(0,f.addCellDep)(t,{depType:e.DEP_TYPE,outPoint:{txHash:e.TX_HASH,index:e.INDEX}})).update("headerDeps",(t=>t.push(a.depositBlockHash,a.withdrawBlockHash)))).get("headerDeps").size-2,n={inputType:o.bytes.hexify(o.number.Uint64.pack(r))};h=o.bytes.hexify(c.blockchain.WitnessArgs.pack(n))}t=await O(t,a,(0,f.isSecp256k1Blake160MultisigScript)(v,u)?Object.assign({},e,{since:l}):e,{config:u,defaultWitness:h,since:a.since});const p=y.BI.from(a.cellOutput.capacity);let g=p;if(g.gt(_)&&(g=_),_=_.sub(g),s=s.add(p).sub(g),(0,f.isDaoScript)(a.cellOutput.type,u)&&(t=t.update("fixedEntries",(e=>e.push({field:"inputs",index:t.get("inputs").size-1},{field:"witnesses",index:t.get("witnesses").size-1},{field:"headerDeps",index:t.get("headerDeps").size-2})))),_.eq(0)&&(s.eq(0)||s.gt((0,i.minimalCellCapacityCompatible)(n))))break}s.gt(0)&&(n.cellOutput.capacity="0x"+s.toString(16),t=t.update("outputs",(t=>t.push(n))))}if(!p)return[t,_];if(_.gt(0))throw new Error("Not enough capacity in from address!");return t}async function k(t,e,r,n,a,{config:u,LocktimeCellCollector:h=S,enableDeductCapacity:p=!0}){u=u||(0,d.getConfig)();let g=y.BI.from(r);const m=y.BI.from(a);if(p)for(const r of e){const e=(0,s.parseFromInfo)(r,{config:u}).fromScript;if(!(0,f.isSecp256k1Blake160MultisigScript)(e,u)&&!(0,f.isSecp256k1Blake160Script)(e,u))continue;const n=t.get("fixedEntries").filter((({field:t})=>"outputs"===t)).maxBy((({index:t})=>t));let o=n?n.index+1:0;for(;o<t.get("outputs").size&&g.gt(0);++o){const r=t.get("outputs").get(o);if(new b(r.cellOutput.lock,{validate:!1}).equals(new b(e,{validate:!1}))){const e=JSON.parse(JSON.stringify(r)),n=y.BI.from(e.cellOutput.capacity);let s;g.gte(n)?s=n:(s=n.sub((0,i.minimalCellCapacityCompatible)(e)),s.gt(g)&&(s=g)),g=g.sub(s),e.cellOutput.capacity="0x"+n.sub(s).toString(16),t=t.update("outputs",(t=>t.update(o,(()=>e))))}}t=t.update("outputs",(t=>t.filter((t=>!y.BI.from(t.cellOutput.capacity).eq(0)))))}let v=y.BI.from(0);if(g.gt(0)){const r=t.get("cellProvider");if(!r)throw new Error("cell provider is missing!");const i=t=>`${t.outPoint.txHash}_${t.outPoint.index}`;let a=(0,l.Set)();for(const e of t.get("inputs"))a=a.add(i(e));for(const l of e){const e=(0,s.parseFromInfo)(l,{config:u}).fromScript,d=new h(l,r,{config:u,tipHeader:n});for await(const r of d.collect()){const n=r;if(a.has(i(n)))continue;let s,d="0x";if((0,f.isDaoScript)(n.cellOutput.type,u)){const e=u.SCRIPTS.DAO,r=(t=(t=(0,f.addCellDep)(t,{depType:e.DEP_TYPE,outPoint:{txHash:e.TX_HASH,index:e.INDEX}})).update("headerDeps",(t=>t.push(n.depositBlockHash,n.withdrawBlockHash)))).get("headerDeps").size-2,i={inputType:o.bytes.hexify(o.number.Uint64.pack(r))};d=o.bytes.hexify(c.blockchain.WitnessArgs.pack(i))}if((0,f.isSecp256k1Blake160MultisigScript)(e,u)){const t=n.cellOutput.lock.args;s=58===t.length?y.BI.from(M(t)):void 0}t=await O(t,n,Object.assign({},l,{since:s}),{config:u,defaultWitness:d,since:n.since});const h=y.BI.from(n.cellOutput.capacity);let p=h;if(p.gt(g)&&(p=g),g=g.sub(p),v=v.add(h).sub(p),(0,f.isDaoScript)(n.cellOutput.type,u)&&(t=t.update("fixedEntries",(e=>e.push({field:"inputs",index:t.get("inputs").size-1},{field:"witnesses",index:t.get("witnesses").size-1},{field:"headerDeps",index:t.get("headerDeps").size-2})))),g.eq(0)&&(v.eq(0)||v.gt(m)))break}}}return{txSkeleton:t,capacity:y.BI.from(g.toString()),changeCapacity:y.BI.from(v.toString())}}async function I(t,e,r,n,{config:i,LocktimeCellCollector:o=S}={}){return x(t,e,void 0,r,n,{config:i,requireToAddress:!1,LocktimeCellCollector:o})}function T(t,{config:e}={}){return e=e||(0,d.getConfig)(),t=(0,f.prepareSigningEntries)(t,e,"SECP256K1_BLAKE160"),t=(0,f.prepareSigningEntries)(t,e,"SECP256K1_BLAKE160_MULTISIG")}async function C(t,e,r,n,{config:i,LocktimeCellCollector:o=S}={}){if(i=i||(0,d.getConfig)(),e>=t.get("outputs").size)throw new Error("Invalid output index!");const s=y.BI.from(t.get("outputs").get(e).cellOutput.capacity);return x(t,r,void 0,y.BI.from(s),n,{config:i,requireToAddress:!1,LocktimeCellCollector:o})}async function O(t,e,r,{config:n,since:i,defaultWitness:o="0x"}={}){return n=n||(0,d.getConfig)(),t=(t=await P(t,e,r,{config:n,since:i,defaultWitness:o})).update("outputs",(t=>t.remove(t.size-1)))}async function P(t,e,r,{config:n,since:i,defaultWitness:o="0x"}={}){n=n||(0,d.getConfig)();const s=e.cellOutput.lock;if((0,f.isSecp256k1Blake160Script)(s,n))return a.default.setupInputCell(t,e,r,{config:n,defaultWitness:o,since:i});if((0,f.isSecp256k1Blake160MultisigScript)(s,n))return h.secp256k1Blake160Multisig.setupInputCell(t,e,r,{config:n,defaultWitness:o,since:i});throw new Error("Not supported input lock!")}function M(t){if(58!==t.length)throw new Error("Invalid multisig with since args!");return o.number.Uint64LE.unpack("0x"+t.slice(42))}e.default={CellCollector:S,transfer:A,transferCompatible:x,payFee:I,prepareSigningEntries:T,injectCapacity:C,setupInputCell:P,injectCapacityWithoutChange:async function(t,e,r,n,i,{config:o,LocktimeCellCollector:s=S,enableDeductCapacity:a=!0}){const u=await k(t,e,r,n,i,{config:o,LocktimeCellCollector:s,enableDeductCapacity:a});return{txSkeleton:u.txSkeleton,capacity:u.capacity.toBigInt(),changeCapacity:u.changeCapacity.toBigInt()}},injectCapacityWithoutChangeCompatible:k}},51772:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeAddress=function(t,e=["P2WPKH","P2PKH"]){if(c(t))return u(e,"P2WPKH"),o.bech32.fromWords(o.bech32.decode(t).words.slice(1));if(l(t))return u(e,"P2PKH"),s.default.decode(t).slice(1,21);if(f(t))return u(e,"P2SH-P2WPKH"),s.default.decode(t).slice(1,21);if(t.startsWith("bc1p"))throw new Error("Taproot address is not supported yet.");throw new Error("Unsupported address: "+t+"Only Native SegWit(P2WPKH) and Legacy(P2PKH) addresses are supported")},e.signMessage=async function(t,e,r){const n=(()=>{if(r)return r;if("undefined"!=typeof window){if("unisat"in window)return window.unisat;if("okxwallet"in window&&"bitcoin"in window.okxwallet)return window.okxwallet.bitcoin}throw new Error("No provider found, make sure you have installed UniSat Wallet")})(),o=await n.requestAccounts(),s=i.bytes.hexify(t).slice(2),u=await n.signMessage(`${a}${s}`,e),d=i.bytes.bytify(function(t){const e=atob(t);let r="";for(let t=0;t<e.length;t++)r+=e.charCodeAt(t).toString(16).padStart(2,"0");return"0x"+r}(u)),h=o[0];if(c(h))d[0]=39+(d[0]-27)%4;else if(f(h))d[0]=35+(d[0]-27)%4;else{if(!l(h))throw new Error(`Unsupported bitcoin address ${h}. Only supports SegWit, P2SH-P2WPKH, P2PKH`);d[0]=31+(d[0]-27)%4}return i.bytes.hexify(d)};var n,i=r(71313),o=r(22343),s=(n=r(26919))&&n.__esModule?n:{default:n};const a="CKB (Bitcoin Layer) transaction: 0x";function u(t,e){if(!t.includes(e))throw new Error(`'${e}' must be included in the 'allows' for the address`)}function c(t){return t.startsWith("bc1")||t.startsWith("tb1")}function f(t){return t.startsWith("3")||t.startsWith("2")}function l(t){return t.startsWith("1")||t.startsWith("m")||t.startsWith("n")}},53640:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.signMessage=async function(t,e,r){const s=null!=r?r:globalThis.ethereum;if(!s)throw new Error("No provider found, make sure you have installed MetaMask or the other EIP1193 compatible wallet");const a=await s.request({method:"personal_sign",params:[t,`${o}${(0,i.hexify)(e).slice(2)}`]}),u=n.bytes.bytify(a),[c]=u.slice(-1),f=c>=27?c-27:c;return u.set([f],u.length-1),n.bytes.hexify(u)};var n=r(71313),i=r(14962);const o="CKB transaction: 0x"},4224:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.signMessage=async function(t,e){const r=(()=>{if(e)return e;if("undefined"!=typeof window&&"phantom"in window&&window.phantom&&"solana"in window.phantom)return window.phantom.solana;throw new Error("No provider found, make sure you have installed Phantom or other Solana wallet")})(),o=n.bytes.hexify(t).slice(2),s=await r.signMessage((new TextEncoder).encode(`${i}${o}`));return n.bytes.hexify(n.bytes.concat(s.signature,s.publicKey.toBytes()))};var n=r(71313);const i="CKB transaction: 0x"},60699:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bitcoin=e.OmnilockWitnessLock=e.CellCollector=void 0,e.createOmnilockScript=A,e.ethereumDisplaying=e.default=void 0,e.prepareSigningEntries=j,e.setupInputCell=B,e.solana=void 0;var n=r(71313),i=r(41600),o=r(14105),s=r(33089),a=r(45524),u=r(72042),c=r(30555),f=r(14962),l=b(r(51772));e.bitcoin=l;var d=b(r(4224));e.solana=d;var h=r(26919),p=r(54617),y=b(r(53640));function g(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(g=function(t){return t?r:e})(t)}function b(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=g(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}e.ethereumDisplaying=y;const{ScriptValue:m}=i.values;var v=function(t){return t[t.IdentityFlagsCkb=0]="IdentityFlagsCkb",t[t.IdentityFlagsEthereum=1]="IdentityFlagsEthereum",t[t.IdentityFlagsEos=2]="IdentityFlagsEos",t[t.IdentityFlagsTron=3]="IdentityFlagsTron",t[t.IdentityFlagsBitcoin=4]="IdentityFlagsBitcoin",t[t.IdentityFlagsDogecoin=5]="IdentityFlagsDogecoin",t[t.IdentityCkbMultisig=6]="IdentityCkbMultisig",t[t.IdentityFlagsEthereumDisplaying=18]="IdentityFlagsEthereumDisplaying",t[t.IdentityFlagsSolana=19]="IdentityFlagsSolana",t[t.IdentityFlagsOwnerLock=252]="IdentityFlagsOwnerLock",t[t.IdentityFlagsExec=253]="IdentityFlagsExec",t[t.IdentityFlagsDl=254]="IdentityFlagsDl",t}(v||{});const _=20,w=65,S=96;function A(t,e){const r=((null==e?void 0:e.config)||(0,o.getConfig)()).SCRIPTS.OMNILOCK;if(!r)throw new Error("OMNILOCK script config not found.");const i=[0],s=(()=>{const e=t.auth.flag;switch(e){case"ETHEREUM":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsEthereum],t.auth.content,i));case"ETHEREUM-DISPLAYING":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsEthereumDisplaying],t.auth.content,i));case"SECP256K1_BLAKE160":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsCkb],t.auth.content,i));case"BITCOIN":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsBitcoin],l.decodeAddress(t.auth.content,t.auth.allows),i));case"SOLANA":{const e=n.bytes.bytify((0,p.ckbHash)((0,h.decode)(t.auth.content))).slice(0,_);return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsSolana],e,i))}default:throw new Error(`Not supported flag: ${e}.`)}})();return{codeHash:r.CODE_HASH,hashType:r.HASH_TYPE,args:s}}const x={pack:f.bytify,unpack:f.hexify},E=(0,c.createFixedHexBytesCodec)(21),k=(0,u.byteVecOf)(x),I=(0,u.table)({mask:(0,u.byteOf)(x),proof:k},["mask","proof"]),T=(0,u.vector)(I),C=(0,u.table)({identity:E,proofs:T},["identity","proofs"]),O=(0,u.option)(C),P=e.OmnilockWitnessLock=(0,u.table)({signature:c.BytesOpt,omni_identity:O,preimage:c.BytesOpt},["signature","omni_identity","preimage"]),M=e.CellCollector=class{constructor(t,e,{config:r,queryOptions:n={}}={}){if(!e)throw new Error("Cell provider is missing!");r=r||(0,o.getConfig)(),this.fromScript=(0,a.parseFromInfo)(t,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=e.collector(n)}async*collect(){if((0,s.isOmnilockScript)(this.fromScript,this.config))for await(const t of this.cellCollector.collect())yield t}};async function B(t,e,r,{config:a,defaultWitness:u="0x",since:c}={}){a=a||(0,o.getConfig)();const f=e.cellOutput.lock;if(!(0,s.isOmnilockScript)(f,a))throw new Error("Not OMNILOCK input!");t=t.update("inputs",(t=>t.push(e)));const l={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",(t=>t.push(l))),c&&(t=t.update("inputSinces",(e=>e.set(t.get("inputs").size-1,c)))),t=t.update("witnesses",(t=>t.push(u)));const d=a.SCRIPTS.OMNILOCK,h=a.SCRIPTS.SECP256K1_BLAKE160;if(!d)throw new Error("OMNILOCK script not defined in config!");if(!h)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const p={txHash:d.TX_HASH,index:d.INDEX},y={txHash:h.TX_HASH,index:h.INDEX};t=(0,s.addCellDep)(t,{outPoint:p,depType:d.DEP_TYPE});const g=(t=(0,s.addCellDep)(t,{outPoint:y,depType:h.DEP_TYPE})).get("inputs").findIndex((t=>new m(t.cellOutput.lock,{validate:!1}).equals(new m(f,{validate:!1}))));if(-1!==g){for(;g>=t.get("witnesses").size;)t=t.update("witnesses",(t=>t.push("0x")));let r=t.get("witnesses").get(g);const o={lock:R((()=>{const t=n.bytes.bytify(e.cellOutput.lock.args)[0];switch(t){case v.IdentityFlagsSolana:return S;case v.IdentityFlagsCkb:case v.IdentityFlagsEthereum:case v.IdentityFlagsEthereumDisplaying:case v.IdentityFlagsBitcoin:return w;default:throw new Error(`Unsupported flag: ${t}, please check if the script.args is expected`)}})())};r=n.bytes.hexify(i.blockchain.WitnessArgs.pack(o)),t=t.update("witnesses",(t=>t.set(g,r)))}return t}function R(t){const e=P.pack({signature:new Uint8Array(t)}).byteLength;return n.bytes.hexify(new Uint8Array(e))}function j(t,{config:e}={}){return e=e||(0,o.getConfig)(),(0,s.prepareSigningEntries)(t,e,"OMNILOCK")}e.default={prepareSigningEntries:j,setupInputCell:B,CellCollector:M,OmnilockWitnessLock:P,createOmnilockScript:A}},53484:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createP2PKHMessageGroup=function(t,e,{hasher:r=a}={}){const c=function(t,e){const r=new Set;for(const t of e){const e=n.utils.ckbHash(n.blockchain.Script.pack(t));r.add(e)}const i=new Map;for(let e=0;e<t.length;e++){const o=n.utils.ckbHash(n.blockchain.Script.pack(t[e].cellOutput.lock));r.has(o)&&(void 0===i.get(o)&&i.set(o,[]),i.get(o).push(e))}return i}(t.inputs.toArray(),e),f=function(t){const e=(0,i.createTransactionFromSkeleton)(t),r={cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData,version:e.version};return n.utils.ckbHash(n.blockchain.RawTransaction.pack(r))}(t);if(e.length>1&&!(r instanceof Function))throw new Error("Must provide hasher producer when you have multiple locks to group.");const l=[];for(const e of c.keys()){const n=u(r),i=c.get(e),a=i[0],d=t.witnesses.get(a);if(void 0===d)throw new Error("Please fill witnesses with 0 first!");n.update(o.bytes.bytify(f));const h=new ArrayBuffer(8),p=new DataView(h),y=s.BI.from(o.bytes.bytify(d).length).toString(16);y.length<=8&&(p.setUint32(0,Number("0x"+y),!0),p.setUint32(4,Number("0x00000000"),!0)),y.length>8&&y.length<=16&&(p.setUint32(0,Number("0x"+y.slice(-8)),!0),p.setUint32(4,Number("0x"+y.slice(0,-8)),!0)),n.update(new Uint8Array(h)),n.update(o.bytes.bytify(d));for(let e=1;e<i.length;e++){const r=t.witnesses.get(i[e]);n.update(new Uint8Array(h)),n.update(o.bytes.bytify(r))}for(let e=t.inputs.toArray().length;e<t.witnesses.toArray().length;e++){const r=t.witnesses.get(e);n.update(new Uint8Array(h)),n.update(o.bytes.bytify(r))}const g=n.digest(),b={index:a,lock:t.inputs.get(a).cellOutput.lock,message:"0x"+Array.prototype.map.call(g,(t=>("00"+t.toString(16)).slice(-2))).join("")};l.push(b)}return l};var n=r(41600),i=r(28670),o=r(71313),s=r(92900);const a=()=>{const t=new n.utils.CKBHasher;return{update:e=>t.update(e.buffer),digest:()=>o.bytes.bytify(t.digestHex())}};function u(t){return t instanceof Function?t():t}},1874:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CellCollector=void 0,e.injectCapacity=b,e.payFee=g,e.prepareSigningEntries=m,e.setupInputCell=h,e.transfer=p,e.transferCompatible=y;var n=r(49568),i=r(28670),o=r(71313),s=r(41600),a=r(14105),u=r(33089),c=r(45524),f=r(92900);const{ScriptValue:l}=s.values,d=e.CellCollector=class{constructor(t,e,{config:r,queryOptions:n={}}={}){if(!e)throw new Error("Cell provider is missing!");r=r||(0,a.getConfig)(),this.fromScript=(0,c.parseFromInfo)(t,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=e.collector(n)}async*collect(){if((0,u.isSecp256k1Blake160Script)(this.fromScript,this.config))for await(const t of this.cellCollector.collect())yield t}};async function h(t,e,r,{config:n,defaultWitness:i="0x",since:c}={}){n=n||(0,a.getConfig)();const f=e.cellOutput.lock;if(!(0,u.isSecp256k1Blake160Script)(f,n))throw new Error("Not SECP256K1_BLAKE160 input!");t=t.update("inputs",(t=>t.push(e)));const d={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",(t=>t.push(d))),c&&(t=t.update("inputSinces",(e=>e.set(t.get("inputs").size-1,c)))),t=t.update("witnesses",(t=>t.push(i)));const h=n.SCRIPTS.SECP256K1_BLAKE160;if(!h)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const p={txHash:h.TX_HASH,index:h.INDEX},y=(t=(0,u.addCellDep)(t,{outPoint:p,depType:h.DEP_TYPE})).get("inputs").findIndex((t=>new l(t.cellOutput.lock,{validate:!1}).equals(new l(f,{validate:!1}))));if(-1!==y){for(;y>=t.get("witnesses").size;)t=t.update("witnesses",(t=>t.push("0x")));let e=t.get("witnesses").get(y);const r={lock:u.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==e){const t=s.blockchain.WitnessArgs.unpack(o.bytes.bytify(e)),n=t.lock;if(n&&r.lock&&!o.bytes.equal(n,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const i=t.inputType;i&&(r.inputType=i);const a=t.outputType;a&&(r.outputType=a)}e=o.bytes.hexify(s.blockchain.WitnessArgs.pack(r)),t=t.update("witnesses",(t=>t.set(y,e)))}return t}async function p(t,e,r,n,{config:i,requireToAddress:o=!0,assertAmountEnough:s=!0}={}){const a=await y(t,e,r,n,{config:i,requireToAddress:o,assertAmountEnough:s});let u,c;return a instanceof Array?(u=a[0],c=BigInt(a[1].toString()),[u,c]):(u=a,u)}async function y(t,e,r,c,{config:d,requireToAddress:h=!0,assertAmountEnough:p=!0}={}){const y=(d=d||(0,a.getConfig)()).SCRIPTS.SECP256K1_BLAKE160;if(!y)throw new Error("Provided config does not have SECP256K1_BLAKE160 script setup!");const g={txHash:y.TX_HASH,index:y.INDEX};t=(0,u.addCellDep)(t,{outPoint:g,depType:y.DEP_TYPE});const b=(0,i.parseAddress)(e,{config:d});if((0,u.ensureScript)(b,d,"SECP256K1_BLAKE160"),h&&!r)throw new Error("You must provide a to address!");let m=f.BI.from(c);if(r){const e=(0,i.parseAddress)(r,{config:d});t=t.update("outputs",(t=>t.push({cellOutput:{capacity:"0x"+m.toString(16),lock:e,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const v=t.get("fixedEntries").filter((({field:t})=>"outputs"===t)).maxBy((({index:t})=>t));let _=v?v.index+1:0;for(;_<t.get("outputs").size&&m.gt(0);_++){const e=t.get("outputs").get(_);if(new l(e.cellOutput.lock,{validate:!1}).equals(new l(b,{validate:!1}))){const t=f.BI.from(e.cellOutput.capacity);let r;m.gte(t)?r=t:(r=t.sub((0,i.minimalCellCapacityCompatible)(e)),r.gt(m)&&(r=m)),m=m.sub(r),e.cellOutput.capacity="0x"+t.sub(r).toString(16)}}if(t=t.update("outputs",(t=>t.filter((t=>!f.BI.from(t.cellOutput.capacity).eq(0))))),m.gt(0)){const e=t.get("cellProvider");if(!e)throw new Error("Cell provider is missing!");const r=e.collector({lock:b}),o={cellOutput:{capacity:"0x0",lock:b,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let s=f.BI.from(0),a=(0,n.Set)();for(const e of t.get("inputs"))a=a.add(`${e.outPoint.txHash}_${e.outPoint.index}`);for await(const e of r.collect()){if(a.has(`${e.outPoint.txHash}_${e.outPoint.index}`))continue;t=(t=t.update("inputs",(t=>t.push(e)))).update("witnesses",(t=>t.push("0x")));const r=f.BI.from(e.cellOutput.capacity);let n=r;if(n.gt(m)&&(n=m),m=m.sub(n),s=s.add(r).sub(n),m.eq(0)&&(s.eq(0)||s.gt((0,i.minimalCellCapacityCompatible)(o))))break}s.gt(0)&&(o.cellOutput.capacity="0x"+s.toString(16),t=t.update("outputs",(t=>t.push(o))))}if(m.gt(0)&&p)throw new Error("Not enough capacity in from address!");const w=t.get("inputs").findIndex((t=>new l(t.cellOutput.lock,{validate:!1}).equals(new l(b,{validate:!1}))));if(-1!==w){for(;w>=t.get("witnesses").size;)t=t.update("witnesses",(t=>t.push("0x")));let e=t.get("witnesses").get(w);const r={lock:u.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==e){const t=s.blockchain.WitnessArgs.unpack(o.bytes.bytify(e)),n=t.lock;if(n&&r.lock&&!o.bytes.equal(n,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const i=t.inputType;i&&(r.inputType=i);const a=t.outputType;a&&(r.outputType=a)}e=o.bytes.hexify(s.blockchain.WitnessArgs.pack(r)),t=t.update("witnesses",(t=>t.set(w,e)))}return p?t:[t,f.BI.from(m)]}async function g(t,e,r,{config:n}={}){return n=n||(0,a.getConfig)(),await y(t,e,null,r,{config:n,requireToAddress:!1})}async function b(t,e,r,{config:n}={}){if(n=n||(0,a.getConfig)(),e>=t.get("outputs").size)throw new Error("Invalid output index!");const i=f.BI.from(t.get("outputs").get(e).cellOutput.capacity);return await y(t,r,null,f.BI.from(i),{config:n,requireToAddress:!1})}function m(t,{config:e}={}){return e=e||(0,a.getConfig)(),(0,u.prepareSigningEntries)(t,e,"SECP256K1_BLAKE160")}e.default={transfer:p,transferCompatible:y,payFee:g,prepareSigningEntries:m,injectCapacity:b,setupInputCell:h,CellCollector:d}},94467:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CellCollector=void 0,e.injectCapacity=b,Object.defineProperty(e,"multisigArgs",{enumerable:!0,get:function(){return c.multisigArgs}}),e.payFee=g,e.prepareSigningEntries=m,Object.defineProperty(e,"serializeMultisigScript",{enumerable:!0,get:function(){return c.serializeMultisigScript}}),e.setupInputCell=h,e.transfer=p,e.transferCompatible=y;var n=r(28670),i=r(71313),o=r(41600),s=r(14105),a=r(49568),u=r(33089),c=r(45524),f=r(92900);const{ScriptValue:l}=o.values,d=e.CellCollector=class{constructor(t,e,{config:r,queryOptions:n={}}={}){if(!e)throw new Error("Cell provider is missing!");r=r||(0,s.getConfig)();const i=(0,c.parseFromInfo)(t,{config:r});this.fromScript=i.fromScript,this.multisigScript=i.multisigScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=e.collector(n)}async*collect(){if((0,u.isSecp256k1Blake160MultisigScript)(this.fromScript,this.config))for await(const t of this.cellCollector.collect())yield t}};async function h(t,e,r,{config:n,defaultWitness:a="0x",since:f,requireMultisigScript:d=!0}={}){if(n=n||(0,s.getConfig)(),d&&"object"!=typeof r)throw new Error("`fromInfo` must be MultisigScript format!");const h=e.cellOutput.lock;if(r){const t=(0,c.parseFromInfo)(r,{config:n}).fromScript;if(!new l(t,{validate:!1}).equals(new l(h,{validate:!1})))throw new Error("`fromInfo` not match to input lock!")}if(!(0,u.isSecp256k1Blake160MultisigScript)(h,n))throw new Error("Not SECP256K1_BLAKE160_MULTISIG input!");t=t.update("inputs",(t=>t.push(e))),f&&(t=t.update("inputSinces",(e=>e.set(t.get("inputs").size-1,f)))),t=t.update("witnesses",(t=>t.push(a)));const p={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",(t=>t.push(p)));const y=n.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!y)throw new Error("SECP256K1_BLAKE160_MULTISIG script not defined in config!");const g={txHash:y.TX_HASH,index:y.INDEX},b=(t=(0,u.addCellDep)(t,{outPoint:g,depType:y.DEP_TYPE})).get("inputs").findIndex((t=>new l(t.cellOutput.lock,{validate:!1}).equals(new l(h,{validate:!1}))));if(-1!==b){for(;b>=t.get("witnesses").size;)t=t.update("witnesses",(t=>t.push("0x")));if("0x"===t.get("witnesses").get(b)&&"object"!=typeof r)throw new Error("`fromInfo` must be MultisigScript format!");if("object"==typeof r){const e=(0,c.parseFromInfo)(r,{config:n}).multisigScript;let s=t.get("witnesses").get(b);const a={lock:"0x"+e.slice(2)+u.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(r.M)};if("0x"!==s){const t=o.blockchain.WitnessArgs.unpack(i.bytes.bytify(s)),e=t.lock;if(e&&a.lock&&!i.bytes.equal(e,a.lock))throw new Error("Lock field in first witness is set aside for signature!");const r=t.inputType;r&&(a.inputType=r);const n=t.outputType;n&&(a.outputType=n)}s=i.bytes.hexify(o.blockchain.WitnessArgs.pack(a)),t=t.update("witnesses",(t=>t.set(b,s)))}}return t}async function p(t,e,r,n,{config:i,requireToAddress:o=!0,assertAmountEnough:s=!0}={}){const a=await y(t,e,r,n,{config:i,requireToAddress:o,assertAmountEnough:s});let u,c;return a instanceof Array?(u=a[0],c=BigInt(a[1].toString()),[u,c]):(u=a,u)}async function y(t,e,r,d,{config:h,requireToAddress:p=!0,assertAmountEnough:y=!0}={}){const g=(h=h||(0,s.getConfig)()).SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!g)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");const b={txHash:g.TX_HASH,index:g.INDEX};t=(0,u.addCellDep)(t,{outPoint:b,depType:g.DEP_TYPE});const{fromScript:m,multisigScript:v}=(0,c.parseFromInfo)(e,{config:h});(0,u.ensureScript)(m,h,"SECP256K1_BLAKE160_MULTISIG");const _=!t.get("inputs").find((t=>new l(t.cellOutput.lock,{validate:!1}).equals(new l(m,{validate:!1}))));if(_&&"string"===e)throw new Error("MultisigScript is required for witness!");if(p&&!r)throw new Error("You must provide a to address!");let w=d?f.BI.from(d):f.BI.from(0);if(r){const e=(0,n.parseAddress)(r,{config:h});t=t.update("outputs",(t=>t.push({cellOutput:{capacity:"0x"+w.toString(16),lock:e,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const S=t.get("fixedEntries").filter((({field:t})=>"outputs"===t)).maxBy((({index:t})=>t));let A=S?S.index+1:0;for(;A<t.get("outputs").size&&w.gt(0);++A){const e=t.get("outputs").get(A);if(new l(e.cellOutput.lock,{validate:!1}).equals(new l(m,{validate:!1}))){const t=f.BI.from(e.cellOutput.capacity);let r;w.gte(t)?r=t:(r=t.sub((0,n.minimalCellCapacityCompatible)(e)),r.gt(w)&&(r=w)),w=w.sub(r),e.cellOutput.capacity="0x"+t.sub(r).toString(16)}}if(t=t.update("outputs",(t=>t.filter((t=>!f.BI.from(t.cellOutput.capacity).eq(0))))),w.gt(0)){const e=t.get("cellProvider");if(!e)throw new Error("cell provider is missing!");const r=e.collector({lock:m}),i={cellOutput:{capacity:"0x0",lock:m,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let o=f.BI.from(0),s=(0,a.Set)();for(const e of t.get("inputs"))s=s.add(`${e.outPoint.txHash}_${e.outPoint.index}`);for await(const e of r.collect()){if(s.has(`${e.outPoint.txHash}_${e.outPoint.index}`))continue;t=(t=t.update("inputs",(t=>t.push(e)))).update("witnesses",(t=>t.push("0x")));const r=f.BI.from(e.cellOutput.capacity);let a=r;if(a.gt(w)&&(a=w),w=w.sub(a),o=o.add(r.sub(a)),w.eq(0)&&(o.eq(0)||o.gt((0,n.minimalCellCapacityCompatible)(i))))break}o.gt(0)&&(i.cellOutput.capacity="0x"+o.toString(16),t=t.update("outputs",(t=>t.push(i))))}if(w.gt(0)&&y)throw new Error("Not enough capacity in from address!");const x=t.get("inputs").findIndex((t=>new l(t.cellOutput.lock,{validate:!1}).equals(new l(m,{validate:!1}))));if(-1!==x){for(;f.BI.from(x).gte(t.get("witnesses").size);)t=t.update("witnesses",(t=>t.push("0x")));if(_||"string"!=typeof e){let r=t.get("witnesses").get(x);const n={lock:"0x"+v.slice(2)+u.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(e.M)};if("0x"!==r){const t=o.blockchain.WitnessArgs.unpack(i.bytes.bytify(r)),e=t.lock;if(e&&n.lock&&!i.bytes.equal(e,n.lock))throw new Error("Lock field in first witness is set aside for signature!");const s=t.inputType;s&&(n.inputType=s);const a=t.outputType;a&&(n.outputType=a)}r=i.bytes.hexify(o.blockchain.WitnessArgs.pack(n)),t=t.update("witnesses",(t=>t.set(x,r)))}}return y?t:[t,f.BI.from(w)]}async function g(t,e,r,{config:n}={}){return y(t,e,void 0,r,{config:n=n||(0,s.getConfig)(),requireToAddress:!1})}async function b(t,e,r,{config:n}={}){if(n=n||(0,s.getConfig)(),e>=t.get("outputs").size)throw new Error("Invalid output index!");const i=f.BI.from(t.get("outputs").get(e).cellOutput.capacity);return y(t,r,void 0,i,{config:n,requireToAddress:!1})}function m(t,{config:e}={}){return e=e||(0,s.getConfig)(),(0,u.prepareSigningEntries)(t,e,"SECP256K1_BLAKE160_MULTISIG")}e.default={transfer:p,transferCompatible:y,payFee:g,prepareSigningEntries:m,serializeMultisigScript:c.serializeMultisigScript,multisigArgs:c.multisigArgs,injectCapacity:b,setupInputCell:h,CellCollector:d}},6437:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.issueToken=_,e.ownerForSudt=S,e.packAmount=x,e.transfer=w,e.unpackAmount=A;var n=r(33089),i=r(41600),o=b(r(94467)),s=r(45524),a=b(r(10640)),u=r(28670),c=r(49568),f=r(14105),l=r(24900),d=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=g(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(83127)),h=b(r(1874)),p=r(92900),y=r(71313);function g(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(g=function(t){return t?r:e})(t)}function b(t){return t&&t.__esModule?t:{default:t}}const{computeScriptHash:m}=i.utils,{ScriptValue:v}=i.values;async function _(t,e,r,i,o,{config:c}={}){const l=(c=c||(0,f.getConfig)()).SCRIPTS.SUDT;if(!l)throw new Error("Provided config does not have SUDT script setup!");t=(0,n.addCellDep)(t,{outPoint:{txHash:l.TX_HASH,index:l.INDEX},depType:l.DEP_TYPE});const d=(0,s.parseFromInfo)(e,{config:c}).fromScript,h={cellOutput:{capacity:"0x0",lock:d,type:{codeHash:l.CODE_HASH,hashType:l.HASH_TYPE,args:m(d)}},data:y.bytes.hexify(y.number.Uint128LE.pack(r)),outPoint:void 0,blockHash:void 0};i||(i=(0,u.minimalCellCapacityCompatible)(h));const g=p.BI.from(i);h.cellOutput.capacity="0x"+g.toString(16);const b=(t=t.update("outputs",(t=>t.push(h)))).get("outputs").size-1;return t=t.update("fixedEntries",(t=>t.push({field:"outputs",index:b}))),t=await a.default.injectCapacity(t,[e],p.BI.from(p.BI.from(h.cellOutput.capacity)),void 0,o,{config:c})}async function w(t,e,r,i,g,b,m,_,{config:w,LocktimePoolCellCollector:S=l.CellCollector,splitChangeCell:x=!1}={}){w=w||(0,f.getConfig)();let E=p.BI.from(g),k=m?p.BI.from(m):void 0;const I=w.SCRIPTS.SUDT;if(!I)throw new Error("Provided config does not have SUDT script setup!");if(0===e.length)throw new Error("`fromInfos` can't be empty!");if(!i)throw new Error("You must provide a to address!");const T=(0,u.parseAddress)(i,{config:w}),C=e.map((t=>(0,s.parseFromInfo)(t,{config:w}).fromScript)),O=b?(0,u.parseAddress)(b,{config:w}):C[0];if(E.lte(0))throw new Error("amount must be greater than 0");const P=function(t,e){const r=e.SCRIPTS.SUDT;return{codeHash:r.CODE_HASH,hashType:r.HASH_TYPE,args:t}}(r,w),M=t.get("cellProvider");if(!M)throw new Error("Cell provider is missing!");let B=p.BI.from(0),R=p.BI.from(0);if((0,n.isAcpScript)(T,w)){const e=new d.CellCollector(i,M,{config:w,queryOptions:{type:P,data:"any"}}),r=(await e.collect().next()).value;if(!r)throw new Error("toAddress ANYONE_CAN_PAY input not found!");t=(t=t.update("inputs",(t=>t.push(r)))).update("witnesses",(t=>t.push("0x"))),B=p.BI.from(r.cellOutput.capacity),R=A(r.data)}const j={cellOutput:{capacity:"0x0",lock:T,type:P},data:y.bytes.hexify(y.number.Uint128LE.pack(E)),outPoint:void 0,blockHash:void 0};(0,n.isAcpScript)(T,w)?(k||(k=p.BI.from(0)),j.cellOutput.capacity="0x"+B.add(k).toString(16),j.data=y.bytes.hexify(y.number.Uint128LE.pack(R.add(E)))):(k||(k=p.BI.from((0,u.minimalCellCapacityCompatible)(j))),j.cellOutput.capacity="0x"+k.toString(16)),t=(t=t.update("outputs",(t=>t.push(j)))).update("fixedEntries",(e=>e.push({field:"outputs",index:t.get("outputs").size-1}))),t=(0,n.addCellDep)(t,{outPoint:{txHash:I.TX_HASH,index:I.INDEX},depType:I.DEP_TYPE});const D={cellOutput:{capacity:"0x0",lock:O,type:P},data:y.bytes.hexify(y.number.Uint128LE.pack(0)),outPoint:void 0,blockHash:void 0},L={cellOutput:{capacity:"0x0",lock:O,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let U=p.BI.from(0),N=p.BI.from(0),H=(0,c.Set)();for(const e of t.get("inputs"))H=H.add(`${e.outPoint.txHash}_${e.outPoint.index}`);let F=(0,c.List)();_&&e.forEach(((t,e)=>{const r=new S(t,M,{config:w,tipHeader:_,queryOptions:{type:P,data:"any"}});F=F.push({cellCollector:r,index:e})})),e.forEach(((t,e)=>{const r=new h.default.CellCollector(t,M,{config:w,queryOptions:{type:P,data:"any"}}),n=new o.default.CellCollector(t,M,{config:w,queryOptions:{type:P,data:"any"}}),i=new d.default.CellCollector(t,M,{config:w,queryOptions:{type:P,data:"any"}});F=F.push({cellCollector:r,index:e},{cellCollector:n,index:e},{cellCollector:i,index:e,isAnyoneCanPay:!0,destroyable:(0,s.parseFromInfo)(t,{config:w}).destroyable})})),_&&e.forEach(((t,e)=>{const r=new S(t,M,{config:w,tipHeader:_});F=F.push({cellCollector:r,index:e})})),e.forEach(((t,e)=>{const r=new h.default.CellCollector(t,M,{config:w}),n=new o.default.CellCollector(t,M,{config:w}),i=new d.default.CellCollector(t,M,{config:w});F=F.push({cellCollector:r,index:e},{cellCollector:n,index:e},{cellCollector:i,index:e,isAnyoneCanPay:!0,destroyable:(0,s.parseFromInfo)(t,{config:w}).destroyable})}));for(const{index:r,cellCollector:n,isAnyoneCanPay:i,destroyable:o}of F)for await(const s of n.collect()){const n=`${s.outPoint.txHash}_${s.outPoint.index}`;if(H.has(n))continue;H=H.add(n);const c=e[r],f=(t=await a.default.setupInputCell(t,s,c,{config:w})).get("outputs").size-1,l=(t=t.update("outputs",(t=>t.remove(f)))).get("fixedEntries").findIndex((t=>"outputs"===t.field&&t.index===f));l>=0&&(t=t.update("fixedEntries",(t=>t.remove(l))));const d=p.BI.from(s.cellOutput.capacity),h=s.cellOutput.type?A(s.data):p.BI.from(0);let g=i&&!o?d.sub((0,u.minimalCellCapacityCompatible)(s)):d,b=h;g.gt(k)&&(g=p.BI.from(k)),k=k.sub(g);const m=d.sub(g);(!i||i&&o)&&(U=U.add(m)),b.gt(E)&&(b=E),E=E.sub(b);const v=h.sub(b);if((!i||i&&o)&&(N=N.add(v)),i&&!o){const e={cellOutput:{capacity:"0x"+m.toString(16),lock:s.cellOutput.lock,type:s.cellOutput.type},data:s.cellOutput.type?y.bytes.hexify(y.number.Uint128LE.pack(v)):"0x"};t=t.update("outputs",(t=>t.push(e))),s.cellOutput.type&&(t=t.update("fixedEntries",(e=>e.push({field:"outputs",index:t.get("outputs").size-1}))))}if(k.eq(0)&&E.eq(0)&&(U.eq(0)&&N.eq(0)||U.gt((0,u.minimalCellCapacityCompatible)(L))&&N.eq(0))){D.cellOutput.type=void 0,D.data="0x";break}if(k.eq(0)&&E.eq(0)&&U.gt((0,u.minimalCellCapacityCompatible)(L))&&N.gt(0))break}let z=-1;if((0,n.isAcpScript)(D.cellOutput.lock,w)&&-1!==(z=t.get("outputs").findIndex((t=>new v(D.cellOutput.lock,{validate:!1}).equals(new v(t.cellOutput.lock,{validate:!1}))&&(N.eq(0)&&!D.cellOutput.type&&!t.cellOutput.type||N.gte(0)&&!!D.cellOutput.type&&!!t.cellOutput.type&&new v(D.cellOutput.type,{validate:!1}).equals(new v(t.cellOutput.type,{validate:!1}))))))&&-1===t.get("fixedEntries").findIndex((t=>"output"===t.field&&t.index===z))){const e=t.get("outputs").get(z),r=JSON.parse(JSON.stringify(e));r.cellOutput.capacity="0x"+p.BI.from(e.cellOutput.capacity).add(U).toString(16),N.gt(0)&&(r.data=y.bytes.hexify(y.number.Uint128LE.pack(A(e.data).add(N))));const n=p.BI.from((0,u.minimalCellCapacityCompatible)(D)),i=p.BI.from((0,u.minimalCellCapacityCompatible)(L));let o=!1;N.gt(0)&&x&&U.gte(n.add(i))&&(r.cellOutput.capacity=e.cellOutput.capacity,L.cellOutput.capacity="0x"+U.toString(16),o=!0),t=t.update("outputs",(t=>t.set(z,r))),o&&(t=t.update("outputs",(t=>t.push(L))))}else if(U.gte((0,u.minimalCellCapacityCompatible)(D))){D.cellOutput.capacity="0x"+U.toString(16),N.gt(0)&&(D.data=y.bytes.hexify(y.number.Uint128LE.pack(N)));const e=p.BI.from((0,u.minimalCellCapacityCompatible)(D)),r=p.BI.from((0,u.minimalCellCapacityCompatible)(L));let n=!1;N.gt(0)&&x&&U.gte(e.add(r))&&(D.cellOutput.capacity="0x"+e.toString(16),L.cellOutput.capacity="0x"+U.sub(e).toString(16),n=!0),t=t.update("outputs",(t=>t.push(D))),N.gt(0)&&(t=t.update("fixedEntries",(e=>e.push({field:"outputs",index:t.get("outputs").size-1})))),n&&(t=t.update("outputs",(t=>t.push(L))))}else if(N.gt(0)&&U.lt((0,u.minimalCellCapacityCompatible)(D)))throw new Error("Not enough capacity for change in from infos!");if(k.gt(0))throw new Error("Not enough capacity in from infos!");if(E.gt(0))throw new Error("Not enough amount in from infos!");return t}function S(t,{config:e}={}){e=e||(0,f.getConfig)();const{fromScript:r}=(0,s.parseFromInfo)(t,{config:e});return m(r)}function A(t){return y.number.Uint128LE.unpack(y.bytes.bytify(t).slice(0,16))}function x(t){return y.bytes.hexify(y.number.Uint128LE.pack(t))}e.default={issueToken:_,transfer:w,ownerForSudt:S,packAmount:x,unpackAmount:A}},18080:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var o=(t.length-r)*u+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=s*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,r++}for(var h=o-i;h!==o&&0===c[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=c[h++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var u=(o-i)*c+1>>>0,f=new Uint8Array(u);i!==o;){for(var l=e[i],d=0,h=u-1;(0!==l||d<n)&&-1!==h;h--,d++)l+=256*f[h]>>>0,f[h]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===f[p];)p++;for(var y=a.repeat(r);p<u;++p)y+=t.charAt(f[p]);return y},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},26919:(t,e,r)=>{const n=r(18080);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},58211:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SIGHASH_OUTPUT_LOC=e.SIGHASH_GROUP_OUTPUT_LOC=e.MULTISIG_OUTPUT_LOC=e.MULTISIG_GROUP_OUTPUT_LOC=e.DAO_OUTPUT_LOC=void 0,e.generateGenesisScriptConfigs=function(t){if(!t||0!==Number(t.header.number))throw new Error("The block must be a genesis block");const e=t.transactions;return{SECP256K1_BLAKE160:{...c({transaction:e[i[0]],outputIndex:i[1],depGroupTransaction:e[a[0]],depGroupOutputIndex:a[1]}),SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{...c({transaction:e[o[0]],outputIndex:o[1],depGroupTransaction:e[u[0]],depGroupOutputIndex:u[1]}),SHORT_ID:1},DAO:c({transaction:e[s[0]],outputIndex:s[1]})}};var n=r(41600);const i=e.SIGHASH_OUTPUT_LOC=[0,1],o=e.MULTISIG_OUTPUT_LOC=[0,4],s=e.DAO_OUTPUT_LOC=[0,2],a=e.SIGHASH_GROUP_OUTPUT_LOC=[1,0],u=e.MULTISIG_GROUP_OUTPUT_LOC=[1,1];function c(t){var e;const{transaction:r,outputIndex:i}=t,o=n.utils.computeScriptHash(f(null===(e=r.outputs[i])||void 0===e?void 0:e.type));if("depGroupTransaction"in t){const{depGroupOutputIndex:e,depGroupTransaction:r}=t;return{HASH_TYPE:"type",CODE_HASH:o,DEP_TYPE:"depGroup",TX_HASH:f(r.hash),INDEX:l(e)}}return{HASH_TYPE:"type",CODE_HASH:o,DEP_TYPE:"code",INDEX:l(i),TX_HASH:f(r.hash)}}function f(t){if(null==t)throw new Error("The block must be a genesis block");return t}function l(t){return`0x${t.toString(16)}`}},94308:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findConfigByScript=function(t,e){const r=e||(0,n.getConfig)().SCRIPTS;return Object.values(r).find((e=>(null==e?void 0:e.CODE_HASH)===t.codeHash&&(null==e?void 0:e.HASH_TYPE)===t.hashType))},e.nameOfScript=function(t,e){const r=e||(0,n.getConfig)().SCRIPTS,i=Object.entries(r).find((([,e])=>(null==e?void 0:e.CODE_HASH)===t.codeHash&&(null==e?void 0:e.HASH_TYPE)===t.hashType));return i?i[0]:void 0};var n=r(74482)},14105:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={initializeConfig:!0,getConfig:!0,validateConfig:!0,nameOfScript:!0,findConfigByScript:!0,helpers:!0,predefined:!0,createConfig:!0,generateGenesisScriptConfigs:!0,refreshScriptConfigs:!0,createRpcResolver:!0,createLatestTypeIdResolver:!0};Object.defineProperty(e,"createConfig",{enumerable:!0,get:function(){return a.createConfig}}),Object.defineProperty(e,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return c.createLatestTypeIdResolver}}),Object.defineProperty(e,"createRpcResolver",{enumerable:!0,get:function(){return c.createRpcResolver}}),Object.defineProperty(e,"findConfigByScript",{enumerable:!0,get:function(){return s.findConfigByScript}}),Object.defineProperty(e,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return u.generateGenesisScriptConfigs}}),Object.defineProperty(e,"getConfig",{enumerable:!0,get:function(){return o.getConfig}}),e.helpers=void 0,Object.defineProperty(e,"initializeConfig",{enumerable:!0,get:function(){return o.initializeConfig}}),Object.defineProperty(e,"nameOfScript",{enumerable:!0,get:function(){return s.nameOfScript}}),Object.defineProperty(e,"predefined",{enumerable:!0,get:function(){return a.predefined}}),Object.defineProperty(e,"refreshScriptConfigs",{enumerable:!0,get:function(){return c.refreshScriptConfigs}}),Object.defineProperty(e,"validateConfig",{enumerable:!0,get:function(){return o.validateConfig}});var i=r(23720);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var o=r(74482),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=f(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(94308));e.helpers=s;var a=r(88195),u=r(58211),c=r(86362);function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(f=function(t){return t?r:e})(t)}},74482:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertHashType=a,e.getConfig=function(){return f},e.initializeConfig=function(t){c(t),f=(0,i.default)(t)},e.validateConfig=c;var n,i=(n=r(82229))&&n.__esModule?n:{default:n};function o(t,e){!function(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}(t,e);if(66!==e.length)throw new Error(`${t} must be a hex string of 66 characters long!`)}function s(t,e){if("0x0"!==e&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function a(t,e){if("type"!==e&&"data"!==e&&"data1"!==e&&"data2"!==e)throw new Error(`${t} must one of type, data, data1, data2!`)}function u(t,e="variable"){if(!t)throw new Error(`${e} is not valid`)}function c(t){u("object"==typeof t.SCRIPTS&&null!=t.SCRIPTS,"config.SCRIPT");for(const e of Object.keys(t.SCRIPTS)){const r=t.SCRIPTS[e];u(null==r?void 0:r.CODE_HASH),o(`SCRIPTS.${e}.CODE_HASH`,r.CODE_HASH),a(`SCRIPTS.${e}.HASH_TYPE`,r.HASH_TYPE),o(`SCRIPTS.${e}.TX_HASH`,r.TX_HASH),s(`SCRIPTS.${e}.INDEX`,r.INDEX);const n=r.DEP_TYPE;if("depGroup"!==n&&"code"!==n)throw new Error(`SCRIPTS.${e}.DEP_TYPE must either be depGroup or code!`);const i=r.SHORT_ID;if(null!=i&&"number"!=typeof i)throw new Error("SHORT_ID must be a number!")}}let f=r(88195).predefined.LINA},88195:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createConfig=o,e.predefined=void 0;var n,i=(n=r(82229))&&n.__esModule?n:{default:n};function o(t){return(0,i.default)(t)}const s=o({PREFIX:"ckb",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0x5e7a36a77e68eecc013dfa2fe6a23f3b6c344b04005808694ae6dd45eea4cfd5",HASH_TYPE:"type",TX_HASH:"0xc7813f6a415144643970c2e88e0bb6ca6a8edc5dd7c1022746f628284a9936d5",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",HASH_TYPE:"type",TX_HASH:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",HASH_TYPE:"type",TX_HASH:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",HASH_TYPE:"data1",TX_HASH:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",INDEX:"0x0",DEP_TYPE:"code"}}}),a=o({PREFIX:"ckt",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4",HASH_TYPE:"type",TX_HASH:"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",HASH_TYPE:"type",TX_HASH:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",HASH_TYPE:"type",TX_HASH:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",HASH_TYPE:"type",TX_HASH:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",INDEX:"0x0",DEP_TYPE:"code"}}});e.predefined={LINA:s,AGGRON4:a}},86362:(t,e)=>{"use strict";function r(t,e){return async r=>{const o=await t(r.map((t=>t.txHash))),s=n(r,o,((t,e)=>(i(t),i(e,`Cannot find the OutPoint ${t.txHash}#${t.index}`),e.outputs[Number(t.index)].type))),a=await e(s.filter(Boolean));return n(r,s,((t,e)=>{if(i(t),!e)return t;const[r]=a.splice(0,1);return r.outPoint}))}}function n(t,e,r){return t.map(((n,i)=>r(t[i],e[i])))}function i(t,e="Not nullable"){if(null==t)throw new Error(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.createLatestTypeIdResolver=r,e.createRpcResolver=function(t){return r((async e=>{const r=await t.createBatchRequest(e.map((t=>["getTransaction",t]))).exec();return n(e,r,((t,e)=>{if(null==e||!e.transaction)throw new Error(`Cannot find transaction ${t}`);return e.transaction}))}),(async e=>(await t.createBatchRequest(e.map((t=>["getCells",{script:t,scriptType:"type",scriptSearchMode:"exact",withData:!1},"asc","0x1"]))).exec()).map((t=>t.objects[0]))))},e.refreshScriptConfigs=async function(t,{resolve:e,skip:r=["SECP256K1_BLAKE160","SECP256K1_BLAKE160_MULTISIG","DAO"]}){const o=Object.entries(t).filter((([t,e])=>!r.includes(t)&&"type"===(null==e?void 0:e.HASH_TYPE))),s=o.map((([t,e])=>({txHash:e.TX_HASH,index:e.INDEX}))),a=await e(s),u=Object.fromEntries(n(o,a,((t,e)=>{i(t);const[r,n]=t;return i(e,`Refreshing failed, cannot load config of ${r}, please check whether the scriptConfig is correct`),[r,{...n,TX_HASH:e.txHash,INDEX:e.index}]})));return Object.assign({},t,u)}},23720:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},79384:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtendedPublicKey=e.ExtendedPrivateKey=e.AddressType=e.AccountExtendedPublicKey=void 0;var i,o=(i=r(51401))&&i.__esModule?i:{default:i},s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(30510)),a=r(41600),u=r(74093);function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}let f=e.AddressType=function(t){return t[t.Receiving=0]="Receiving",t[t.Change=1]="Change",t}({});class l{constructor(t,e){(0,u.assertPublicKey)(t),(0,u.assertChainCode)(e),this.publicKey=t,this.chainCode=e}serialize(){return this.publicKey+this.chainCode.slice(2)}static parse(t){return a.utils.assertHexString("serialized",t),new l(t.slice(0,68),"0x"+t.slice(68))}}e.ExtendedPublicKey=l;class d extends l{static ckbAccountPath="m/44'/309'/0'";static parse(t){return a.utils.assertHexString("serialized",t),new d(t.slice(0,68),"0x"+t.slice(68))}publicKeyInfo(t,e){const r=this.getPublicKey(t,e);return{publicKey:r,blake160:s.default.publicKeyToBlake160(r),path:d.pathFor(t,e)}}static pathForReceiving(t){return d.pathFor(f.Receiving,t)}static pathForChange(t){return d.pathFor(f.Change,t)}static pathFor(t,e){return`${d.ckbAccountPath}/${t}/${e}`}getPublicKey(t=f.Receiving,e){return"0x"+o.default.fromPublicKey(n.from(this.publicKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex"),d.ckbAccountPath).deriveChild(t,!1).deriveChild(e,!1).publicKey.toString("hex")}}e.AccountExtendedPublicKey=d;class h{constructor(t,e){(0,u.assertPrivateKey)(t),(0,u.assertChainCode)(e),this.privateKey=t,this.chainCode=e}serialize(){return this.privateKey+this.chainCode.slice(2)}toExtendedPublicKey(){const t=(0,s.privateToPublic)(this.privateKey);return new l(t,this.chainCode)}toAccountExtendedPublicKey(){const t=new o.default(n.from(this.privateKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex")).derivePath(d.ckbAccountPath);return new d("0x"+t.publicKey.toString("hex"),"0x"+t.chainCode.toString("hex"))}static fromSeed(t){const e=o.default.fromSeed(t);return new h("0x"+e.privateKey.toString("hex"),"0x"+e.chainCode.toString("hex"))}privateKeyInfo(t,e){const r=d.pathFor(t,e);return this.privateKeyInfoByPath(r)}privateKeyInfoByPath(t){const e=new o.default(n.from(this.privateKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex")).derivePath(t);return this.privateKeyInfoFromKeychain(e,t)}privateKeyInfoFromKeychain(t,e){return{privateKey:"0x"+t.privateKey.toString("hex"),publicKey:"0x"+t.publicKey.toString("hex"),path:e}}static parse(t){return a.utils.assertHexString("serialized",t),new h(t.slice(0,66),"0x"+t.slice(66))}}e.ExtendedPrivateKey=h},74093:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertChainCode=function(t){if(i("chainCode",t),66!==t.length)throw new Error("chainCode must be length of 32 bytes!")},e.assertPrivateKey=function(t){if(i("privateKey",t),66!==t.length)throw new Error("privateKey must be length of 32 bytes!")},e.assertPublicKey=function(t,e){if(i(e=e||"publicKey",t),68!==t.length)throw new Error("publicKey must be length of 33 bytes!")};var n=r(41600);const{assertHexString:i}=n.utils},38605:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AccountExtendedPublicKey",{enumerable:!0,get:function(){return s.AccountExtendedPublicKey}}),Object.defineProperty(e,"AddressType",{enumerable:!0,get:function(){return s.AddressType}}),Object.defineProperty(e,"ExtendedPrivateKey",{enumerable:!0,get:function(){return s.ExtendedPrivateKey}}),Object.defineProperty(e,"ExtendedPublicKey",{enumerable:!0,get:function(){return s.ExtendedPublicKey}}),Object.defineProperty(e,"IncorrectPassword",{enumerable:!0,get:function(){return n.IncorrectPassword}}),Object.defineProperty(e,"InvalidKeystore",{enumerable:!0,get:function(){return n.InvalidKeystore}}),Object.defineProperty(e,"Keychain",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Keystore",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"UnsupportedCipher",{enumerable:!0,get:function(){return n.UnsupportedCipher}}),Object.defineProperty(e,"XPubStore",{enumerable:!0,get:function(){return i.XPubStore}}),e.default=void 0,Object.defineProperty(e,"key",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"mnemonic",{enumerable:!0,get:function(){return a.default}});var n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=f(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(56913)),i=r(41584),o=c(r(51401)),s=r(79384),a=c(r(69474)),u=c(r(30510));function c(t){return t&&t.__esModule?t:{default:t}}function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(f=function(t){return t?r:e})(t)}e.default={mnemonic:a.default,Keystore:n.default,UnsupportedCipher:n.UnsupportedCipher,IncorrectPassword:n.IncorrectPassword,InvalidKeystore:n.InvalidKeystore,Keychain:o.default,AddressType:s.AddressType,ExtendedPublicKey:s.ExtendedPublicKey,AccountExtendedPublicKey:s.AccountExtendedPublicKey,ExtendedPrivateKey:s.ExtendedPrivateKey,key:u.default,XPubStore:i.XPubStore}},30510:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.privateKeyToBlake160=d,e.privateToPublic=f,e.publicKeyToBlake160=l,e.recoverFromSignature=c,e.signRecoverable=u;var i=r(41600),o=r(86729),s=r(74093);const a=new o.ec("secp256k1");function u(t,e){i.utils.assertHexString("message",t),(0,s.assertPrivateKey)(e);const r=a.keyFromPrivate(e.slice(2)),{r:n,s:o,recoveryParam:u}=r.sign(t.slice(2),{canonical:!0});if(null===u)throw new Error("Sign message failed!");return"0x"+n.toString(16).padStart(64,"0")+o.toString(16).padStart(64,"0")+u.toString(16).padStart(2,"0")}function c(t,e){i.utils.assertHexString("message",t),i.utils.assertHexString("signature",e);const r=n.from(t.slice(2),"hex"),o=n.from(e.slice(2),"hex"),s={r:o.slice(0,32),s:o.slice(32,64),recoveryParam:o[64]};return"0x"+a.recoverPubKey(r,s,s.recoveryParam).encode("hex",!0).toLowerCase()}function f(t){let e=t;if("string"==typeof t&&((0,s.assertPrivateKey)(t),e=n.from(t.slice(2),"hex")),32!==e.length)throw new Error("Private key must be 32 bytes!");const r=a.keyFromPrivate(e).getPublic(!0,"hex");return"string"==typeof t?"0x"+r:n.from(r,"hex")}function l(t){(0,s.assertPublicKey)(t);return(new i.utils.CKBHasher).update(t).digestHex().slice(0,42)}function d(t){return l(f(t))}e.default={signRecoverable:u,recoverFromSignature:c,privateToPublic:f,publicKeyToBlake160:l,privateKeyToBlake160:d}},51401:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(r(91565)),o=r(86729),s=u(r(32668)),a=r(30510);function u(t){return t&&t.__esModule?t:{default:t}}const c=new o.ec("secp256k1"),f=n.from("");class l{privateKey=f;publicKey=f;chainCode=f;index=0;depth=0;identifier=f;fingerprint=0;parentFingerprint=0;constructor(t,e){this.privateKey=t,this.chainCode=e,this.isNeutered()||(this.publicKey=(0,a.privateToPublic)(this.privateKey))}calculateFingerprint(){this.identifier=this.hash160(this.publicKey),this.fingerprint=this.identifier.slice(0,4).readUInt32BE(0)}static fromSeed(t){const e=i.default.createHmac("sha512",n.from("Bitcoin seed","utf8")).update(t).digest(),r=new l(e.slice(0,32),e.slice(32));return r.calculateFingerprint(),r}static fromPublicKey(t,e,r){const n=new l(f,e);n.publicKey=t,n.calculateFingerprint();const i=r.split("/");return n.depth=i.length-1,n.index=parseInt(i[i.length-1],10),n}deriveChild(t,e){let r;const o=n.allocUnsafe(4);if(e){const e=n.concat([n.alloc(1,0),this.privateKey]);o.writeUInt32BE(t+2147483648,0),r=n.concat([e,o])}else o.writeUInt32BE(t,0),r=n.concat([this.publicKey,o]);const s=i.default.createHmac("sha512",this.chainCode).update(r).digest(),a=s.slice(0,32),u=s.slice(32);let c;if(this.isNeutered())c=new l(f,u),c.publicKey=l.publicKeyAdd(this.publicKey,a),c.calculateFingerprint();else{const t=l.privateKeyAdd(this.privateKey,a);c=new l(t,u),c.calculateFingerprint()}return c.index=t,c.depth=this.depth+1,c.parentFingerprint=this.fingerprint,c}derivePath(t){if(["m","/",""].includes(t))return this;let e=this,r=t.split("/");return"m"===r[0]&&(r=r.slice(1)),r.forEach((t=>{const r=parseInt(t,10),n=t.length>1&&"'"===t[t.length-1];e=e.deriveChild(r,n)})),e}isNeutered(){return this.privateKey===f}hash160(t){const e=i.default.createHash("sha256").update(t).digest();return i.default.createHash("ripemd160").update(e).digest()}static privateKeyAdd(t,e){const r=new s.default(e);return r.iadd(new s.default(t)),r.cmp(c.curve.n)>=0&&r.isub(c.curve.n),r.toArrayLike(n,"be",32)}static publicKeyAdd(t,e){const r=new s.default(t.slice(1)).toRed(c.curve.red);let i=r.redSqr().redIMul(r).redIAdd(c.curve.b).redSqrt();3===t[0]!==i.isOdd()&&(i=i.redNeg());const o=c.curve.g.mul(new s.default(e)).add({x:r,y:i});return n.from(o.encode(!0,!0))}}e.default=l},56913:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.UnsupportedCipher=e.InvalidKeystore=e.IncorrectPassword=void 0;var i,o=(i=r(91565))&&i.__esModule?i:{default:i},s=r(18190),a=r(10611),u=r(79384),c=r(9983);class f extends Error{constructor(){super("Unsupported cipher!")}}e.UnsupportedCipher=f;class l extends Error{constructor(){super("Incorrect password!")}}e.IncorrectPassword=l;class d extends Error{constructor(){super("Invalid keystore, please check your file integrity.")}}e.InvalidKeystore=d;const h="aes-128-ctr",p=262144;class y{version=3;constructor(t,e,r){this.crypto=t,this.id=e,this.origin=r}static fromJson(t){try{const e=JSON.parse(t);return new y(e.crypto,e.id,e.origin)}catch{throw new d}}toJson(){return JSON.stringify(this)}isFromCkbCli(){return"ckb-cli"===this.origin}static createEmpty(){const t=o.default.randomBytes(32),e=o.default.randomBytes(16),r={dklen:32,salt:t.toString("hex"),n:p,r:8,p:1};return new y({ciphertext:"",cipherparams:{iv:e.toString("hex")},cipher:h,kdf:"scrypt",kdfparams:r,mac:""},(0,a.v4)())}static create(t,e,r={}){const i=r.salt||o.default.randomBytes(32),s=r.iv||o.default.randomBytes(16),u={dklen:32,salt:i.toString("hex"),n:p,r:8,p:1},l=n.from((0,c.syncScrypt)(n.from(e),i,u.n,u.r,u.p,u.dklen)),d=o.default.createCipheriv(h,l.slice(0,16),s);if(!d)throw new f;const g=n.concat([d.update(n.from(t.serialize().slice(2),"hex")),d.final()]);return new y({ciphertext:g.toString("hex"),cipherparams:{iv:s.toString("hex")},cipher:h,kdf:"scrypt",kdfparams:u,mac:y.mac(l,g)},(0,a.v4)())}isEmpty(){return""===this.crypto.ciphertext&&""===this.crypto.mac}decrypt(t){const e=this.derivedKey(t),r=n.from(this.crypto.ciphertext,"hex");if(y.mac(e,r)!==this.crypto.mac)throw new l;const i=o.default.createDecipheriv(this.crypto.cipher,e.slice(0,16),n.from(this.crypto.cipherparams.iv,"hex"));return"0x"+n.concat([i.update(r),i.final()]).toString("hex")}extendedPrivateKey(t){return u.ExtendedPrivateKey.parse(this.decrypt(t))}checkPassword(t){const e=this.derivedKey(t),r=n.from(this.crypto.ciphertext,"hex");return y.mac(e,r)===this.crypto.mac}derivedKey(t){const{kdfparams:e}=this.crypto;return n.from((0,c.syncScrypt)(n.from(t),n.from(e.salt,"hex"),e.n,e.r,e.p,e.dklen))}static mac(t,e){return new s.Keccak(256).update(n.concat([t.subarray(16,32),e])).digest("hex")}static scryptOptions(t){return{N:t.n,r:t.r,p:t.p,maxmem:128*(t.n+t.p+2)*t.r}}}e.default=y},69474:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.entropyToMnemonic=k,e.generateMnemonic=T,e.mnemonicToEntropy=E,e.mnemonicToSeed=x,e.mnemonicToSeedSync=A,e.validateMnemonic=I;var i=s(r(91565)),o=s(r(14991));function s(t){return t&&t.__esModule?t:{default:t}}const a=2048,u=64,c=16,f=32,l=12,d=24,h="Invalid mnemonic",p="Invalid checksum",y="Entropy should be divisable by 4",g=`Entropy should be shorter than ${f+1}`,b="Entropy should be longer than "+(c-1),m=`Words should be shorter than ${d+1}`,v="Words should be longer than "+(l-1);if(2048!==o.default.length)throw new Error(`Word list should have 2048 words, but ${o.default.length} received in fact`);function _(t){return t.reduce(((t,e)=>t+e.toString(2).padStart(8,"0")),"")}function w(t){const e=8*t.length/32;return _(i.default.createHash("sha256").update(t).digest()).slice(0,e)}function S(t=""){return`mnemonic${t}`}function A(t="",e=""){const r=n.from(t.normalize("NFKD"),"utf8"),o=n.from(S(e.normalize("NFKD")),"utf8");return i.default.pbkdf2Sync(r,o,a,u,"sha512")}function x(t="",e=""){return new Promise(((r,o)=>{try{const s=n.from(t.normalize("NFKD"),"utf8"),c=n.from(S(e.normalize("NFKD")),"utf8");i.default.pbkdf2(s,c,a,u,"sha512",((t,e)=>{t&&o(t),r(e)}))}catch(t){o(t)}}))}function E(t=""){const e=t.normalize("NFKD").split(" ");if(e.length<l)throw new Error(v);if(e.length>d)throw new Error(m);if(e.length%3!=0)throw new Error(h);const r=e.map((t=>{const e=o.default.indexOf(t);if(-1===e)throw new Error(h);return e.toString(2).padStart(11,"0")})).join(""),i=32*Math.floor(r.length/33),s=r.slice(0,i),a=r.slice(i),u=s.match(/(.{1,8})/g).map((t=>parseInt(t,2)));if(u.length<c)throw new Error(b);if(u.length>f)throw new Error(g);if(u.length%4!=0)throw new Error(y);const _=n.from(u);if(w(_)!==a)throw new Error(p);return"0x"+_.toString("hex")}function k(t){const e=n.from(t.slice(2),"hex");if(e.length<c)throw new TypeError(b);if(e.length>f)throw new TypeError(g);if(e.length%4!=0)throw new TypeError(y);return(_(e)+w(e)).match(/(.{1,11})/g).map((t=>{const e=parseInt(t,2);return o.default[e]})).join(" ")}function I(t){try{E(t)}catch(t){return!1}return!0}function T(){return k("0x"+i.default.randomBytes(16).toString("hex"))}e.default={entropyToMnemonic:k,mnemonicToEntropy:E,mnemonicToSeed:x,mnemonicToSeedSync:A,validateMnemonic:I,generateMnemonic:T}},14991:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]},41584:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XPubStore=void 0;var n=r(79384);class i{constructor(t){this.accountExtendedPublicKey=t}toAccountExtendedPublicKey(){return this.accountExtendedPublicKey}toJson(){return JSON.stringify({xpubkey:this.accountExtendedPublicKey.serialize().slice(2)})}static fromJson(t){const e=JSON.parse(t).xpubkey,r=n.AccountExtendedPublicKey.parse("0x"+e);return new i(r)}}e.XPubStore=i},32668:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(84102).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function f(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(t,f,f+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){f(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(t){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],f=p[t];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var y=l.modrn(f).toString(t);r=(l=l.idivn(f)).isZero()?y+r:d[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function y(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,e.length-1),h=Math.max(0,c-t.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|t.words[p])*(o=0|e.words[h])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,y=h>>>13,g=0|s[2],b=8191&g,m=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],A=8191&S,x=S>>>13,E=0|s[5],k=8191&E,I=E>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],M=8191&P,B=P>>>13,R=0|s[8],j=8191&R,D=R>>>13,L=0|s[9],U=8191&L,N=L>>>13,H=0|a[0],F=8191&H,z=H>>>13,K=0|a[1],q=8191&K,W=K>>>13,$=0|a[2],V=8191&$,G=$>>>13,Q=0|a[3],X=8191&Q,Y=Q>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,dt=ft>>>13,ht=0|a[9],pt=8191&ht,yt=ht>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,z))+Math.imul(d,F)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(y,F)|0,o=Math.imul(y,z);var bt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,q)|0))<<13)|0;c=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,W)|0;var mt=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,V)|0))<<13)|0;c=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,G)|0;var vt=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,z))+Math.imul(x,F)|0,o=Math.imul(x,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0;var _t=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,o=Math.imul(I,z),n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(d,ot)|0))<<13)|0;c=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var At=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((o=o+Math.imul(d,ct)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(D,F)|0,o=Math.imul(D,z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(B,q)|0,o=o+Math.imul(B,W)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,dt)|0)+Math.imul(d,lt)|0))<<13)|0;c=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,z))+Math.imul(N,F)|0,o=Math.imul(N,z),n=n+Math.imul(j,q)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,dt)|0;var Et=(c+(n=n+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,yt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((o=o+Math.imul(d,yt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,W))+Math.imul(N,q)|0,o=Math.imul(N,W),n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(b,lt)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,dt)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,yt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,G))+Math.imul(N,V)|0,o=Math.imul(N,G),n=n+Math.imul(j,X)|0,i=(i=i+Math.imul(j,Y)|0)+Math.imul(D,X)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(_,lt)|0,i=(i=i+Math.imul(_,dt)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,yt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,Y))+Math.imul(N,X)|0,o=Math.imul(N,Y),n=n+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,dt)|0;var Tt=(c+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,tt))+Math.imul(N,Z)|0,o=Math.imul(N,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(I,lt)|0,o=o+Math.imul(I,dt)|0;var Ct=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,yt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(N,rt)|0,o=Math.imul(N,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,dt)|0;var Ot=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(N,ot)|0,o=Math.imul(N,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,ct)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(B,lt)|0,o=o+Math.imul(B,dt)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,yt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(N,ut)|0,o=Math.imul(N,ct),n=n+Math.imul(j,lt)|0,i=(i=i+Math.imul(j,dt)|0)+Math.imul(D,lt)|0,o=o+Math.imul(D,dt)|0;var Mt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,yt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((o=o+Math.imul(B,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,lt),i=(i=Math.imul(U,dt))+Math.imul(N,lt)|0,o=Math.imul(N,dt);var Bt=(c+(n=n+Math.imul(j,pt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(D,pt)|0))<<13)|0;c=((o=o+Math.imul(D,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Rt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,yt))+Math.imul(N,pt)|0))<<13)|0;return c=((o=Math.imul(N,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=gt,u[1]=bt,u[2]=mt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=At,u[8]=xt,u[9]=Et,u[10]=kt,u[11]=It,u[12]=Tt,u[13]=Ct,u[14]=Ot,u[15]=Pt,u[16]=Mt,u[17]=Bt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function b(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(t,e,r){return b(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=y),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?y(this,t,e):r<1024?b(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},v.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=r[f+h],y=n[f+h],g=r[f+h+s],b=n[f+h+s],m=l*g-d*b;b=l*b+d*g,g=m,r[f+h]=p+g,n[f+h]=y+b,r[f+h+s]=p-g,n[f+h+s]=y-b,h!==a&&(m=u*l-c*d,d=u*d+c*l,l=m)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var h=0;h<n;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var d=0,h=1;!(e.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;!(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(S,w),S.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,w),i(x,w),i(E,w),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new A;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return _[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(f(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(t,i.addn(1).iushrn(1)),h=this.pow(t,i),p=s;0!==h.cmp(a);){for(var y=h,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var b=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(b),l=b.redSqr(),h=h.redMul(l),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new I(t)},i(I,k),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},36340:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ADDRESS_FORMAT_SHORT=e.ADDRESS_FORMAT_FULLTYPE=e.ADDRESS_FORMAT_FULLDATA=e.ADDRESS_FORMAT_FULL=void 0,e.parseDeprecatedCkb2019Address=function(t,{config:e}){e=e||(0,o.getConfig)();const{prefix:r,words:n}=s.bech32.decode(t,a);if(r!==e.PREFIX)throw Error(`Invalid prefix! Expected: ${e.PREFIX}, actual: ${r}`);const[u,...d]=s.bech32.fromWords(n);switch(u){case c:{const[t,...r]=d;if(20!==r.length)throw Error("Invalid payload length!");const n=Object.values(e.SCRIPTS).find((e=>e&&e.SHORT_ID===t));if(!n)throw Error(`Invalid code hash index: ${t}!`);return{codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:i.bytes.hexify(r)}}case f:if(d.length<32)throw Error("Invalid payload length!");return{codeHash:i.bytes.hexify(d.slice(0,32)),hashType:"data",args:i.bytes.hexify(d.slice(32))};case l:if(d.length<32)throw Error("Invalid payload length!");return{codeHash:i.bytes.hexify(d.slice(0,32)),hashType:"type",args:i.bytes.hexify(d.slice(32))}}throw Error(`Invalid payload format type: ${u}`)},e.parseFullFormatAddress=function(t,{config:e}){e=e||(0,o.getConfig)();const{words:r,prefix:c}=s.bech32m.decode(t,a);if(c!==e.PREFIX)throw Error(`Invalid prefix! Expected: ${e.PREFIX}, actual: ${c}`);const[f,...l]=s.bech32m.fromWords(r);if(f!==u)throw new Error("Invalid address format type");if(l.length<33)throw new Error("Invalid payload length, too short!");const d=i.bytes.hexify(l.slice(0,32)),h=n.blockchain.HashType.unpack(l.slice(32,33)),p=i.bytes.hexify(l.slice(33));return{codeHash:d,hashType:h,args:p}};var n=r(41600),i=r(71313),o=r(14105),s=r(22343);const a=1023,u=e.ADDRESS_FORMAT_FULL=0,c=e.ADDRESS_FORMAT_SHORT=1,f=e.ADDRESS_FORMAT_FULLDATA=2,l=e.ADDRESS_FORMAT_FULLTYPE=4},28670:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={minimalScriptCapacity:!0,minimalScriptCapacityCompatible:!0,minimalCellCapacity:!0,minimalCellCapacityCompatible:!0,locateCellDep:!0,generateAddress:!0,scriptToAddress:!0,generateSecp256k1Blake160Address:!0,generateSecp256k1Blake160MultisigAddress:!0,parseAddress:!0,addressToScript:!0,encodeToAddress:!0,encodeToConfigAddress:!0,TransactionSkeleton:!0,createTransactionFromSkeleton:!0,createTransactionSkeleton:!0,sealTransaction:!0,transactionSkeletonToObject:!0,objectToTransactionSkeleton:!0,refreshTypeIdCellDeps:!0};e.addressToScript=e.TransactionSkeleton=void 0,e.createTransactionFromSkeleton=O,e.createTransactionSkeleton=async function(t,e){let r=C();r=r.update("cellDeps",(e=>e.push(...t.cellDeps))),r=r.update("headerDeps",(e=>e.push(...t.headerDeps)));const n=await Promise.all(t.inputs.map((t=>e(t.previousOutput))));r=r.update("inputs",(t=>t.push(...n))),r=r.update("inputSinces",(e=>t.inputs.reduce(((t,e,r)=>t.set(r,e.since)),e)));const i=t.outputs.map(((e,r)=>{var n;return{cellOutput:e,data:null!==(n=t.outputsData[r])&&void 0!==n?n:"0x"}}));return r=r.update("outputs",(t=>t.push(...i))),r=r.update("witnesses",(e=>e.push(...t.witnesses))),r},e.encodeToAddress=T,e.encodeToConfigAddress=function(t,e,r){const n=(null==r?void 0:r.config)||(0,u.getConfig)(),i=n.SCRIPTS[e];if(!i){const t=Object.keys(n.SCRIPTS);throw new Error(`Invalid script type: ${String(e)}, only support: ${t}`)}return T({codeHash:i.CODE_HASH,hashType:i.HASH_TYPE,args:t},{config:n})},e.generateAddress=E,e.generateSecp256k1Blake160Address=function(t,{config:e}={}){return k(t,"SECP256K1_BLAKE160",{config:e})},e.generateSecp256k1Blake160MultisigAddress=function(t,{config:e}={}){return k(t,"SECP256K1_BLAKE160_MULTISIG",{config:e})},e.locateCellDep=function(t,{config:e}={}){e=e||(0,u.getConfig)();const r=Object.values(e.SCRIPTS).find((e=>e&&e.CODE_HASH===t.codeHash&&e.HASH_TYPE===t.hashType));if(r)return{depType:r.DEP_TYPE,outPoint:{txHash:r.TX_HASH,index:r.INDEX}};return null},e.minimalCellCapacity=function(t,{validate:e=!0}={}){const r=w(t,{validate:e});return BigInt(r.toString())},e.minimalCellCapacityCompatible=w,e.minimalScriptCapacity=function(t,{validate:e=!0}={}){const r=_(t,{validate:e});return BigInt(r.toString())},e.minimalScriptCapacityCompatible=_,e.objectToTransactionSkeleton=function(t){let e=(0,a.Map)();for(const[r,n]of Object.entries(t.inputSinces))e=e.set(+r,n);return C({cellProvider:t.cellProvider,cellDeps:(0,a.List)(t.cellDeps),headerDeps:(0,a.List)(t.headerDeps),inputs:(0,a.List)(t.inputs),outputs:(0,a.List)(t.outputs),witnesses:(0,a.List)(t.witnesses),fixedEntries:(0,a.List)(t.fixedEntries),signingEntries:(0,a.List)(t.signingEntries),inputSinces:e})},e.parseAddress=I,Object.defineProperty(e,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return p.refreshTypeIdCellDeps}}),e.scriptToAddress=void 0,e.sealTransaction=function(t,e){const r=O(t);if(e.length!==t.get("signingEntries").size)throw new Error(`Requiring ${t.get("signingEntries").size} sealing contents but provided ${e.length}!`);return t.get("signingEntries").forEach(((t,n)=>{switch(t.type){case"witness_args_lock":{const i=r.witnesses[t.index],s=o.blockchain.WitnessArgs.unpack(g(i)),a={lock:e[n]},u=s.inputType;u&&(a.inputType=u);const c=s.outputType;c&&(a.outputType=c),r.witnesses[t.index]=b(o.blockchain.WitnessArgs.pack(a));break}default:throw new Error(`Invalid signing entry type: ${t.type}`)}})),r},e.transactionSkeletonToObject=function(t){return t.toJS()};var i=r(71313),o=r(41600),s=r(22343),a=r(49568),u=r(14105),c=r(92900),f=r(36340),l=r(88591),d=r(49805),h=r(13892),p=r(81149),y=r(91997);Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===y[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}}))}));const{bytify:g,hexify:b}=i.bytes,m=1023;const v=1e8;function _(t,{validate:e=!0}={}){e&&d.validators.ValidateScript(t);let r=0;return r+=g(t.codeHash).length,r+=g(t.args).length,r+=1,c.BI.from(r).mul(v)}function w(t,{validate:e=!0}={}){e&&o.blockchain.CellOutput.pack(t.cellOutput);let r=8;return r+=g(t.cellOutput.lock.codeHash).length,r+=g(t.cellOutput.lock.args).length,r+=1,t.cellOutput.type&&(r+=g(t.cellOutput.type.codeHash).length,r+=g(t.cellOutput.type.args).length,r+=1),t.data&&(r+=g(t.data).length),c.BI.from(r).mul(v)}let S=!1;const A=2,x=4;function E(t,{config:e}={}){e=e||(0,u.getConfig)(),S||(console.warn("The address format generated by generateAddress or scriptToAddress will be deprecated, please migrate to encodeToAddress to generate the new ckb2021 full format address as soon as possible"),S=!0),d.validators.ValidateScript(t);const r=Object.values(e.SCRIPTS).find((e=>e&&e.CODE_HASH===t.codeHash&&e.HASH_TYPE===t.hashType)),n=[];if(r&&void 0!==r.SHORT_ID)n.push(1,r.SHORT_ID),n.push(...(0,l.hexToByteArray)(t.args));else{if("type"===t.hashType)n.push(x);else{if("data"!==t.hashType)throw new Error(`Invalid hashType ${t.hashType}`);n.push(A)}n.push(...(0,l.hexToByteArray)(t.codeHash)),n.push(...(0,l.hexToByteArray)(t.args))}const i=s.bech32.toWords(n);return s.bech32.encode(e.PREFIX,i,m)}e.scriptToAddress=E;function k(t,e,{config:r}={}){const n=(r=r||(0,u.getConfig)()).SCRIPTS[e];if(!n){const t=Object.keys(r.SCRIPTS);throw new Error(`Invalid script type: ${e}, only support: ${t}`)}return E({codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:t},{config:r})}function I(t,{config:e}={}){e=e||(0,u.getConfig)();try{return(0,f.parseFullFormatAddress)(t,{config:e})}catch{return(0,f.parseDeprecatedCkb2019Address)(t,{config:e})}}e.addressToScript=I;function T(t,{config:e}={}){d.validators.ValidateScript(t),e=e||(0,u.getConfig)();const r=i.bytes.concat([0],t.codeHash,h.HashType.pack(t.hashType),t.args);return s.bech32m.encode(e.PREFIX,s.bech32m.toWords(r),m)}const C=e.TransactionSkeleton=(0,a.Record)({cellProvider:null,cellDeps:(0,a.List)(),headerDeps:(0,a.List)(),inputs:(0,a.List)(),outputs:(0,a.List)(),witnesses:(0,a.List)(),fixedEntries:(0,a.List)(),signingEntries:(0,a.List)(),inputSinces:(0,a.Map)()});function O(t,{validate:e=!0}={}){const r={version:"0x0",cellDeps:t.get("cellDeps").toArray(),headerDeps:t.get("headerDeps").toArray(),inputs:t.get("inputs").map(((e,r)=>{if(!e.outPoint)throw new Error(`cannot find OutPoint in Inputs[${r}] when createTransactionFromSkeleton`);return{since:t.get("inputSinces").get(r,"0x0"),previousOutput:e.outPoint}})).toArray(),outputs:t.get("outputs").map((t=>t.cellOutput)).toArray(),outputsData:t.get("outputs").map((t=>t.data||"0x0")).toArray(),witnesses:t.get("witnesses").toArray()};return e&&d.validators.ValidateTransaction(r),r}},53048:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelHelper=function(t){return{create:e=>t.unpack(t.pack(e)),hash:e=>n.bytes.bytify((0,i.ckbHash)(t.pack(e))),equals:(e,r)=>n.bytes.equal(t.pack(e),t.pack(r)),clone:o}},e.defaultDeepClone=o;var n=r(71313),i=r(54617);function o(t){const e=typeof t;if("number"===e||"string"===e||"boolean"===e||"bigint"===e||null==t)return t;if(Array.isArray(t))return t.map(o);if("object"===e)return Object.entries(t).reduce(((t,[e,r])=>Object.assign(t,{[e]:o(r)})),{});throw new Error("Cannot clone the value: "+String(t))}},61311:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.outPointHelper=void 0;var n=r(41600),i=r(53048);e.outPointHelper=(0,i.createModelHelper)(n.blockchain.OutPoint)},39505:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cellHelper=void 0;var n=r(53048),i=r(41600),o=r(82206),s=r(92900),a=r(71313),u=r(72042),c=r(61311),f=r(28670);const l=(0,u.table)({cellOutput:i.blockchain.CellOutput,data:i.blockchain.Bytes,outPoint:(0,u.option)(i.blockchain.OutPoint)},["cellOutput","data","outPoint"]);e.cellHelper=(0,n.createModelHelper)({pack:t=>{const e=(r=t)&&"object"==typeof r&&"lock"in r?{cellOutput:{capacity:s.BI.from(t.capacity||"0x0").toHexString(),lock:o.scriptHelper.create(t.lock),type:t.type&&o.scriptHelper.create(t.type)},outPoint:t.outPoint&&c.outPointHelper.create(t.outPoint),data:a.bytes.hexify(t.data||"0x")}:t;var r;return s.BI.from(e.cellOutput.capacity).eq(0)&&(e.cellOutput.capacity=(0,f.minimalCellCapacityCompatible)(e).toHexString()),l.pack(e)},unpack:t=>l.unpack(t)})},91997:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cellHelper",{enumerable:!0,get:function(){return i.cellHelper}}),Object.defineProperty(e,"createModelHelper",{enumerable:!0,get:function(){return n.createModelHelper}}),Object.defineProperty(e,"outPointHelper",{enumerable:!0,get:function(){return s.outPointHelper}}),Object.defineProperty(e,"scriptHelper",{enumerable:!0,get:function(){return o.scriptHelper}});var n=r(53048),i=r(39505),o=r(82206),s=r(61311)},82206:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scriptHelper=void 0;var n=r(41600),i=r(14105),o=r(28670),s=r(53048);e.scriptHelper=(0,s.createModelHelper)({pack:t=>n.blockchain.Script.pack("string"==typeof t?function(t){if(t.startsWith("ckb"))return(0,o.parseAddress)(t,{config:i.predefined.LINA});if(t.startsWith("ckt"))return(0,o.parseAddress)(t,{config:i.predefined.AGGRON4});throw new Error(`The address prefix ${t} is unknown`)}(t):t),unpack:t=>n.blockchain.Script.unpack(t)})},81149:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshTypeIdCellDeps=async function(t,{resolve:e}){const r=t.cellDeps.map((({outPoint:t})=>t)).toArray(),n=await e(r);return t.update("cellDeps",(t=>t.map(((t,e)=>({...t,outPoint:n[e]})))))}},88591:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToByteArray=function(t){if(!/^(0x)?([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error("Invalid hex string!");t.startsWith("0x")&&(t=t.slice(2));const e=[];for(;t.length>=2;)e.push(parseInt(t.slice(0,2),16)),t=t.slice(2);return e}},98465:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LightClientRPC",{enumerable:!0,get:function(){return n.LightClientRPC}});var n=r(63818)},73596:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLightClientScript=e.toFetchTransactionResult=e.toFetchHeaderResult=void 0;var n=r(66501),i=r(24980);e.toFetchHeaderResult=t=>t&&t.status===n.FetchFlag.Fetched?{status:t.status,data:i.ResultFormatter.toHeader(t.data)}:t;e.toFetchTransactionResult=t=>t&&t.status===n.FetchFlag.Fetched?{status:t.status,data:i.ResultFormatter.toTransactionWithStatus(t.data)}:t;e.toLightClientScript=t=>t?{script:i.ResultFormatter.toScript(t.script),blockNumber:t.block_number,scriptType:t.script_type}:t},63818:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightClientRPC=void 0;var n,i=r(24980),o=r(73596),s=(n=r(74945))&&n.__esModule?n:{default:n};e.LightClientRPC=class{constructor(t){this.uri=t}async getTipHeader(){return i.ResultFormatter.toHeader(await a(this.uri,"get_tip_header"))}async getPeers(){return i.ResultFormatter.toPeers(await a(this.uri,"get_peers"))}async localNodeInfo(){return i.ResultFormatter.toLocalNodeInfo(await a(this.uri,"local_node_info"))}async fetchHeader(t){const e=[t];return(0,o.toFetchHeaderResult)(await a(this.uri,"fetch_header",e))}async getHeader(t){const e=[t];return i.ResultFormatter.toHeader(await a(this.uri,"get_header",e))}async fetchTransaction(t){const e=[t];return(0,o.toFetchTransactionResult)(await a(this.uri,"fetch_transaction",e))}async getTransaction(t){const e=[t];return i.ResultFormatter.toTransactionWithStatus(await a(this.uri,"get_transaction",e))}async sendTransaction(t){const e=[i.ParamsFormatter.toRawTransaction(t)];return i.ResultFormatter.toHash(await a(this.uri,"send_transaction",e))}async getScripts(){return(await a(this.uri,"get_scripts")).map(o.toLightClientScript)}async setScripts(t,e){const r=[t.map((({script:t,scriptType:e,blockNumber:r})=>({script:i.ParamsFormatter.toScript(t),script_type:e,block_number:r}))),e];await a(this.uri,"set_scripts",r)}async getCells(t,e,r,n){const o=[i.ParamsFormatter.toGetCellsSearchKey(t),e,r,n];return i.ResultFormatter.toGetCellsResult(await a(this.uri,"get_cells",o))}async getCellsCapacity(t){const e=[i.ParamsFormatter.toSearchKey(t)];return i.ResultFormatter.toCellsCapacity(await a(this.uri,"get_cells_capacity",e))}async getGenesisBlock(){return i.ResultFormatter.toBlock(await a(this.uri,"get_genesis_block"))}async getTransactions(t,e,r,n){const o=[i.ParamsFormatter.toGetTransactionsSearchKey(t),e,r,n];return i.ResultFormatter.toGetTransactionsResult(await a(this.uri,"get_transactions",o))}};const a=async(t,e,r)=>{const n=await(0,s.default)(t,{method:"POST",body:JSON.stringify({id:0,jsonrpc:"2.0",method:e,params:r}),headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(`indexer request failed with HTTP code ${n.status}`);const i=await n.json();if(void 0!==i.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(i.error)}`);return i.result}},66501:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightClientRPC=e.FetchFlag=void 0;e.FetchFlag=function(t){return t.Fetched="fetched",t.Fetching="fetching",t.Added="added",t.NotFound="not_found",t}({}),e.LightClientRPC=void 0},92144:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(e,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(e,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(e,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(e,"setupOutputCell",{enumerable:!0,get:function(){return n.setupOutputCell}}),Object.defineProperty(e,"withdraw",{enumerable:!0,get:function(){return n.withdraw}});var n=r(83127)},10219:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(e,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(e,"payFeeByFeeRate",{enumerable:!0,get:function(){return n.payFeeByFeeRate}}),Object.defineProperty(e,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(e,"registerCustomLockScriptInfos",{enumerable:!0,get:function(){return n.registerCustomLockScriptInfos}}),Object.defineProperty(e,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(e,"transfer",{enumerable:!0,get:function(){return n.transfer}});var n=r(10640)},79712:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(e,"calculateDaoEarliestSince",{enumerable:!0,get:function(){return n.calculateDaoEarliestSince}}),Object.defineProperty(e,"calculateDaoEarliestSinceCompatible",{enumerable:!0,get:function(){return n.calculateDaoEarliestSinceCompatible}}),Object.defineProperty(e,"calculateMaximumWithdraw",{enumerable:!0,get:function(){return n.calculateMaximumWithdraw}}),Object.defineProperty(e,"calculateMaximumWithdrawCompatible",{enumerable:!0,get:function(){return n.calculateMaximumWithdrawCompatible}}),Object.defineProperty(e,"deposit",{enumerable:!0,get:function(){return n.deposit}}),Object.defineProperty(e,"extractDaoDataCompatible",{enumerable:!0,get:function(){return n.extractDaoDataCompatible}}),Object.defineProperty(e,"listDaoCells",{enumerable:!0,get:function(){return n.listDaoCells}}),Object.defineProperty(e,"unlock",{enumerable:!0,get:function(){return n.unlock}});var n=r(91461)},87144:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.omnilock=e.dao=e.common=e.anyoneCanPay=void 0,Object.defineProperty(e,"parseFromInfo",{enumerable:!0,get:function(){return f.parseFromInfo}}),e.secp256k1Blake160Multisig=e.secp256k1Blake160=void 0,Object.defineProperty(e,"serializeMultisigScript",{enumerable:!0,get:function(){return f.serializeMultisigScript}}),e.sudt=void 0;var n=d(r(10219));e.common=n;var i=d(r(79712));e.dao=i;var o=d(r(56022));e.sudt=o;var s=d(r(39787));e.secp256k1Blake160=s;var a=d(r(52850));e.secp256k1Blake160Multisig=a;var u=d(r(92144));e.anyoneCanPay=u;var c=d(r(45408));e.omnilock=c;var f=r(45524);function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(l=function(t){return t?r:e})(t)}function d(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=l(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}},45408:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(e,"OmnilockWitnessLock",{enumerable:!0,get:function(){return n.OmnilockWitnessLock}}),Object.defineProperty(e,"bitcoin",{enumerable:!0,get:function(){return n.bitcoin}}),Object.defineProperty(e,"createOmnilockScript",{enumerable:!0,get:function(){return n.createOmnilockScript}}),Object.defineProperty(e,"ethereumDisplaying",{enumerable:!0,get:function(){return n.ethereumDisplaying}}),Object.defineProperty(e,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(e,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(e,"solana",{enumerable:!0,get:function(){return n.solana}});var n=r(60699)},52850:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(e,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(e,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(e,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(e,"serializeMultisigScript",{enumerable:!0,get:function(){return n.serializeMultisigScript}}),Object.defineProperty(e,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(e,"transfer",{enumerable:!0,get:function(){return n.transfer}}),Object.defineProperty(e,"transferCompatible",{enumerable:!0,get:function(){return n.transferCompatible}});var n=r(94467)},39787:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(e,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(e,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(e,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(e,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(e,"transfer",{enumerable:!0,get:function(){return n.transfer}}),Object.defineProperty(e,"transferCompatible",{enumerable:!0,get:function(){return n.transferCompatible}});var n=r(1874)},56022:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"issueToken",{enumerable:!0,get:function(){return n.issueToken}}),Object.defineProperty(e,"transfer",{enumerable:!0,get:function(){return n.transfer}});var n=r(6437)},33701:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TESTNET=e.MAINNET=void 0,Object.defineProperty(e,"createConfig",{enumerable:!0,get:function(){return i.createConfig}}),Object.defineProperty(e,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return i.createLatestTypeIdResolver}}),Object.defineProperty(e,"createRpcResolver",{enumerable:!0,get:function(){return i.createRpcResolver}}),Object.defineProperty(e,"findConfigByScript",{enumerable:!0,get:function(){return i.findConfigByScript}}),Object.defineProperty(e,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return i.generateGenesisScriptConfigs}}),Object.defineProperty(e,"getConfig",{enumerable:!0,get:function(){return i.getConfig}}),Object.defineProperty(e,"helpers",{enumerable:!0,get:function(){return i.helpers}}),Object.defineProperty(e,"initializeConfig",{enumerable:!0,get:function(){return i.initializeConfig}}),Object.defineProperty(e,"nameOfScript",{enumerable:!0,get:function(){return i.nameOfScript}}),Object.defineProperty(e,"predefined",{enumerable:!0,get:function(){return i.predefined}}),Object.defineProperty(e,"refreshScriptConfigs",{enumerable:!0,get:function(){return i.refreshScriptConfigs}}),Object.defineProperty(e,"validateConfig",{enumerable:!0,get:function(){return i.validateConfig}});var n=r(88195),i=r(14105);e.TESTNET=n.predefined.AGGRON4,e.MAINNET=n.predefined.LINA},24862:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TransactionSkeleton",{enumerable:!0,get:function(){return n.TransactionSkeleton}}),Object.defineProperty(e,"addCellDep",{enumerable:!0,get:function(){return i.addCellDep}}),Object.defineProperty(e,"addressToScript",{enumerable:!0,get:function(){return n.addressToScript}}),Object.defineProperty(e,"cellHelper",{enumerable:!0,get:function(){return o.cellHelper}}),Object.defineProperty(e,"createModelHelper",{enumerable:!0,get:function(){return o.createModelHelper}}),Object.defineProperty(e,"createTransactionFromSkeleton",{enumerable:!0,get:function(){return n.createTransactionFromSkeleton}}),Object.defineProperty(e,"createTransactionSkeleton",{enumerable:!0,get:function(){return n.createTransactionSkeleton}}),Object.defineProperty(e,"encodeToAddress",{enumerable:!0,get:function(){return n.encodeToAddress}}),Object.defineProperty(e,"encodeToConfigAddress",{enumerable:!0,get:function(){return n.encodeToConfigAddress}}),Object.defineProperty(e,"minimalCellCapacity",{enumerable:!0,get:function(){return n.minimalCellCapacity}}),Object.defineProperty(e,"minimalCellCapacityCompatible",{enumerable:!0,get:function(){return n.minimalCellCapacityCompatible}}),Object.defineProperty(e,"minimalScriptCapacity",{enumerable:!0,get:function(){return n.minimalScriptCapacity}}),Object.defineProperty(e,"minimalScriptCapacityCompatible",{enumerable:!0,get:function(){return n.minimalScriptCapacityCompatible}}),Object.defineProperty(e,"objectToTransactionSkeleton",{enumerable:!0,get:function(){return n.objectToTransactionSkeleton}}),Object.defineProperty(e,"outPointHelper",{enumerable:!0,get:function(){return o.outPointHelper}}),Object.defineProperty(e,"parseAddress",{enumerable:!0,get:function(){return n.parseAddress}}),Object.defineProperty(e,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return n.refreshTypeIdCellDeps}}),Object.defineProperty(e,"scriptHelper",{enumerable:!0,get:function(){return o.scriptHelper}}),Object.defineProperty(e,"sealTransaction",{enumerable:!0,get:function(){return n.sealTransaction}}),Object.defineProperty(e,"transactionSkeletonToObject",{enumerable:!0,get:function(){return n.transactionSkeletonToObject}});var n=r(28670),i=r(33089),o=r(91997)},3599:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BI",{enumerable:!0,get:function(){return l.BI}}),Object.defineProperty(e,"BIish",{enumerable:!0,get:function(){return l.BIish}}),Object.defineProperty(e,"CellCollector",{enumerable:!0,get:function(){return u.CellCollector}}),Object.defineProperty(e,"Indexer",{enumerable:!0,get:function(){return u.Indexer}}),Object.defineProperty(e,"LightClientRPC",{enumerable:!0,get:function(){return d.LightClientRPC}}),Object.defineProperty(e,"RPC",{enumerable:!0,get:function(){return s.RPC}}),e.helpers=e.hd=e.config=e.commons=void 0,Object.defineProperty(e,"since",{enumerable:!0,get:function(){return n.since}}),e.utils=void 0;var n=r(41600),i=p(r(3018));e.utils=i;var o=p(r(33701));e.config=o;var s=r(24980),a=p(r(38605));e.hd=a;var u=r(44837),c=p(r(24862));e.helpers=c;var f=p(r(35945));e.commons=f;var l=r(92900),d=r(98465);function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(h=function(t){return t?r:e})(t)}function p(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=h(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}},3018:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CKBHasher",{enumerable:!0,get:function(){return n.CKBHasher}}),Object.defineProperty(e,"assertHexString",{enumerable:!0,get:function(){return n.assertHexString}}),Object.defineProperty(e,"assertHexadecimal",{enumerable:!0,get:function(){return n.assertHexadecimal}}),Object.defineProperty(e,"ckbHash",{enumerable:!0,get:function(){return n.ckbHash}}),Object.defineProperty(e,"computeScriptHash",{enumerable:!0,get:function(){return n.computeScriptHash}}),Object.defineProperty(e,"formatUnit",{enumerable:!0,get:function(){return i.formatUnit}}),Object.defineProperty(e,"generateTypeIdScript",{enumerable:!0,get:function(){return n.generateTypeIdScript}}),Object.defineProperty(e,"parseUnit",{enumerable:!0,get:function(){return i.parseUnit}});var n=r(54617),i=r(92900)},30469:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(41184),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=o(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(27753));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(o=function(t){return t?r:e})(t)}e.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:i.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:i.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:i.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[n.formatter.toNumber]},getBlock:{method:"get_block",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toBlock},getHeader:{method:"get_header",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[n.formatter.toOutPoint],resultFormatters:i.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[n.formatter.toArray(n.formatter.toHash),n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[n.formatter.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:i.toConsensus}}},80720:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(41184);e.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[n.formatter.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[n.formatter.toOutPoint,n.formatter.toHash]}}},15172:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rpcProperties=e.Base=void 0;var n=c(r(30469)),i=c(r(80720)),o=c(r(85387)),s=c(r(79916)),a=c(r(31751)),u=c(r(95131));function c(t){return t&&t.__esModule?t:{default:t}}const f=e.rpcProperties={...n.default,...i.default,...u.default,...o.default,...s.default,...a.default};e.Base=class{#t=f;get rpcProperties(){return this.#t}}},95131:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(41184),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=o(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(27753));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(o=function(t){return t?r:e})(t)}const s={getIndexerTip:{method:"get_indexer_tip",paramsFormatters:[],resultFormatters:i.toTip},getCells:{method:"get_cells",paramsFormatters:[n.formatter.toGetCellsSearchKey,n.formatter.toOrder,n.formatter.toNumber,n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toGetCellsResult},getTransactions:{method:"get_transactions",paramsFormatters:[n.formatter.toGetTransactionsSearchKey,n.formatter.toOrder,n.formatter.toNumber,n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toGetTransactionsResult},getCellsCapacity:{method:"get_cells_capacity",paramsFormatters:[n.formatter.toSearchKey],resultFormatters:i.toCellsCapacity},getBlockFilter:{method:"get_block_filter",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toNullable(i.toBlockFilter)},getTransactionAndWitnessProof:{method:"get_transaction_and_witness_proof",paramsFormatters:[n.formatter.toArray(n.formatter.toHash),n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toTransactionAndWitnessProof},verifyTransactionAndWitnessProof:{method:"verify_transaction_and_witness_proof",paramsFormatters:[n.formatter.toTransactionAndWitnessProof],resultFormatters:i.toArray(i.toHash)},getForkBlock:{method:"get_fork_block",paramsFormatters:[n.formatter.toHash,n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toForkBlockResult)},getBlockMedianTime:{method:"get_block_median_time",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toNullable(i.toNumber)},estimateCycles:{method:"estimate_cycles",paramsFormatters:[n.formatter.toRawTransaction],resultFormatters:i.toEstimateCycles},getFeeRateStatistics:{method:"get_fee_rate_statistics",paramsFormatters:[n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toFeeRateStatistics)},getFeeRateStatics:{method:"get_fee_rate_statics",paramsFormatters:[n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toFeeRateStatistics)}};e.default=s},85387:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(41184),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=o(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(27753));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(o=function(t){return t?r:e})(t)}e.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:i.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:i.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:i.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:i.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[n.formatter.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}}},79916:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(41184),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=o(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(27753));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(o=function(t){return t?r:e})(t)}e.default={sendTransaction:{method:"send_transaction",paramsFormatters:[n.formatter.toRawTransaction,n.formatter.toOutputsValidator],resultFormatters:i.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:i.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:i.toRawTxPool}}},31751:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(27753));function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}e.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:n.toBlockchainInfo},getDeploymentsInfo:{method:"get_deployments_info",paramsFormatters:[],resultFormatters:n.toDeploymentsInfo}}},24228:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ErrorCode=void 0;let r=e.ErrorCode=function(t){return t[t.ParameterInvalid=101]="ParameterInvalid",t[t.IdNotMatch=201]="IdNotMatch",t[t.MethodNotFound=202]="MethodNotFound",t[t.PayloadMessage=203]="PayloadMessage",t[t.ResponseMessage=204]="ResponseMessage",t}({});e.default=r},39915:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PayloadInBatchException=e.MethodInBatchNotFoundException=e.IdNotMatchedInBatchException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n},o=r(49580);const s="Batch Request";class a extends Error{code=i.default.MethodNotFound;constructor(t){super(`[${s}]: Method ${t} is not found`)}}e.MethodInBatchNotFoundException=a;class u extends Error{code=i.default.PayloadMessage;constructor(t,e){super(`[${s} ${t}]: ${e}`),this.index=t}}e.PayloadInBatchException=u;class c extends o.IdNotMatchException{constructor(t,e,r){super(e,r),this.message=`[${s} ${t}]: ${this.message}`,this.index=t}}e.IdNotMatchedInBatchException=c;e.default={MethodInBatchNotFoundException:a,PayloadInBatchException:u,IdNotMatchedInBatchException:c}},91173:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.StringHashTypeException=e.PageSizeTooSmallException=e.PageSizeTooLargeException=e.OutputsValidatorTypeException=e.HexStringWithout0xException=e.BigintOrHexStringTypeException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n};class o extends RangeError{code=i.default.ParameterInvalid;constructor(t,e){super(`Expect page size to be at most ${e}, but ${t} received`)}}e.PageSizeTooLargeException=o;class s extends RangeError{code=i.default.ParameterInvalid;constructor(t,e){super(`Expect page size to be at least ${e}, but ${t} received`)}}e.PageSizeTooSmallException=s;class a extends TypeError{code=i.default.ParameterInvalid;constructor(){super("Expect outputs validator to be 'default' or 'passthrough'")}}e.OutputsValidatorTypeException=a;class u extends TypeError{code=i.default.ParameterInvalid;constructor(t){super(`Expect number to be bigint or hex string, but ${t} received`)}}e.BigintOrHexStringTypeException=u;class c extends TypeError{code=i.default.ParameterInvalid;constructor(t){super(`Expect hash to be string, but ${t} received`)}}e.StringHashTypeException=c;class f extends Error{code=i.default.ParameterInvalid;constructor(t){super(`Hex string ${t} should start with 0x`)}}e.HexStringWithout0xException=f;e.default={PageSizeTooLargeException:o,PageSizeTooSmallException:s,OutputsValidatorTypeException:a,BigintOrHexStringTypeException:u,StringHashTypeException:c,HexStringWithout0xException:f}},29383:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(91173);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var i=r(49580);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var o=r(39915);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}))},49580:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ResponseException=e.IdNotMatchException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n};class o extends Error{code=i.default.IdNotMatch;constructor(t,e){super(`Expect json rpc id to be ${t}, but ${e} received`)}}e.IdNotMatchException=o;class s extends Error{code=i.default.ResponseMessage}e.ResponseException=s;e.default={IdNotMatchException:o,ResponseException:s}},24980:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResultFormatter=e.RPC=e.ParamsFormatter=e.DEFAULT_RPC_TIMEOUT=e.CKBRPC=void 0;var n=r(15172),i=r(7395),o=r(41184),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=l(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}(r(27753)),a=r(29383),u=f(r(74945)),c=f(r(25568));function f(t){return t&&t.__esModule?t:{default:t}}function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(l=function(t){return t?r:e})(t)}e.ParamsFormatter=o.formatter,e.ResultFormatter=s;const d=e.DEFAULT_RPC_TIMEOUT=3e4;class h extends n.Base{#e;#r={url:""};get node(){return this.#r}#n=o.formatter;get paramsFormatter(){return this.#n}#i=s;get resultFormatter(){return this.#i}constructor(t,e={}){super(),this.setNode({url:t});const{timeout:r=d,fetch:n=u.default}=e;this.#e={timeout:r,fetch:n},Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach((t=>{this.addMethod({name:t,...this.rpcProperties[t]},this.#e)}))}setNode(t){return Object.assign(this.node,t),this.node}addMethod=(t,e)=>{const r=new i.Method(this.node,t,e);Object.defineProperty(this,t.name,{value:r.call,enumerable:!0})};createBatchRequest=(t=[])=>{const e=this,r=new Proxy([],{set(...t){const r=Object.keys(e);if("length"!==t[1]){var n;const e=null==t||null===(n=t[2])||void 0===n?void 0:n[0];if(-1===r.indexOf(e))throw new a.MethodInBatchNotFoundException(e)}return Reflect.set(...t)}});return Object.defineProperties(r,{add:{value(...t){return this.push(t),this}},remove:{value(t){return this.splice(t,1),this}},exec:{async value(){const t=r.map((([t,...r],n)=>{try{return new i.Method(e.node,{...e.rpcProperties[t],name:t}).getPayload(...r)}catch(t){throw new a.PayloadInBatchException(n,t.message)}})),n=new c.default,o=n.signal,s=setTimeout((()=>n.abort()),e.#e.timeout),u=await e.#e.fetch(e.#r.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),signal:o}).then((t=>t.json()));return clearTimeout(s),u.map(((n,i)=>{var o,s,u;return n.id!==t[i].id?new a.IdNotMatchedInBatchException(i,t[i].id,n.id):null!==(o=null===(s=(u=e.rpcProperties[r[i][0]]).resultFormatters)||void 0===s?void 0:s.call(u,n.result))&&void 0!==o?o:n.result}))}}}),t.forEach((t=>r.push(t))),r}}e.RPC=e.CKBRPC=h},7395:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Method=void 0;var n=r(29383),i=r(24980),o=a(r(25568)),s=a(r(74945));function a(t){return t&&t.__esModule?t:{default:t}}e.Method=class{#o;#e;get name(){return this.#o}#s={name:"",method:"",paramsFormatters:[],resultFormatters:void 0};#r;constructor(t,e,r={}){this.#r=t,this.#s=e,this.#o=e.name;const{timeout:n=i.DEFAULT_RPC_TIMEOUT,fetch:o=s.default}=r;this.#e={timeout:n,fetch:o},Object.defineProperty(this.call,"name",{value:e.name,configurable:!1,writable:!1})}call=async(...t)=>{const e=this.getPayload(...t),r=new o.default,i=r.signal,s=setTimeout((()=>r.abort()),this.#e.timeout),a=await this.#e.fetch(this.#r.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),signal:i}).then((t=>t.json())).then((t=>{var r,i,o;if(t.id!==e.id)throw new n.IdNotMatchException(e.id,t.id);if(t.error)throw new n.ResponseException(JSON.stringify(t.error));return null!==(r=null===(i=(o=this.#s).resultFormatters)||void 0===i?void 0:i.call(o,t.result))&&void 0!==r?r:t.result}));return clearTimeout(s),a};getPayload=(...t)=>{const e=t.map(((t,e)=>this.#s.paramsFormatters[e]&&this.#s.paramsFormatters[e](t)||t));return{id:Math.round(1e4*Math.random()),method:this.#s.method,params:e,jsonrpc:"2.0"}}}},41184:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatter=void 0;var n=r(29383),i=r(92900);const o=e.formatter={toOptional:t=>e=>t&&null!=e?t(e):e,toArray:t=>e=>"function"==typeof t&&Array.isArray(e)?e.map(t):e,toHash:t=>{if("string"!=typeof t)throw new n.StringHashTypeException(t);return t.startsWith("0x")?t:`0x${t}`},toNumber:t=>{if("bigint"==typeof t)return`0x${t.toString(16)}`;if("string"!=typeof t)throw new n.BigintOrHexStringTypeException(t);if(!t.startsWith("0x"))throw new n.HexStringWithout0xException(t);return t},toScript:t=>{const{codeHash:e,hashType:r,...n}=t;return{code_hash:o.toHash(e),hash_type:r,...n}},toOutPoint:t=>{const{txHash:e,index:r,...n}=t;return{tx_hash:o.toHash(e),index:o.toNumber(r),...n}},toInput:t=>{if(!t)return t;const{previousOutput:e,since:r,...n}=t;return{previous_output:o.toOutPoint(e),since:o.toNumber(r),...n}},toOutput:t=>{if(!t)return t;const{capacity:e,lock:r,type:n,...i}=t;return{capacity:o.toNumber(e),lock:o.toScript(r),type:n?o.toScript(n):n,...i}},toDepType:t=>"depGroup"===t?"dep_group":t,toOrder:t=>t,toCellDep:t=>{if(!t)return t;const{outPoint:e,depType:r="code",...n}=t;return{out_point:o.toOutPoint(e),dep_type:o.toDepType(r),...n}},toRawTransaction:t=>{if(!t)return t;const{version:e,cellDeps:r=[],inputs:n=[],outputs:i=[],outputsData:s=[],headerDeps:a=[],...u}=t,c=n.map((t=>o.toInput(t))),f=i.map((t=>o.toOutput(t))),l=r.map((t=>o.toCellDep(t)));return{version:o.toNumber(e),cell_deps:l,inputs:c,outputs:f,outputs_data:s,header_deps:a,...u}},toPageNumber:(t="0x1")=>o.toNumber(t),toPageSize:(t="0x32")=>{const e=i.BI.from(t);if(i.BI.from(e).gt(50))throw new n.PageSizeTooLargeException(t,50);if(i.BI.from(e).lt(0))throw new n.PageSizeTooSmallException(t,0);return o.toNumber(`0x${e.toString(16)}`)},toReverseOrder:(t=!1)=>!!t,toOutputsValidator:t=>{if(!t)return;if(["default","passthrough"].indexOf(t)>-1)return t;throw new n.OutputsValidatorTypeException},toBoolean:t=>!!t,toTransactionProof:t=>{if(!t)return t;const{blockHash:e,witnessesRoot:r,...n}=t;return{block_hash:e,witnesses_root:r,...n}},toTransactionAndWitnessProof:t=>({block_hash:t.blockHash,witnesses_proof:t.witnessesProof,transactions_proof:t.transactionsProof}),toSearchFilter:t=>t?{script:t.script?o.toScript(t.script):t.script,output_data_len_range:t.outputDataLenRange,output_capacity_range:t.outputCapacityRange,block_range:t.blockRange,script_len_range:t.scriptLenRange}:t,toSearchKey:t=>t?{script:o.toScript(t.script),script_type:t.scriptType,filter:t.filter?o.toSearchFilter(t.filter):t.filter,script_search_mode:t.scriptSearchMode?t.scriptSearchMode:"prefix"}:t,toGetCellsSearchKey:t=>t?{...o.toSearchKey(t),with_data:t.withData}:t,toGetTransactionsSearchKey:t=>t?{...o.toSearchKey(t),group_by_transaction:t.groupByTransaction}:t}},27753:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toBannedAddresses=e.toBannedAddress=e.toArray=e.toAlertMessage=void 0,e.toBlock=function t(e){if(!e)return e;if("string"==typeof e)return e;if("block"in e&&"cycles"in e)return{cycles:e.cycles,block:t(e.block)};const{header:n,uncles:i=[],transactions:o=[],...s}=e;return{header:r(n),uncles:i.map(f),transactions:o.map(c),...s}},e.toHash=e.toGetTransactionsResult=e.toGetCellsResult=e.toForkBlockResult=e.toFeeRateStatistics=e.toFeeRate=e.toEstimateCycles=e.toEpoch=e.toDeploymentsInfo=e.toDeploymentInfo=e.toDeployment=e.toDeployState=e.toDepType=e.toConsensus=e.toCellsIncludingOutPoint=e.toCellsCapacity=e.toCells=e.toCellbaseOutputCapacityDetails=e.toCellIncludingOutPoint=e.toCellDep=e.toCell=e.toCapacityByLockHash=e.toBlockchainInfo=e.toBlockFilter=e.toBlockEconomicState=void 0,e.toHeader=r,e.toTip=e.toSyncState=e.toScript=e.toRemoteNodeInfo=e.toRawTxPool=e.toPeers=e.toOutput=e.toOutPoint=e.toNumber=e.toNullable=e.toLockHashIndexStates=e.toLockHashIndexState=e.toLocalNodeInfo=e.toLiveCellsByLockHash=e.toLiveCellWithStatus=e.toLiveCell=e.toInput=void 0,e.toTransaction=c,e.toUncleBlock=e.toTxPoolInfo=e.toTransactionsByLockHash=e.toTransactionWithStatus=e.toTransactionProof=e.toTransactionPoint=e.toTransactionAndWitnessProof=void 0;e.toArray=t=>e=>"function"==typeof t&&Array.isArray(e)?e.map(t):e;e.toNullable=t=>e=>t&&null!==e?t(e):e;e.toNumber=t=>t.toString();function r(t){if("string"==typeof t)return t;if(!t)return t;const{compact_target:e,transactions_root:r,proposals_hash:n,extra_hash:i,parent_hash:o,...s}=t;return{compactTarget:e,parentHash:o,transactionsRoot:r,proposalsHash:n,extraHash:i,...s}}e.toHash=t=>t;const n=t=>{if(!t)return t;const{code_hash:e,hash_type:r,...n}=t;return{codeHash:e,hashType:r,...n}};e.toScript=n;const i=t=>{if(!t)return t;const{previous_output:e,...r}=t;return{previousOutput:e?s(e):e,...r}};e.toInput=i;const o=t=>{if(!t)return t;const{lock:e,type:r,...i}=t;return{lock:n(e),type:r?n(r):r,...i}};e.toOutput=o;const s=t=>{const{tx_hash:e,...r}=t;return{txHash:e,...r}};e.toOutPoint=s;const a=t=>"dep_group"===t?"depGroup":t;e.toDepType=a;const u=t=>{if(!t)return t;const{out_point:e,dep_type:r="code",...n}=t;return{outPoint:s(e),depType:a(r),...n}};function c(t){if(!t||"object"!=typeof t)return t;const{cell_deps:e=[],inputs:r=[],outputs:n=[],outputs_data:s=[],header_deps:a=[],...c}=t;return{cellDeps:e.map(u),inputs:r.map(i),outputs:n.map(o),outputsData:s,headerDeps:a,...c}}e.toCellDep=u;const f=t=>{if(!t)return t;const{header:e,...n}=t;return{header:r(e),...n}};e.toUncleBlock=f;e.toTip=t=>({blockHash:t.block_hash,blockNumber:t.block_number});const l=t=>{if(!t)return t;const{notice_until:e,...r}=t;return{noticeUntil:e,...r}};e.toAlertMessage=l;e.toBlockchainInfo=t=>{if(!t)return t;const{is_initial_block_download:e,median_time:r,alerts:n,...i}=t;return{isInitialBlockDownload:e,medianTime:r,alerts:n.map(l),...i}};e.toLocalNodeInfo=t=>{if(!t)return t;const{node_id:e,protocols:r,...n}=t;return{nodeId:e,protocols:r.map((({id:t,name:e,support_versions:r})=>({id:t,name:e,supportVersions:r}))),...n}};const d=t=>{if(!t)return t;const{node_id:e,connected_duration:r,is_outbound:n,last_ping_duration:i,sync_state:o,...s}=t;return{nodeId:e,connectedDuration:r,isOutbound:n,lastPingDuration:i,syncState:{bestKnownHeaderHash:o.best_known_header_hash,bestKnownHeaderNumber:o.best_known_header_number,canFetchCount:o.can_fetch_count,inflightCount:o.inflight_count,lastCommonHeaderHash:o.last_common_header_hash,lastCommonHeaderNumber:o.last_common_header_number,unknownHeaderListSize:o.unknown_header_list_size},...s}};e.toRemoteNodeInfo=d;e.toTxPoolInfo=t=>{if(!t)return t;const{last_txs_updated_at:e,tip_hash:r,tip_number:n,total_tx_cycles:i,total_tx_size:o,min_fee_rate:s,min_rbf_rate:a,tx_size_limit:u,max_tx_pool_size:c,...f}=t;return{lastTxsUpdatedAt:e,tipHash:r,tipNumber:n,totalTxCycles:i,totalTxSize:o,minFeeRate:s,minRbfRate:a,txSizeLimit:u,maxTxPoolSize:c,...f}};e.toPeers=t=>Array.isArray(t)?t.map(d):[];const h=t=>{if(!t)return t;const{lock:e,type:r,...i}=t;return{lock:n(e),type:r?n(r):void 0,...i}};e.toCell=h;const p=t=>{if(!t)return t;const{data:e,output:r,...n}=t;return{data:e,output:o(r),...n}};e.toLiveCell=p;e.toLiveCellWithStatus=t=>{if(!t)return t;const{cell:e,...r}=t;return{cell:p(e),...r}};e.toCells=t=>Array.isArray(t)?t.map(h):[];const y=t=>{if(!t)return t;const{lock:e,block_hash:r,out_point:i,output_data_len:o,...a}=t;return{blockHash:r,lock:n(e),outPoint:s(i),outputDataLen:o,...a}};e.toCellIncludingOutPoint=y;e.toCellsIncludingOutPoint=t=>Array.isArray(t)?t.map(y):[];e.toTransactionWithStatus=t=>{if(!t)return t;const{transaction:e,tx_status:{block_hash:r,status:n},time_added_to_pool:i,min_replace_fee:o,fee:s,...a}=t;return{transaction:c(e),txStatus:{blockHash:r,status:n,..."reason"in t.tx_status?{reason:t.tx_status.reason}:{}},timeAddedToPool:i,minReplaceFee:o,fee:s,...a}};e.toEpoch=t=>{if(!t)return t;const{start_number:e,compact_target:r,...n}=t;return{compactTarget:r,startNumber:e,...n}};const g=t=>{if(!t)return t;const{block_number:e,tx_hash:r,...n}=t;return{blockNumber:e,txHash:r,...n}};e.toTransactionPoint=g;e.toTransactionsByLockHash=t=>t?t.map((t=>({consumedBy:t.consumed_by?g(t.consumed_by):t.consumed_by,createdBy:g(t.created_by)}))):t;e.toLiveCellsByLockHash=t=>t?t.map((t=>({cellOutput:h(t.cell_output),createdBy:g(t.created_by),cellbase:t.cellbase,outputDataLen:t.output_data_len}))):t;const b=t=>{if(!t)return t;const{block_hash:e,block_number:r,lock_hash:n,...i}=t;return{blockHash:e,blockNumber:r,lockHash:n,...i}};e.toLockHashIndexState=b;e.toLockHashIndexStates=t=>t?t.map(b):t;const m=t=>{if(!t)return t;const{ban_reason:e,ban_until:r,created_at:n,...i}=t;return{banReason:e,banUntil:r,createdAt:n,...i}};e.toBannedAddress=m;e.toBannedAddresses=t=>t?t.map((t=>m(t))):t;e.toCellbaseOutputCapacityDetails=t=>{if(!t)return t;const{proposal_reward:e,tx_fee:r,...n}=t;return{proposalReward:e,txFee:r,...n}};e.toFeeRate=t=>{if(!t)return t;const{fee_rate:e,...r}=t;return{feeRate:e,...r}};e.toCapacityByLockHash=t=>{if(!t)return t;const{cells_count:e,block_number:r,capacity:n,...i}=t;return{blockNumber:r,capacity:n,cellsCount:e,...i}};e.toBlockEconomicState=t=>{if(!t)return t;const{finalized_at:e,miner_reward:r,txs_fee:n,...i}=t;return{finalizedAt:e,minerReward:r,txsFee:n,...i}};e.toSyncState=t=>t?{bestKnownBlockNumber:t.best_known_block_number,bestKnownBlockTimestamp:t.best_known_block_timestamp,fastTime:t.fast_time,ibd:t.ibd,inflightBlocksCount:t.inflight_blocks_count,lowTime:t.low_time,normalTime:t.normal_time,orphanBlocksCount:t.orphan_blocks_count}:t;e.toTransactionProof=t=>{if(!t)return t;const{block_hash:e,witnesses_root:r,...n}=t;return{blockHash:e,witnessesRoot:r,...n}};const v=t=>({rfc:t.rfc,epochNumber:t.epoch_number}),_=t=>({bit:t.bit,start:t.start,timeout:t.timeout,minActivationEpoch:t.min_activation_epoch,period:t.period,threshold:t.threshold});e.toDeployment=_;const w=t=>"rfc0043"in t?{status:t.status,rfc0043:_(t.rfc0043)}:t;e.toConsensus=t=>{if(!t)return t;const e=t.hardfork_features,r=t.softforks,n=r.light_client&&w(r.light_client),i=r.testdummy&&w(r.testdummy);return{blockVersion:t.block_version,cellbaseMaturity:t.cellbase_maturity,daoTypeHash:t.dao_type_hash,epochDurationTarget:t.epoch_duration_target,genesisHash:t.genesis_hash,id:t.id,initialPrimaryEpochReward:t.initial_primary_epoch_reward,maxBlockBytes:t.max_block_bytes,maxBlockCycles:t.max_block_cycles,maxBlockProposalsLimit:t.max_block_proposals_limit,maxUnclesNum:t.max_uncles_num,medianTimeBlockCount:t.median_time_block_count,orphanRateTarget:t.orphan_rate_target,permanentDifficultyInDummy:t.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:t.primary_epoch_reward_halving_interval,proposerRewardRatio:t.proposer_reward_ratio,secondaryEpochReward:t.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:t.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:t.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:t.tx_proposal_window,txVersion:t.tx_version,typeIdCodeHash:t.type_id_code_hash,hardforkFeatures:e.map(v),softforks:{...n&&{lightClient:n},...i&&{testdummy:i}}}};e.toRawTxPool=t=>{if(!t)return t;if((t=>Array.isArray(t.pending))(t))return t;const e=({ancestors_count:t,ancestors_cycles:e,ancestors_size:r,...n})=>({ancestorsCount:t,ancestorsCycles:e,ancestorsSize:r,...n}),r={},n={};return Object.keys(t.proposed).forEach((n=>{r[n]=e(t.proposed[n])})),Object.keys(t.pending).forEach((r=>{n[r]=e(t.pending[r])})),{proposed:r,pending:n}};e.toGetCellsResult=t=>({lastCursor:t.last_cursor,objects:t.objects.map((t=>{return(e=t)?{blockNumber:e.block_number,outPoint:s(e.out_point),output:o(e.output),outputData:e.output_data,txIndex:e.tx_index}:e;var e}))});e.toGetTransactionsResult=t=>t?{lastCursor:t.last_cursor,objects:t.objects.map((t=>{return(e=t)?e.cells?{txHash:e.tx_hash,txIndex:e.tx_index,blockNumber:e.block_number,cells:e.cells}:{txHash:e.tx_hash,blockNumber:e.block_number,ioIndex:e.io_index,ioType:e.io_type,txIndex:e.tx_index}:e;var e}))}:t;e.toCellsCapacity=t=>t?{capacity:t.capacity,blockHash:t.block_hash,blockNumber:t.block_number}:t;e.toBlockFilter=t=>({hash:t.hash,data:t.data});e.toTransactionAndWitnessProof=t=>({blockHash:t.block_hash,transactionsProof:t.transactions_proof,witnessesProof:t.witnesses_proof});e.toFeeRateStatistics=t=>({mean:t.mean,median:t.median});e.toForkBlockResult=t=>"string"==typeof t?t:{header:r(t.header),uncles:t.uncles.map(f),transactions:t.transactions.map(c),proposals:t.proposals,extension:t.extension};e.toEstimateCycles=t=>({cycles:t.cycles});const S=t=>"locked_in"===t?"lockedIn":t;e.toDeployState=S;const A=t=>({bit:t.bit,start:t.start,timeout:t.timeout,minActivationEpoch:t.min_activation_epoch,period:t.period,threshold:t.threshold,since:t.since,state:S(t.state)});e.toDeploymentInfo=A;e.toDeploymentsInfo=t=>{const{light_client:e,testdummy:r}=t.deployments;return{hash:t.hash,epoch:t.epoch,deployments:{...e?{lightClient:A(e)}:{},...r?{testdummy:A(r)}:{}}}}},49805:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Reader",{enumerable:!0,get:function(){return n.Reader}}),e.validators=e.transformers=e.normalizers=e.VERSION=void 0;var n=r(42314),i=u(r(69869));e.normalizers=i;var o=u(r(93561));e.transformers=o;var s=u(r(20630));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(a=function(t){return t?r:e})(t)}function u(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}e.validators=s;e.VERSION="__development_build__"},69869:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NormalizeBlock=function(t,{debugPath:e="block"}={}){return a(e,t,{header:f(m),uncles:p(f(v)),transactions:p(f(g)),proposals:p(s(10))})},e.NormalizeCellDep=h,e.NormalizeCellInput=l,e.NormalizeCellOutput=d,e.NormalizeCellbaseWitness=function(t,{debugPath:e="cellbase_witness"}={}){return a(e,t,{lock:f(u),message:s(-1)})},e.NormalizeHeader=m,e.NormalizeOutPoint=c,e.NormalizeRawHeader=b,e.NormalizeRawTransaction=y,e.NormalizeScript=u,e.NormalizeTransaction=g,e.NormalizeUncleBlock=v,e.NormalizeWitnessArgs=function(t,{debugPath:e="witness_args"}={}){const r={};t.lock&&(r.lock=s(-1)(`${e}.lock`,t.lock));t.inputType&&(r.inputType=s(-1)(`${e}.inputType`,t.inputType));t.outputType&&(r.outputType=s(-1)(`${e}.outputType`,t.outputType));return r};var n=r(92900),i=r(42314);function o(t){return function(e,r){if(!(r instanceof ArrayBuffer)){let i=n.BI.from(r).toString(16);if(i.length%2!=0&&(i="0"+i),i.length/2>t)throw new Error(`${e} is ${i.length/2} bytes long, expected length is ${t}!`);const o=new DataView(new ArrayBuffer(t));for(let t=0;t<i.length/2;t++){const e=i.length-2*(t+1);o.setUint8(t,parseInt(i.substr(e,2),16))}r=o.buffer}if(r.byteLength<t){const e=new Uint8Array(t);e.set(new Uint8Array(r),0),r=e.buffer}return r}}function s(t){return function(e,r){if(r=new i.Reader(r).toArrayBuffer(),t>0&&r.byteLength!==t)throw new Error(`${e} has invalid length ${r.byteLength}, required: ${t}`);return r}}function a(t,e,r){const n={};for(const[i,o]of Object.entries(r)){const r=e[i];if(null==r)throw new Error(`${t} is missing ${i}!`);n[i]=o(`${t}.${i}`,r)}return n}function u(t,{debugPath:e="script"}={}){return a(e,t,{codeHash:s(32),hashType:function(t,e){switch(e){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:case 1:case 2:case 4:return e;default:throw new Error(`${t}.hashType has invalid value: ${e}`)}},args:s(-1)})}function c(t,{debugPath:e="outPoint"}={}){return a(e,t,{txHash:s(32),index:o(4)})}function f(t){return function(e,r){return t(r,{debugPath:e})}}function l(t,{debugPath:e="cell_input"}={}){return a(e,t,{since:o(8),previousOutput:f(c)})}function d(t,{debugPath:e="cellOutput"}={}){const r=a(e,t,{capacity:o(8),lock:f(u)});return t.type&&(r.type_=u(t.type,{debugPath:`${e}.type`})),r}function h(t,{debugPath:e="cell_dep"}={}){return a(e,t,{outPoint:f(c),depType:function(t,e){switch(e){case"code":return 0;case"depGroup":return 1;case 0:case 1:return e;default:throw new Error(`${t}.depType has invalid value: ${e}`)}}})}function p(t){return function(e,r){return r.map(((r,n)=>t(`${e}[${n}]`,r)))}}function y(t,{debugPath:e="raw_transaction"}={}){return a(e,t,{version:o(4),cellDeps:p(f(h)),headerDeps:p(s(32)),inputs:p(f(l)),outputs:p(f(d)),outputsData:p(s(-1))})}function g(t,{debugPath:e="transaction"}={}){const r=y(t,{debugPath:`(raw)${e}`}),n=a(e,t,{witnesses:p(s(-1))});return n.raw=r,n}function b(t,{debugPath:e="raw_header"}={}){return a(e,t,{version:o(4),compactTarget:o(4),timestamp:o(8),number:o(8),epoch:o(8),parentHash:s(32),transactionsRoot:s(32),proposalsHash:s(32),extraHash:s(32),dao:s(32)})}function m(t,{debugPath:e="header"}={}){const r=b(t,{debugPath:`(raw)${e}`}),n=a(e,t,{nonce:o(16)});return n.raw=r,n}function v(t,{debugPath:e="uncle_block"}={}){return a(e,t,{header:f(m),proposals:p(s(10))})}},42314:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Reader=void 0;class r{constructor(){this.__isByteLikeReader__=!0}static isReader(t){return null!=t&&(t instanceof r||!0===t.__isByteLikeReader__)}}class n extends r{constructor(t){super(),this.view=new DataView(t)}length(){return this.view.byteLength}indexAt(t){return this.view.getUint8(t)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),(t=>("00"+t.toString(16)).slice(-2))).join("")}}class i extends r{constructor(t){super(),this.string=t}length(){return this.string.length/2-1}indexAt(t){return parseInt(this.string.substr(2+2*t,2),16)}toArrayBuffer(){const t=new ArrayBuffer(this.length()),e=new DataView(t);for(let t=0;t<this.length();t++)e.setUint8(t,this.indexAt(t));return t}serializeJson(){return this.string}}class o extends r{constructor(t){if(super(),t instanceof i||t instanceof n)return t;if("string"==typeof t){if(!t.startsWith("0x")||t.length%2!=0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new i(t)}if(t instanceof ArrayBuffer)return new n(t);if(t instanceof Uint8Array)return new n(Uint8Array.from(t).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(t){return new o(t)}static fromRawString(t){const e=new ArrayBuffer(t.length),r=new DataView(e);for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n>255)throw new Error("fromRawString can only accept UTF-8 raw string!");r.setUint8(e,n)}return new n(e)}}e.Reader=o},93561:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransformBlock=function(t,{validation:e=!0,debugPath:r="block"}={}){t=s(r,t,{header:c(y),uncles:h(c(g)),transactions:h(c(p)),proposals:h(o)}),e&&n.ValidateBlock(t,{debugPath:`(transformed) ${r}`});return t},e.TransformCellInput=f,e.TransformCellOutput=l,e.TransformCellbaseWitness=function(t,{validation:e=!0,debugPath:r="cellbase_witness"}={}){t=s(r,t,{lock:c(a),message:o}),e&&n.ValidateCellbaseWitness(t,{debugPath:`(transformed) ${r}`});return t},e.TransformHeader=y,e.TransformOutPoint=u,e.TransformRawHeader=function(t,{validation:e=!0,debugPath:r="raw_header"}={}){t=s(r,t,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o}),e&&n.ValidateRawHeader(t,{debugPath:`(transformed) ${r}`});return t},e.TransformRawTransaction=function(t,{validation:e=!0,debugPath:r="raw_transaction"}={}){t=s(r,t,{version:o,cellDeps:h(c(d)),headerDeps:h(o),inputs:h(c(f)),outputs:h(c(l)),outputsData:h(o)}),e&&n.ValidateRawTransaction(t,{debugPath:`(transformed) ${r}`});return t},e.TransformScript=a,e.TransformTransaction=p,e.TransformUncleBlock=g,e.TransformWitnessArgs=function(t,{validation:e=!0,debugPath:r="witness_args"}={}){t=s(r,t,{lock:o,inputType:o,outputType:o}),e&&n.ValidateWitnessArgs(t,{debugPath:`(transformed) ${r}`});return t};var n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}(r(20630));function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function o(t,e){return e instanceof Object&&e.serializeJson instanceof Function?e.serializeJson.call(e):e}function s(t,e,r){if(!((e=o(0,e))instanceof Object))throw new Error(`Transformed ${t} is not an object!`);const n={};for(const[i,o]of Object.entries(r)){let r=e[i];if(!r){r=e[i.replace(/(_[a-z])/g,(t=>t.toUpperCase().replace("_","")))]}r&&(n[i]=o(`${t}.${i}`,r))}return n}function a(t,{validation:e=!0,debugPath:r="script"}={}){return t=s(r,t,{codeHash:o,hashType:o,args:o}),e&&n.ValidateScript(t,{debugPath:`(transformed) ${r}`}),t}function u(t,{validation:e=!0,debugPath:r="outPoint"}={}){return t=s(r,t,{txHash:o,index:o}),e&&n.ValidateOutPoint(t,{debugPath:`(transformed) ${r}`}),t}function c(t){return function(e,r){return t(r,{validation:!1,debugPath:e})}}function f(t,{validation:e=!0,debugPath:r="cell_input"}={}){return t=s(r,t,{since:o,previousOutput:c(u)}),e&&n.ValidateCellInput(t,{debugPath:`(transformed) ${r}`}),t}function l(t,{validation:e=!0,debugPath:r="cellOutput"}={}){return t=s(r,t,{capacity:o,lock:c(a),type:c(a)}),e&&n.ValidateCellOutput(t,{debugPath:`(transformed) ${r}`}),t}function d(t,{validation:e=!0,debugPath:r="cell_dep"}={}){return t=s(r,t,{outPoint:c(u),depType:o}),e&&n.ValidateCellDep(t,{debugPath:`(transformed) ${r}`}),t}function h(t){return function(e,r){return r.map(((r,n)=>t(`${e}[${n}]`,r)))}}function p(t,{validation:e=!0,debugPath:r="transaction"}={}){return t=s(r,t,{version:o,cellDeps:h(c(d)),headerDeps:h(o),inputs:h(c(f)),outputs:h(c(l)),outputsData:h(o),witnesses:h(o)}),e&&n.ValidateTransaction(t,{debugPath:`(transformed) ${r}`}),t}function y(t,{validation:e=!0,debugPath:r="header"}={}){return t=s(r,t,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o,nonce:o}),e&&n.ValidateHeader(t,{debugPath:`(transformed) ${r}`}),t}function g(t,{validation:e=!0,debugPath:r="uncle_block"}={}){return t=s(r,t,{header:c(y),proposals:h(o)}),e&&n.ValidateUncleBlock(t,{debugPath:`(transformed) ${r}`}),t}},20630:(t,e)=>{"use strict";function r(t,e,r,n=[]){!function(t,e){if(!(e instanceof Object))throw new Error(`${t} is not an object!`)}(t,e);const i=Object.keys(e).sort(),o=r.length,s=r.length+n.length,a=`${t} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<o||i.length>s)throw new Error(a);let u=i.filter((t=>!r.includes(t)));if(i.length-u.length!==o)throw new Error(a);if(u.find((t=>!n.includes(t))))throw new Error(a)}function n(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function i(t,e){if(n(t,e),66!==e.length)throw new Error(`${t} must be a hex string of 66 bytes long!`)}function o(t,e){if("0x0"!==e&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function s(t,{nestedValidation:e=!0,debugPath:o="script"}={}){if(r(o,t,["codeHash","hashType","args"],[]),i(`${o}.codeHash`,t.codeHash),n(`${o}.args`,t.args),"data"!==t.hashType&&"type"!==t.hashType&&"data1"!==t.hashType&&"data2"!==t.hashType)throw new Error(`${o}.hashType must be either data or type!`)}function a(t,{nestedValidation:e=!0,debugPath:n="outPoint"}={}){r(n,t,["txHash","index"],[]),i(`${n}.txHash`,t.txHash),o(`${n}.index`,t.index)}function u(t,{nestedValidation:e=!0,debugPath:n="cellInput"}={}){r(n,t,["since","previousOutput"],[]),o(`${n}.since`,t.since),e&&a(t.previousOutput,{debugPath:`${n}.previousOutput`})}function c(t,{nestedValidation:e=!0,debugPath:n="cellOutput"}={}){r(n,t,["capacity","lock"],["type"]),o(`${n}.capacity`,t.capacity),e&&(s(t.lock,{debugPath:`${n}.lock`}),t.type&&s(t.type,{debugPath:`${n}.type`}))}function f(t,{nestedValidation:e=!0,debugPath:n="cellDep"}={}){if(r(n,t,["outPoint","depType"],[]),"code"!==t.depType&&"depGroup"!==t.depType)throw new Error(`${n}.depType must be either code or depGroup!`);e&&a(t.outPoint,{debugPath:`${n}.outPoint`})}function l(t,e,r,n){if(!Array.isArray(e))throw new Error(`${t} is not an array!`);if(n)for(let n=0;n<e.length;n++)r(`${t}[${n}]`,e[n])}function d(t,e){return function(r,n){t(n,{nestedValidation:e,debugPath:r})}}function h(t,e,r){o(`${t}.version`,e.version),l(`${t}.cellDeps`,e.cellDeps,d(f,r),r),l(`${t}.headerDeps`,e.headerDeps,i,r),l(`${t}.inputs`,e.inputs,d(u,r),r),l(`${t}.outputs`,e.outputs,d(c,r),r),l(`${t}.outputsData`,e.outputsData,n,r)}function p(t,{nestedValidation:e=!0,debugPath:i="transaction"}={}){r(i,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),h(i,t,e),l(`${i}.witnesses`,t.witnesses,n,e)}function y(t,{nestedValidation:e=!0,debugPath:i="header"}={}){if(r(i,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),n(`${i}.nonce`,t.nonce),34!==t.nonce.length)throw new Error(`${i}.nonce must be a hex string of 34 bytes long!`)}function g(t,e){if(n(t,e),22!==e.length)throw new Error(`${t} must be a hex string of 22 bytes long!`)}function b(t,{nestedValidation:e=!0,debugPath:n="uncleBlock"}={}){r(n,t,["header","proposals"],[]),e&&y(t.header,{debugPath:`${n}.header`}),l(`${n}.proposals`,t.proposals,g,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateBlock=function(t,{nestedValidation:e=!0,debugPath:n="block"}={}){r(n,t,["header","uncles","transactions","proposals"],[]),e&&y(t.header,{debugPath:`${n}.header`});l(`${n}.uncles`,t.uncles,d(b,e),e),l(`${n}.transactions`,t.transactions,d(p,e),e),l(`${n}.proposals`,t.proposals,g,e)},e.ValidateCellDep=f,e.ValidateCellInput=u,e.ValidateCellOutput=c,e.ValidateCellbaseWitness=function(t,{nestedValidation:e=!0,debugPath:i="cellbaseWitness"}={}){r(i,t,["lock","message"],[]),n(`${i}.message`,t.message),e&&s(t.lock,{debugPath:`${i}.lock`})},e.ValidateHeader=y,e.ValidateOutPoint=a,e.ValidateRawHeader=function(t,{nestedValidation:e=!0,debugPath:n="rawHeader"}={}){r(n,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),function(t,e){o(`${t}.version`,e.version),o(`${t}.compactTarget`,e.compactTarget),o(`${t}.timestamp`,e.timestamp),o(`${t}.number`,e.number),o(`${t}.epoch`,e.epoch),i(`${t}.parentHash`,e.parentHash),i(`${t}.transactionsRoot`,e.transactionsRoot),i(`${t}.proposalsHash`,e.proposalsHash),i(`${t}.extraHash`,e.extraHash),i(`${t}.dao`,e.dao)}(n,t)},e.ValidateRawTransaction=function(t,{nestedValidation:e=!0,debugPath:n="rawTransaction"}={}){r(n,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),h(n,t,e)},e.ValidateScript=s,e.ValidateTransaction=p,e.ValidateUncleBlock=b,e.ValidateWitnessArgs=function(t,{nestedValidation:e=!0,debugPath:i="witnessArgs"}={}){r(i,t,[],["lock","inputType","outputType"]),t.lock&&n(`${i}.lock`,t.lock);t.inputType&&n(`${i}.inputType`,t.inputType);t.outputType&&n(`${i}.outputType`,t.outputType)}},59045:(t,e,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var r=void 0!==t&&t||"undefined"!=typeof self&&self||void 0!==r&&r,n="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in r,a="ArrayBuffer"in r;if(a)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function y(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=y(e);return e.readAsArrayBuffer(t),r}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=p(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var t,e,r,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=y(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=f(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},h.prototype.delete=function(t){delete this.map[f(t)]},h.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},h.prototype.set=function(t,e){this.map[f(t)]=l(e)},h.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),d(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),d(t)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function S(t,e){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];S.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,n){return new Promise((function(i,s){var u=new _(t,n);if(u.signal&&u.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function f(){c.abort()}c.onload=function(){var t,e,r={status:c.status,statusText:c.statusText,headers:(t=c.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout((function(){i(new S(n,r))}),0)},c.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){s(new e.DOMException("Aborted","AbortError"))}),0)},c.open(u.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(u.url),!0),"include"===u.credentials?c.withCredentials=!0:"omit"===u.credentials&&(c.withCredentials=!1),"responseType"in c&&(o?c.responseType="blob":a&&u.headers.get("Content-Type")&&-1!==u.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof h?u.headers.forEach((function(t,e){c.setRequestHeader(e,t)})):Object.getOwnPropertyNames(n.headers).forEach((function(t){c.setRequestHeader(t,l(n.headers[t]))})),u.signal&&(u.signal.addEventListener("abort",f),c.onreadystatechange=function(){4===c.readyState&&u.signal.removeEventListener("abort",f)}),c.send(void 0===u._bodyInit?null:u._bodyInit)}))}x.polyfill=!0,r.fetch||(r.fetch=x,r.Headers=h,r.Request=_,r.Response=S),e.Headers=h,e.Request=_,e.Response=S,e.fetch=x}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=n.fetch?n:i;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e},69535:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftCells=e.getInputs=e.getTargetOutputs=e.getKeyAndCellsPairs=e.getBigInts=void 0;const n=r(44764),i=r(60720),o=r(9467),s=r(6969),a=`0x${61e8.toString(16)}`;e.getBigInts=({fee:t,capacityThreshold:e,changeThreshold:r})=>((0,s.assertToBeHexStringOrBigint)(t),(0,s.assertToBeHexStringOrBigint)(e),(0,s.assertToBeHexStringOrBigint)(r),{targetFee:i.JSBI.BigInt(`${t}`),minCapacity:i.JSBI.BigInt(`${e}`),minChange:i.JSBI.BigInt(`${r}`),zeroBigInt:i.JSBI.BigInt(0)});e.getKeyAndCellsPairs=t=>{const e="inputScript"in t?[t.inputScript]:t.inputScripts,r="outputScript"in t?[{lock:t.outputScript,capacity:t.capacity}]:t.outputs;let n=new Map;if("inputScript"in t){const e=(0,i.scriptToHash)(t.inputScript);n.set(e,t.cells||[])}else n=t.cells||new Map;return{inputScripts:e,outputs:r,unspentCellsMap:n}};e.getTargetOutputs=({outputs:t,minCapacity:e})=>t.map((t=>{const r=i.JSBI.BigInt(`${t.capacity}`);if(i.JSBI.lessThan(r,e))throw new Error(`Capacity should be at least ${e} shannon`);return Object.assign(Object.assign({},t),{capacity:r})}));e.getInputs=({inputScripts:t,safeMode:e,costCapacity:r,unspentCellsMap:n})=>{const o=[];let s=i.JSBI.BigInt(0);for(let a=0;a<t.length;a++){const u=(0,i.scriptToHash)(t[a]),c=n.get(u)||[];for(let t=0;t<c.length;t++){const n=c[t];if((!e||"0x"===n.data&&!n.type)&&(o.push({previousOutput:n.outPoint,since:"0x0",lockhash:u}),s=i.JSBI.add(s,i.JSBI.BigInt(n.capacity)),i.JSBI.greaterThanOrEqual(s,r)))break}if(i.JSBI.greaterThan(s,r))break}if(i.JSBI.lessThan(s,r))throw new Error("Input capacity is not enough");return{inputs:o,sum:s}};e.getLeftCells=({usedCells:t,inputScripts:e,unspentCellsMap:r})=>{const n=[];return e.forEach((e=>{const o=(0,i.scriptToHash)(e),s=r.get(o);(null==s?void 0:s.length)&&s.forEach((e=>{"0x"!==e.data||e.type||(e=>t.some((t=>{var r,n,i,o;return(null===(r=t.previousOutput)||void 0===r?void 0:r.txHash)===(null===(n=e.outPoint)||void 0===n?void 0:n.txHash)&&(null===(i=t.previousOutput)||void 0===i?void 0:i.index)===(null===(o=e.outPoint)||void 0===o?void 0:o.index)})))(e)||n.push({outPoint:e.outPoint,capacity:e.capacity})}))})),n};const u=t=>"object"!=typeof t;e.default=t=>{var r,s,{fee:c="0x0",changeLockScript:f,safeMode:l=!0,deps:d,capacityThreshold:h=a,changeThreshold:p=a}=t,y=(0,n.__rest)(t,["fee","changeLockScript","safeMode","deps","capacityThreshold","changeThreshold"]);if(!d)throw new Error("The dep is not loaded");const{targetFee:g,minCapacity:b,minChange:m,zeroBigInt:v}=(0,e.getBigInts)({fee:u(c)?c:"0x0",capacityThreshold:h,changeThreshold:p}),{inputScripts:_,outputs:w,unspentCellsMap:S}=(0,e.getKeyAndCellsPairs)(y),A=(0,e.getTargetOutputs)({outputs:w,minCapacity:b}),x=A.reduce(((t,e)=>i.JSBI.add(t,e.capacity)),v),E=i.JSBI.add(i.JSBI.add(x,g),m),k={capacity:v,lock:f||_[0]},{inputs:I,sum:T}=(0,e.getInputs)({inputScripts:_,safeMode:l,costCapacity:E,unspentCellsMap:S});i.JSBI.greaterThan(T,i.JSBI.add(x,g))&&(k.capacity=i.JSBI.subtract(i.JSBI.subtract(T,x),g));const C=A.map((t=>Object.assign(Object.assign({},t),{capacity:`0x${t.capacity.toString(16)}`})));i.JSBI.greaterThan(k.capacity,v)&&C.push(Object.assign(Object.assign({},k),{capacity:`0x${k.capacity.toString(16)}`}));const O=Array.isArray(d)?d:[d],P=null!==(r=y.witnesses)&&void 0!==r?r:[];I.forEach(((t,e)=>{var r;P[e]||(P[e]=t.lockhash!==(null===(r=I[e-1])||void 0===r?void 0:r.lockhash)?o.EMPTY_WITNESS_ARGS:"0x")}));const M=null!==(s=y.outputsData)&&void 0!==s?s:[];C.forEach(((t,e)=>{M[e]||(M[e]="0x")}));const B={version:"0x0",cellDeps:O.map((t=>({outPoint:t.outPoint,depType:t.depType}))),headerDeps:[],inputs:I.map((({previousOutput:t,since:e})=>({previousOutput:t,since:e}))),outputs:C,witnesses:P,outputsData:M};if(!u(c)){const t=(0,e.getLeftCells)({inputScripts:_,usedCells:B.inputs,unspentCellsMap:S});return c.reconciler({tx:B,feeRate:c.feeRate,changeThreshold:p,cells:t,extraCount:10})}return B}},35191:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.groupScripts=void 0;const n=r(60720);e.groupScripts=t=>{const e=new Map;return t.forEach(((t,r)=>{const i=(0,n.scriptToHash)(t.lock),o=e.get(i)||[];e.set(i,[...o,r])})),e},e.default=e.groupScripts},98660:(t,e,r)=>{"use strict";var n,i,o,s,a,u,c;Object.defineProperty(e,"__esModule",{value:!0});const f=r(44764),l=(0,f.__importDefault)(r(80006)),d=r(73563),h=(0,f.__importStar)(r(60720)),p=(0,f.__importDefault)(r(69535)),y=(0,f.__importDefault)(r(68094)),g=(0,f.__importStar)(r(94976)),b=r(53165);n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,e.default=class{constructor(t="http://localhost:8114"){this.cells=new Map,this.utils=h,this.config={},this.generateLockHash=(t,e=this.config.secp256k1Dep)=>{if(!e)throw new d.ParameterRequiredException("deps");return this.utils.scriptToHash(Object.assign(Object.assign({},e),{args:t}))},this.loadDeps=()=>(0,f.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.rpc.getBlockByNumber("0x0");if(!t)throw new Error("Fail to load the genesis block");return(0,f.__classPrivateFieldGet)(this,c,"f").call(this,t),(0,f.__classPrivateFieldGet)(this,u,"f").call(this,t),this.config})),this.loadCells=t=>(0,f.__awaiter)(this,void 0,void 0,(function*(){const e=this.utils.scriptToHash(t.lock),r=yield(0,y.default)(t);return t.save&&this.cells.set(e,r),r})),this.signWitnesses=g.default,this.signTransaction=t=>(e,r=[])=>{if(!t)throw new d.ParameterRequiredException("Private key or address object");(0,f.__classPrivateFieldGet)(this,o,"f").call(this,e);const n=this.utils.rawTransactionToHash(e),i=(0,g.isMap)(t)?(0,b.filterCellsByInputs)(r,e.inputs):void 0,s=this.signWitnesses(t)({transactionHash:n,witnesses:e.witnesses,inputCells:i});return Object.assign(Object.assign({},e),{witnesses:s.map((t=>"string"==typeof t?t:this.utils.serializeWitnessArgs(t)))})},this.generateRawTransaction=t=>{var e,{fee:r,safeMode:n=!0,deps:i,capacityThreshold:o,changeThreshold:u,witnesses:c,outputsData:l}=t,d=(0,f.__rest)(t,["fee","safeMode","deps","capacityThreshold","changeThreshold","witnesses","outputsData"]);if((0,f.__classPrivateFieldGet)(this,s,"f").call(this,d)){const[t,s]=[d.fromAddress,d.toAddress].map(this.utils.addressToScript);let a=d.cells||[];return a.length||(a=null!==(e=this.cells.get(this.utils.scriptToHash(t)))&&void 0!==e?e:a),(0,p.default)({inputScript:t,outputScript:s,capacity:d.capacity,fee:r,safeMode:n,cells:a,deps:i,capacityThreshold:o,changeThreshold:u,witnesses:c,outputsData:l})}if((0,f.__classPrivateFieldGet)(this,a,"f").call(this,d)){const t=d.fromAddresses.map(this.utils.addressToScript),e=d.receivePairs.map((t=>({lock:this.utils.addressToScript(t.address),capacity:t.capacity,type:t.type})));return(0,p.default)({inputScripts:t,outputs:e,cells:d.cells||this.cells,fee:r,safeMode:n,deps:i,capacityThreshold:o,changeThreshold:u,witnesses:c,outputsData:l})}throw new Error("Parameters of generateRawTransaction are invalid")},this.generateDaoDepositTransaction=({fromAddress:t,capacity:e,fee:r,cells:o=[]})=>{(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const s=this.generateRawTransaction({fromAddress:t,toAddress:t,capacity:e,fee:r,safeMode:!0,cells:o,deps:[this.config.secp256k1Dep,this.config.daoDep]});return s.outputs[0].type={codeHash:this.config.daoDep.typeHash,args:"0x",hashType:this.config.daoDep.hashType},s.outputsData[0]="0x0000000000000000",s},this.generateDaoWithdrawStartTransaction=({outPoint:t,fee:e,cells:r=[]})=>(0,f.__awaiter)(this,void 0,void 0,(function*(){(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const o=yield this.rpc.getLiveCell(t,!1);if("live"!==o.status)throw new Error("Cell is not live yet.");const s=yield this.rpc.getTransaction(t.txHash);if("committed"!==s.txStatus.status)throw new Error("Transaction is not committed yet");const a=yield this.rpc.getBlock(s.txStatus.blockHash).then((t=>t.header)),u=this.utils.toUint64Le(a.number),c=this.utils.bech32Address(o.cell.output.lock.args),l=this.generateRawTransaction({fromAddress:c,toAddress:c,capacity:"0x0",fee:e,safeMode:!0,deps:[this.config.secp256k1Dep,this.config.daoDep],capacityThreshold:"0x0",cells:r});return l.outputs[0]=s.transaction.outputs[+t.index],l.outputsData[0]=u,l.inputs.unshift({previousOutput:t,since:"0x0"}),l.headerDeps.push(a.hash),l})),this.generateDaoWithdrawTransaction=({depositOutPoint:t,withdrawOutPoint:e,fee:r})=>(0,f.__awaiter)(this,void 0,void 0,(function*(){var o,s;(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const{JSBI:a}=this.utils,u=yield this.rpc.getLiveCell(e,!0);if("live"!==u.status)throw new Error("Cell is not live yet");const c=yield this.rpc.getTransaction(e.txHash);if("committed"!==c.txStatus.status)throw new Error("Transaction is not committed yet");const l=this.utils.bytesToHex(this.utils.hexToBytes(null!==(s=null===(o=u.cell.data)||void 0===o?void 0:o.content)&&void 0!==s?s:"").reverse()),d=yield this.rpc.getBlockByNumber(BigInt(l)).then((t=>t.header)),h=yield this.rpc.getBlock(c.txStatus.blockHash).then((t=>t.header)),p=this.utils.getWithdrawEpoch(d.epoch,h.epoch),y=yield this.rpc.calculateDaoMaximumWithdraw(t,h.hash),g=a.BigInt(y),b=a.BigInt(`${r}`);if(a.lessThan(g,b))throw new Error(`The fee(${b}) is too big that withdraw(${g}) is not enough`);const m=[{capacity:`0x${a.subtract(g,b).toString(16)}`,lock:c.transaction.outputs[+e.index].lock}];return{version:"0x0",cellDeps:[{outPoint:this.config.secp256k1Dep.outPoint,depType:this.config.secp256k1Dep.depType},{outPoint:this.config.daoDep.outPoint,depType:this.config.daoDep.depType}],headerDeps:[d.hash,h.hash],inputs:[{previousOutput:e,since:p}],outputs:m,outputsData:["0x"],witnesses:[{lock:"",inputType:"0x0000000000000000",outputType:""}]}})),this.calculateDaoMaximumWithdraw=(t,e)=>(0,f.__awaiter)(this,void 0,void 0,(function*(){let r=yield this.rpc.getTransaction(t.txHash);if("committed"!==r.txStatus.status)throw new Error("Transaction is not committed yet");const n=r.txStatus.blockHash;let i,o=r.transaction.outputs[+t.index],s=r.transaction.outputsData[+t.index];if("string"==typeof e)i=e;else{if(r=yield this.rpc.getTransaction(e.txHash),"committed"!==r.txStatus.status)throw new Error("Transaction is not committed yet");i=r.txStatus.blockHash,o=r.transaction.outputs[+e.index],s=r.transaction.outputsData[+e.index]}const[a,u]=yield Promise.all([this.rpc.getHeader(n),this.rpc.getHeader(i)]);return h.calculateMaximumWithdraw(o,s,a.dao,u.dao)})),n.set(this,(()=>{if(!this.config.secp256k1Dep)throw new d.ParameterRequiredException("Secp256k1 dep")})),i.set(this,(()=>{if(!this.config.daoDep)throw new d.ParameterRequiredException("Dao dep")})),o.set(this,(t=>{if(!t)throw new d.ParameterRequiredException("Transaction");if(!t.witnesses)throw new d.ParameterRequiredException("Witnesses");if(!t.outputsData)throw new d.ParameterRequiredException("OutputsData");if(t.outputsData.length<t.outputs.length)throw new Error("Invalid count of outputsData")})),s.set(this,(t=>"fromAddress"in t&&"toAddress"in t)),a.set(this,(t=>"fromAddresses"in t&&"receivePairs"in t)),u.set(this,(t=>(0,f.__awaiter)(this,void 0,void 0,(function*(){var e,r;const n=null==t?void 0:t.transactions[1].hash,i=null===(r=null===(e=null==t?void 0:t.transactions[0])||void 0===e?void 0:e.outputs[1])||void 0===r?void 0:r.type,o=this.utils.scriptToHash(i);this.config.secp256k1Dep={hashType:"type",codeHash:o,outPoint:{txHash:n,index:"0x0"},depType:"depGroup"}})))),c.set(this,(t=>{var e,r,n;const i=null==t?void 0:t.transactions[0].hash,o=null===(r=null===(e=null==t?void 0:t.transactions[0])||void 0===e?void 0:e.outputs[2])||void 0===r?void 0:r.type,s=null===(n=null==t?void 0:t.transactions[0])||void 0===n?void 0:n.outputsData[2],a=this.utils.scriptToHash(o),u=h.blake2b(32,null,null,h.PERSONAL);u.update(h.hexToBytes(s));const c=`0x${u.digest("hex")}`;this.config.daoDep={hashType:"type",codeHash:c,typeHash:a,outPoint:{txHash:i,index:"0x2"},depType:"code"}})),this._node={url:t},this.rpc=new l.default(t)}setNode(t){return"string"==typeof t?this._node.url=t:this._node=t,this.rpc.setNode(this._node),this._node}get node(){return this._node}}},68094:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadCellsFromIndexer=void 0;const n=r(44764);e.loadCellsFromIndexer=({CellCollector:t,indexer:e,lock:r,start:i,end:o})=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){var s,a;const u=new t(e,{lock:{code_hash:r.codeHash,hash_type:r.hashType,args:r.args},fromBlock:i,toBlock:o}),c=[];try{for(var f,l=(0,n.__asyncValues)(u.collect());!(f=yield l.next()).done;){const{data:t,cell_output:{capacity:e,type:n},out_point:i}=f.value;c.push({data:t,lock:r,type:n&&{codeHash:n.code_hash,hashType:n.hash_type,args:n.args},capacity:e,outPoint:{txHash:i.tx_hash,index:i.index}})}}catch(t){s={error:t}}finally{try{f&&!f.done&&(a=l.return)&&(yield a.call(l))}finally{if(s)throw s.error}}return c})),e.default=e.loadCellsFromIndexer},71812:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMultisigStatus=e.hashMultisig=e.serializeMultisigConfig=e.SignStatus=e.isMultisigConfig=void 0;const n=r(60720);var i;e.isMultisigConfig=function(t){return t&&!Number.isNaN(+t.r)&&!Number.isNaN(+t.m)&&!Number.isNaN(+t.n)&&Array.isArray(t.blake160s)},function(t){t.Signed="Signed",t.Unsigned="Unsigned",t.PartiallySigned="PartiallySigned"}(i=e.SignStatus||(e.SignStatus={}));const o=t=>{if(t<0||t>255)throw new Error("For multisig sign, signer should between 0 and 255")},s=t=>t.toString(16).padStart(2,"0");e.serializeMultisigConfig=t=>((t=>{if(o(t.r),o(t.m),o(t.n),t.m>t.n)throw new Error("For m of n multisig sign, m shouldn't be greater than n");if(t.r>t.m)throw new Error("For m of n multisig sign, r shouldn't be greater than m");if(t.n!==t.blake160s.length)throw new Error("For m of n multisig sign, signer's length should equal with n")})(t),`0x00${s(t.r)}${s(t.m)}${s(t.n)}${t.blake160s.reduce(((t,e)=>t+e.slice(2)),"")}`);e.hashMultisig=t=>{const r=(0,n.blake2b)(32,null,null,n.PERSONAL);return r.update((0,n.hexToBytes)((0,e.serializeMultisigConfig)(t))),`0x${r.digest("hex")}`.slice(0,42)};e.getMultisigStatus=(t,e=[])=>{let r=0,n=0;for(let i=0;i<t.n;i++)e.includes(t.blake160s[i])&&(i<t.r?n+=1:r+=1);if(r+n===0)return i.Unsigned;if(r>t.m-t.r)throw new Error("More signature for multisig");return r+n<t.m?i.PartiallySigned:i.Signed}},98509:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(44764),i=r(60720),o=(0,n.__importDefault)(r(64750)),s=r(71812);e.default=function(t,e,r,n){if(!r.length)throw new Error("WitnessGroup cannot be empty");if("object"!=typeof r[0])throw new Error("The first witness in the group should be type of WitnessArgs");const a=Object.assign(Object.assign({},r[0]),{lock:`0x${"0".repeat(130)}`});n&&(a.lock=`${(0,s.serializeMultisigConfig)(n)}${"0".repeat(130*n.m)}`);const u=(0,i.hexToBytes)((0,i.serializeWitnessArgs)(a)),c=u.length,f=(0,i.blake2b)(32,null,null,i.PERSONAL);f.update((0,i.hexToBytes)(e)),f.update((0,i.hexToBytes)((0,i.toUint64Le)(`0x${c.toString(16)}`))),f.update(u),r.slice(1).forEach((t=>{const e=(0,i.hexToBytes)("string"==typeof t?t:(0,i.serializeWitnessArgs)(t));f.update((0,i.hexToBytes)((0,i.toUint64Le)(`0x${e.length.toString(16)}`))),f.update(e)}));const l=`0x${f.digest("hex")}`;if("string"==typeof t){const e=new o.default(t);return a.lock=e.signRecoverable(l),[n?a:(0,i.serializeWitnessArgs)(a),...r.slice(1)]}{const e=t(l,[a,...r.slice(1)]);return"string"==typeof e?(a.lock=e,[n?a:(0,i.serializeWitnessArgs)(a),...r.slice(1)]):e.then((t=>(a.lock=t,[n?a:(0,i.serializeWitnessArgs)(a),...r.slice(1)])))}}},94976:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isMap=void 0;const n=r(44764),i=r(60720),o=r(73563),s=(0,n.__importDefault)(r(98509)),a=(0,n.__importDefault)(r(35191)),u=r(71812);e.isMap=t=>void 0!==t.size;e.default=t=>({transactionHash:r,witnesses:n=[],inputCells:c=[],skipMissingKeys:f=!1})=>{if(!t)throw new o.ParameterRequiredException("Signature provider");if(!r)throw new o.ParameterRequiredException("Transaction hash");if(!n.length)throw new Error("Witnesses is empty");if((0,e.isMap)(t)){if(!c.length)throw new Error("Cell shouldn't be empty when key is Map");const e=n,o=n.slice(c.length);return(0,a.default)(c).forEach(((a,c)=>{const l=t.get(c);if(!l){if(f)return;throw new Error(`The signature provider to sign lockhash ${c} is not found`)}const d=[...a.map((t=>n[t])),...o];if("object"==typeof l&&function(t){if(t.sk&&t.blake160&&t.config&&t.signatures){if(("string"==typeof t.sk||"function"==typeof t.sk)&&"string"==typeof t.blake160&&Array.isArray(t.signatures)&&(0,u.isMultisigConfig)(t.config))return!0;throw new Error("Multisig options is incorrect")}throw new Error("Multisig options miss some property")}(l)){const t=(0,s.default)(l.sk,r,d,l.config)[0],n=e[a[0]];if("object"!=typeof n)throw new Error("The first witness in the group should be type of WitnessArgs");let o=t.lock;o=n.lock?n.lock+(null==o?void 0:o.slice(2)):(0,u.serializeMultisigConfig)(l.config)+(null==o?void 0:o.slice(2));const c=Object.assign(Object.assign({},n),{lock:o});e[a[0]]=c,(0,u.getMultisigStatus)(l.config,[...l.signatures,l.blake160])===u.SignStatus.Signed&&a.forEach((t=>{const r=e[t];e[t]="string"==typeof r?r:(0,i.serializeWitnessArgs)(r)}))}else{const t=(0,s.default)(l,r,d)[0];e[a[0]]=t}})),e}return(0,s.default)(t,r,n)}},53165:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterCellsByInputs=void 0;e.filterCellsByInputs=(t,e)=>e.map((e=>{const r=e.previousOutput,n=t.find((t=>{var e,n;return(null===(e=t.outPoint)||void 0===e?void 0:e.txHash)===(null==r?void 0:r.txHash)&&(null===(n=t.outPoint)||void 0===n?void 0:n.index)===(null==r?void 0:r.index)}));if(!n)throw new Error(`Cell of ${JSON.stringify(r)} is not found`);return n})),e.default={filterCellsByInputs:e.filterCellsByInputs}},44764:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>h,__extends:()=>i,__generator:()=>l,__importDefault:()=>k,__importStar:()=>E,__makeTemplateObject:()=>A,__metadata:()=>c,__param:()=>u,__read:()=>y,__rest:()=>s,__spread:()=>g,__spreadArray:()=>m,__spreadArrays:()=>b,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function u(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function l(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function h(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||d(e,t,r)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function b(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function m(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function _(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof v?Promise.resolve(r.value.v).then(u,c):f(o[0][2],r)}catch(t){f(o[0][3],t)}var r}function u(t){a("next",t)}function c(t){a("throw",t)}function f(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function A(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&d(e,t,r);return x(e,t),e}function k(t){return t&&t.__esModule?t:{default:t}}function I(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function T(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r}},25467:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));e.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:o.default.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:o.default.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:o.default.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[i.default.toNumber]},getBlock:{method:"get_block",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toBlock},getHeader:{method:"get_header",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[i.default.toOutPoint],resultFormatters:o.default.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[i.default.toArray(i.default.toHash),i.default.toOptional(i.default.toHash)],resultFormatters:o.default.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[i.default.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:o.default.toConsensus}}},35874:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=(0,r(75310).__importDefault)(r(63950));e.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[n.default.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[n.default.toOutPoint,n.default.toHash]}}},18966:(t,e,r)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Base=e.rpcProperties=void 0;const i=r(75310),o=(0,i.__importDefault)(r(25467)),s=(0,i.__importDefault)(r(35874)),a=(0,i.__importDefault)(r(94037)),u=(0,i.__importDefault)(r(38238)),c=(0,i.__importDefault)(r(3069));e.rpcProperties=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o.default),s.default),a.default),u.default),c.default);class f{constructor(){n.set(this,e.rpcProperties)}get rpcProperties(){return(0,i.__classPrivateFieldGet)(this,n,"f")}}e.Base=f,n=new WeakMap,e.default=f},94037:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));e.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:o.default.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:o.default.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:o.default.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:o.default.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[i.default.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}}},38238:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));e.default={sendTransaction:{method:"send_transaction",paramsFormatters:[i.default.toRawTransaction,i.default.toOutputsValidator],resultFormatters:o.default.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:o.default.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:o.default.toRawTxPool}}},3069:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=(0,r(75310).__importDefault)(r(95895));e.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:n.default.toBlockchainInfo},getFeeRateStats:{method:"get_fee_rate_statistics",paramsFormatters:[]}}},74842:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorCode=void 0,function(t){t[t.IdNotMatch=201]="IdNotMatch",t[t.MethodNotFound=202]="MethodNotFound",t[t.PayloadMessage=203]="PayloadMessage",t[t.ResponseMessage=204]="ResponseMessage"}(r=e.ErrorCode||(e.ErrorCode={})),e.default=r},16697:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdNotMatchedInBatchException=e.PayloadInBatchException=e.MethodInBatchNotFoundException=void 0;const n=(0,r(75310).__importDefault)(r(74842)),i=r(84026),o="Batch Request";class s extends Error{constructor(t){super(`[${o}]: Method ${t} is not found`),this.code=n.default.MethodNotFound}}e.MethodInBatchNotFoundException=s;class a extends Error{constructor(t,e){super(`[${o} ${t}]: ${e}`),this.code=n.default.PayloadMessage,this.index=t}}e.PayloadInBatchException=a;class u extends i.IdNotMatchException{constructor(t,e,r){super(e,r),this.message=`[${o} ${t}]: ${this.message}`,this.index=t}}e.IdNotMatchedInBatchException=u,e.default={MethodInBatchNotFoundException:s,PayloadInBatchException:a,IdNotMatchedInBatchException:u}},53491:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringHashTypeException=e.BigintOrHexStringTypeException=e.OutputsValidatorTypeException=e.PageSizeTooSmallException=e.PageSizeTooLargeException=void 0;const n=r(73563);class i extends RangeError{constructor(t,e){super(`Expect page size to be at most ${e}, but ${t} received`),this.code=n.ErrorCode.ParameterInvalid}}e.PageSizeTooLargeException=i;class o extends RangeError{constructor(t,e){super(`Expect page size to be at least ${e}, but ${t} received`),this.code=n.ErrorCode.ParameterInvalid}}e.PageSizeTooSmallException=o;class s extends TypeError{constructor(){super("Expect outputs validator to be 'default' or 'passthrough'"),this.code=n.ErrorCode.ParameterInvalid}}e.OutputsValidatorTypeException=s;class a extends TypeError{constructor(t){super(`Expect number to be bigint or hex string, but ${t} received`),this.code=n.ErrorCode.ParameterInvalid}}e.BigintOrHexStringTypeException=a;class u extends TypeError{constructor(t){super(`Expect hash to be string, but ${t} received`),this.code=n.ErrorCode.ParameterInvalid}}e.StringHashTypeException=u,e.default={PageSizeTooLargeException:i,PageSizeTooSmallException:o,OutputsValidatorTypeException:s,BigintOrHexStringTypeException:a,StringHashTypeException:u}},69073:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HexStringWithout0xException=void 0;const n=r(75310);var i=r(73563);Object.defineProperty(e,"HexStringWithout0xException",{enumerable:!0,get:function(){return i.HexStringWithout0xException}}),(0,n.__exportStar)(r(53491),e),(0,n.__exportStar)(r(84026),e),(0,n.__exportStar)(r(16697),e)},84026:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseException=e.IdNotMatchException=void 0;const n=(0,r(75310).__importDefault)(r(74842));class i extends Error{constructor(t,e){super(`Expect json rpc id to be ${t}, but ${e} received`),this.code=n.default.IdNotMatch}}e.IdNotMatchException=i;class o extends Error{constructor(){super(...arguments),this.code=n.default.ResponseMessage}}e.ResponseException=o,e.default={IdNotMatchException:i,ResponseException:o}},80006:(t,e,r)=>{"use strict";var n,i,o;Object.defineProperty(e,"__esModule",{value:!0});const s=r(75310),a=(0,s.__importDefault)(r(7188)),u=(0,s.__importDefault)(r(18966)),c=(0,s.__importDefault)(r(7353)),f=(0,s.__importDefault)(r(63950)),l=(0,s.__importDefault)(r(95895)),d=r(69073);class h extends u.default{constructor(t){super(),n.set(this,{url:""}),i.set(this,f.default),o.set(this,l.default),this.addMethod=t=>{const e=new c.default(this.node,t);Object.defineProperty(this,t.name,{value:e.call,enumerable:!0})},this.createBatchRequest=(t=[])=>{const e=this,r=new Proxy([],{set(...t){var r;const n=Object.keys(e);if("length"!==t[1]){const e=null===(r=null==t?void 0:t[2])||void 0===r?void 0:r[0];if(-1===n.indexOf(e))throw new d.MethodInBatchNotFoundException(e)}return Reflect.set(...t)}});return Object.defineProperties(r,{add:{value(...t){return this.push(t),this}},remove:{value(t){return this.splice(t,1),this}},exec:{value(){return(0,s.__awaiter)(this,void 0,void 0,(function*(){const t=r.map((([t,...r],n)=>{try{return new c.default(e.node,Object.assign(Object.assign({},e.rpcProperties[t]),{name:t})).getPayload(...r)}catch(t){throw new d.PayloadInBatchException(n,t.message)}}));if(!t.length)return[];return(yield(0,a.default)({method:"POST",headers:{"content-type":"application/json"},data:t,url:(0,s.__classPrivateFieldGet)(e,n,"f").url,httpAgent:(0,s.__classPrivateFieldGet)(e,n,"f").httpAgent,httpsAgent:(0,s.__classPrivateFieldGet)(e,n,"f").httpsAgent})).data.map(((n,i)=>{var o,s,a;return n.id!==t[i].id?new d.IdNotMatchedInBatchException(i,t[i].id,n.id):null!==(a=null===(s=(o=e.rpcProperties[r[i][0]]).resultFormatters)||void 0===s?void 0:s.call(o,n.result))&&void 0!==a?a:n.result}))}))}}}),t.forEach((t=>r.push(t))),r},this.setNode({url:t}),Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1},createBatchRequest:{value:this.createBatchRequest,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach((t=>{this.addMethod(Object.assign({name:t},this.rpcProperties[t]))}))}get node(){return(0,s.__classPrivateFieldGet)(this,n,"f")}get paramsFormatter(){return(0,s.__classPrivateFieldGet)(this,i,"f")}get resultFormatter(){return(0,s.__classPrivateFieldGet)(this,o,"f")}setNode(t){return Object.assign(this.node,t),this.node}}n=new WeakMap,i=new WeakMap,o=new WeakMap,e.default=h},7353:(t,e,r)=>{"use strict";var n,i,o;Object.defineProperty(e,"__esModule",{value:!0});const s=r(75310),a=(0,s.__importDefault)(r(7188)),u=r(69073);n=new WeakMap,i=new WeakMap,o=new WeakMap,e.default=class{constructor(t,e){n.set(this,void 0),i.set(this,{name:"",method:"",paramsFormatters:[],resultFormatters:void 0}),o.set(this,void 0),this.call=(...t)=>{const e=this.getPayload(...t);return(0,a.default)({method:"POST",headers:{"content-type":"application/json"},data:e,url:(0,s.__classPrivateFieldGet)(this,o,"f").url,httpAgent:(0,s.__classPrivateFieldGet)(this,o,"f").httpAgent,httpsAgent:(0,s.__classPrivateFieldGet)(this,o,"f").httpsAgent}).then((t=>{var r,n,o;if(t.data.id!==e.id)throw new u.IdNotMatchException(e.id,t.data.id);if(t.data.error)throw new u.ResponseException(JSON.stringify(t.data.error));return null!==(o=null===(n=(r=(0,s.__classPrivateFieldGet)(this,i,"f")).resultFormatters)||void 0===n?void 0:n.call(r,t.data.result))&&void 0!==o?o:t.data.result}))},this.getPayload=(...t)=>{const e=t.map(((t,e)=>(0,s.__classPrivateFieldGet)(this,i,"f").paramsFormatters[e]&&(0,s.__classPrivateFieldGet)(this,i,"f").paramsFormatters[e](t)||t));return{id:Math.round(1e4*Math.random()),method:(0,s.__classPrivateFieldGet)(this,i,"f").method,params:e,jsonrpc:"2.0"}},(0,s.__classPrivateFieldSet)(this,o,t,"f"),(0,s.__classPrivateFieldSet)(this,i,e,"f"),(0,s.__classPrivateFieldSet)(this,n,e.name,"f"),Object.defineProperty(this.call,"name",{value:e.name,configurable:!1,writable:!1})}get name(){return(0,s.__classPrivateFieldGet)(this,n,"f")}}},63950:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(75310),i=r(60720),o=r(69073),s={toOptional:t=>e=>t&&null!=e?t(e):e,toArray:t=>e=>"function"==typeof t&&Array.isArray(e)?e.map(t):e,toHash:t=>{if("string"!=typeof t)throw new o.StringHashTypeException(t);return t.startsWith("0x")?t:`0x${t}`},toNumber:t=>{if("bigint"==typeof t)return`0x${t.toString(16)}`;if("string"!=typeof t)throw new o.BigintOrHexStringTypeException(t);if(!t.startsWith("0x"))throw new o.HexStringWithout0xException(t);return t},toScript:t=>{const{codeHash:e,hashType:r}=t,i=(0,n.__rest)(t,["codeHash","hashType"]);return Object.assign({code_hash:s.toHash(e),hash_type:r},i)},toOutPoint:t=>{if(!t)return t;const{txHash:e,index:r}=t,i=(0,n.__rest)(t,["txHash","index"]);return Object.assign({tx_hash:s.toHash(e),index:s.toNumber(r)},i)},toInput:t=>{if(!t)return t;const{previousOutput:e,since:r}=t,i=(0,n.__rest)(t,["previousOutput","since"]);return Object.assign({previous_output:s.toOutPoint(e),since:s.toNumber(r)},i)},toOutput:t=>{if(!t)return t;const{capacity:e,lock:r,type:i=null}=t,o=(0,n.__rest)(t,["capacity","lock","type"]);return Object.assign({capacity:s.toNumber(e),lock:s.toScript(r),type:i?s.toScript(i):i},o)},toDepType:t=>"depGroup"===t?"dep_group":t,toCellDep:t=>{if(!t)return t;const{outPoint:e=null,depType:r="code"}=t,i=(0,n.__rest)(t,["outPoint","depType"]);return Object.assign({out_point:s.toOutPoint(e),dep_type:s.toDepType(r)},i)},toRawTransaction:t=>{if(!t)return t;const{version:e,cellDeps:r=[],inputs:i=[],outputs:o=[],outputsData:a=[],headerDeps:u=[]}=t,c=(0,n.__rest)(t,["version","cellDeps","inputs","outputs","outputsData","headerDeps"]),f=i.map((t=>s.toInput(t))),l=o.map((t=>s.toOutput(t))),d=r.map((t=>s.toCellDep(t)));return Object.assign({version:s.toNumber(e),cell_deps:d,inputs:f,outputs:l,outputs_data:a,header_deps:u},c)},toPageNumber:(t="0x1")=>s.toNumber(t),toPageSize:(t="0x32")=>{const e=i.JSBI.BigInt(`${t}`);if(i.JSBI.greaterThan(e,i.JSBI.BigInt(50)))throw new o.PageSizeTooLargeException(t,50);if(i.JSBI.lessThan(e,i.JSBI.BigInt(0)))throw new o.PageSizeTooSmallException(t,0);return s.toNumber(`0x${e.toString(16)}`)},toReverseOrder:(t=!1)=>!!t,toOutputsValidator:t=>{if(!t)return;if(["default","passthrough"].indexOf(t)>-1)return t;throw new o.OutputsValidatorTypeException},toBoolean:t=>!!t,toTransactionProof:t=>{if(!t)return t;const{blockHash:e,witnessesRoot:r}=t,i=(0,n.__rest)(t,["blockHash","witnessesRoot"]);return Object.assign({block_hash:e,witnesses_root:r},i)}};e.default=s},95895:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(75310),i=t=>{if(!t)return t;const{compact_target:e,transactions_root:r,proposals_hash:i,extra_hash:o,parent_hash:s}=t,a=(0,n.__rest)(t,["compact_target","transactions_root","proposals_hash","extra_hash","parent_hash"]);return Object.assign({compactTarget:e,parentHash:s,transactionsRoot:r,proposalsHash:i,extraHash:o},a)},o=t=>{if(!t)return t;const{code_hash:e,hash_type:r}=t,i=(0,n.__rest)(t,["code_hash","hash_type"]);return Object.assign({codeHash:e,hashType:r},i)},s=t=>{if(!t)return t;const{previous_output:e}=t,r=(0,n.__rest)(t,["previous_output"]);return Object.assign({previousOutput:e?u(e):e},r)},a=t=>{if(!t)return t;const{lock:e,type:r}=t,i=(0,n.__rest)(t,["lock","type"]);return Object.assign({lock:o(e),type:r?o(r):r},i)},u=t=>{if(!t)return t;const{tx_hash:e}=t,r=(0,n.__rest)(t,["tx_hash"]);return Object.assign({txHash:e},r)},c=t=>"dep_group"===t?"depGroup":t,f=t=>{if(!t)return t;const{out_point:e=null,dep_type:r="code"}=t,i=(0,n.__rest)(t,["out_point","dep_type"]);return Object.assign({outPoint:u(e),depType:c(r)},i)};function l(t){if(!t)return t;const{cell_deps:e=[],inputs:r=[],outputs:i=[],outputs_data:o=[],header_deps:u=[]}=t,c=(0,n.__rest)(t,["cell_deps","inputs","outputs","outputs_data","header_deps"]);return Object.assign({cellDeps:e.map(f),inputs:r.map(s),outputs:i.map(a),outputsData:o,headerDeps:u},c)}const d=t=>{if(!t)return t;const{header:e}=t,r=(0,n.__rest)(t,["header"]);return Object.assign({header:i(e)},r)},h=t=>{if(!t)return t;const{notice_until:e}=t,r=(0,n.__rest)(t,["notice_until"]);return Object.assign({noticeUntil:e},r)},p=t=>{if(!t)return t;const{node_id:e,connected_duration:r,is_outbound:i,last_ping_duration:o,sync_state:s}=t,a=(0,n.__rest)(t,["node_id","connected_duration","is_outbound","last_ping_duration","sync_state"]);return Object.assign({nodeId:e,connectedDuration:r,isOutbound:i,lastPingDuration:o,syncState:{bestKnownHeaderHash:s.best_known_header_hash,bestKnownHeaderNumber:s.best_known_header_number,canFetchCount:s.can_fetch_count,inflightCount:s.inflight_count,lastCommonHeaderHash:s.last_common_header_hash,lastCommonHeaderNumber:s.last_common_header_number,unknownHeaderListSize:s.unknown_header_list_size}},a)},y=t=>{if(!t)return t;const{lock:e,type:r}=t,i=(0,n.__rest)(t,["lock","type"]);return Object.assign({lock:o(e),type:r?o(r):null},i)},g=t=>{if(!t)return t;const{data:e,output:r}=t,i=(0,n.__rest)(t,["data","output"]);return Object.assign({data:e,output:a(r)},i)},b=t=>{if(!t)return t;const{lock:e,block_hash:r,out_point:i,output_data_len:s}=t,a=(0,n.__rest)(t,["lock","block_hash","out_point","output_data_len"]);return Object.assign({blockHash:r,lock:o(e),outPoint:u(i),outputDataLen:s},a)},m=t=>{if(!t)return t;const{block_number:e,tx_hash:r}=t,i=(0,n.__rest)(t,["block_number","tx_hash"]);return Object.assign({blockNumber:e,txHash:r},i)},v=t=>{if(!t)return t;const{block_hash:e,block_number:r,lock_hash:i}=t,o=(0,n.__rest)(t,["block_hash","block_number","lock_hash"]);return Object.assign({blockHash:e,blockNumber:r,lockHash:i},o)},_=t=>{if(!t)return t;const{ban_reason:e,ban_until:r,created_at:i}=t,o=(0,n.__rest)(t,["ban_reason","ban_until","created_at"]);return Object.assign({banReason:e,banUntil:r,createdAt:i},o)};e.default={toNumber:t=>t.toString(),toHash:t=>t,toHeader:i,toScript:o,toInput:s,toOutput:a,toOutPoint:u,toDepType:c,toCellDep:f,toTransaction:l,toUncleBlock:d,toBlock:t=>{if(!t)return t;const{header:e,uncles:r=[],transactions:o=[]}=t,s=(0,n.__rest)(t,["header","uncles","transactions"]);return Object.assign({header:i(e),uncles:r.map(d),transactions:o.map(l)},s)},toAlertMessage:h,toBlockchainInfo:t=>{if(!t)return t;const{is_initial_block_download:e,median_time:r,alerts:i}=t,o=(0,n.__rest)(t,["is_initial_block_download","median_time","alerts"]);return Object.assign({isInitialBlockDownload:e,medianTime:r,alerts:i.map(h)},o)},toLocalNodeInfo:t=>{if(!t)return t;const{node_id:e,protocols:r}=t,i=(0,n.__rest)(t,["node_id","protocols"]);return Object.assign({nodeId:e,protocols:r.map((({id:t,name:e,support_versions:r})=>({id:t,name:e,supportVersions:r})))},i)},toRemoteNodeInfo:p,toTxPoolInfo:t=>{if(!t)return t;const{last_txs_updated_at:e,tip_hash:r,tip_number:i,total_tx_cycles:o,total_tx_size:s,min_fee_rate:a}=t,u=(0,n.__rest)(t,["last_txs_updated_at","tip_hash","tip_number","total_tx_cycles","total_tx_size","min_fee_rate"]);return Object.assign({lastTxsUpdatedAt:e,tipHash:r,tipNumber:i,totalTxCycles:o,totalTxSize:s,minFeeRate:a},u)},toPeers:t=>Array.isArray(t)?t.map(p):[],toLiveCell:g,toLiveCellWithStatus:t=>{if(!t)return t;const{cell:e}=t,r=(0,n.__rest)(t,["cell"]);return Object.assign({cell:g(e)},r)},toCell:y,toCells:t=>Array.isArray(t)?t.map(y):[],toCellIncludingOutPoint:b,toCellsIncludingOutPoint:t=>Array.isArray(t)?t.map(b):[],toTransactionWithStatus:t=>{if(!t)return t;const{transaction:e,tx_status:{block_hash:r,status:i}}=t,o=(0,n.__rest)(t,["transaction","tx_status"]);return Object.assign({transaction:l(e),txStatus:{blockHash:r,status:i}},o)},toEpoch:t=>{if(!t)return t;const{start_number:e,compact_target:r}=t,i=(0,n.__rest)(t,["start_number","compact_target"]);return Object.assign({compactTarget:r,startNumber:e},i)},toTransactionPoint:m,toTransactionsByLockHash:t=>t?t.map((t=>({consumedBy:t.consumed_by?m(t.consumed_by):t.consumed_by,createdBy:m(t.created_by)}))):t,toLiveCellsByLockHash:t=>t?t.map((t=>({cellOutput:y(t.cell_output),createdBy:m(t.created_by),cellbase:t.cellbase,outputDataLen:t.output_data_len}))):t,toLockHashIndexState:v,toLockHashIndexStates:t=>t?t.map(v):t,toBannedAddress:_,toBannedAddresses:t=>t?t.map((t=>_(t))):t,toCellbaseOutputCapacityDetails:t=>{if(!t)return t;const{proposal_reward:e,tx_fee:r}=t,i=(0,n.__rest)(t,["proposal_reward","tx_fee"]);return Object.assign({proposalReward:e,txFee:r},i)},toFeeRate:t=>{if(!t)return t;const{fee_rate:e}=t,r=(0,n.__rest)(t,["fee_rate"]);return Object.assign({feeRate:e},r)},toCapacityByLockHash:t=>{if(!t)return t;const{cells_count:e,block_number:r,capacity:i}=t,o=(0,n.__rest)(t,["cells_count","block_number","capacity"]);return Object.assign({blockNumber:r,capacity:i,cellsCount:e},o)},toBlockEconomicState:t=>{if(!t)return t;const{finalized_at:e,miner_reward:r,txs_fee:i}=t,o=(0,n.__rest)(t,["finalized_at","miner_reward","txs_fee"]);return Object.assign({finalizedAt:e,minerReward:r,txsFee:i},o)},toSyncState:t=>t?{bestKnownBlockNumber:t.best_known_block_number,bestKnownBlockTimestamp:t.best_known_block_timestamp,fastTime:t.fast_time,ibd:t.ibd,inflightBlocksCount:t.inflight_blocks_count,lowTime:t.low_time,normalTime:t.normal_time,orphanBlocksCount:t.orphan_blocks_count}:t,toTransactionProof:t=>{if(!t)return t;const{block_hash:e,witnesses_root:r}=t,i=(0,n.__rest)(t,["block_hash","witnesses_root"]);return Object.assign({blockHash:e,witnessesRoot:r},i)},toConsensus:t=>{var e,r;return t?{blockVersion:t.block_version,cellbaseMaturity:t.cellbase_maturity,daoTypeHash:t.dao_type_hash,epochDurationTarget:t.epoch_duration_target,genesisHash:t.genesis_hash,id:t.id,initialPrimaryEpochReward:t.initial_primary_epoch_reward,maxBlockBytes:t.max_block_bytes,maxBlockCycles:t.max_block_cycles,maxBlockProposalsLimit:t.max_block_proposals_limit,maxUnclesNum:t.max_uncles_num,medianTimeBlockCount:t.median_time_block_count,orphanRateTarget:t.orphan_rate_target,permanentDifficultyInDummy:t.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:t.primary_epoch_reward_halving_interval,proposerRewardRatio:t.proposer_reward_ratio,secondaryEpochReward:t.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:t.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:t.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:t.tx_proposal_window,txVersion:t.tx_version,typeIdCodeHash:t.type_id_code_hash,hardforkFeatures:null!==(r=null===(e=t.hardfork_features)||void 0===e?void 0:e.map((t=>{var{epoch_number:e}=t,r=(0,n.__rest)(t,["epoch_number"]);return Object.assign({epochNumber:e},r)})))&&void 0!==r?r:t.hardfork_features}:t},toRawTxPool:t=>{if(!t)return t;if((t=>Array.isArray(t.pending))(t))return t;const e=t=>{var{ancestors_count:e,ancestors_cycles:r,ancestors_size:i}=t,o=(0,n.__rest)(t,["ancestors_count","ancestors_cycles","ancestors_size"]);return Object.assign({ancestorsCount:e,ancestorsCycles:r,ancestorsSize:i},o)},r={},i={};return Object.keys(t.proposed).forEach((n=>{r[n]=e(t.proposed[n])})),Object.keys(t.pending).forEach((r=>{i[r]=e(t.pending[r])})),{proposed:r,pending:i}}}},75310:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>h,__extends:()=>i,__generator:()=>l,__importDefault:()=>k,__importStar:()=>E,__makeTemplateObject:()=>A,__metadata:()=>c,__param:()=>u,__read:()=>y,__rest:()=>s,__spread:()=>g,__spreadArray:()=>m,__spreadArrays:()=>b,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function u(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function l(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function h(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||d(e,t,r)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function b(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function m(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function _(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof v?Promise.resolve(r.value.v).then(u,c):f(o[0][2],r)}catch(t){f(o[0][3],t)}var r}function u(t){a("next",t)}function c(t){a("throw",t)}function f(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function A(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&d(e,t,r);return x(e,t),e}function k(t){return t&&t.__esModule?t:{default:t}}function I(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function T(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r}},82607:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addressToScript=e.parseAddress=e.pubkeyToAddress=e.fullPayloadToAddress=e.bech32Address=e.toAddressPayload=e.scriptToAddress=e.Bech32Type=e.AddressType=e.AddressPrefix=void 0;const n=r(60720),i=r(21243),o=r(81374),s=r(73563),a=1023;var u,c,f;!function(t){t.Mainnet="ckb",t.Testnet="ckt"}(u=e.AddressPrefix||(e.AddressPrefix={})),function(t){t.FullVersion="0x00",t.HashIdx="0x01",t.DataCodeHash="0x02",t.TypeCodeHash="0x04"}(c=e.AddressType||(e.AddressType={})),function(t){t.Bech32="bech32",t.Bech32m="bech32m"}(f=e.Bech32Type||(e.Bech32Type={}));const l=({codeHash:t,hashType:e,args:r})=>{if(!r.startsWith("0x"))throw new s.HexStringWithout0xException(r);if(!t.startsWith("0x")||66!==t.length)throw new s.CodeHashException(t);let n;if(function(t){t.data="00",t.type="01",t.data1="02",t.data2="04"}(n||(n={})),!n[e])throw new s.HashTypeException(e);return(0,o.hexToBytes)(`0x00${t.slice(2)}${n[e]}${r.slice(2)}`)};e.scriptToAddress=(t,e=!0)=>((t,e=!0)=>n.bech32m.encode(e?u.Mainnet:u.Testnet,n.bech32m.toWords(t),a))(l(t),e);e.toAddressPayload=(t,e=c.HashIdx,r,n)=>{if("string"==typeof t&&!t.startsWith("0x"))throw new s.HexStringWithout0xException(t);if(![c.HashIdx,c.DataCodeHash,c.TypeCodeHash,c.FullVersion].includes(e))throw new s.AddressFormatTypeException(+e);if([c.DataCodeHash,c.TypeCodeHash].includes(e)&&console.warn("Address of 'AddressType.DataCodeHash' or 'AddressType.TypeCodeHash' is deprecated, please use address of AddressPrefix.FullVersion"),r||(r=e===c.HashIdx?"0x00":i.SECP256K1_BLAKE160.codeHash),e!==c.FullVersion)return new Uint8Array([...(0,o.hexToBytes)(e),...(0,o.hexToBytes)(r),..."string"==typeof t?(0,o.hexToBytes)(t):t]);if(n||r!==i.SECP256K1_BLAKE160.codeHash||(n=i.SECP256K1_BLAKE160.hashType),!r.startsWith("0x")||66!==r.length)throw new s.CodeHashException(r);if(!n)throw new s.ParameterRequiredException("hashType");return l({codeHash:r,hashType:n,args:"string"==typeof t?t:(0,o.bytesToHex)(t)})};e.bech32Address=(t,{prefix:r=u.Mainnet,type:i=c.HashIdx,codeHashOrCodeHashIndex:o=""}={})=>n.bech32.encode(r,n.bech32.toWords((0,e.toAddressPayload)(t,i,o)),a);e.fullPayloadToAddress=({args:t,prefix:r,type:n=c.DataCodeHash,codeHash:i})=>(0,e.bech32Address)(t,{prefix:r,type:n,codeHashOrCodeHashIndex:i});e.pubkeyToAddress=(t,r={})=>{const i=(0,n.blake160)(t);return(0,e.bech32Address)(i,r)};const d=(t,e)=>{const r=t[0],n=t.slice(1);switch(r){case+c.HashIdx:((t,e)=>{const[r,n,...i]=t;if(e!==f.Bech32)throw new s.AddressFormatTypeAndEncodeMethodNotMatchException(r,e);switch(n){case 0:case 1:if(20!==i.length)throw new s.AddressPayloadException(t,"short");break;case 2:if(20===i.length||22===i.length||24===i.length)break;throw new s.AddressPayloadException(t,"short");default:throw new s.AddressPayloadException(t,"short")}})(t,e);break;case+c.DataCodeHash:case+c.TypeCodeHash:if(e!==f.Bech32)throw new s.AddressFormatTypeAndEncodeMethodNotMatchException(r,e);if(n.length<32)throw new s.AddressPayloadException(t,"full");break;case+c.FullVersion:{if(e!==f.Bech32m)throw new s.AddressFormatTypeAndEncodeMethodNotMatchException(r,e);const t=n.slice(0,32);if(t.length<32)throw new s.CodeHashException((0,o.bytesToHex)(t));const i=parseInt(n[32].toString(),16);if(![0,1,2,4].includes(i))throw new s.HashTypeException(`0x${i.toString(16)}`);break}default:throw new s.AddressPayloadException(t)}};e.parseAddress=(t,e="binary")=>{let r,i=new Uint8Array;try{const e=n.bech32.decode(t,a);r=f.Bech32,i=new Uint8Array(n.bech32.fromWords(new Uint8Array(e.words)))}catch(e){const o=n.bech32m.decode(t,a);r=f.Bech32m,i=new Uint8Array(n.bech32m.fromWords(new Uint8Array(o.words)))}try{d(i,r)}catch(e){if(e instanceof s.AddressFormatTypeAndEncodeMethodNotMatchException)throw e;throw new s.AddressException(t,e.stack,e.type)}return"binary"===e?i:(0,o.bytesToHex)(i)};e.addressToScript=t=>{const r=(0,e.parseAddress)(t),n=r[0];switch(n){case+c.FullVersion:{const t={"00":"data","01":"type","02":"data1","04":"data2"},e=(0,o.bytesToHex)(r);return{codeHash:`0x${e.substr(4,64)}`,hashType:t[e.substr(68,2)],args:`0x${e.substr(70)}`}}case+c.HashIdx:{const e=[i.SECP256K1_BLAKE160,i.SECP256K1_MULTISIG,t.startsWith(u.Mainnet)?i.ANYONE_CAN_PAY_MAINNET:i.ANYONE_CAN_PAY_TESTNET],n=r[1],s=r.slice(2),a=e[n];return{codeHash:a.codeHash,hashType:a.hashType,args:(0,o.bytesToHex)(s)}}case+c.DataCodeHash:case+c.TypeCodeHash:{const t=(0,o.bytesToHex)(r.slice(1)),e=n===+c.DataCodeHash?"data":"type";return{codeHash:t.substr(0,66),hashType:e,args:`0x${t.substr(66)}`}}default:throw new s.AddressFormatTypeException(n)}}},48412:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateTransactionFee=void 0;const n=(0,r(41032).__importDefault)(r(86626)),i=r(6969);e.calculateTransactionFee=(t,e)=>{(0,i.assertToBeHexStringOrBigint)(t),(0,i.assertToBeHexStringOrBigint)(e);const r=n.default.BigInt(1e3),o=n.default.multiply(n.default.BigInt(`${t}`),n.default.BigInt(`${e}`)),s=n.default.divide(o,r);return n.default.lessThan(n.default.multiply(s,r),o)?`0x${n.default.add(s,n.default.BigInt(1)).toString(16)}`:`0x${s.toString(16)}`},e.default=e.calculateTransactionFee},9467:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_SECP_SIG=e.EMPTY_WITNESS_ARGS=e.PERSONAL=void 0,e.PERSONAL=new Uint8Array([99,107,98,45,100,101,102,97,117,108,116,45,104,97,115,104]),e.EMPTY_WITNESS_ARGS={lock:"",inputType:"",outputType:""},e.EMPTY_SECP_SIG=`0x${"0".repeat(130)}`,e.default={PERSONAL:e.PERSONAL,EMPTY_WITNESS_ARGS:e.EMPTY_WITNESS_ARGS,EMPTY_SECP_SIG:e.EMPTY_SECP_SIG}},81374:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bytesToHex=e.toBigEndian=e.hexToBytes=e.toUint64Le=e.toUint32Le=e.toUint16Le=void 0;const n=r(6969),i=r(73563);e.toUint16Le=t=>{(0,n.assertToBeHexStringOrBigint)(t);const e=new DataView(new ArrayBuffer(2));return e.setUint16(0,Number(t),!0),`0x${e.getUint16(0,!1).toString(16).padStart(4,"0")}`};e.toUint32Le=t=>{(0,n.assertToBeHexStringOrBigint)(t);const e=new DataView(new ArrayBuffer(4));return e.setUint32(0,Number(t),!0),`0x${e.getUint32(0,!1).toString(16).padStart(8,"0")}`};e.toUint64Le=t=>{(0,n.assertToBeHexStringOrBigint)(t);const r=("bigint"==typeof t?t.toString(16):t.slice(2)).padStart(16,"0"),i=(0,e.toUint32Le)(`0x${r.slice(0,8)}`).slice(2);return`0x${(0,e.toUint32Le)(`0x${r.slice(8)}`).slice(2)}${i}`};e.hexToBytes=t=>{if(""===t)return new Uint8Array;if("string"==typeof t&&!t.startsWith("0x"))throw new i.HexStringWithout0xException(t);let e=t.toString(16).replace(/^0x/i,"");e=e.length%2?`0${e}`:e;const r=[];for(let t=0;t<e.length;t+=2)r.push(parseInt(e.substr(t,2),16));return new Uint8Array(r)};e.toBigEndian=t=>{(0,n.assertToBeHexString)(t);return`0x${(0,e.hexToBytes)(t).reduceRight(((t,e)=>t+e.toString(16).padStart(2,"0")),"")}`};e.bytesToHex=t=>`0x${[...t].map((t=>t.toString(16).padStart(2,"0"))).join("")}`,e.default={toUint16Le:e.toUint16Le,toUint32Le:e.toUint32Le,toUint64Le:e.toUint64Le,hexToBytes:e.hexToBytes,bytesToHex:e.bytesToHex,toBigEndian:e.toBigEndian}},77432:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.blake160=void 0;const n=(0,r(41032).__importDefault)(r(71461)),i=r(81374),o=r(9467);e.blake160=(t,e="binary")=>{const r="string"==typeof t?(0,i.hexToBytes)(t):t,s=(0,n.default)(32,null,null,o.PERSONAL);return s.update(r),s.digest(e).slice(0,"binary"===e?20:40)},e.default=e.blake160},71461:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.blake2b=e.Blake2b=void 0;const{OutLenTooSmallException:n,OutLenTooLargeException:i,KeyLenTooSmallException:o,KeyLenTooLargeException:s,OutTypeException:a,SaltTypeException:u,SaltLenException:c,InputTypeException:f,KeyTypeException:l,PersonalTypeException:d,PersonalLenException:h}=r(73563),p=new Uint32Array(32),y=new Uint32Array(32),g=(t,e,r)=>{const n=t[e]+t[r];let i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i},b=(t,e,r,n)=>{let i=t[e]+r;r<0&&(i+=4294967296);let o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o},m=(t,e)=>t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24,v=(t,e,r,n,i,o)=>{const s=y[i],a=y[i+1],u=y[o],c=y[o+1];g(p,t,e),b(p,t,s,a);let f=p[n]^p[t],l=p[n+1]^p[t+1];p[n]=l,p[n+1]=f,g(p,r,n),f=p[e]^p[r],l=p[e+1]^p[r+1],p[e]=f>>>24^l<<8,p[e+1]=l>>>24^f<<8,g(p,t,e),b(p,t,u,c),f=p[n]^p[t],l=p[n+1]^p[t+1],p[n]=f>>>16^l<<16,p[n+1]=l>>>16^f<<16,g(p,r,n),f=p[e]^p[r],l=p[e+1]^p[r+1],p[e]=l>>>31^f<<1,p[e+1]=f>>>31^l<<1},_=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),w=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((t=>2*t))),S=(t,e)=>{let r=0;for(r=0;r<16;r++)p[r]=t.h[r],p[r+16]=_[r];for(p[24]^=t.t,p[25]^=t.t/4294967296,e&&(p[28]=~p[28],p[29]=~p[29]),r=0;r<32;r++)y[r]=m(t.b,4*r);for(r=0;r<12;r++)v(0,8,16,24,w[16*r+0],w[16*r+1]),v(2,10,18,26,w[16*r+2],w[16*r+3]),v(4,12,20,28,w[16*r+4],w[16*r+5]),v(6,14,22,30,w[16*r+6],w[16*r+7]),v(0,10,20,30,w[16*r+8],w[16*r+9]),v(2,12,22,24,w[16*r+10],w[16*r+11]),v(4,14,16,26,w[16*r+12],w[16*r+13]),v(6,8,18,28,w[16*r+14],w[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^p[r]^p[r+16]},A=(t,e)=>{for(let r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,S(t,!1),t.c=0),t.b[t.c++]=+e[r]},x=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);class E{constructor(t,e,r,n){this.update=t=>{if(!(t instanceof Uint8Array))throw new f;return A(this,t),this},this.digest=t=>{const e=t&&"binary"!==t&&"hex"!==t?t:new Uint8Array(this.outlen);if(!(e instanceof Uint8Array))throw new a;if(e.length<this.outlen)throw new Error("out must have at least outlen bytes of space");return((t,e)=>{for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;S(t,!0);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)})(this,e),"hex"===t?(t=>{let e="";for(let n=0;n<t.length;n++)e+=(r=+t[n])<16?`0${r.toString(16)}`:r.toString(16);var r;return e})(e):e},this.final=this.digest,x.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,x[0]=t,e&&(x[1]=e.length),x[2]=1,x[3]=1,r&&x.set(r,32),n&&x.set(n,48);for(let t=0;t<16;t++)this.h[t]=_[t]^m(x,4*t);e&&(A(this,e),this.c=128)}}e.Blake2b=E;e.blake2b=(t,e,r,a,f)=>{if(!0!==f){if(t<16)throw new n(t,16);if(t>64)throw new i(t,64);if(null!==e){if(!(e instanceof Uint8Array))throw new l;if(e.length<16)throw new o(e.length,16);if(e.length>64)throw new s(e.length,64)}if(null!==r){if(!(r instanceof Uint8Array))throw new u;if(16!==r.length)throw new c(r.length,16)}if(null!==a){if(!(a instanceof Uint8Array))throw new d;if(16!==a.length)throw new h(a.length,16)}}return new E(t,e,r,a)},e.default=e.blake2b},78984:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(41032),i=r(22343),o=(0,n.__importDefault)(r(71461)),s=(0,n.__importDefault)(r(77432));t.exports={blake2b:o.default,blake160:s.default,bech32:i.bech32,bech32m:i.bech32m},e.default={blake2b:o.default,blake160:s.default,bech32:i.bech32,bech32m:i.bech32m}},64750:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(22734),i=r(81374),o=r(73563),s=new n.ec("secp256k1");e.default=class{constructor(t,{compressed:e=!0}={compressed:!0}){if(this.compressed=!1,this.getPrivateKey=(t="hex")=>"hex"===t?this.privateKey:this.key.getPrivate(t),this.getPublicKey=t=>"hex"===t?this.publicKey:this.key.getPublic(this.compressed,t),this.sign=t=>{const e="string"==typeof t?(0,i.hexToBytes)(t):t;return`0x${this.key.sign(e,{canonical:!0}).toDER("hex")}`},this.verify=(t,e)=>{const r="string"==typeof t?(0,i.hexToBytes)(t):t,n="string"==typeof e?(0,i.hexToBytes)(e):e;return this.key.verify(r,n)},this.signRecoverable=t=>{const e="string"==typeof t?(0,i.hexToBytes)(t):t,{r,s:n,recoveryParam:s}=this.key.sign(e,{canonical:!0});if(null===s)throw new o.SignMessageException;return`0x${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}0${s}`},void 0===t)throw new o.ParameterRequiredException("Private key");if("string"==typeof t&&!t.startsWith("0x"))throw new o.HexStringWithout0xException(t);if("string"==typeof t&&66!==t.length)throw new o.PrivateKeyLenException;if("object"==typeof t&&32!==t.byteLength)throw new o.PrivateKeyLenException;this.key=s.keyFromPrivate("string"==typeof t?t.replace(/^0x/,""):t),this.compressed=e}get privateKey(){return`0x${this.key.getPrivate("hex").padStart(64,"0")}`}get publicKey(){return`0x${this.key.getPublic(this.compressed,"hex")}`}}},80844:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWithdrawEpoch=e.parseEpoch=e.serializeEpoch=void 0;const n=(0,r(41032).__importDefault)(r(86626)),i=r(6969);e.serializeEpoch=({length:t,index:e,number:r})=>{(0,i.assertToBeHexString)(t),(0,i.assertToBeHexString)(e),(0,i.assertToBeHexString)(r);return`0x${n.default.add(n.default.add(n.default.add(n.default.leftShift(n.default.BigInt(32),n.default.BigInt(56)),n.default.leftShift(n.default.BigInt(t),n.default.BigInt(40))),n.default.leftShift(n.default.BigInt(e),n.default.BigInt(24))),n.default.BigInt(r)).toString(16)}`};e.parseEpoch=t=>({length:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(t),n.default.BigInt(40)),n.default.BigInt(65535)).toString(16)}`,index:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(t),n.default.BigInt(24)),n.default.BigInt(65535)).toString(16)}`,number:`0x${n.default.bitwiseAnd(n.default.BigInt(t),n.default.BigInt(16777215)).toString(16)}`});e.getWithdrawEpoch=(t,r)=>{const n=180,i=(0,e.parseEpoch)(t),o=(0,e.parseEpoch)(r);let s=+o.number-+i.number;+o.index*+i.length>+i.index*+o.length&&(s+=1);const a=s<=n?n:(Math.floor((s-1)/n)+1)*n;return(0,e.serializeEpoch)({index:i.index,length:i.length,number:`0x${(+i.number+a).toString(16)}`})},e.default={serializeEpoch:e.serializeEpoch,parseEpoch:e.parseEpoch,getWithdrawEpoch:e.getWithdrawEpoch}},56744:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorCode=void 0,function(t){t[t.ParameterInvalid=101]="ParameterInvalid",t[t.ParameterRequired=102]="ParameterRequired",t[t.SignMessageFailed=103]="SignMessageFailed",t[t.AddressInvalid=104]="AddressInvalid",t[t.ReconciliationFailed=105]="ReconciliationFailed"}(r=e.ErrorCode||(e.ErrorCode={})),e.default=r},40119:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AddressFormatTypeAndEncodeMethodNotMatchException=e.AddressFormatTypeException=e.HashTypeException=e.CodeHashException=e.AddressException=e.AddressPayloadException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(t,e){super(`'${t}' is not a valid ${e?`${e} version `:""}address payload`),this.code=n.default.AddressInvalid,this.type=e}}e.AddressPayloadException=i;class o extends Error{constructor(t,e,r){super(`'${t}' is not a valid ${r?`${r} version `:""}address`),this.code=n.default.AddressInvalid,this.type=r,this.stack=e}}e.AddressException=o;class s extends Error{constructor(t){super(`'${t}' is not a valid code hash`),this.code=n.default.AddressInvalid}}e.CodeHashException=s;class a extends Error{constructor(t){super(`'${t}' is not a valid hash type`),this.code=n.default.AddressInvalid}}e.HashTypeException=a;class u extends Error{constructor(t){super(`0x${t.toString(16).padStart(2,"0")} is not a valid address format type`),this.code=n.default.AddressInvalid}}e.AddressFormatTypeException=u;class c extends Error{constructor(t,e="unknown"){super(`Address format type 0x${t.toString(16).padStart(2,"0")} doesn't match encode method ${e}`),this.code=n.default.AddressInvalid}}e.AddressFormatTypeAndEncodeMethodNotMatchException=c,e.default={AddressPayloadException:i,AddressException:o,CodeHashException:s,HashTypeException:a,AddressFormatTypeException:u,AddressFormatTypeAndEncodeMethodNotMatchException:c}},86390:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PersonalLenException=e.PersonalTypeException=e.KeyTypeException=e.InputTypeException=e.SaltLenException=e.SaltTypeException=e.OutTypeException=e.KeyLenTooLargeException=e.KeyLenTooSmallException=e.OutLenTooLargeException=e.OutLenTooSmallException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(t,e){super(`Expect outlen to be at least ${e}, but ${t} received`),this.code=n.default.ParameterInvalid}}e.OutLenTooSmallException=i;class o extends Error{constructor(t,e){super(`Expect outlen to be at most ${e}, but ${t} received`),this.code=n.default.ParameterInvalid}}e.OutLenTooLargeException=o;class s extends Error{constructor(t,e){super(`Expect key length to be at least ${e}, but ${t} received`),this.code=n.default.ParameterInvalid}}e.KeyLenTooSmallException=s;class a extends Error{constructor(t,e){super(`Expect key length to be at most ${e}, but ${t} received`),this.code=n.default.ParameterInvalid}}e.KeyLenTooLargeException=a;class u extends TypeError{constructor(){super('Expect out to be "binary", "hex", Uint8Array, or Buffer'),this.code=n.default.ParameterInvalid}}e.OutTypeException=u;class c extends TypeError{constructor(){super("Expect salt to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}e.SaltTypeException=c;class f extends Error{constructor(t,e){super(`Expect salt length to be ${e}, but ${t} received`),this.code=n.default.ParameterInvalid}}e.SaltLenException=f;class l extends TypeError{constructor(){super("Expect input to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}e.InputTypeException=l;class d extends TypeError{constructor(){super("Expect key to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}e.KeyTypeException=d;class h extends TypeError{constructor(){super("Expect PERSONAL to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}e.PersonalTypeException=h;class p extends Error{constructor(t,e){super(`Expect PERSONAL length to be ${e}, but ${t} received`),this.code=n.default.ParameterInvalid}}e.PersonalLenException=p,e.default={OutLenTooSmallException:i,OutLenTooLargeException:o,KeyLenTooSmallException:s,KeyLenTooLargeException:a,OutTypeException:u,SaltTypeException:c,SaltLenException:f,InputTypeException:l,KeyTypeException:d,PersonalTypeException:h,PersonalLenException:p}},94338:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignMessageException=e.ParameterRequiredException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(t){super(`${t} is required`),this.code=n.default.ParameterRequired}}e.ParameterRequiredException=i;class o extends Error{constructor(){super("Fail to sign the message"),this.code=n.default.SignMessageFailed}}e.SignMessageException=o,e.default={ParameterRequiredException:i,SignMessageException:o}},73563:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(41032);(0,n.__exportStar)(r(56744),e),(0,n.__exportStar)(r(94338),e),(0,n.__exportStar)(r(94290),e),(0,n.__exportStar)(r(40119),e),(0,n.__exportStar)(r(86390),e),(0,n.__exportStar)(r(5341),e),(0,n.__exportStar)(r(44351),e)},5341:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrivateKeyLenException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(){super("Private key has invalid length"),this.code=n.default.ParameterInvalid}}e.PrivateKeyLenException=i,e.default={PrivateKeyLenException:i}},94290:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HexStringWithout0xException=e.HexStringException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(t){super(`${t} is an invalid hex string`),this.code=n.default.ParameterInvalid}}e.HexStringException=i;class o extends Error{constructor(t){super(`Hex string ${t} should start with 0x`),this.code=n.default.ParameterInvalid}}e.HexStringWithout0xException=o,e.default={HexStringException:i,HexStringWithout0xException:o}},44351:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReconciliationException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(){super("Fail to reconcile transaction, try to increase extra count or check the transaction"),this.code=n.default.ReconciliationFailed}}e.ReconciliationException=i,e.default={ReconciliationException:i}},60720:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateMaximumWithdraw=e.extractDAOData=e.privateKeyToAddress=e.privateKeyToPublicKey=e.rawTransactionToHash=e.scriptToHash=e.blake160=e.bech32m=e.bech32=e.blake2b=e.PERSONAL=e.JSBI=e.serializeWitnessArgs=e.serializeTransaction=e.serializeRawTransaction=e.serializeScript=e.reconcilers=e.systemScripts=void 0;const n=r(41032),i=(0,n.__importDefault)(r(86626));e.JSBI=i.default;const o=(0,n.__importDefault)(r(64750)),s=r(81374),a=r(82607),u=r(73563),c=(0,n.__importDefault)(r(78984)),f=r(35683);Object.defineProperty(e,"serializeScript",{enumerable:!0,get:function(){return f.serializeScript}});const l=r(23918),d=r(21687);Object.defineProperty(e,"serializeRawTransaction",{enumerable:!0,get:function(){return d.serializeRawTransaction}}),Object.defineProperty(e,"serializeTransaction",{enumerable:!0,get:function(){return d.serializeTransaction}}),Object.defineProperty(e,"serializeWitnessArgs",{enumerable:!0,get:function(){return d.serializeWitnessArgs}});const h=r(9467);Object.defineProperty(e,"PERSONAL",{enumerable:!0,get:function(){return h.PERSONAL}}),(0,n.__exportStar)(r(82607),e),(0,n.__exportStar)(r(35683),e),(0,n.__exportStar)(r(81374),e),(0,n.__exportStar)(r(80844),e),(0,n.__exportStar)(r(38222),e),(0,n.__exportStar)(r(23918),e),e.systemScripts=(0,n.__importStar)(r(21243)),e.reconcilers=(0,n.__importStar)(r(54932)),e.blake2b=c.default.blake2b,e.bech32=c.default.bech32,e.bech32m=c.default.bech32m,e.blake160=c.default.blake160;e.scriptToHash=t=>{if(!t)throw new u.ParameterRequiredException("Script");const r=(0,f.serializeScript)(t),n=(0,e.blake2b)(32,null,null,h.PERSONAL);n.update((0,s.hexToBytes)(r));return`0x${n.digest("hex")}`};e.rawTransactionToHash=t=>{if(!t)throw new u.ParameterRequiredException("Raw transaction");const r=(0,d.serializeRawTransaction)(t),n=(0,e.blake2b)(32,null,null,h.PERSONAL);n.update((0,s.hexToBytes)(r));return`0x${n.digest("hex")}`};e.privateKeyToPublicKey=t=>new o.default(t).publicKey;e.privateKeyToAddress=(t,r)=>(0,a.pubkeyToAddress)((0,e.privateKeyToPublicKey)(t),r);e.extractDAOData=t=>{if(!t.startsWith("0x"))throw new u.HexStringWithout0xException(t);const e=t.replace("0x","");return{c:(0,s.toBigEndian)(`0x${e.slice(0,16)}`),ar:(0,s.toBigEndian)(`0x${e.slice(16,32)}`),s:(0,s.toBigEndian)(`0x${e.slice(32,48)}`),u:(0,s.toBigEndian)(`0x${e.slice(48,64)}`)}};e.calculateMaximumWithdraw=(t,r,n,o)=>{const s=(0,l.cellOccupied)(t)+r.slice(2).length/2,a=i.default.asUintN(128,i.default.multiply(i.default.BigInt(1e8),i.default.BigInt(s)));return`0x${i.default.add(i.default.divide(i.default.multiply(i.default.subtract(i.default.asUintN(128,i.default.BigInt(t.capacity)),a),i.default.asUintN(128,i.default.BigInt((0,e.extractDAOData)(o).ar))),i.default.asUintN(128,i.default.BigInt((0,e.extractDAOData)(n).ar))),a).toString(16)}`}},23918:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cellOccupied=e.scriptOccupied=void 0;e.scriptOccupied=t=>t.args.slice(2).length/2+32+1;e.cellOccupied=t=>8+(0,e.scriptOccupied)(t.lock)+(t.type?(0,e.scriptOccupied)(t.type):0)},9167:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extraInputs=void 0;const n=r(41032),i=(0,n.__importDefault)(r(86626)),o=(0,n.__importDefault)(r(48412)),s=r(38222),a=r(73563);e.extraInputs=t=>{const e=i.default.BigInt(`${t.changeThreshold}`),r=i.default.BigInt(`${t.feeRate}`),n=t.tx.outputs[t.tx.outputs.length-1],u=i.default.BigInt(n.capacity),c=i.default.BigInt((0,o.default)(`0x${(0,s.getTransactionSize)(t.tx).toString(16)}`,`0x${r.toString(16)}`)),f=i.default.subtract(i.default.add(c,e),u);if(i.default.LE(f,i.default.BigInt(0)))return Object.assign(Object.assign({},t.tx),{outputs:[...t.tx.outputs.slice(0,-1),Object.assign(Object.assign({},n),{capacity:`0x${i.default.subtract(u,c).toString(16)}`})]});t.cells.sort(((t,e)=>+i.default.subtract(i.default.BigInt(t.capacity),i.default.BigInt(e.capacity))));const l=i.default.BigInt(44),d=i.default.divide(i.default.multiply(l,r),i.default.BigInt(1e3));for(let r=1;r<=Math.min(t.extraCount,t.cells.length);r++){const o=i.default.multiply(i.default.BigInt(r),d),s=i.default.add(f,o),a=t.cells.slice(0,r).reduce(((t,e)=>i.default.add(t,i.default.BigInt(e.capacity))),i.default.BigInt(0));if(i.default.GE(a,s)){const o=[...t.tx.inputs,...t.cells.slice(0,r).map((t=>({previousOutput:t.outPoint,since:"0x0"})))],u=i.default.add(e,i.default.subtract(a,s)),c=Object.assign(Object.assign({},n),{capacity:`0x${u.toString(16)}`}),f=[...t.tx.outputs.slice(0,-1),c];return Object.assign(Object.assign({},t.tx),{inputs:o,outputs:f})}}throw new a.ReconciliationException},e.default=e.extraInputs},54932:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});(0,r(41032).__exportStar)(r(9167),e)},52457:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serializeOption=e.serializeTable=e.serializeDynVec=e.serializeFixVec=e.serializeStruct=e.serializeArray=e.getOffsets=e.fullLengthSize=e.offsetSize=void 0;const n=r(81374);e.offsetSize=4,e.fullLengthSize=4;e.getOffsets=t=>{const r=[e.fullLengthSize+e.offsetSize*t.length];return t.forEach(((e,n)=>{n&&r.push(r[r.length-1]+t[n-1])})),r};e.serializeArray=t=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("The array to be serialized should by type of string or bytes");const e="string"==typeof t?(0,n.hexToBytes)(t):t;return(0,n.bytesToHex)(e)};e.serializeStruct=t=>{let r="";return t.forEach((t=>{r+=(0,e.serializeArray)(t).slice(2)})),`0x${r}`};e.serializeFixVec=t=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("The fixed vector to be serialized should be a string or an array of bytes");const r=("string"==typeof t?[...(0,n.hexToBytes)(t)].map((t=>`0x${t.toString(16)}`)):t).map((t=>(0,e.serializeArray)(t).slice(2)));return`0x${(0,n.toUint32Le)(`0x${r.length.toString(16)}`).slice(2)}${r.join("")}`};e.serializeDynVec=t=>{if(!Array.isArray(t))throw new TypeError("The dynamic vector to be serialized should be an array of bytes");const r=t.map((t=>(0,e.serializeArray)(t).slice(2))),i=r.join("");let o="";r.length&&(o=(0,e.getOffsets)(r.map((t=>t.length/2))).map((t=>(0,n.toUint32Le)(`0x${t.toString(16)}`).slice(2))).join(""));const s=e.fullLengthSize+e.offsetSize*r.length;return`0x${(0,n.toUint32Le)(`0x${(s+i.length/2).toString(16)}`).slice(2)}${o}${i}`};e.serializeTable=t=>{const r=[];t.forEach((t=>{r.push((0,e.serializeArray)(t).slice(2))}));const i=r.join(""),o=e.fullLengthSize+e.offsetSize*t.size;return`0x${(0,n.toUint32Le)(`0x${(o+i.length/2).toString(16)}`).slice(2)}${(0,e.getOffsets)(r.map((t=>t.length/2))).map((t=>(0,n.toUint32Le)(`0x${t.toString(16)}`).slice(2))).join("")}${i}`};e.serializeOption=t=>t||"0x"},35683:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(41032);(0,n.__exportStar)(r(52457),e),(0,n.__exportStar)(r(94048),e),(0,n.__exportStar)(r(21687),e)},94048:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serializeScript=e.serializeArgs=e.serializeHashType=e.serializeCodeHash=void 0;const n=r(52457),i=r(73563);e.serializeCodeHash=t=>(0,n.serializeArray)(t);e.serializeHashType=t=>{if("data"===t)return"0x00";if("type"===t)return"0x01";if("data1"===t)return"0x02";if("data2"===t)return"0x04";throw new TypeError("Hash type must be either of 'data', 'type', 'data1' or 'data2'")};e.serializeArgs=t=>(0,n.serializeFixVec)(t);e.serializeScript=t=>{if(!t)throw new i.ParameterRequiredException("Script");const{codeHash:r="",hashType:o,args:s=""}=t,a=(0,e.serializeCodeHash)(r),u=(0,e.serializeHashType)(o),c=(0,e.serializeArgs)(s),f=new Map([["codeHash",a],["hashType",u],["args",c]]);return(0,n.serializeTable)(f)}},21687:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serializeTransaction=e.serializeRawTransaction=e.serializeWitnesses=e.serializeWitnessArgs=e.serializeOutputsData=e.serializeOutputs=e.serializeOutput=e.serializeInputs=e.serializeInput=e.serializeHeaderDeps=e.serializeCellDeps=e.serializeCellDep=e.serializeDepType=e.serializeOutPoint=e.serializeVersion=void 0;const n=r(94048),i=r(81374),o=r(52457);e.serializeVersion=t=>(0,i.toUint32Le)(t);e.serializeOutPoint=t=>{if(!t)return"";const e=new Map([["txHash",t.txHash],["index",(0,i.toUint32Le)(t.index)]]);return(0,o.serializeStruct)(e)};e.serializeDepType=t=>{if("code"===t)return"0x00";if("depGroup"===t)return"0x01";throw new TypeError("Dep type must be either of 'code' or 'depGroup'")};e.serializeCellDep=t=>{const r=(0,e.serializeOutPoint)(t.outPoint),n=(0,e.serializeDepType)(t.depType),i=new Map([["outPoint",r],["depType",n]]);return(0,o.serializeStruct)(i)};e.serializeCellDeps=t=>{const r=t.map((t=>(0,e.serializeCellDep)(t)));return(0,o.serializeFixVec)(r)};e.serializeHeaderDeps=t=>{const e=t.map((t=>(0,o.serializeArray)(t)));return(0,o.serializeFixVec)(e)};e.serializeInput=t=>{const r=(0,e.serializeOutPoint)(t.previousOutput),n=(0,i.toUint64Le)(t.since),s=new Map([["since",n],["previousOutput",r]]);return(0,o.serializeStruct)(s)};e.serializeInputs=t=>{const r=t.map((t=>(0,e.serializeInput)(t)));return(0,o.serializeFixVec)(r)};e.serializeOutput=t=>{const e=(0,i.toUint64Le)(t.capacity),r=(0,n.serializeScript)(t.lock),s=t.type?(0,n.serializeScript)(t.type):"",a=new Map([["capacity",e],["lock",r],["type",s]]);return(0,o.serializeTable)(a)};e.serializeOutputs=t=>{const r=t.map((t=>(0,e.serializeOutput)(t)));return(0,o.serializeDynVec)(r)};e.serializeOutputsData=t=>{const e=t.map((t=>(0,o.serializeFixVec)(t)));return(0,o.serializeDynVec)(e)};e.serializeWitnessArgs=t=>{const[e,r,n]=[t.lock,t.inputType,t.outputType].map((t=>"0x"===(0,o.serializeOption)(t)?"0x":(0,o.serializeFixVec)(t))),i=new Map([["lock",e],["inputType",r],["outputType",n]]);return(0,o.serializeTable)(i)};e.serializeWitnesses=t=>{const e=t.map((t=>(0,o.serializeFixVec)(t)));return(0,o.serializeDynVec)(e)};e.serializeRawTransaction=t=>{const r=(0,e.serializeVersion)(t.version),n=(0,e.serializeCellDeps)(t.cellDeps),i=(0,e.serializeHeaderDeps)(t.headerDeps),s=(0,e.serializeInputs)(t.inputs),a=(0,e.serializeOutputs)(t.outputs),u=(0,e.serializeOutputsData)(t.outputsData),c=new Map([["version",r],["cellDeps",n],["headerDeps",i],["inputs",s],["outputs",a],["outputsData",u]]);return(0,o.serializeTable)(c)};e.serializeTransaction=t=>{const r=(0,e.serializeRawTransaction)(t),n=(0,e.serializeWitnesses)(t.witnesses||[]),i=new Map([["raw",r],["witnesses",n]]);return(0,o.serializeTable)(i)}},38222:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTransactionSize=void 0;const n=r(21687);e.getTransactionSize=t=>{const e=Object.assign(Object.assign({},t),{witnesses:t.witnesses.map((t=>"string"==typeof t?t:(0,n.serializeWitnessArgs)(t)))});return(0,n.serializeTransaction)(e).slice(2).length/2+4},e.default={getTransactionSize:e.getTransactionSize}},21243:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SIMPLE_UDT=e.NERVOS_DAO=e.ANYONE_CAN_PAY_TESTNET=e.ANYONE_CAN_PAY_MAINNET=e.SECP256K1_MULTISIG=e.SECP256K1_BLAKE160=void 0,e.SECP256K1_BLAKE160={codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"}},e.SECP256K1_MULTISIG={codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x1"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x1"}},e.ANYONE_CAN_PAY_MAINNET={codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:"0x0"}},e.ANYONE_CAN_PAY_TESTNET={codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",depType:"depGroup",testnetOutPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:"0x0"}},e.NERVOS_DAO={codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",depType:"code",mainnetOutPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:"0x2"},testnetOutPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:"0x2"}},e.SIMPLE_UDT={codeHash:"0x48dbf59b4c7ee1547238021b4869bceedf4eea6b43772e5d66ef8865b6ae7212",hashType:"data",depType:"code",testnetOutPoint:{txHash:"0xc1b2ae129fad7465aaa9acc9785f842ba3e6e8b8051d899defa89f5508a77958",index:"0x0"}}},6969:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertToBeHexStringOrBigint=e.assertToBeHexString=void 0;const n=r(73563);e.assertToBeHexString=t=>{if("string"!=typeof t||!t.startsWith("0x")||Number.isNaN(+t))throw new n.HexStringException(t);return!0};e.assertToBeHexStringOrBigint=t=>{if("bigint"==typeof t)return!0;if("string"==typeof t){if(!t.startsWith("0x"))throw new n.HexStringWithout0xException(t);return!0}throw new TypeError(`${t} should be type of string or bigint`)},e.default={assertToBeHexString:e.assertToBeHexString,assertToBeHexStringOrBigint:e.assertToBeHexStringOrBigint}},22734:(t,e,r)=>{"use strict";var n=e;n.version=r(17089).rE,n.utils=r(80168),n.rand=r(15037),n.curve=r(76417),n.curves=r(90977),n.ec=r(34154),n.eddsa=r(99629)},62580:(t,e,r)=>{"use strict";var n=r(39404),i=r(80168),o=i.getNAF,s=i.getJSF,a=i.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=o(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,u,c=[];for(s=0;s<n.length;s+=r.step){u=0;for(var f=s+r.step-1;f>=s;f--)u=(u<<1)+n[f];c.push(u)}for(var l=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<c.length;s++)(u=c[s])===h?d=d.mixedAdd(r.points[s]):u===-h&&(d=d.mixedAdd(r.points[s].neg()));l=l.add(d)}return l.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r,this._bitLength),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&0===s[c];c--)f++;if(c>=0&&f++,u=u.dblp(f),c<0)break;var l=s[c];a(0!==l),u="affine"===t.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){var a,u,c,f=this._wnafT1,l=this._wnafT2,d=this._wnafT3,h=0;for(a=0;a<n;a++){var p=(c=e[a])._getNAFPoints(t);f[a]=p.wnd,l[a]=p.points}for(a=n-1;a>=1;a-=2){var y=a-1,g=a;if(1===f[y]&&1===f[g]){var b=[e[y],null,null,e[g]];0===e[y].y.cmp(e[g].y)?(b[1]=e[y].add(e[g]),b[2]=e[y].toJ().mixedAdd(e[g].neg())):0===e[y].y.cmp(e[g].y.redNeg())?(b[1]=e[y].toJ().mixedAdd(e[g]),b[2]=e[y].add(e[g].neg())):(b[1]=e[y].toJ().mixedAdd(e[g]),b[2]=e[y].toJ().mixedAdd(e[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[y],r[g]);for(h=Math.max(v[0].length,h),d[y]=new Array(h),d[g]=new Array(h),u=0;u<h;u++){var _=0|v[0][u],w=0|v[1][u];d[y][u]=m[3*(_+1)+(w+1)],d[g][u]=0,l[y]=b}}else d[y]=o(r[y],f[y],this._bitLength),d[g]=o(r[g],f[g],this._bitLength),h=Math.max(d[y].length,h),h=Math.max(d[g].length,h)}var S=this.jpoint(null,null,null),A=this._wnafT4;for(a=h;a>=0;a--){for(var x=0;a>=0;){var E=!0;for(u=0;u<n;u++)A[u]=0|d[u][a],0!==A[u]&&(E=!1);if(!E)break;x++,a--}if(a>=0&&x++,S=S.dblp(x),a<0)break;for(u=0;u<n;u++){var k=A[u];0!==k&&(k>0?c=l[u][k-1>>1]:k<0&&(c=l[u][-k-1>>1].neg()),S="affine"===c.type?S.mixedAdd(c):S.add(c))}}for(a=0;a<n;a++)l[a]=null;return i?S:S.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},24169:(t,e,r)=>{"use strict";var n=r(80168),i=r(39404),o=r(56698),s=r(62580),a=n.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function c(t,e,r,n,o){s.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},o(c,s.BasePoint),u.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},u.prototype.point=function(t,e,r,n){return new c(this,t,e,r,n)},c.fromJSON=function(t,e){return new c(t,e[0],e[1],e[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),l=s.redMul(o);return this.curve.point(u,c,l,f)},c.prototype._projDbl=function(){var t,e,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(t=s.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),e=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),t=s.redSub(a).redISub(u).redMul(o),e=c.redMul(n.redSub(u)),r=c.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(t,e,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=o.redMul(s),f=a.redMul(u),l=o.redMul(u),d=s.redMul(a);return this.curve.point(c,f,d,l)},c.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),l=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(e=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,e,r)},c.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},c.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},c.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},c.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},76417:(t,e,r)=>{"use strict";var n=e;n.base=r(62580),n.short=r(11235),n.mont=r(60075),n.edwards=r(24169)},60075:(t,e,r)=>{"use strict";var n=r(39404),i=r(56698),o=r(62580),s=r(80168);function a(t){o.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){o.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(u,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},11235:(t,e,r)=>{"use strict";var n=r(80168),i=r(39404),o=r(56698),s=r(62580),a=n.assert;function u(t){s.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(t,e,r,n){s.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(t,e,r,n){s.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,r,n,o,s,a,u,c,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,h=this.n.clone(),p=new i(1),y=new i(0),g=new i(0),b=new i(1),m=0;0!==d.cmpn(0);){var v=h.div(d);c=h.sub(v.mul(d)),f=g.sub(v.mul(p));var _=b.sub(v.mul(y));if(!n&&c.cmp(l)<0)e=u.neg(),r=p,n=c.neg(),o=f;else if(n&&2==++m)break;u=c,h=d,d=c,g=p,p=f,b=y,y=_}s=c.neg(),a=f;var w=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(w)>=0&&(s=e,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(c).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(e&&!o||!e&&o)&&(n=n.redNeg()),this.point(t,n)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return c},o(c,s.BasePoint),u.prototype.point=function(t,e,r){return new c(this,t,e,r)},u.prototype.pointFromJSON=function(t,e){return c.fromJSON(this,t,e)},c.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},c.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),u.prototype.jpoint=function(t,e,r){return new f(this,t,e,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),l=n.redMul(c),d=u.redSqr().redIAdd(f).redISub(l).redISub(l),h=u.redMul(l.redISub(d)).redISub(o.redMul(f)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,h,p)},f.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),l=a.redSqr().redIAdd(c).redISub(f).redISub(f),d=a.redMul(f.redISub(l)).redISub(i.redMul(c)),h=this.z.redMul(s);return this.curve.jpoint(l,d,h)},f.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(e=0;e<t;e++){var f=o.redSqr(),l=c.redSqr(),d=l.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=o.redMul(l),y=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(y),b=h.redMul(g);b=b.redIAdd(b).redISub(d);var m=c.redMul(a);e+1<t&&(u=u.redMul(d)),o=y,a=m,c=b}return this.curve.jpoint(o,c.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),h=this.x.redAdd(l).redSqr().redISub(f).redISub(d);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),t=y.redISub(h).redISub(h),e=p.redMul(h.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},f.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),y=(p=p.redIAdd(p)).redAdd(p);t=h.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=h.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},f.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=a.redMul(l).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,d,h)},f.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},f.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},90977:(t,e,r)=>{"use strict";var n,i=e,o=r(77952),s=r(76417),a=r(80168).assert;function u(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(36608)}catch(t){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},34154:(t,e,r)=>{"use strict";var n=r(39404),i=r(32723),o=r(80168),s=r(90977),a=r(15037),u=o.assert,c=r(3653),f=r(6284);function l(t){if(!(this instanceof l))return new l(t);"string"==typeof t&&(u(Object.prototype.hasOwnProperty.call(s,t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=l,l.prototype.keyPair=function(t){return new c(this,t)},l.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},l.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},l.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(e.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},l.prototype.sign=function(t,e,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),u=t.toArray("be",s),c=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new n(1)),d=0;;d++){var h=o.k?o.k(d):new n(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(l)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var y=p.getX(),g=y.umod(this.n);if(0!==g.cmpn(0)){var b=h.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(b=b.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==y.cmp(g)?2:0);return o.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),m^=1),new f({r:g,s:b,recoveryParam:m})}}}}}},l.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new f(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),c=u.mul(t).umod(this.n),l=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(t,e,r,i){u((3&r)===r,"The recovery param is more than two bits"),e=new f(e,i);var o=this.n,s=new n(t),a=e.r,c=e.s,l=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),l):this.curve.pointFromX(a,l);var h=e.r.invm(o),p=o.sub(s).mul(h).umod(o),y=c.mul(h).umod(o);return this.g.mulAdd(p,a,y)},l.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new f(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},3653:(t,e,r)=>{"use strict";var n=r(39404),i=r(80168).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},6284:(t,e,r)=>{"use strict";var n=r(39404),i=r(80168),o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function u(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function c(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function f(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var o=u(t,r);if(!1===o)return!1;if(o+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var s=u(t,r);if(!1===s)return!1;var c=t.slice(r.place,s+r.place);if(r.place+=s,2!==t[r.place++])return!1;var f=u(t,r);if(!1===f)return!1;if(t.length!==f+r.place)return!1;var l=t.slice(r.place,f+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new n(c),this.s=new n(l),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=c(e),r=c(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,e.length),(n=n.concat(e)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,t)}},99629:(t,e,r)=>{"use strict";var n=r(77952),i=r(90977),o=r(80168),s=o.assert,a=o.parseBytes,u=r(53422),c=r(80003);function f(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof f))return new f(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=f,f.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},f.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},f.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},f.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},f.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},f.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=!!(128&t[e]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(t){return o.intFromLE(t)},f.prototype.isPoint=function(t){return t instanceof this.pointClass}},53422:(t,e,r)=>{"use strict";var n=r(80168),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},80003:(t,e,r)=>{"use strict";var n=r(39404),i=r(80168),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},36608:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80168:(t,e,r)=>{"use strict";var n=e,i=r(39404),o=r(43349),s=r(64367);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,c=e.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=1&u?3!==(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u:0,r[0].push(s),a=1&c?3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?c:-c:0,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},86626:function(t){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r,n=0;n<e.length;n++)(r=e[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(){return u=a()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&s(i,r.prototype),i},u.apply(null,arguments)}function c(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function f(t){var e="function"==typeof Map?new Map:void 0;return f=function(t){function r(){return u(t,arguments,o(this).constructor)}if(null===t||!c(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)},f(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?l(t):e}function h(t){var e=a();return function(){var r,n=o(t);if(e){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function p(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function g(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=p(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}var b=function(r){var o=Math.abs,s=Math.max,a=Math.imul,u=Math.clz32;function c(t,r){var n;if(e(this,c),t>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return(n=f.call(this,t)).sign=r,n}i(c,r);var f=h(c);return n(c,[{key:"toDebugString",value:function(){var t,e=["BigInt["],r=g(this);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push((n?(n>>>0).toString(16):n)+", ")}}catch(t){r.e(t)}finally{r.f()}return e.push("]"),e.join("")}},{key:"toString",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":t&t-1?c.__toStringGeneric(this,t,!1):c.__toStringBasePowerOfTwo(this,t)}},{key:"__copy",value:function(){for(var t=new c(this.length,this.sign),e=0;e<this.length;e++)t[e]=this[e];return t}},{key:"__trim",value:function(){for(var t=this.length,e=this[t-1];0===e;)e=this[--t-1],this.pop();return 0===t&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var t=0;t<this.length;t++)this[t]=0}},{key:"__clzmsd",value:function(){return u(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(t,e,r){r>this.length&&(r=this.length);for(var n=65535&t,i=t>>>16,o=0,s=65535&e,u=e>>>16,c=0;c<r;c++){var f=this.__digit(c),l=65535&f,d=f>>>16,h=a(l,n),p=a(l,i),y=a(d,n),g=a(d,i),b=s+(65535&h),m=u+o+(b>>>16)+(h>>>16)+(65535&p)+(65535&y);o=(s=(p>>>16)+(y>>>16)+(65535&g)+(m>>>16))>>>16,s&=65535,u=g>>>16,this.__setDigit(c,65535&b|m<<16)}if(0!==o||0!==s||0!==u)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(t,e,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(e+o)+t.__halfDigit(o)+i)>>>16,this.__setHalfDigit(e+o,n);return i}},{key:"__inplaceSub",value:function(t,e,r){var n=0;if(1&e){e>>=1;for(var i=this.__digit(e),o=65535&i,s=0;s<r-1>>>1;s++){var a=t.__digit(s),u=(i>>>16)-(65535&a)-n;n=1&u>>>16,this.__setDigit(e+s,u<<16|65535&o),n=1&(o=(65535&(i=this.__digit(e+s+1)))-(a>>>16)-n)>>>16}var c=t.__digit(s),f=(i>>>16)-(65535&c)-n;if(n=1&f>>>16,this.__setDigit(e+s,f<<16|65535&o),e+s+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(65535&(i=this.__digit(e+s+1)))-(c>>>16)-n)>>>16,this.__setDigit(e+t.length,4294901760&i|65535&o))}else{e>>=1;for(var l=0;l<t.length-1;l++){var d=this.__digit(e+l),h=t.__digit(l),p=(65535&d)-(65535&h)-n,y=(d>>>16)-(h>>>16)-(n=1&p>>>16);n=1&y>>>16,this.__setDigit(e+l,y<<16|65535&p)}var g=this.__digit(e+l),b=t.__digit(l),m=(65535&g)-(65535&b)-n;n=1&m>>>16;var v=0;!(1&r)&&(n=1&(v=(g>>>16)-(b>>>16)-n)>>>16),this.__setDigit(e+l,v<<16|65535&m)}return n}},{key:"__inplaceRightShift",value:function(t){if(0!==t){for(var e,r=this.__digit(0)>>>t,n=this.length-1,i=0;i<n;i++)e=this.__digit(i+1),this.__setDigit(i,e<<32-t|r),r=e>>>t;this.__setDigit(n,r)}}},{key:"__digit",value:function(t){return this[t]}},{key:"__unsignedDigit",value:function(t){return this[t]>>>0}},{key:"__setDigit",value:function(t,e){this[t]=0|e}},{key:"__setDigitGrow",value:function(t,e){this[t]=0|e}},{key:"__halfDigitLength",value:function(){var t=this.length;return 65535>=this.__unsignedDigit(t-1)?2*t-1:2*t}},{key:"__halfDigit",value:function(t){return 65535&this[t>>>1]>>>((1&t)<<4)}},{key:"__setHalfDigit",value:function(t,e){var r=t>>>1,n=this.__digit(r),i=1&t?65535&n|e<<16:4294901760&n|65535&e;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(e){var r=Math.floor,n=Number.isFinite;if("number"==typeof e){if(0===e)return c.__zero();if((0|e)===e)return 0>e?c.__oneDigit(-e,!0):c.__oneDigit(e,!1);if(!n(e)||r(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(e)}if("string"==typeof e){var i=c.__fromString(e);if(null===i)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if("boolean"==typeof e)return!0===e?c.__oneDigit(1,!1):c.__zero();if("object"===t(e)){if(e.constructor===c)return e;var o=c.__toPrimitive(e);return c.BigInt(o)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(t){var e=t.length;if(0===e)return 0;if(1===e){var r=t.__unsignedDigit(0);return t.sign?-r:r}var n=t.__digit(e-1),i=u(n),o=32*e-i;if(1024<o)return t.sign?-1/0:1/0;var s=o-1,a=n,f=e-1,l=i+1,d=32===l?0:a<<l;d>>>=12;var h=l-12,p=12<=l?0:a<<20+l,y=20+l;0<h&&0<f&&(f--,d|=(a=t.__digit(f))>>>32-h,p=a<<h,y=h),0<y&&0<f&&(f--,p|=(a=t.__digit(f))>>>32-y,y-=32);var g=c.__decideRounding(t,y,f,a);if((1===g||0===g&&!(1&~p))&&0==(p=p+1>>>0)&&0!=++d>>>20&&(d=0,1023<++s))return t.sign?-1/0:1/0;var b=t.sign?-2147483648:0;return s=s+1023<<20,c.__kBitConversionInts[1]=b|s|d,c.__kBitConversionInts[0]=p,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(t){if(0===t.length)return t;var e=t.__copy();return e.sign=!t.sign,e}},{key:"bitwiseNot",value:function(t){return t.sign?c.__absoluteSubOne(t).__trim():c.__absoluteAddOne(t,!0)}},{key:"exponentiate",value:function(t,e){if(e.sign)throw new RangeError("Exponent must be positive");if(0===e.length)return c.__oneDigit(1,!1);if(0===t.length)return t;if(1===t.length&&1===t.__digit(0))return!t.sign||1&e.__digit(0)?t:c.unaryMinus(t);if(1<e.length)throw new RangeError("BigInt too big");var r=e.__unsignedDigit(0);if(1===r)return t;if(r>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===t.length&&2===t.__digit(0)){var n=1+(r>>>5),i=new c(n,t.sign&&!!(1&r));i.__initializeDigits();var o=1<<(31&r);return i.__setDigit(n-1,o),i}var s=null,a=t;for(!!(1&r)&&(s=t),r>>=1;0!==r;r>>=1)a=c.multiply(a,a),1&r&&(s=null===s?a:c.multiply(s,a));return s}},{key:"multiply",value:function(t,e){if(0===t.length)return t;if(0===e.length)return e;var r=t.length+e.length;32<=t.__clzmsd()+e.__clzmsd()&&r--;var n=new c(r,t.sign!==e.sign);n.__initializeDigits();for(var i=0;i<t.length;i++)c.__multiplyAccumulate(e,t.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(t,e))return c.__zero();var r,n=t.sign!==e.sign,i=e.__unsignedDigit(0);if(1===e.length&&65535>=i){if(1===i)return n===t.sign?t:c.unaryMinus(t);r=c.__absoluteDivSmall(t,i,null)}else r=c.__absoluteDivLarge(t,e,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(t,e))return t;var r=e.__unsignedDigit(0);if(1===e.length&&65535>=r){if(1===r)return c.__zero();var n=c.__absoluteModSmall(t,r);return 0===n?c.__zero():c.__oneDigit(n,t.sign)}var i=c.__absoluteDivLarge(t,e,!1,!0);return i.sign=t.sign,i.__trim()}},{key:"add",value:function(t,e){var r=t.sign;return r===e.sign?c.__absoluteAdd(t,e,r):0<=c.__absoluteCompare(t,e)?c.__absoluteSub(t,e,r):c.__absoluteSub(e,t,!r)}},{key:"subtract",value:function(t,e){var r=t.sign;return r===e.sign?0<=c.__absoluteCompare(t,e)?c.__absoluteSub(t,e,r):c.__absoluteSub(e,t,!r):c.__absoluteAdd(t,e,r)}},{key:"leftShift",value:function(t,e){return 0===e.length||0===t.length?t:e.sign?c.__rightShiftByAbsolute(t,e):c.__leftShiftByAbsolute(t,e)}},{key:"signedRightShift",value:function(t,e){return 0===e.length||0===t.length?t:e.sign?c.__leftShiftByAbsolute(t,e):c.__rightShiftByAbsolute(t,e)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(t,e){return 0>c.__compareToBigInt(t,e)}},{key:"lessThanOrEqual",value:function(t,e){return 0>=c.__compareToBigInt(t,e)}},{key:"greaterThan",value:function(t,e){return 0<c.__compareToBigInt(t,e)}},{key:"greaterThanOrEqual",value:function(t,e){return 0<=c.__compareToBigInt(t,e)}},{key:"equal",value:function(t,e){if(t.sign!==e.sign)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t.__digit(r)!==e.__digit(r))return!1;return!0}},{key:"notEqual",value:function(t,e){return!c.equal(t,e)}},{key:"bitwiseAnd",value:function(t,e){if(!t.sign&&!e.sign)return c.__absoluteAnd(t,e).__trim();if(t.sign&&e.sign){var r=s(t.length,e.length)+1,n=c.__absoluteSubOne(t,r),i=c.__absoluteSubOne(e);return n=c.__absoluteOr(n,i,n),c.__absoluteAddOne(n,!0,n).__trim()}if(t.sign){var o=[e,t];t=o[0],e=o[1]}return c.__absoluteAndNot(t,c.__absoluteSubOne(e)).__trim()}},{key:"bitwiseXor",value:function(t,e){if(!t.sign&&!e.sign)return c.__absoluteXor(t,e).__trim();if(t.sign&&e.sign){var r=s(t.length,e.length),n=c.__absoluteSubOne(t,r),i=c.__absoluteSubOne(e);return c.__absoluteXor(n,i,n).__trim()}var o=s(t.length,e.length)+1;if(t.sign){var a=[e,t];t=a[0],e=a[1]}var u=c.__absoluteSubOne(e,o);return u=c.__absoluteXor(u,t,u),c.__absoluteAddOne(u,!0,u).__trim()}},{key:"bitwiseOr",value:function(t,e){var r=s(t.length,e.length);if(!t.sign&&!e.sign)return c.__absoluteOr(t,e).__trim();if(t.sign&&e.sign){var n=c.__absoluteSubOne(t,r),i=c.__absoluteSubOne(e);return n=c.__absoluteAnd(n,i,n),c.__absoluteAddOne(n,!0,n).__trim()}if(t.sign){var o=[e,t];t=o[0],e=o[1]}var a=c.__absoluteSubOne(e,r);return a=c.__absoluteAndNot(a,t,a),c.__absoluteAddOne(a,!0,a).__trim()}},{key:"asIntN",value:function(t,e){if(0===e.length)return e;if(0===t)return c.__zero();if(t>=c.__kMaxLengthBits)return e;var r=t+31>>>5;if(e.length<r)return e;var n=e.__unsignedDigit(r-1),i=1<<(31&t-1);if(e.length===r&&n<i)return e;if((n&i)!==i)return c.__truncateToNBits(t,e);if(!e.sign)return c.__truncateAndSubFromPowerOfTwo(t,e,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==e.__digit(o))return c.__truncateAndSubFromPowerOfTwo(t,e,!1);return e.length===r&&n===i?e:c.__truncateToNBits(t,e)}return c.__truncateAndSubFromPowerOfTwo(t,e,!1)}},{key:"asUintN",value:function(t,e){if(0===e.length)return e;if(0===t)return c.__zero();if(e.sign){if(t>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(t,e,!1)}if(t>=c.__kMaxLengthBits)return e;var r=t+31>>>5;if(e.length<r)return e;var n=31&t;if(e.length==r){if(0===n)return e;if(0==e.__digit(r-1)>>>n)return e}return c.__truncateToNBits(t,e)}},{key:"ADD",value:function(t,e){if(t=c.__toPrimitive(t),e=c.__toPrimitive(e),"string"==typeof t)return"string"!=typeof e&&(e=e.toString()),t+e;if("string"==typeof e)return t.toString()+e;if(t=c.__toNumeric(t),e=c.__toNumeric(e),c.__isBigInt(t)&&c.__isBigInt(e))return c.add(t,e);if("number"==typeof t&&"number"==typeof e)return t+e;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(t,e){return c.__compare(t,e,0)}},{key:"LE",value:function(t,e){return c.__compare(t,e,1)}},{key:"GT",value:function(t,e){return c.__compare(t,e,2)}},{key:"GE",value:function(t,e){return c.__compare(t,e,3)}},{key:"EQ",value:function(e,r){for(;;){if(c.__isBigInt(e))return c.__isBigInt(r)?c.equal(e,r):c.EQ(r,e);if("number"==typeof e){if(c.__isBigInt(r))return c.__equalToNumber(r,e);if("object"!==t(r))return e==r;r=c.__toPrimitive(r)}else if("string"==typeof e){if(c.__isBigInt(r))return null!==(e=c.__fromString(e))&&c.equal(e,r);if("object"!==t(r))return e==r;r=c.__toPrimitive(r)}else if("boolean"==typeof e){if(c.__isBigInt(r))return c.__equalToNumber(r,+e);if("object"!==t(r))return e==r;r=c.__toPrimitive(r)}else if("symbol"===t(e)){if(c.__isBigInt(r))return!1;if("object"!==t(r))return e==r;r=c.__toPrimitive(r)}else{if("object"!==t(e))return e==r;if("object"===t(r)&&r.constructor!==c)return e==r;e=c.__toPrimitive(e)}}}},{key:"NE",value:function(t,e){return!c.EQ(t,e)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(t,e){var r=new c(1,e);return r.__setDigit(0,t),r}},{key:"__decideRounding",value:function(t,e,r,n){if(0<e)return-1;var i;if(0>e)i=-e-1;else{if(0===r)return-1;r--,n=t.__digit(r),i=31}var o=1<<i;if(!(n&o))return-1;if(n&(o-=1))return 1;for(;0<r;)if(r--,0!==t.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(t){c.__kBitConversionDouble[0]=t;var e,r=(2047&c.__kBitConversionInts[1]>>>20)-1023,n=1+(r>>>5),i=new c(n,0>t),o=1048575&c.__kBitConversionInts[1]|1048576,s=c.__kBitConversionInts[0],a=20,u=31&r,f=0;if(u<a){var l=a-u;f=l+32,e=o>>>l,o=o<<32-l|s>>>l,s<<=32-l}else if(u===a)f=32,e=o,o=s;else{var d=u-a;f=32-d,e=o<<d|s>>>32-d,o=s<<d}i.__setDigit(n-1,e);for(var h=n-2;0<=h;h--)0<f?(f-=32,e=o,o=s):e=0,i.__setDigit(h,e);return i.__trim()}},{key:"__isWhitespace",value:function(t){return!!(13>=t&&9<=t)||(159>=t?32==t:131071>=t?160==t||5760==t:196607>=t?10>=(t&=131071)||40==t||41==t||47==t||95==t||4096==t:65279==t)}},{key:"__fromString",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=t.length,i=0;if(i===n)return c.__zero();for(var o=t.charCodeAt(i);c.__isWhitespace(o);){if(++i===n)return c.__zero();o=t.charCodeAt(i)}if(43===o){if(++i===n)return null;o=t.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=t.charCodeAt(i),r=-1}if(0===e){if(e=10,48===o){if(++i===n)return c.__zero();if(88===(o=t.charCodeAt(i))||120===o){if(e=16,++i===n)return null;o=t.charCodeAt(i)}else if(79===o||111===o){if(e=8,++i===n)return null;o=t.charCodeAt(i)}else if(66===o||98===o){if(e=2,++i===n)return null;o=t.charCodeAt(i)}}}else if(16===e&&48===o){if(++i===n)return c.__zero();if(88===(o=t.charCodeAt(i))||120===o){if(++i===n)return null;o=t.charCodeAt(i)}}for(;48===o;){if(++i===n)return c.__zero();o=t.charCodeAt(i)}var s=n-i,a=c.__kMaxBitsPerChar[e],u=c.__kBitsPerCharTableMultiplier-1;if(s>1073741824/a)return null;var f=new c(31+(a*s+u>>>c.__kBitsPerCharTableShift)>>>5,!1),l=10>e?e:10,d=10<e?e-10:0;if(e&e-1){f.__initializeDigits();var h=!1,p=0;do{for(var y,g=0,b=1;;){if(y=void 0,o-48>>>0<l)y=o-48;else{if(!((32|o)-97>>>0<d)){h=!0;break}y=(32|o)-87}var m=b*e;if(4294967295<m)break;if(b=m,g=g*e+y,p++,++i===n){h=!0;break}o=t.charCodeAt(i)}var v=a*p+(u=32*c.__kBitsPerCharTableMultiplier-1)>>>c.__kBitsPerCharTableShift+5;f.__inplaceMultiplyAdd(b,g,v)}while(!h)}else{a>>=c.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var A,x=0,E=0;;){if(A=void 0,o-48>>>0<l)A=o-48;else{if(!((32|o)-97>>>0<d)){S=!0;break}A=(32|o)-87}if(E+=a,x=x<<a|A,++i===n){S=!0;break}if(o=t.charCodeAt(i),32<E+a)break}_.push(x),w.push(E)}while(!S);c.__fillFromParts(f,_,w)}if(i!==n){if(!c.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=t.charCodeAt(i),!c.__isWhitespace(o))return null}return 0!==r&&10!==e?null:(f.sign=-1===r,f.__trim())}},{key:"__fillFromParts",value:function(t,e,r){for(var n=0,i=0,o=0,s=e.length-1;0<=s;s--){var a=e[s],u=r[s];i|=a<<o,32===(o+=u)?(t.__setDigit(n++,i),o=0,i=0):32<o&&(t.__setDigit(n++,i),i=a>>>u-(o-=32))}if(0!==i){if(n>=t.length)throw new Error("implementation bug");t.__setDigit(n++,i)}for(;n<t.length;n++)t.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(t,e){var r=t.length,n=e-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=e-1,s=t.__digit(r-1),a=0|(32*r-u(s)+i-1)/i;if(t.sign&&a++,268435456<a)throw new Error("string too long");for(var f=Array(a),l=a-1,d=0,h=0,p=0;p<r-1;p++){var y=t.__digit(p),g=(d|y<<h)&o;f[l--]=c.__kConversionChars[g];var b=i-h;for(d=y>>>b,h=32-b;h>=i;)f[l--]=c.__kConversionChars[d&o],d>>>=i,h-=i}var m=(d|s<<h)&o;for(f[l--]=c.__kConversionChars[m],d=s>>>i-h;0!==d;)f[l--]=c.__kConversionChars[d&o],d>>>=i;if(t.sign&&(f[l--]="-"),-1!==l)throw new Error("implementation bug");return f.join("")}},{key:"__toStringGeneric",value:function(t,e,r){var n=t.length;if(0===n)return"";if(1===n){var i=t.__unsignedDigit(0).toString(e);return!1===r&&t.sign&&(i="-"+i),i}var o,s,a=32*n-u(t.__digit(n-1)),f=c.__kMaxBitsPerChar[e]-1,l=a*c.__kBitsPerCharTableMultiplier,d=1+(l=0|(l+=f-1)/f)>>1,h=c.exponentiate(c.__oneDigit(e,!1),c.__oneDigit(d,!1)),p=h.__unsignedDigit(0);if(1===h.length&&65535>=p){(o=new c(t.length,!1)).__initializeDigits();for(var y,g=0,b=2*t.length-1;0<=b;b--)y=g<<16|t.__halfDigit(b),o.__setHalfDigit(b,0|y/p),g=0|y%p;s=g.toString(e)}else{var m=c.__absoluteDivLarge(t,h,!0,!0);o=m.quotient;var v=m.remainder.__trim();s=c.__toStringGeneric(v,e,!0)}o.__trim();for(var _=c.__toStringGeneric(o,e,!0);s.length<d;)s="0"+s;return!1===r&&t.sign&&(_="-"+_),_+s}},{key:"__unequalSign",value:function(t){return t?-1:1}},{key:"__absoluteGreater",value:function(t){return t?-1:1}},{key:"__absoluteLess",value:function(t){return t?1:-1}},{key:"__compareToBigInt",value:function(t,e){var r=t.sign;if(r!==e.sign)return c.__unequalSign(r);var n=c.__absoluteCompare(t,e);return 0<n?c.__absoluteGreater(r):0>n?c.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(t,e){if(!0|e){var r=t.sign,n=0>e;if(r!==n)return c.__unequalSign(r);if(0===t.length){if(n)throw new Error("implementation bug");return 0===e?0:-1}if(1<t.length)return c.__absoluteGreater(r);var i=o(e),s=t.__unsignedDigit(0);return s>i?c.__absoluteGreater(r):s<i?c.__absoluteLess(r):0}return c.__compareToDouble(t,e)}},{key:"__compareToDouble",value:function(t,e){if(e!=e)return e;if(e===1/0)return-1;if(e===-1/0)return 1;var r=t.sign;if(r!==0>e)return c.__unequalSign(r);if(0===e)throw new Error("implementation bug: should be handled elsewhere");if(0===t.length)return-1;c.__kBitConversionDouble[0]=e;var n=2047&c.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return c.__absoluteGreater(r);var o=t.length,s=t.__digit(o-1),a=u(s),f=32*o-a,l=i+1;if(f<l)return c.__absoluteLess(r);if(f>l)return c.__absoluteGreater(r);var d=1048576|1048575&c.__kBitConversionInts[1],h=c.__kBitConversionInts[0],p=20,y=31-a;if(y!==(f-1)%31)throw new Error("implementation bug");var g,b=0;if(y<p){var m=p-y;b=m+32,g=d>>>m,d=d<<32-m|h>>>m,h<<=32-m}else if(y===p)b=32,g=d,d=h;else{var v=y-p;b=32-v,g=d<<v|h>>>32-v,d=h<<v}if((s>>>=0)>(g>>>=0))return c.__absoluteGreater(r);if(s<g)return c.__absoluteLess(r);for(var _=o-2;0<=_;_--){0<b?(b-=32,g=d>>>0,d=h,h=0):g=0;var w=t.__unsignedDigit(_);if(w>g)return c.__absoluteGreater(r);if(w<g)return c.__absoluteLess(r)}if(0!==d||0!==h){if(0===b)throw new Error("implementation bug");return c.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(t,e){return e|0===e?0===e?0===t.length:1===t.length&&t.sign===0>e&&t.__unsignedDigit(0)===o(e):0===c.__compareToDouble(t,e)}},{key:"__comparisonResultToBool",value:function(t,e){switch(e){case 0:return 0>t;case 1:return 0>=t;case 2:return 0<t;case 3:return 0<=t}throw new Error("unreachable")}},{key:"__compare",value:function(t,e,r){if(t=c.__toPrimitive(t),e=c.__toPrimitive(e),"string"==typeof t&&"string"==typeof e)switch(r){case 0:return t<e;case 1:return t<=e;case 2:return t>e;case 3:return t>=e}if(c.__isBigInt(t)&&"string"==typeof e)return null!==(e=c.__fromString(e))&&c.__comparisonResultToBool(c.__compareToBigInt(t,e),r);if("string"==typeof t&&c.__isBigInt(e))return null!==(t=c.__fromString(t))&&c.__comparisonResultToBool(c.__compareToBigInt(t,e),r);if(t=c.__toNumeric(t),e=c.__toNumeric(e),c.__isBigInt(t)){if(c.__isBigInt(e))return c.__comparisonResultToBool(c.__compareToBigInt(t,e),r);if("number"!=typeof e)throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(t,e),r)}if("number"!=typeof t)throw new Error("implementation bug");if(c.__isBigInt(e))return c.__comparisonResultToBool(c.__compareToNumber(e,t),2^r);if("number"!=typeof e)throw new Error("implementation bug");return 0===r?t<e:1===r?t<=e:2===r?t>e:3===r?t>=e:void 0}},{key:"__absoluteAdd",value:function(t,e,r){if(t.length<e.length)return c.__absoluteAdd(e,t,r);if(0===t.length)return t;if(0===e.length)return t.sign===r?t:c.unaryMinus(t);var n=t.length;(0===t.__clzmsd()||e.length===t.length&&0===e.__clzmsd())&&n++;for(var i=new c(n,r),o=0,s=0;s<e.length;s++){var a=e.__digit(s),u=t.__digit(s),f=(65535&u)+(65535&a)+o,l=(u>>>16)+(a>>>16)+(f>>>16);o=l>>>16,i.__setDigit(s,65535&f|l<<16)}for(;s<t.length;s++){var d=t.__digit(s),h=(65535&d)+o,p=(d>>>16)+(h>>>16);o=p>>>16,i.__setDigit(s,65535&h|p<<16)}return s<i.length&&i.__setDigit(s,o),i.__trim()}},{key:"__absoluteSub",value:function(t,e,r){if(0===t.length)return t;if(0===e.length)return t.sign===r?t:c.unaryMinus(t);for(var n=new c(t.length,r),i=0,o=0;o<e.length;o++){var s=t.__digit(o),a=e.__digit(o),u=(65535&s)-(65535&a)-i,f=(s>>>16)-(a>>>16)-(i=1&u>>>16);i=1&f>>>16,n.__setDigit(o,65535&u|f<<16)}for(;o<t.length;o++){var l=t.__digit(o),d=(65535&l)-i,h=(l>>>16)-(i=1&d>>>16);i=1&h>>>16,n.__setDigit(o,65535&d|h<<16)}return n.__trim()}},{key:"__absoluteAddOne",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length;null===r?r=new c(n,e):r.sign=e;for(var i,o=!0,s=0;s<n;s++){if(i=t.__digit(s),o){var a=-1===i;i=0|i+1,o=a}r.__setDigit(s,i)}return o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(t,e){for(var r,n=t.length,i=new c(e=e||n,!1),o=!0,s=0;s<n;s++){if(r=t.__digit(s),o){var a=0===r;r=0|r-1,o=a}i.__setDigit(s,r)}if(o)throw new Error("implementation bug");for(var u=n;u<e;u++)i.__setDigit(u,0);return i}},{key:"__absoluteAnd",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,i=e.length,o=i;if(n<i){o=n;var s=t,a=n;t=e,n=i,e=s,i=a}var u=o;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,t.__digit(f)&e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteAndNot",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,i=e.length,o=i;n<i&&(o=n);var s=n;null===r?r=new c(s,!1):s=r.length;for(var a=0;a<o;a++)r.__setDigit(a,t.__digit(a)&~e.__digit(a));for(;a<n;a++)r.__setDigit(a,t.__digit(a));for(;a<s;a++)r.__setDigit(a,0);return r}},{key:"__absoluteOr",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,i=e.length,o=i;if(n<i){o=n;var s=t,a=n;t=e,n=i,e=s,i=a}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,t.__digit(f)|e.__digit(f));for(;f<n;f++)r.__setDigit(f,t.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteXor",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,i=e.length,o=i;if(n<i){o=n;var s=t,a=n;t=e,n=i,e=s,i=a}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,t.__digit(f)^e.__digit(f));for(;f<n;f++)r.__setDigit(f,t.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteCompare",value:function(t,e){var r=t.length-e.length;if(0!=r)return r;for(var n=t.length-1;0<=n&&t.__digit(n)===e.__digit(n);)n--;return 0>n?0:t.__unsignedDigit(n)>e.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(t,e,r,n){if(0!==e){for(var i=65535&e,o=e>>>16,s=0,u=0,c=0,f=0;f<t.length;f++,n++){var l=r.__digit(n),d=65535&l,h=l>>>16,p=t.__digit(f),y=65535&p,g=p>>>16,b=a(y,i),m=a(y,o),v=a(g,i),_=a(g,o);s=(u=(m>>>16)+(v>>>16)+(65535&_)+(s=(h+=c+s+((d+=u+(65535&b))>>>16)+(b>>>16)+(65535&m)+(65535&v))>>>16))>>>16,u&=65535,c=_>>>16,l=65535&d|h<<16,r.__setDigit(n,l)}for(;0!==s||0!==u||0!==c;n++){var w=r.__digit(n),S=(65535&w)+u,A=(w>>>16)+(S>>>16)+c+s;u=0,c=0,s=A>>>16,w=65535&S|A<<16,r.__setDigit(n,w)}}}},{key:"__internalMultiplyAdd",value:function(t,e,r,n,i){for(var o=r,s=0,u=0;u<n;u++){var c=t.__digit(u),f=a(65535&c,e),l=(65535&f)+s+o;o=l>>>16;var d=a(c>>>16,e),h=(65535&d)+(f>>>16)+o;o=h>>>16,s=d>>>16,i.__setDigit(u,h<<16|65535&l)}if(i.length>n)for(i.__setDigit(n++,o+s);n<i.length;)i.__setDigit(n++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(t,e,r){null===r&&(r=new c(t.length,!1));for(var n=0,i=2*t.length-1;0<=i;i-=2){var o=(n<<16|t.__halfDigit(i))>>>0,s=0|o/e,a=0|(o=((n=0|o%e)<<16|t.__halfDigit(i-1))>>>0)/e;n=0|o%e,r.__setDigit(i>>>1,s<<16|a)}return r}},{key:"__absoluteModSmall",value:function(t,e){for(var r=0,n=2*t.length-1;0<=n;n--)r=0|((r<<16|t.__halfDigit(n))>>>0)%e;return r}},{key:"__absoluteDivLarge",value:function(t,e,r,n){var i=e.__halfDigitLength(),o=e.length,s=t.__halfDigitLength()-i,u=null;r&&(u=new c(s+2>>>1,!1)).__initializeDigits();var f=new c(i+2>>>1,!1);f.__initializeDigits();var l=c.__clz16(e.__halfDigit(i-1));0<l&&(e=c.__specialLeftShift(e,l,0));for(var d=c.__specialLeftShift(t,l,1),h=e.__halfDigit(i-1),p=0,y=s;0<=y;y--){var g=65535,b=d.__halfDigit(y+i);if(b!==h){var m=(b<<16|d.__halfDigit(y+i-1))>>>0;g=0|m/h;for(var v=0|m%h,_=e.__halfDigit(i-2),w=d.__halfDigit(y+i-2);a(g,_)>>>0>(v<<16|w)>>>0&&(g--,!(65535<(v+=h))););}c.__internalMultiplyAdd(e,g,0,o,f);var S=d.__inplaceSub(f,y,i+1);0!==S&&(S=d.__inplaceAdd(e,y,i),d.__setHalfDigit(y+i,d.__halfDigit(y+i)+S),g--),r&&(1&y?p=g<<16:u.__setDigit(y>>>1,p|g))}return n?(d.__inplaceRightShift(l),r?{quotient:u,remainder:d}:d):r?u:void 0}},{key:"__clz16",value:function(t){return u(t)-16}},{key:"__specialLeftShift",value:function(t,e,r){var n=t.length,i=new c(n+r,!1);if(0===e){for(var o=0;o<n;o++)i.__setDigit(o,t.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var s,a=0,u=0;u<n;u++)s=t.__digit(u),i.__setDigit(u,s<<e|a),a=s>>>32-e;return 0<r&&i.__setDigit(n,a),i}},{key:"__leftShiftByAbsolute",value:function(t,e){var r=c.__toShiftAmount(e);if(0>r)throw new RangeError("BigInt too big");var n=r>>>5,i=31&r,o=t.length,s=0!==i&&0!=t.__digit(o-1)>>>32-i,a=o+n+(s?1:0),u=new c(a,t.sign);if(0===i){for(var f=0;f<n;f++)u.__setDigit(f,0);for(;f<a;f++)u.__setDigit(f,t.__digit(f-n))}else{for(var l=0,d=0;d<n;d++)u.__setDigit(d,0);for(var h,p=0;p<o;p++)h=t.__digit(p),u.__setDigit(p+n,h<<i|l),l=h>>>32-i;if(s)u.__setDigit(o+n,l);else if(0!==l)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(t,e){var r=t.length,n=t.sign,i=c.__toShiftAmount(e);if(0>i)return c.__rightShiftByMaximum(n);var o=i>>>5,s=31&i,a=r-o;if(0>=a)return c.__rightShiftByMaximum(n);var u=!1;if(n)if(t.__digit(o)&(1<<s)-1)u=!0;else for(var f=0;f<o;f++)if(0!==t.__digit(f)){u=!0;break}u&&0===s&&0==~t.__digit(r-1)&&a++;var l=new c(a,n);if(0===s)for(var d=o;d<r;d++)l.__setDigit(d-o,t.__digit(d));else{for(var h,p=t.__digit(o)>>>s,y=r-o-1,g=0;g<y;g++)h=t.__digit(g+o+1),l.__setDigit(g,h<<32-s|p),p=h>>>s;l.__setDigit(y,p)}return u&&(l=c.__absoluteAddOne(l,!0,l)),l.__trim()}},{key:"__rightShiftByMaximum",value:function(t){return t?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(t){if(1<t.length)return-1;var e=t.__unsignedDigit(0);return e>c.__kMaxLengthBits?-1:e}},{key:"__toPrimitive",value:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==t(e))return e;if(e.constructor===c)return e;var n=e[Symbol.toPrimitive];if(n){var i=n(r);if("object"!==t(i))return i;throw new TypeError("Cannot convert object to primitive value")}var o=e.valueOf;if(o){var s=o.call(e);if("object"!==t(s))return s}var a=e.toString;if(a){var u=a.call(e);if("object"!==t(u))return u}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(t){return c.__isBigInt(t)?t:+t}},{key:"__isBigInt",value:function(e){return"object"===t(e)&&e.constructor===c}},{key:"__truncateToNBits",value:function(t,e){for(var r=t+31>>>5,n=new c(r,e.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,e.__digit(o));var s=e.__digit(i);if(31&t){var a=32-(31&t);s=s<<a>>>a}return n.__setDigit(i,s),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(t,e,r){for(var n=Math.min,i=t+31>>>5,o=new c(i,r),s=0,a=i-1,u=0,f=n(a,e.length);s<f;s++){var l=e.__digit(s),d=0-(65535&l)-u,h=0-(l>>>16)-(u=1&d>>>16);u=1&h>>>16,o.__setDigit(s,65535&d|h<<16)}for(;s<a;s++)o.__setDigit(s,0|-u);var p,y=a<e.length?e.__digit(a):0,g=31&t;if(0===g){var b=0-(65535&y)-u;p=65535&b|0-(y>>>16)-(u=1&b>>>16)<<16}else{var m=32-g,v=1<<32-m,_=(65535&v)-(65535&(y=y<<m>>>m))-u;p=65535&_|(v>>>16)-(y>>>16)-(u=1&_>>>16)<<16,p&=v-1}return o.__setDigit(a,p),o.__trim()}},{key:"__digitPow",value:function(t,e){for(var r=1;0<e;)1&e&&(r*=t),e>>>=1,t*=t;return r}}]),c}(f(Array));return b.__kMaxLength=33554432,b.__kMaxLengthBits=b.__kMaxLength<<5,b.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],b.__kBitsPerCharTableShift=5,b.__kBitsPerCharTableMultiplier=1<<b.__kBitsPerCharTableShift,b.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],b.__kBitConversionBuffer=new ArrayBuffer(8),b.__kBitConversionDouble=new Float64Array(b.__kBitConversionBuffer),b.__kBitConversionInts=new Int32Array(b.__kBitConversionBuffer),b}()},41032:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>h,__extends:()=>i,__generator:()=>l,__importDefault:()=>k,__importStar:()=>E,__makeTemplateObject:()=>A,__metadata:()=>c,__param:()=>u,__read:()=>y,__rest:()=>s,__spread:()=>g,__spreadArray:()=>m,__spreadArrays:()=>b,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function u(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function l(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function h(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||d(e,t,r)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function b(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function m(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function _(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof v?Promise.resolve(r.value.v).then(u,c):f(o[0][2],r)}catch(t){f(o[0][3],t)}var r}function u(t){a("next",t)}function c(t){a("throw",t)}function f(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function A(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&d(e,t,r);return x(e,t),e}function k(t){return t&&t.__esModule?t:{default:t}}function I(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function T(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r}},67557:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function n(t){if("boolean"!=typeof t)throw new Error(`boolean expected, not ${t}`)}function i(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}function o(t,...e){if(!i(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function s(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)}function a(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function u(t,e){o(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=e.isBytes=void 0,e.number=r,e.bool=n,e.isBytes=i,e.bytes=o,e.hash=s,e.exists=a,e.output=u;const c={number:r,bool:n,bytes:o,hash:s,exists:a,output:u};e.default=c},37202:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HashMD=e.Maj=e.Chi=void 0;const n=r(67557),i=r(99175);e.Chi=(t,e,r)=>t&e^~t&r;e.Maj=(t,e,r)=>t&e^t&r^e&r;class o extends i.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.createView)(this.buffer)}update(t){(0,n.exists)(this);const{view:e,buffer:r,blockLen:o}=this,s=(t=(0,i.toBytes)(t)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(e,0),this.pos=0);else{const e=(0,i.createView)(t);for(;o<=s-n;n+=o)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,n.exists)(this),(0,n.output)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let t=a;t<o;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+c,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const u=(0,i.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<f;t++)u.setUint32(4*t,l[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}e.HashMD=o},25145:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},39615:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const n=r(67557),i=r(99175);class o extends i.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(t);const r=(0,i.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return(0,n.exists)(this),this.iHash.update(t),this}digestInto(t){(0,n.exists)(this),(0,n.bytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=o;e.hmac=(t,e,r)=>new o(t,e).update(r).digest(),e.hmac.create=(t,e)=>new o(t,e)},93238:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ripemd160=e.RIPEMD160=void 0;const n=r(37202),i=r(99175),o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=new Uint8Array(new Array(16).fill(0).map(((t,e)=>e)));let a=[s],u=[s.map((t=>(9*t+5)%16))];for(let t=0;t<4;t++)for(let e of[a,u])e.push(e[t].map((t=>o[t])));const c=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((t=>new Uint8Array(t))),f=a.map(((t,e)=>t.map((t=>c[e][t])))),l=u.map(((t,e)=>t.map((t=>c[e][t])))),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),h=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function p(t,e,r,n){return 0===t?e^r^n:1===t?e&r|~e&n:2===t?(e|~r)^n:3===t?e&n|r&~n:e^(r|~n)}const y=new Uint32Array(16);class g extends n.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:r,h3:n,h4:i}=this;return[t,e,r,n,i]}set(t,e,r,n,i){this.h0=0|t,this.h1=0|e,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(t,e){for(let r=0;r<16;r++,e+=4)y[r]=t.getUint32(e,!0);let r=0|this.h0,n=r,o=0|this.h1,s=o,c=0|this.h2,g=c,b=0|this.h3,m=b,v=0|this.h4,_=v;for(let t=0;t<5;t++){const e=4-t,w=d[t],S=h[t],A=a[t],x=u[t],E=f[t],k=l[t];for(let e=0;e<16;e++){const n=(0,i.rotl)(r+p(t,o,c,b)+y[A[e]]+w,E[e])+v|0;r=v,v=b,b=0|(0,i.rotl)(c,10),c=o,o=n}for(let t=0;t<16;t++){const r=(0,i.rotl)(n+p(e,s,g,m)+y[x[t]]+S,k[t])+_|0;n=_,_=m,m=0|(0,i.rotl)(g,10),g=s,s=r}}this.set(this.h1+c+m|0,this.h2+b+_|0,this.h3+v+n|0,this.h4+r+s|0,this.h0+o+g|0)}roundClean(){y.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}e.RIPEMD160=g,e.ripemd160=(0,i.wrapConstructor)((()=>new g))},31549:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha1=void 0;const n=r(37202),i=r(99175),o=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),s=new Uint32Array(80);class a extends n.HashMD{constructor(){super(64,20,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4]}get(){const{A:t,B:e,C:r,D:n,E:i}=this;return[t,e,r,n,i]}set(t,e,r,n,i){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i}process(t,e){for(let r=0;r<16;r++,e+=4)s[r]=t.getUint32(e,!1);for(let t=16;t<80;t++)s[t]=(0,i.rotl)(s[t-3]^s[t-8]^s[t-14]^s[t-16],1);let{A:r,B:o,C:a,D:u,E:c}=this;for(let t=0;t<80;t++){let e,f;t<20?(e=(0,n.Chi)(o,a,u),f=1518500249):t<40?(e=o^a^u,f=1859775393):t<60?(e=(0,n.Maj)(o,a,u),f=2400959708):(e=o^a^u,f=3395469782);const l=(0,i.rotl)(r,5)+e+c+f+s[t]|0;c=u,u=a,a=(0,i.rotl)(o,30),o=r,r=l}r=r+this.A|0,o=o+this.B|0,a=a+this.C|0,u=u+this.D|0,c=c+this.E|0,this.set(r,o,a,u,c)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}e.sha1=(0,i.wrapConstructor)((()=>new a))},22623:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=void 0;const n=r(37202),i=r(99175),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class u extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)a[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=a[t-15],r=a[t-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[t]=o+a[t-7]+n+a[t-16]|0}let{A:r,B:s,C:u,D:c,E:f,F:l,G:d,H:h}=this;for(let t=0;t<64;t++){const e=h+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+(0,n.Chi)(f,l,d)+o[t]+a[t]|0,p=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,s,u)|0;h=d,d=l,l=f,f=c+e|0,c=u,u=s,s=r,r=e+p|0}r=r+this.A|0,s=s+this.B|0,u=u+this.C|0,c=c+this.D|0,f=f+this.E|0,l=l+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,s,u,c,f,l,d,h)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class c extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,i.wrapConstructor)((()=>new u)),e.sha224=(0,i.wrapConstructor)((()=>new c))},99175:(t,e,r)=>{"use strict";
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const n=r(25145),i=r(67557);e.isBytes=function(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name};e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);e.rotr=(t,e)=>t<<32-e|t>>>e;e.rotl=(t,e)=>t<<e|t>>>32-e>>>0,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];e.byteSwap=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,e.byteSwapIfBE=e.isLE?t=>t:t=>(0,e.byteSwap)(t),e.byteSwap32=function(t){for(let r=0;r<t.length;r++)t[r]=(0,e.byteSwap)(t[r])};const o=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));e.bytesToHex=function(t){(0,i.bytes)(t);let e="";for(let r=0;r<t.length;r++)e+=o[t[r]];return e};const s={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(t){return t>=s._0&&t<=s._9?t-s._0:t>=s._A&&t<=s._F?t-(s._A-10):t>=s._a&&t<=s._f?t-(s._a-10):void 0}e.hexToBytes=function(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let e=0,i=0;e<r;e++,i+=2){const r=a(t.charCodeAt(i)),o=a(t.charCodeAt(i+1));if(void 0===r||void 0===o){const e=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+i)}n[e]=16*r+o}return n};function u(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function c(t){return"string"==typeof t&&(t=u(t)),(0,i.bytes)(t),t}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=u,e.toBytes=c,e.concatBytes=function(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];(0,i.bytes)(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r};e.Hash=class{clone(){return this._cloneInto()}};const f={}.toString;e.checkOpts=function(t,e){if(void 0!==e&&"[object Object]"!==f.call(e))throw new Error("Options should be object or undefined");return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(c(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(c(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.wrapXOFConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(c(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}},9598:(t,e,r)=>{"use strict";
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.Signature=e.Point=e.CURVE=void 0;const n=r(14923),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),u=BigInt(8),c=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});e.CURVE=c;const f=(t,e)=>(t+e/s)/e,l={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),u=f(s*t,e),l=f(-n*t,e);let d=N(t-u*r-l*i,e),h=N(-u*n-l*s,e);const p=d>a,y=h>a;if(p&&(d=e-d),y&&(h=e-h),d>a||h>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:y,k2:h}}},d=32,h=32,p=d+1,y=2*d+1;function g(t){const{a:e,b:r}=c,n=N(t*t),i=N(n*t);return N(i+e*t+r)}const b=c.a===i;class m extends Error{constructor(t){super(t)}}function v(t){if(!(t instanceof _))throw new TypeError("JacobianPoint expected")}class _{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof A))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(A.ZERO)?_.ZERO:new _(t.x,t.y,o)}static toAffineBatch(t){const e=function(t,e=c.P){const r=new Array(t.length),n=F(t.reduce(((t,n,o)=>n===i?t:(r[o]=t,N(t*n,e))),o),e);return t.reduceRight(((t,n,o)=>n===i?t:(r[o]=N(t*r[o],e),N(t*n,e))),n),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return _.toAffineBatch(t).map(_.fromAffine)}equals(t){v(t);const{x:e,y:r,z:n}=this,{x:i,y:o,z:s}=t,a=N(n*n),u=N(s*s),c=N(e*u),f=N(i*a),l=N(N(r*s)*u),d=N(N(o*n)*a);return c===f&&l===d}negate(){return new _(this.x,N(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,n=N(t*t),i=N(e*e),o=N(i*i),c=t+i,f=N(s*(N(c*c)-n-o)),l=N(a*n),d=N(l*l),h=N(d-s*f),p=N(l*(f-h)-u*o),y=N(s*e*r);return new _(h,p,y)}add(t){v(t);const{x:e,y:r,z:n}=this,{x:o,y:a,z:u}=t;if(o===i||a===i)return this;if(e===i||r===i)return t;const c=N(n*n),f=N(u*u),l=N(e*f),d=N(o*c),h=N(N(r*u)*f),p=N(N(a*n)*c),y=N(d-l),g=N(p-h);if(y===i)return g===i?this.double():_.ZERO;const b=N(y*y),m=N(y*b),w=N(l*b),S=N(g*g-m-s*w),A=N(g*(w-S)-h*m),x=N(n*u*y);return new _(S,A,x)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=_.ZERO;if("bigint"==typeof t&&t===i)return e;let r=U(t);if(r===o)return this;if(!b){let t=e,n=this;for(;r>i;)r&o&&(t=t.add(n)),n=n.double(),r>>=o;return t}let{k1neg:n,k1:s,k2neg:a,k2:u}=l.splitScalar(r),c=e,f=e,d=this;for(;s>i||u>i;)s&o&&(c=c.add(d)),u&o&&(f=f.add(d)),d=d.double(),s>>=o,u>>=o;return n&&(c=c.negate()),a&&(f=f.negate()),f=new _(N(f.x*l.beta),f.y,f.z),c.add(f)}precomputeWindow(t){const e=b?128/t+1:256/t+1,r=[];let n=this,i=n;for(let o=0;o<e;o++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(_.BASE)&&(e=A.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&S.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=_.normalizeZ(n),S.set(e,n)));let i=_.ZERO,s=_.BASE;const a=1+(b?128/r:256/r),u=2**(r-1),c=BigInt(2**r-1),f=2**r,l=BigInt(r);for(let e=0;e<a;e++){const r=e*u;let a=Number(t&c);t>>=l,a>u&&(a-=f,t+=o);const d=r,h=r+Math.abs(a)-1,p=e%2!=0,y=a<0;0===a?s=s.add(w(p,n[d])):i=i.add(w(y,n[h]))}return{p:i,f:s}}multiply(t,e){let r,n,i=U(t);if(b){const{k1neg:t,k1:o,k2neg:s,k2:a}=l.splitScalar(i);let{p:u,f:c}=this.wNAF(o,e),{p:f,f:d}=this.wNAF(a,e);u=w(t,u),f=w(s,f),f=new _(N(f.x*l.beta),f.y,f.z),r=u.add(f),n=c.add(d)}else{const{p:t,f:o}=this.wNAF(i,e);r=t,n=o}return _.normalizeZ([r,n])[0]}toAffine(t){const{x:e,y:r,z:n}=this,i=this.equals(_.ZERO);null==t&&(t=i?u:F(n));const s=t,a=N(s*s),c=N(a*s),f=N(e*a),l=N(r*c),d=N(n*s);if(i)return A.ZERO;if(d!==o)throw new Error("invZ was invalid");return new A(f,l)}}function w(t,e){const r=e.negate();return t?r:e}_.BASE=new _(c.Gx,c.Gy,o),_.ZERO=new _(i,o,i);const S=new WeakMap;class A{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,S.delete(this)}hasEvenY(){return this.y%s===i}static fromCompressedHex(t){const e=32===t.length,r=D(e?t:t.subarray(1));if(!V(r))throw new Error("Point is not on curve");let n=function(t){const{P:e}=c,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),u=BigInt(44),f=BigInt(88),l=t*t*t%e,d=l*l*t%e,h=H(d,a)*d%e,p=H(h,a)*d%e,y=H(p,s)*l%e,g=H(y,n)*y%e,b=H(g,i)*g%e,m=H(b,u)*b%e,v=H(m,f)*m%e,_=H(v,u)*b%e,w=H(_,a)*d%e,S=H(w,o)*g%e,A=H(S,r)*l%e,x=H(A,s);if(x*x%e!==t)throw new Error("Cannot find square root");return x}(g(r));const i=(n&o)===o;if(e)i&&(n=N(-n));else{!(1&~t[0])!==i&&(n=N(-n))}const u=new A(r,n);return u.assertValidity(),u}static fromUncompressedHex(t){const e=D(t.subarray(1,d+1)),r=D(t.subarray(d+1,2*d+1)),n=new A(e,r);return n.assertValidity(),n}static fromHex(t){const e=L(t),r=e.length,n=e[0];if(r===d)return this.fromCompressedHex(e);if(r===p&&(2===n||3===n))return this.fromCompressedHex(e);if(r===y&&4===n)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${p} compressed bytes or ${y} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return A.BASE.multiply(Q(t))}static fromSignature(t,e,r){const{r:n,s:i}=Y(e);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=z(L(t)),{n:s}=c,a=2===r||3===r?n+s:n,u=F(a,s),f=N(-o*u,s),l=N(i*u,s),d=1&r?"03":"02",h=A.fromHex(d+P(a)),p=A.BASE.multiplyAndAddUnsafe(h,f,l);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return j(this.toHex(t))}toHex(t=!1){const e=P(this.x);if(t){return`${this.hasEvenY()?"02":"03"}${e}`}return`04${e}${P(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!V(e)||!V(r))throw new Error(t);const n=N(r*r);if(N(n-g(e))!==i)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new A(this.x,N(-this.y))}double(){return _.fromAffine(this).double().toAffine()}add(t){return _.fromAffine(this).add(_.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return _.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const n=_.fromAffine(this),s=e===i||e===o||this!==A.BASE?n.multiplyUnsafe(e):n.multiply(e),a=_.fromAffine(t).multiplyUnsafe(r),u=s.add(a);return u.equals(_.ZERO)?void 0:u.toAffine()}}function x(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function E(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${C(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:D(r),left:t.subarray(e+2)}}e.Point=A,A.BASE=new A(c.Gx,c.Gy),A.ZERO=new A(i,i);class k{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=e?C(t):t;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new k(R(n.slice(0,64)),R(n.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${C(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=E(t.subarray(2)),{data:n,left:i}=E(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${C(i)}`);return{r:e,s:n}}(e?t:j(t));return new k(r,n)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!$(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!$(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=c.n>>o;return this.s>t}normalizeS(){return this.hasHighS()?new k(this.r,N(-this.s,c.n)):this}toDERRawBytes(){return j(this.toDERHex())}toDERHex(){const t=x(B(this.s)),e=x(B(this.r)),r=t.length/2,n=e.length/2,i=B(r),o=B(n);return`30${B(n+r+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return j(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}function I(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}e.Signature=k;const T=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function C(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=T[t[r]];return e}const O=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function P(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(i<=t&&t<O))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function M(t){const e=j(P(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function B(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function R(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function j(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function D(t){return R(C(t))}function L(t){return t instanceof Uint8Array?Uint8Array.from(t):j(t)}function U(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&$(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function N(t,e=c.P){const r=t%e;return r>=i?r:e+r}function H(t,e){const{P:r}=c;let n=t;for(;e-- >i;)n*=n,n%=r;return n}function F(t,e=c.P){if(t===i||e<=i)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=N(t,e),n=e,s=i,a=o,u=o,f=i;for(;r!==i;){const t=n/r,e=n%r,i=s-u*t,o=a-f*t;n=r,r=e,s=u,a=f,u=i,f=o}if(n!==o)throw new Error("invert: does not exist");return N(s,e)}function z(t,e=!1){const r=function(t){const e=8*t.length-8*h,r=D(t);return e>0?r>>BigInt(e):r}(t);if(e)return r;const{n}=c;return r>=n?r-n:r}let K,q;class W{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return e.utils.hmacSha256(this.k,...t)}hmacSync(...t){return q(this.k,...t)}checkSync(){if("function"!=typeof q)throw new m("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return I(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return I(...e)}}function $(t){return i<t&&t<c.n}function V(t){return i<t&&t<c.P}function G(t,e,r,n=!0){const{n:s}=c,a=z(t,!0);if(!$(a))return;const u=F(a,s),f=A.BASE.multiply(a),l=N(f.x,s);if(l===i)return;const d=N(u*N(e+r*l,s),s);if(d===i)return;let h=new k(l,d),p=(f.x===h.r?0:2)|Number(f.y&o);return n&&h.hasHighS()&&(h=h.normalizeS(),p^=1),{sig:h,recovery:p}}function Q(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*h)throw new Error("Expected 32 bytes of private key");e=R(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==h)throw new Error("Expected 32 bytes of private key");e=D(t)}if(!$(e))throw new Error("Expected private key: 0 < key < n");return e}function X(t){return t instanceof A?(t.assertValidity(),t):A.fromHex(t)}function Y(t){if(t instanceof k)return t.assertValidity(),t;try{return k.fromDER(t)}catch(e){return k.fromCompact(t)}}function J(t){const e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===p||n===y:r?n===2*p||n===2*y:t instanceof A}function Z(t){return D(t.length>d?t.slice(0,d):t)}function tt(t){const e=Z(t),r=N(e,c.n);return et(r<i?e:r)}function et(t){return M(t)}function rt(t,r,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const i=L(t),o=Q(r),s=[et(o),tt(i)];if(null!=n){!0===n&&(n=e.utils.randomBytes(d));const t=L(n);if(t.length!==d)throw new Error(`sign: Expected ${d} bytes of extra data`);s.push(t)}return{seed:I(...s),m:Z(i),d:o}}function nt(t,e){const{sig:r,recovery:n}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}e.getPublicKey=function(t,e=!1){return A.fromPrivateKey(t).toRawBytes(e)},e.recoverPublicKey=function(t,e,r,n=!1){return A.fromSignature(t,e,r).toRawBytes(n)},e.getSharedSecret=function(t,e,r=!1){if(J(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!J(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=X(e);return n.assertValidity(),n.multiply(Q(t)).toRawBytes(r)},e.sign=async function(t,e,r={}){const{seed:n,m:i,d:o}=rt(t,e,r.extraEntropy),s=new W(32,h);let a;for(await s.reseed(n);!(a=G(await s.generate(),i,o,r.canonical));)await s.reseed();return nt(a,r)},e.signSync=function(t,e,r={}){const{seed:n,m:i,d:o}=rt(t,e,r.extraEntropy),s=new W(32,h);let a;for(s.reseedSync(n);!(a=G(s.generateSync(),i,o,r.canonical));)s.reseedSync();return nt(a,r)};const it={strict:!0};function ot(t){return N(D(t),c.n)}e.verify=function(t,e,r,n=it){let i;try{i=Y(t),e=L(e)}catch(t){return!1}const{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;const a=z(e);let u;try{u=X(r)}catch(t){return!1}const{n:f}=c,l=F(s,f),d=N(a*l,f),h=N(o*l,f),p=A.BASE.multiplyAndAddUnsafe(u,d,h);return!!p&&N(p.x,f)===o};class st{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=L(t);if(64!==e.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);const r=D(e.subarray(0,32)),n=D(e.subarray(32,64));return new st(r,n)}assertValidity(){const{r:t,s:e}=this;if(!V(t)||!$(e))throw new Error("Invalid signature")}toHex(){return P(this.r)+P(this.s)}toRawBytes(){return j(this.toHex())}}class at{constructor(t,r,n=e.utils.randomBytes()){if(null==t)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=L(t);const{x:i,scalar:o}=this.getScalar(Q(r));if(this.px=i,this.d=o,this.rand=L(n),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){const e=A.fromPrivateKey(t),r=e.hasEvenY()?t:c.n-t;return{point:e,scalar:r,x:e.toRawX()}}initNonce(t,e){return M(t^D(e))}finalizeNonce(t){const e=N(D(t),c.n);if(e===i)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:n,scalar:o}=this.getScalar(e);return{R:r,rx:n,k:o}}finalizeSig(t,e,r,n){return new st(t.x,N(e+r*n,c.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:t,d:r,px:n,rand:i}=this,o=e.utils.taggedHash,s=this.initNonce(r,await o(ht.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(await o(ht.nonce,s,n,t)),f=ot(await o(ht.challenge,u,n,t)),l=this.finalizeSig(a,c,f,r);return await ft(l,t,n)||this.error(),l}calcSync(){const{m:t,d:r,px:n,rand:i}=this,o=e.utils.taggedHashSync,s=this.initNonce(r,o(ht.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(o(ht.nonce,s,n,t)),f=ot(o(ht.challenge,u,n,t)),l=this.finalizeSig(a,c,f,r);return lt(l,t,n)||this.error(),l}}function ut(t,e,r){const n=t instanceof st,i=n?t:st.fromHex(t);return n&&i.assertValidity(),{...i,m:L(e),P:X(r)}}function ct(t,e,r,n){const i=A.BASE.multiplyAndAddUnsafe(e,Q(r),N(-n,c.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function ft(t,r,n){try{const{r:i,s:o,m:s,P:a}=ut(t,r,n),u=ot(await e.utils.taggedHash(ht.challenge,M(i),a.toRawX(),s));return ct(i,a,o,u)}catch(t){return!1}}function lt(t,r,n){try{const{r:i,s:o,m:s,P:a}=ut(t,r,n),u=ot(e.utils.taggedHashSync(ht.challenge,M(i),a.toRawX(),s));return ct(i,a,o,u)}catch(t){if(t instanceof m)throw t;return!1}}e.schnorr={Signature:st,getPublicKey:function(t){return A.fromPrivateKey(t).toRawX()},sign:async function(t,e,r){return new at(t,e,r).calc()},verify:ft,signSync:function(t,e,r){return new at(t,e,r).calcSync()},verifySync:lt},A.BASE._setWindowSize(8);const dt={node:n,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},ht={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},pt={};e.utils={bytesToHex:C,hexToBytes:j,concatBytes:I,mod:N,invert:F,isValidPrivateKey(t){try{return Q(t),!0}catch(t){return!1}},_bigintTo32Bytes:M,_normalizePrivateKey:Q,hashToPrivateKey:t=>{t=L(t);const e=h+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return M(N(D(t),c.n-o)+o)},randomBytes:(t=32)=>{if(dt.web)return dt.web.getRandomValues(new Uint8Array(t));if(dt.node){const{randomBytes:e}=dt.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(h+8)),precompute(t=8,e=A.BASE){const r=e===A.BASE?e:new A(e.x,e.y);return r._setWindowSize(t),r.multiply(a),r},sha256:async(...t)=>{if(dt.web){const e=await dt.web.subtle.digest("SHA-256",I(...t));return new Uint8Array(e)}if(dt.node){const{createHash:e}=dt.node,r=e("sha256");return t.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(dt.web){const r=await dt.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=I(...e),i=await dt.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(dt.node){const{createHmac:r}=dt.node,n=r("sha256",t);return e.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...r)=>{let n=pt[t];if(void 0===n){const r=await e.utils.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=I(r,r),pt[t]=n}return e.utils.sha256(n,...r)},taggedHashSync:(t,...e)=>{if("function"!=typeof K)throw new m("sha256Sync is undefined, you need to set it");let r=pt[t];if(void 0===r){const e=K(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=I(e,e),pt[t]=r}return K(r,...e)},_JacobianPoint:_},Object.defineProperties(e.utils,{sha256Sync:{configurable:!1,get:()=>K,set(t){K||(K=t)}},hmacSha256Sync:{configurable:!1,get:()=>q,set(t){q||(q=t)}}})},95367:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.addAddressToPubkeyMap=e.decodeAddress=e.getAddressType=e.isValidAddress=e.addressToScriptPublicKeyHex=e.addressToScriptPublicKey=e.publicKeyToAddress=e.publicKeyToPayment=e.isSupportedFromAddress=e.AddressType=void 0;const i=r(2353),o=r(23538),s=r(90593),a=r(44273),u=r(24662);var c;function f(t,e,r){if(!t)return;const o=(0,s.networkTypeToNetwork)(r),a=n.from((0,u.remove0x)(t),"hex");if(e===c.P2PKH)return i.bitcoin.payments.p2pkh({pubkey:a,network:o});if(e===c.P2WPKH)return i.bitcoin.payments.p2wpkh({pubkey:a,network:o});if(e===c.P2TR)return i.bitcoin.payments.p2tr({internalPubkey:(0,u.toXOnly)(a),network:o});if(e===c.P2SH_P2WPKH){const t=i.bitcoin.payments.p2wpkh({pubkey:a,network:o});return i.bitcoin.payments.p2sh({pubkey:a,network:o,redeem:t})}}function l(t,e){const r=(0,s.networkTypeToNetwork)(e);return i.bitcoin.address.toOutputScript(t,r)}function d(t){const e=i.bitcoin.networks.bitcoin,r=i.bitcoin.networks.testnet,n=i.bitcoin.networks.regtest;let s,a,u,f;if(t.startsWith("bc1")||t.startsWith("tb1")||t.startsWith("bcrt1"))try{if(a=i.bitcoin.address.fromBech32(t),a.prefix===e.bech32?u=o.NetworkType.MAINNET:a.prefix===r.bech32?u=o.NetworkType.TESTNET:a.prefix===n.bech32&&(u=o.NetworkType.REGTEST),0===a.version?20===a.data.length?f=c.P2WPKH:32===a.data.length&&(f=c.P2WSH):1===a.version&&32===a.data.length&&(f=c.P2TR),void 0!==u&&void 0!==f)return{networkType:u,addressType:f,dust:h(f)}}catch(t){}else try{if(s=i.bitcoin.address.fromBase58Check(t),s.version===e.pubKeyHash?(u=o.NetworkType.MAINNET,f=c.P2PKH):s.version===r.pubKeyHash?(u=o.NetworkType.TESTNET,f=c.P2PKH):s.version===n.pubKeyHash?(u=o.NetworkType.REGTEST,f=c.P2PKH):s.version===e.scriptHash?(u=o.NetworkType.MAINNET,f=c.P2SH_P2WPKH):s.version===r.scriptHash?(u=o.NetworkType.TESTNET,f=c.P2SH_P2WPKH):s.version===n.scriptHash&&(u=o.NetworkType.REGTEST,f=c.P2SH_P2WPKH),void 0!==u&&void 0!==f)return{networkType:u,addressType:f,dust:h(f)}}catch(t){}return{addressType:c.UNKNOWN,networkType:o.NetworkType.MAINNET,dust:546}}function h(t){return t===c.P2WPKH?294:t===c.P2TR?330:546}!function(t){t[t.P2PKH=0]="P2PKH",t[t.P2WPKH=1]="P2WPKH",t[t.P2TR=2]="P2TR",t[t.P2SH_P2WPKH=3]="P2SH_P2WPKH",t[t.P2WSH=4]="P2WSH",t[t.P2SH=5]="P2SH",t[t.UNKNOWN=6]="UNKNOWN"}(c||(e.AddressType=c={})),e.isSupportedFromAddress=function(t){const{addressType:e}=d(t);return e===c.P2WPKH||e===c.P2TR},e.publicKeyToPayment=f,e.publicKeyToAddress=function(t,e,r){const n=f(t,e,r);if(n&&n.address)return n.address;throw new a.TxBuildError(a.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE)},e.addressToScriptPublicKey=l,e.addressToScriptPublicKeyHex=function(t,e){return l(t,e).toString("hex")},e.isValidAddress=function(t,e){try{return i.bitcoin.address.toOutputScript(t,(0,s.networkTypeToNetwork)(e)),!0}catch{return!1}},e.getAddressType=function(t){return d(t).addressType},e.decodeAddress=d,e.addAddressToPubkeyMap=function(t,e,r){const n={...t};return r&&(n[e]=r),n}},58326:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendBtc=e.createSendBtcBuilder=void 0;const n=r(68835);async function i(t){const e=t.tos.map((t=>({fixed:!0,...t})));return await(0,n.createSendUtxosBuilder)({inputs:[],outputs:e,from:t.from,source:t.source,feeRate:t.feeRate,fromPubkey:t.fromPubkey,changeAddress:t.changeAddress,minUtxoSatoshi:t.minUtxoSatoshi,onlyConfirmedUtxos:t.onlyConfirmedUtxos})}e.createSendBtcBuilder=i,e.sendBtc=async function(t){const{builder:e}=await i(t);return e.toPsbt()}},79968:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.sendRbf=e.createSendRbfBuilder=void 0;const i=r(44273),o=r(76889),s=r(90593),a=r(97593),u=r(68835),c=r(2353);async function f(t){const e=c.bitcoin.Transaction.fromHex(t.txHex),r=(0,s.networkTypeToNetwork)(t.source.networkType),f=[];for(const r of e.ins){const e=n.from(r.hash).reverse().toString("hex"),o=await t.source.getUtxo(e,r.index);if(!o)throw i.TxBuildError.withComment(i.ErrorCodes.CANNOT_FIND_UTXO,`hash: ${e}, index: ${r.index}`);f.push(o)}const l=t.requireValidOutputsValue??!1,d=e.outs.map((t=>(0,o.isOpReturnScriptPubkey)(t.script)?{script:t.script,value:t.value,fixed:!0}:{minUtxoSatoshi:l?void 0:t.value,address:c.bitcoin.address.fromOutputScript(t.script,r),value:t.value,fixed:!0}));let h=t.changeAddress;if(void 0!==t.changeIndex){const e=d[t.changeIndex];if(!e)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`outputs[${t.changeIndex}] is not found`);if(!(e&&"address"in e))throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`outputs[${t.changeIndex}] is not a returnable output for change`);const r=e.address;if(r&&h&&h!==r)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`The address of outputs[${t.changeIndex}] does not match the specified changeAddress, expected: ${h}, actual: ${r}`);r&&!h&&(h=r);if(d.length===t.changeIndex+1)d.pop();else{const r=(0,a.networkTypeToConfig)(t.source.networkType),n=t.minUtxoSatoshi??r.btcUtxoDustLimit;e.minUtxoSatoshi=n,e.value=n,e.protected=!0,e.fixed=!1}}const p=t.requireGreaterFeeAndRate??!0;let y=t.feeRate;if(p&&!y){y=(await t.source.service.getBtcRecommendedFeeRates()).fastestFee}const g=f.reduce(((t,e)=>t+e.value),0)-e.outs.reduce(((t,e)=>t+e.value),0),b=Math.floor(g/e.virtualSize());if(p&&void 0!==y&&y<=b)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_FEE_RATE,`RBF should offer a higher fee rate, previous: ${b}, current: ${y}`);const m=e.getId(),v=e.outs.map(((t,e)=>({txid:m,vout:e}))),_=await(0,u.createSendUtxosBuilder)({inputs:f,outputs:d,excludeUtxos:v,changeAddress:h,from:t.from,source:t.source,feeRate:t.feeRate,pubkeyMap:t.pubkeyMap,fromPubkey:t.fromPubkey,minUtxoSatoshi:t.minUtxoSatoshi,onlyConfirmedUtxos:t.onlyConfirmedUtxos??!0,skipInputsValidation:!0});if(p&&_.fee<=g)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_FEE_RATE,`RBF should offer a higher fee amount, previous: ${g}, current: ${_.fee}`);return _}e.createSendRbfBuilder=f,e.sendRbf=async function(t){const{builder:e}=await f(t);return e.toPsbt()}},34764:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendRgbppUtxos=e.createSendRgbppUtxosBuilder=e.sendRgbppUtxosBuilder=void 0;const n=r(41256),i=r(41256),o=r(23538),s=r(44273),a=r(97593),u=r(89026),c=r(68835),f=r(24662);async function l(t){const e=[],r=[];let l=-1;const d=t.ckbVirtualTx,h=(0,a.networkTypeToConfig)(t.source.networkType),p=t.source.networkType===o.NetworkType.MAINNET,y=await Promise.all(d.inputs.map((e=>(0,f.limitPromiseBatchSize)((async()=>{const r=await t.ckbCollector.getLiveCell(e.previousOutput),n=(0,i.isRgbppLockCell)(r.output,p);return{ckbLiveCell:r,isRgbppLock:n,lockArgs:n?(0,u.unpackRgbppLockArgs)(r.output.lock.args):void 0}}))))),g=await Promise.all(y.map((({ckbLiveCell:e,isRgbppLock:r})=>{if(r){const r=(0,u.unpackRgbppLockArgs)(e.output.lock.args);return(0,f.limitPromiseBatchSize)((()=>t.source.getUtxo(r.btcTxid,r.outIndex,t.onlyConfirmedUtxos)))}})));for(let t=0;t<d.inputs.length;t++){const{lockArgs:r,isRgbppLock:n}=y[t];if(n){const n=r,i=g[t];if(!i)throw s.TxBuildError.withComment(s.ErrorCodes.CANNOT_FIND_UTXO,`hash: ${n.btcTxid}, index: ${n.outIndex}`);if(e.some((t=>t.txid===i.txid&&t.vout===i.vout)))continue;e.push(i)}}if(e.length<1)throw new s.TxBuildError(s.ErrorCodes.CKB_INVALID_INPUTS);for(let e=0;e<d.outputs.length;e++){const n=d.outputs[e],o=(0,i.isRgbppLockCell)(n,p),a=(0,i.isBtcTimeLockCell)(n,p);if(n.type){if(!o&&!a)throw new s.TxBuildError(s.ErrorCodes.CKB_INVALID_CELL_LOCK);l=e}if(o){const n=t.tos?.[e],i=t.rgbppMinUtxoSatoshi??h.rgbppUtxoDustLimit;r.push({fixed:!0,address:n??t.from,value:i,minUtxoSatoshi:i})}}if(l<0)throw new s.TxBuildError(s.ErrorCodes.CKB_INVALID_OUTPUTS);const b=(0,i.calculateCommitment)({inputs:d.inputs,outputs:d.outputs.slice(0,l+1),outputsData:d.outputsData.slice(0,l+1)});if(t.commitment!==b)throw new s.TxBuildError(s.ErrorCodes.CKB_UNMATCHED_COMMITMENT);const m=await async function(t,e){const r=[];r.push({data:e.commitment,fixed:!0,value:0}),r.push(...t);const i=await e.source.getPaymasterOutput(),o=i?.address!==e.paymaster?.address||i?.value!==e.paymaster?.value;if(i&&e.paymaster&&o)throw s.TxBuildError.withComment(s.ErrorCodes.PAYMASTER_MISMATCH,`expected: ${i}, actual: ${e.paymaster}`);const a=i??e.paymaster,u=await(async()=>{if(void 0!==e.needPaymaster)return e.needPaymaster;return!await(0,n.checkCkbTxInputsCapacitySufficient)(e.ckbVirtualTx,e.ckbCollector)})();a&&u&&r.push({...a,fixed:!0});return r}(r,t);return await(0,c.createSendUtxosBuilder)({inputs:e,outputs:m,from:t.from,source:t.source,feeRate:t.feeRate,fromPubkey:t.fromPubkey,changeAddress:t.changeAddress,minUtxoSatoshi:t.minUtxoSatoshi,onlyConfirmedUtxos:t.onlyConfirmedUtxos,excludeUtxos:t.excludeUtxos,pubkeyMap:t.pubkeyMap})}e.sendRgbppUtxosBuilder=l,e.createSendRgbppUtxosBuilder=l,e.sendRgbppUtxos=async function(t){const{builder:e}=await l(t);return e.toPsbt()}},68835:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendUtxos=e.createSendUtxosBuilder=void 0;const n=r(61088),i=r(73586),o=r(95367);async function s(t){const e=new n.TxBuilder({source:t.source,feeRate:t.feeRate,minUtxoSatoshi:t.minUtxoSatoshi,onlyConfirmedUtxos:t.onlyConfirmedUtxos}),r=(0,o.addAddressToPubkeyMap)(t.pubkeyMap??{},t.from,t.fromPubkey),s=await(0,i.prepareUtxoInputs)({utxos:t.inputs,source:t.source,requireConfirmed:t.onlyConfirmedUtxos&&!t.skipInputsValidation,requirePubkey:!0,pubkeyMap:r});e.addInputs(s),e.addOutputs(t.outputs);const a=await e.payFee({address:t.from,publicKey:r[t.from],changeAddress:t.changeAddress,excludeUtxos:t.excludeUtxos});return{builder:e,fee:a.fee,feeRate:a.feeRate,changeIndex:a.changeIndex}}e.createSendUtxosBuilder=s,e.sendUtxos=async function(t){const{builder:e}=await s(t);return e.toPsbt()}},2353:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isTaprootInput=e.isP2WPKH=e.isP2PKH=e.isP2TR=e.bitcoin=e.ECPair=e.ecc=void 0;const a=s(r(38700)),u=s(r(73513));e.ecc=u.default;const c=o(r(21757));e.bitcoin=c;const f=r(60477);Object.defineProperty(e,"isTaprootInput",{enumerable:!0,get:function(){return f.isTaprootInput}});const l=r(34929);Object.defineProperty(e,"isP2TR",{enumerable:!0,get:function(){return l.isP2TR}}),Object.defineProperty(e,"isP2WPKH",{enumerable:!0,get:function(){return l.isP2WPKH}}),Object.defineProperty(e,"isP2PKH",{enumerable:!0,get:function(){return l.isP2PKH}}),c.initEccLib(u.default);const d=(0,a.default)(u.default);e.ECPair=d},89026:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackRgbppLockArgs=void 0;const n=r(67239),i=r(41256),o=r(44273),s=r(24662);e.unpackRgbppLockArgs=function(t){try{const e=i.RGBPPLock.unpack(t),r=n.bytes.bytify(e.btcTxid).reverse();return{btcTxid:n.bytes.hexify(r),outIndex:e.outIndex}}catch{const e=(0,s.remove0x)(n.bytes.hexify(n.bytes.bytify(t)));throw o.TxBuildError.withComment(o.ErrorCodes.CKB_RGBPP_LOCK_UNPACK_ERROR,e)}}},44273:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.TxBuildError=e.ErrorMessages=e.ErrorCodes=void 0,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.MISSING_PUBKEY=20]="MISSING_PUBKEY",t[t.CANNOT_FIND_UTXO=21]="CANNOT_FIND_UTXO",t[t.UNCONFIRMED_UTXO=22]="UNCONFIRMED_UTXO",t[t.INSUFFICIENT_UTXO=23]="INSUFFICIENT_UTXO",t[t.REFERENCED_UNPROVABLE_UTXO=24]="REFERENCED_UNPROVABLE_UTXO",t[t.UNSPENDABLE_OUTPUT=25]="UNSPENDABLE_OUTPUT",t[t.DUPLICATED_UTXO=26]="DUPLICATED_UTXO",t[t.DUST_OUTPUT=27]="DUST_OUTPUT",t[t.UNSUPPORTED_OUTPUT=28]="UNSUPPORTED_OUTPUT",t[t.INVALID_CHANGE_OUTPUT=29]="INVALID_CHANGE_OUTPUT",t[t.UNSUPPORTED_NETWORK_TYPE=30]="UNSUPPORTED_NETWORK_TYPE",t[t.UNSUPPORTED_ADDRESS_TYPE=31]="UNSUPPORTED_ADDRESS_TYPE",t[t.UNSUPPORTED_OP_RETURN_SCRIPT=32]="UNSUPPORTED_OP_RETURN_SCRIPT",t[t.INVALID_FEE_RATE=33]="INVALID_FEE_RATE",t[t.PAYMASTER_MISMATCH=34]="PAYMASTER_MISMATCH",t[t.CKB_CANNOT_FIND_OUTPOINT=40]="CKB_CANNOT_FIND_OUTPOINT",t[t.CKB_INVALID_CELL_LOCK=41]="CKB_INVALID_CELL_LOCK",t[t.CKB_INVALID_INPUTS=42]="CKB_INVALID_INPUTS",t[t.CKB_INVALID_OUTPUTS=43]="CKB_INVALID_OUTPUTS",t[t.CKB_UNMATCHED_COMMITMENT=44]="CKB_UNMATCHED_COMMITMENT",t[t.CKB_RGBPP_LOCK_UNPACK_ERROR=45]="CKB_RGBPP_LOCK_UNPACK_ERROR",t[t.MEMPOOL_API_RESPONSE_ERROR=60]="MEMPOOL_API_RESPONSE_ERROR"}(r||(e.ErrorCodes=r={})),e.ErrorMessages={[r.UNKNOWN]:"Unknown error",[r.MISSING_PUBKEY]:"Missing a pubkey that pairs with the address",[r.CANNOT_FIND_UTXO]:"Cannot find the UTXO, it may not exist or is not live",[r.UNCONFIRMED_UTXO]:"Unconfirmed UTXO",[r.INSUFFICIENT_UTXO]:"Insufficient UTXO to construct the transaction",[r.REFERENCED_UNPROVABLE_UTXO]:'Cannot reference a UTXO that does not belongs to "from"',[r.DUPLICATED_UTXO]:"Cannot reference the same UTXO twice",[r.UNSPENDABLE_OUTPUT]:"Target output is not an UTXO",[r.DUST_OUTPUT]:"Output defined value is below the dust limit",[r.UNSUPPORTED_OUTPUT]:"Unsupported output format",[r.INVALID_CHANGE_OUTPUT]:"Invalid change output",[r.UNSUPPORTED_NETWORK_TYPE]:"Unsupported network type",[r.UNSUPPORTED_ADDRESS_TYPE]:"Unsupported address type",[r.UNSUPPORTED_OP_RETURN_SCRIPT]:"Unsupported OP_RETURN script format",[r.INVALID_FEE_RATE]:"Invalid fee rate provided or recommended",[r.PAYMASTER_MISMATCH]:"Paymaster mismatched",[r.CKB_CANNOT_FIND_OUTPOINT]:"Cannot find CKB cell by OutPoint, it may not exist or is not live",[r.CKB_INVALID_CELL_LOCK]:"Invalid CKB cell lock, it should be RgbppLock, RgbppTimeLock or null",[r.CKB_INVALID_INPUTS]:"Invalid input(s) found in the CKB VirtualTx",[r.CKB_INVALID_OUTPUTS]:"Invalid output(s) found in the CKB VirtualTx",[r.CKB_UNMATCHED_COMMITMENT]:"Invalid commitment found in the CKB VirtualTx",[r.CKB_RGBPP_LOCK_UNPACK_ERROR]:"Failed to unpack RgbppLockArgs from the CKB cell lock",[r.MEMPOOL_API_RESPONSE_ERROR]:"Mempool.space API returned an error"};class n extends Error{code=r.UNKNOWN;constructor(t,r=e.ErrorMessages[t]||"Unknown error"){super(r),this.code=t,Object.setPrototypeOf(this,n.prototype)}static withComment(t,r){const i=e.ErrorMessages[t];return new n(t,r?`${i}: ${r}`:i)}}e.TxBuildError=n},61611:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(23538),e),i(r(97593),e),i(r(90593),e),i(r(24662),e),i(r(44273),e),i(r(2353),e),i(r(95367),e),i(r(47960),e),i(r(20843),e),i(r(61088),e),i(r(76889),e),i(r(73586),e),i(r(78016),e),i(r(58326),e),i(r(79968),e),i(r(68835),e),i(r(34764),e)},97593:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.networkToConfig=e.networkTypeToConfig=void 0;const i=n(r(88055)),o=r(2353),s=r(44273),a=r(23538),u={testnet:{feeRate:1,btcUtxoDustLimit:1e3,rgbppUtxoDustLimit:546,network:o.bitcoin.networks.testnet,networkType:a.NetworkType.TESTNET},mainnet:{feeRate:20,btcUtxoDustLimit:1e4,rgbppUtxoDustLimit:546,network:o.bitcoin.networks.bitcoin,networkType:a.NetworkType.MAINNET}};e.networkTypeToConfig=function(t){if(t===a.NetworkType.TESTNET)return(0,i.default)(u.testnet);if(t===a.NetworkType.MAINNET)return(0,i.default)(u.mainnet);throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_NETWORK_TYPE)},e.networkToConfig=function(t){if(t.bech32==o.bitcoin.networks.bitcoin.bech32)return(0,i.default)(u.mainnet);if(t.bech32==o.bitcoin.networks.testnet.bech32)return(0,i.default)(u.testnet);throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_NETWORK_TYPE)}},90593:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.networkToNetworkType=e.networkTypeToNetwork=void 0;const n=r(97593);e.networkTypeToNetwork=function(t){return(0,n.networkTypeToConfig)(t).network},e.networkToNetworkType=function(t){return(0,n.networkToConfig)(t).networkType}},23538:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkType=void 0,function(t){t[t.MAINNET=0]="MAINNET",t[t.TESTNET=1]="TESTNET",t[t.REGTEST=2]="REGTEST"}(r||(e.NetworkType=r={}))},67674:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataCache=void 0;e.DataCache=class{utxos;constructor(){this.utxos=new Map}setUtxos(t,e){this.utxos.set(t,e)}getUtxos(t){return this.utxos.get(t)}cleanUtxos(t){this.utxos.has(t)&&this.utxos.delete(t)}async optionalCacheUtxos(t){if(t.key&&this.utxos.has(t.key))return this.getUtxos(t.key);const e=await t.getter();return t.key&&this.setUtxos(t.key,e),e}}},20843:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.DataSource=void 0;const i=r(90375),o=r(44273),s=r(76889),a=r(95367),u=r(24662),c=r(67674);e.DataSource=class{cache;service;networkType;constructor(t,e){this.service=t,this.networkType=e,this.cache=new c.DataCache}async getUtxo(t,e,r){const n=await this.getOutput(t,e,r);if(n&&!("address"in n))throw o.TxBuildError.withComment(o.ErrorCodes.UNSPENDABLE_OUTPUT,`hash: ${t}, index: ${e}`);return n}async getOutput(t,e,r){const i=(0,u.remove0x)(t),c=await this.service.getBtcTransaction(i);if(!c)return;if(r&&!c.status.confirmed)throw o.TxBuildError.withComment(o.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${t}, index: ${e}`);const f=c.vout[e];if(!f)return;const l=n.from(f.scriptpubkey,"hex");return(0,s.isOpReturnScriptPubkey)(l)?{txid:i,vout:e,value:f.value,scriptPk:f.scriptpubkey}:{txid:i,vout:e,value:f.value,scriptPk:f.scriptpubkey,address:f.scriptpubkey_address,addressType:(0,a.getAddressType)(f.scriptpubkey_address)}}async isTransactionConfirmed(t){return(await this.service.getBtcTransaction((0,u.remove0x)(t))).status.confirmed}async getUtxos(t,e){const r=await this.service.getBtcUtxos(t,e),n=(0,a.addressToScriptPublicKeyHex)(t,this.networkType);return r.sort(((t,e)=>{const r=t.status.block_height,n=e.status.block_height;return r!==n?r-n:t.vout-e.vout})).map((e=>({address:t,scriptPk:n,txid:e.txid,vout:e.vout,value:e.value,addressType:(0,a.getAddressType)(t)})))}async collectSatoshi(t){const e=t.allowInsufficient??!1,r=t.excludeUtxos??[],n=await this.cache.optionalCacheUtxos({key:t.internalCacheKey,getter:()=>this.getUtxos(t.address,{only_non_rgbpp_utxos:t.onlyNonRgbppUtxos,only_confirmed:t.onlyConfirmedUtxos,min_satoshi:t.minUtxoSatoshi,no_cache:t.noAssetsApiCache})}),i=[];let s=0;for(const e of n){if(s>=t.targetAmount)break;if(r.length>0){if(r.find((t=>t.txid===e.txid&&t.vout===e.vout)))continue}i.push(e),s+=e.value}if(!e&&s<t.targetAmount)throw o.TxBuildError.withComment(o.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${t.targetAmount}, actual: ${s}`);return{utxos:i,satoshi:s,exceedSatoshi:s-t.targetAmount}}async getPaymasterOutput(){try{const t=await this.service.getRgbppPaymasterInfo();return{address:t.btc_address,value:t.fee}}catch(t){if(t instanceof i.BtcAssetsApiError&&t.code===i.ErrorCodes.ASSETS_API_RESOURCE_NOT_FOUND)return;throw t}}}},47960:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.isP2trScript=e.isP2wpkhScript=void 0;const i=r(2353);e.isP2wpkhScript=function(t){const e="string"==typeof t?n.from(t,"hex"):t;return(0,i.isP2WPKH)(e)},e.isP2trScript=function(t){const e="string"==typeof t?n.from(t,"hex"):t;return(0,i.isP2TR)(e)}},61088:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TxBuilder=void 0;const i=n(r(88055)),o=r(2353),s=r(44273),a=r(95367),u=r(76889),c=r(97593),f=r(73586),l=r(24662),d=r(78016);class h{inputs=[];outputs=[];source;config;networkType;onlyNonRgbppUtxos;onlyConfirmedUtxos;minUtxoSatoshi;feeRate;constructor(t){this.source=t.source,this.networkType=this.source.networkType,this.config=(0,c.networkTypeToConfig)(this.networkType),this.onlyNonRgbppUtxos=t.onlyNonRgbppUtxos??!0,this.onlyConfirmedUtxos=t.onlyConfirmedUtxos??!1,this.minUtxoSatoshi=t.minUtxoSatoshi??this.config.btcUtxoDustLimit,this.feeRate=t.feeRate}hasInput(t,e){return this.inputs.some((r=>r.data.hash===t&&r.data.index===e))}addInput(t){if(this.hasInput(t.txid,t.vout))throw s.TxBuildError.withComment(s.ErrorCodes.DUPLICATED_UTXO,`hash: ${t.txid}, index: ${t.vout}`);t=(0,i.default)(t),this.inputs.push((0,f.utxoToInput)(t))}addInputs(t){t.forEach((t=>{this.addInput(t)}))}async validateInputs(){await Promise.all(this.inputs.map((async t=>(0,l.limitPromiseBatchSize)((async()=>{if(!await this.source.isTransactionConfirmed(t.data.hash))throw s.TxBuildError.withComment(s.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${t.data.hash}, index: ${t.data.index}`)})))))}addOutput(t){let e;if("data"in t&&(e={script:(0,u.dataToOpReturnScriptPubkey)(t.data),value:t.value,fixed:t.fixed,protected:t.protected,minUtxoSatoshi:t.minUtxoSatoshi}),("address"in t||"script"in t)&&(e=(0,i.default)(t)),!e)throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_OUTPUT);const r=e.minUtxoSatoshi??this.minUtxoSatoshi;if(!("script"in e&&(0,u.isOpReturnScriptPubkey)(e.script))&&e.value<r)throw s.TxBuildError.withComment(s.ErrorCodes.DUST_OUTPUT,`expected ${r}, but defined ${e.value}`);this.outputs.push(e)}addOutputs(t){t.forEach((t=>{this.addOutput(t)}))}async payFee(t){const{address:e,publicKey:r,feeRate:n,changeAddress:o,deductFromOutputs:s,excludeUtxos:a}=t,u=(0,i.default)(this.inputs),c=(0,i.default)(this.outputs),f=`${Date.now()}`;let l;if(!n&&!this.feeRate){l=(await this.source.service.getBtcRecommendedFeeRates()).fastestFee}const d=n??this.feeRate??l;let h=0,p=0,y=!1,g=!1,b=-1;for(;!g;){y&&(p=h,this.inputs=(0,i.default)(u),this.outputs=(0,i.default)(c));const{needCollect:t,needReturn:n,inputsTotal:l}=this.summary(),m=l>0||p>0,v=n-p;if(m&&v>0){const{changeIndex:t}=await this.injectChange({address:o??e,amount:v,fromAddress:e,fromPublicKey:r,internalCacheKey:f,excludeUtxos:a});b=t}else{const i=t-n+p+(m?0:1),{changeIndex:u}=await this.injectSatoshi({address:e,publicKey:r,targetAmount:i,changeAddress:o,deductFromOutputs:s,internalCacheKey:f,excludeUtxos:a});b=u}h=await this.calculateFee(d),g=[-1,0,1].includes(h-p),y||(y=!0)}return this.source.cache.cleanUtxos(f),{fee:h,feeRate:d,changeIndex:b}}async injectSatoshi(t){if(!(0,a.isSupportedFromAddress)(t.address))throw s.TxBuildError.withComment(s.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE,t.address);const e=t.targetAmount,r=t.excludeUtxos??[],n=t.injectCollected??!1,i=t.deductFromOutputs??!0;let o=0,u=0;const c=async e=>{const{utxos:n,satoshi:i}=await this.source.collectSatoshi({address:t.address,targetAmount:e,allowInsufficient:!0,noAssetsApiCache:!0,internalCacheKey:t.internalCacheKey,minUtxoSatoshi:this.minUtxoSatoshi,onlyNonRgbppUtxos:this.onlyNonRgbppUtxos,onlyConfirmedUtxos:this.onlyConfirmedUtxos,excludeUtxos:[...this.inputs.map((t=>t.utxo)),...r]});n.forEach((e=>{this.addInput({...e,pubkey:t.publicKey})})),o+=i,f()},f=()=>{u=n?o+e:o-e};if(i)for(let t=0;t<this.outputs.length;t++){const r=this.outputs[t];if(r.fixed)continue;if(o>=e)break;const n=r.minUtxoSatoshi??this.minUtxoSatoshi,i=r.value-n,s=e-o;if(r.protected){const t=Math.min(i,s);r.value-=t,o+=t}else{const e=r.value>s?Math.min(i,s):r.value;r.value-=e,o+=e,0===r.value&&(this.outputs.splice(t,1),t--)}}o<e&&await c(e-o);const l=t.changeAddress??t.address,d=!this.canInjectChangeToOutputs(l),h=!d&&u>0&&u<this.minUtxoSatoshi?this.minUtxoSatoshi-u:0;h>0&&await c(h);if(o<e){const t=e-o+this.minUtxoSatoshi;throw s.TxBuildError.withComment(s.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${e}, actual: ${o}. You may wanna deposit more satoshi to prevent the error, for example: ${t}`)}if(!d&&u>0&&u<this.minUtxoSatoshi){const t=o+h;throw s.TxBuildError.withComment(s.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${t}, actual: ${o}`)}let p=-1;if(u>0){p=(await this.injectChange({amount:u,address:l,fromAddress:t.address,fromPublicKey:t.publicKey})).changeIndex}return{collected:o,changeIndex:p,changeAmount:u}}async injectChange(t){const{address:e,fromAddress:r,fromPublicKey:n,amount:i,excludeUtxos:o,internalCacheKey:a}=t;for(let t=0;t<this.outputs.length;t++){const r=this.outputs[t];if(!r.fixed&&("address"in r&&r.address===e))return r.value+=i,{changeIndex:t}}let u=-1;if(i<this.minUtxoSatoshi){const t=await this.injectSatoshi({address:r,publicKey:n,targetAmount:i,changeAddress:e,injectCollected:!0,deductFromOutputs:!1,internalCacheKey:a,excludeUtxos:o});if(t.collected<i)throw s.TxBuildError.withComment(s.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${i}, actual: ${t.collected}`);u=t.changeIndex}else this.addOutput({address:e,value:i}),u=this.outputs.length-1;return{changeIndex:u}}canInjectChangeToOutputs(t){return this.outputs.some((e=>!(e.fixed||"address"in e&&e.address!==t)))}async calculateFee(t){if(!t&&!this.feeRate)throw s.TxBuildError.withComment(s.ErrorCodes.INVALID_FEE_RATE,`${t??this.feeRate}`);const e=t??this.feeRate,r=(await this.createEstimatedPsbt()).extractTransaction(!0),n=r.ins.length,i=r.byteLength(!0),o=3*r.byteLength(!1)+i+n,a=Math.ceil(o/4);return Math.ceil(a*e)}async createEstimatedPsbt(){const t=d.FeeEstimator.fromRandom(this.networkType),e=this.clone();e.inputs=e.inputs.map((e=>{const r=t.replaceUtxo(e.utxo);return(0,f.utxoToInput)(r)}));const r=e.toPsbt();return await t.signPsbt(r),r}summary(){const t=this.inputs.reduce(((t,e)=>t+e.utxo.value),0),e=this.outputs.reduce(((t,e)=>t+e.value),0),r=t-e,n=e-t;return{inputsTotal:t,outputsTotal:e,inputsRemaining:r,outputsRemaining:n,needReturn:r>0?r:0,needCollect:n>0?n:0}}clone(){const t=new h({source:this.source,feeRate:this.feeRate,minUtxoSatoshi:this.minUtxoSatoshi});return t.inputs=(0,i.default)(this.inputs),t.outputs=(0,i.default)(this.outputs),t}toPsbt(){const t=this.config.network,e=new o.bitcoin.Psbt({network:t});return this.inputs.forEach((t=>{e.data.addInput(t.data)})),this.outputs.forEach((t=>{e.addOutput(t)})),e}}e.TxBuilder=h},76889:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.isOpReturnScriptPubkey=e.opReturnScriptPubKeyToData=e.dataToOpReturnScriptPubkey=void 0;const i=r(24662),o=r(2353),s=r(44273);function a(t){const e=o.bitcoin.script.decompile(t);if(!e||2!==e.length)return!1;const[r,i]=e;return r===o.bitcoin.opcodes.OP_RETURN&&!(!(i instanceof n)||i.byteLength<1||i.byteLength>80)}e.dataToOpReturnScriptPubkey=function(t){return"string"==typeof t&&(t=n.from((0,i.remove0x)(t),"hex")),o.bitcoin.payments.embed({data:[t]}).output},e.opReturnScriptPubKeyToData=function(t){if(!a(t))throw s.TxBuildError.withComment(s.ErrorCodes.UNSUPPORTED_OP_RETURN_SCRIPT,t.toString("hex"));return o.bitcoin.script.decompile(t)[1]},e.isOpReturnScriptPubkey=a},78016:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeeEstimator=void 0;const n=r(95367),i=r(24662),o=r(90593),s=r(47960),a=r(2353);class u{networkType;network;keyPair;pubkey;accounts;constructor(t,e){const r=(0,o.networkTypeToNetwork)(e);this.networkType=e,this.network=r;const s=a.ECPair.fromWIF(t,r);this.pubkey=s.publicKey.toString("hex"),this.keyPair=s;const u=a.bitcoin.payments.p2wpkh({pubkey:s.publicKey,network:r}),c=a.bitcoin.payments.p2tr({internalPubkey:(0,i.toXOnly)(s.publicKey),network:r});this.accounts={p2wpkh:{payment:u,address:u.address,addressType:n.AddressType.P2WPKH,scriptPubkey:u.output.toString("hex")},p2tr:{payment:c,address:c.address,addressType:n.AddressType.P2TR,tapInternalKey:(0,i.toXOnly)(s.publicKey),scriptPubkey:c.output.toString("hex")}}}static fromRandom(t){const e=(0,o.networkTypeToNetwork)(t),r=a.ECPair.makeRandom({network:e});return new u(r.toWIF(),t)}replaceUtxo(t){return(t.addressType===n.AddressType.P2WPKH||(0,s.isP2wpkhScript)(t.scriptPk))&&(t.scriptPk=this.accounts.p2wpkh.scriptPubkey,t.pubkey=this.pubkey),(t.addressType===n.AddressType.P2TR||(0,s.isP2trScript)(t.scriptPk))&&(t.scriptPk=this.accounts.p2tr.scriptPubkey,t.pubkey=this.pubkey),t}async signPsbt(t){const e=(0,i.tweakSigner)(this.keyPair,{network:this.network});return t.data.inputs.forEach(((r,n)=>{if(r.witnessUtxo){const t=!(r.finalScriptSig||r.finalScriptWitness),e=(0,s.isP2trScript)(r.witnessUtxo.script),n=!r.tapInternalKey;t&&e&&n&&r.witnessUtxo.script.toString("hex")===this.accounts.p2tr.scriptPubkey&&(r.tapInternalKey=this.accounts.p2tr.tapInternalKey)}(0,a.isTaprootInput)(r)?t.signInput(n,e):t.signInput(n,this.keyPair)})),t.finalizeAllInputs(),t}}e.FeeEstimator=u},73586:function(t,e,r){"use strict";var n=r(48287).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.prepareUtxoInputs=e.fillUtxoPubkey=e.utxoToInput=void 0;const o=i(r(88055)),s=r(44273),a=r(95367),u=r(24662),c=r(47960);function f(t,e,r){const n=(0,o.default)(t);if((0,c.isP2trScript)(n.scriptPk)&&!n.pubkey){const t=e[n.address];if(r?.requirePubkey&&!t)throw s.TxBuildError.withComment(s.ErrorCodes.MISSING_PUBKEY,n.address);t&&(n.pubkey=t)}return n}e.utxoToInput=function(t){if(t.addressType===a.AddressType.P2WPKH){return{data:{hash:t.txid,index:t.vout,witnessUtxo:{value:t.value,script:n.from((0,u.remove0x)(t.scriptPk),"hex")}},utxo:t}}if(t.addressType===a.AddressType.P2TR){if(!t.pubkey)throw s.TxBuildError.withComment(s.ErrorCodes.MISSING_PUBKEY,t.address);return{data:{hash:t.txid,index:t.vout,witnessUtxo:{value:t.value,script:n.from((0,u.remove0x)(t.scriptPk),"hex")},tapInternalKey:(0,u.toXOnly)(n.from((0,u.remove0x)(t.pubkey),"hex"))},utxo:t}}throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE)},e.fillUtxoPubkey=f,e.prepareUtxoInputs=async function(t){const e=t.pubkeyMap??{},r=t.utxos.map((r=>f(r,e,{requirePubkey:t.requirePubkey})));return t.requireConfirmed&&await Promise.all(r.map((async e=>(0,u.limitPromiseBatchSize)((async()=>{if(!await t.source.isTransactionConfirmed(e.txid))throw s.TxBuildError.withComment(s.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${e.txid}, index: ${e.vout}`)}))))),r}},24662:function(t,e,r){"use strict";var n=r(48287).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.limitPromiseBatchSize=e.transactionToHex=e.utf8ToBuffer=e.remove0x=e.tweakSigner=e.toXOnly=void 0;const o=i(r(90165)),s=r(2353),a=r(67239),u=new TextEncoder;function c(t){return 32===t.length?t:t.subarray(1,33)}e.toXOnly=c,e.tweakSigner=function(t,e){if(!t.privateKey)throw new Error("Private key is required for tweaking signer!");let r=t.privateKey;3===t.publicKey[0]&&(r=s.ecc.privateNegate(r));const i=s.ecc.privateAdd(r,(o=c(t.publicKey),a=e?.tweakHash,s.bitcoin.crypto.taggedHash("TapTweak",n.concat(a?[o,a]:[o]))));var o,a;if(!i)throw new Error("Invalid tweaked private key!");return s.ECPair.fromPrivateKey(n.from(i),{network:e?.network})},e.remove0x=function(t){return t.startsWith("0x")?t.slice(2):t},e.utf8ToBuffer=function(t){const e=t.trim();return e.startsWith("0x")?a.bytes.bytify(e):u.encode(e)},e.transactionToHex=function(t,e){return t.__toBuffer(void 0,void 0,e??!1).toString("hex")},e.limitPromiseBatchSize=(0,o.default)(10)},43622:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ckbDecimals=e.BI=void 0,e.formatUnit=function(t,e){const r=d(e);return function(t,e){if(!h(e))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(e).fill("0").join("");t=s.from(t);const n=t.isNegative();n&&(t=t.mul(l));const i=t.div(r).toString();let o=i;if(r.length>1){let e=t.mod(r).toString();for(;e.length<r.length-1;)e="0"+e;e=e.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+e}n&&(o="-"+o);return o}(t,r)},e.isBIish=o,e.parseUnit=function(t,e){const r=d(e);return function(t,e){if(!h(e))throw new Error("decimal size must be a non-negative integer");if(!t.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(e).fill("0").join(""),n="-"===t.substring(0,1);n&&(t=t.substring(1));let i,o;const a=t.split(".");if(1===a.length)i=a[0],o="0";else{if(2!==a.length)throw new Error("too many decimal points (should not happen)");i=a[0],o=a[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const u=s.from(i),c=s.from(o);let f=u.mul(r).add(c);n&&(f=f.mul(l));return f}(t,r)},e.toJSBI=u;var n,i=(n=r(75951))&&n.__esModule?n:{default:n};function o(t){return null!==t&&("number"==typeof t&&t%1==0||"string"==typeof t&&(!!t.match(/^0x(0|[0-9a-fA-F]+)$/)||!!t.match(/^-?[0-9]+$/))||"bigint"==typeof t||s.isBI(t))}class s{constructor(t){this.jsbi=t,this._isBI=!0}add(t){return a(i.default.add(this.jsbi,u(t)))}sub(t){return a(i.default.subtract(this.jsbi,u(t)))}div(t){return a(i.default.divide(this.jsbi,u(t)))}mul(t){return a(i.default.multiply(this.jsbi,u(t)))}mod(t){return a(i.default.remainder(this.jsbi,u(t)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,u(0))?a(this.jsbi):a(i.default.unaryMinus(this.jsbi))}pow(t){return a(i.default.exponentiate(this.jsbi,u(t)))}and(t){return a(i.default.bitwiseAnd(this.jsbi,u(t)))}or(t){return a(i.default.bitwiseOr(this.jsbi,u(t)))}xor(t){return a(i.default.bitwiseXor(this.jsbi,u(t)))}not(){return a(i.default.bitwiseNot(this.jsbi))}mask(t){const e=u(t);if(i.default.lessThan(e,u(0))||i.default.lessThan(this.jsbi,u(0)))throw new Error("mask works only with positive numbers");const r=u(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,e))return a(this.jsbi);{const t=i.default.leftShift(i.default.signedRightShift(this.jsbi,e),e);return a(i.default.bitwiseXor(this.jsbi,t))}}shl(t){return a(i.default.leftShift(this.jsbi,u(t)))}shr(t){return a(i.default.signedRightShift(this.jsbi,u(t)))}eq(t){return i.default.equal(this.jsbi,u(t))}lt(t){return i.default.lessThan(this.jsbi,u(t))}lte(t){return i.default.lessThanOrEqual(this.jsbi,u(t))}gt(t){return i.default.greaterThan(this.jsbi,u(t))}gte(t){return i.default.greaterThanOrEqual(this.jsbi,u(t))}isNegative(){return i.default.lessThan(this.jsbi,u(0))}isZero(){return i.default.equal(this.jsbi,u(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(t){throw new Error("this platform does not support BigInt")}}toString(t){return t=t||10,this.jsbi.toString(t)}toHexString(){return i.default.lessThan(this.jsbi,u(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(t){if(t instanceof s)return t;if(o(t))return a(u(t));if(t instanceof i.default)return a(u(t.toString()));throw new Error(`invalid type: ${t} can't be converted into BI`)}static isBI(t){return function(t){return null!=t&&"object"==typeof t}(t)&&!!t._isBI}}function a(t){return new s(t)}function u(t){return"number"==typeof t||"string"==typeof t?i.default.BigInt(t):i.default.BigInt(t.toString())}e.BI=s;const c=["shannon","ckb"],f=8;e.ckbDecimals=f;const l=s.from(-1);function d(t){let e=0;if("string"==typeof t){if(-1===c.indexOf(t))throw new Error(`invalid unit name, supported names are ${c.join(", ")}`);"ckb"===t&&(e=f)}else{if(!h(t))throw new Error("unit of integer must be a non-negative integer");e=t}return e}function h(t){return Number.isInteger(t)&&t>=0}},88874:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBytesCodec=o,e.createFixedBytesCodec=function(t){const e=t.byteLength;return{__isFixedCodec__:!0,byteLength:e,...o({pack:r=>{const i=t.pack(r);return(0,n.assertBufferLength)(i,e),i},unpack:r=>((0,n.assertBufferLength)(r,e),t.unpack(r))})}},e.isFixedCodec=function(t){return(0,n.isObjectLike)(t)&&!!t.__isFixedCodec__};var n=r(92562),i=r(64452);function o(t){return{pack:e=>t.pack(e),unpack:e=>t.unpack((0,i.bytify)(e))}}},64452:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bytify=c,e.bytifyRawString=function(t){(0,n.assertUtf8String)(t);const e=new ArrayBuffer(t.length),r=new DataView(e);for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);r.setUint8(e,n)}return new Uint8Array(e)},e.concat=function(...t){const e=t.map(c),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);let i=0;return e.forEach((t=>{n.set(t,i),i+=t.length})),n},e.equal=function(t,e){const r=c(t),n=c(e);return function(t,e){if(t.length!==e.length)return!1;for(let r=t.length;-1<r;r-=1)if(t[r]!==e[r])return!1;return!0}(r,n)},e.hexify=function(t){let e="";const r=c(t);for(let t=0;t<r.length;t++)e+=f[r[t]];return"0x"+e};var n=r(92562);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0);function c(t){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return Uint8Array.from(t);if("string"==typeof t)return function(t){(0,n.assertHexString)(t);const e=Uint8Array.from({length:t.length/2-1});for(let r=2,n=0;r<t.length;r+=2,n++){const c=t.charCodeAt(r),f=t.charCodeAt(r+1),l=c<=o?c-i:c<=a?c-s+10:c-u+10,d=f<=o?f-i:f<=a?f-s+10:f-u+10;e[n]=l<<4|d}return e}(t);if(Array.isArray(t))return function(t){for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(t)}(t);throw new Error(`Cannot convert ${t}`)}const f=Array.from({length:256}).map(((t,e)=>e.toString(16).padStart(2,"0")))},99029:(t,e)=>{"use strict";function r(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.CodecExecuteError=e.CodecBaseParseError=e.CODEC_OPTIONAL_PATH=void 0,e.isCodecExecuteError=function(t){return t instanceof Error&&t.name===o};const n="__lc_option__";e.CODEC_OPTIONAL_PATH=n;class i extends Error{constructor(t,e){super(t),this.expectedType=e}}e.CodecBaseParseError=i;const o="CodecExecuteError";class s extends Error{constructor(t){super(),r(this,"name",o),r(this,"keys",[]),this.origin=t}updateKey(t){this.keys.push(t),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var t;const e=this.keys.reduceRight(((t,e,r)=>t+(e=e===n?0===r?"?":"?.":"number"==typeof e?`[${e}]`:`.${e}`)),"input");return`Expect type ${this.origin.expectedType} at ${e} but got error: ${this.origin.message}\n    ${null===(t=this.origin.stack)||void 0===t?void 0:t.replace(/Error:.+?\n/,"")}\n    `}}e.CodecExecuteError=s},61129:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(e,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(e,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(e,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(55342)},55342:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createArrayCodec=function(t){return{pack:e=>e.map(((e,r)=>(0,n.trackCodeExecuteError)(r,(()=>t.pack(e))))),unpack:e=>e.map((e=>t.unpack(e)))}},e.createNullableCodec=function(t){return{pack:e=>null==e?e:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>t.pack(e))),unpack:e=>null==e?e:t.unpack(e)}},e.createObjectCodec=function(t){const e=Object.entries(t);return{pack:t=>{const r={};return e.forEach((([e,i])=>{Object.assign(r,{[e]:(0,n.trackCodeExecuteError)(e,(()=>i.pack(t[e])))})})),r},unpack:t=>{const r={};return e.forEach((([e,n])=>{Object.assign(r,{[e]:n.unpack(t[e])})})),r}}},e.enhancePack=function(t,e,r){return{pack:r=>e(t.pack(r)),unpack:e=>t.unpack(r(e))}};var n=r(92562),i=r(99029)},67239:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};e.bytes=void 0,Object.defineProperty(e,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(e,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(e,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),e.number=e.molecule=void 0;var i=r(88874),o=r(61129);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var s=f(r(64452));e.bytes=s;var a=f(r(67389));e.number=a;var u=f(r(84816));function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}e.molecule=u},65542:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.byteArrayOf=a,e.byteOf=function(t){return a({...t,byteLength:1})},e.byteVecOf=function(t){return(0,o.createBytesCodec)({pack(e){const r=t.pack(e),n=s.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(e){(0,n.assertMinBufferLength)(e,4);const r=s.Uint32LE.unpack(e.slice(0,4));return(0,n.assertBufferLength)(e.slice(4),r),t.unpack(e.slice(4))}})};var n=r(92562),i=r(64452),o=r(88874),s=r(67389);function a(t){const e=t.byteLength;return(0,o.createFixedBytesCodec)({byteLength:e,pack:e=>t.pack(e),unpack:e=>t.unpack(e)})}},84816:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(e,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(e,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(e,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(e,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(e,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(e,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(65542),i=r(63180)},63180:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.array=u,e.dynvec=d,e.fixvec=l,e.option=function(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createNullableCodec)(t);return null!=e?r.pack(e):Uint8Array.from([])},unpack(e){if(0!==e.byteLength)return t.unpack(e)}})},e.struct=function(t,e){f(t,e);const r=(0,a.createObjectCodec)(t);return(0,n.createFixedBytesCodec)({byteLength:e.reduce(((e,r)=>e+t[r].byteLength),0),pack(t){const n=r.pack(t);return e.reduce(((t,e)=>(0,o.concat)(t,n[e])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return e.forEach((e=>{const o=t[e],s=r.slice(i,i+o.byteLength);Object.assign(n,{[e]:o.unpack(s)}),i+=o.byteLength})),n}})},e.table=function(t,e){return f(t,e),(0,n.createBytesCodec)({pack(r){const n=4+4*e.length,s=(0,a.createObjectCodec)(t).pack(r),u=e.reduce(((t,e)=>{const r=s[e],n=i.Uint32LE.pack(t.offset);return{header:(0,o.concat)(t.header,n),body:(0,o.concat)(t.body,r),offset:t.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),c=i.Uint32LE.pack(u.header.byteLength+u.body.byteLength+4);return(0,o.concat)(c,u.header,u.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===e.length)return{};{const o=e.map(((t,e)=>i.Uint32LE.unpack(r.slice(4+4*e,8+4*e))));o.push(n);const s={};for(let n=0;n<o.length-1;n++){const i=o[n],a=o[n+1],u=e[n],c=t[u],f=r.slice(i,a);Object.assign(s,{[u]:c.unpack(f)})}return s}}})},e.union=function(t,e){if(f(t,Array.isArray(e)?e:Object.keys(e)),!Array.isArray(e)){const t=Object.values(e);if(t.length!==new Set(t).size)throw new Error(`Duplicated id in union: ${t.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(t),a=r.type,u=`Union(${n.join(" | ")})`;if("string"!=typeof a)throw new s.CodecBaseParseError("Invalid type in union, type must be a string",u);const c=Array.isArray(e)?e.indexOf(a):e[a];if(c<0)throw new s.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,u);const f=i.Uint32LE.pack(c),l=t[a].pack(r.value);return(0,o.concat)(f,l)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(e))return e[n];const t=Object.entries(e).find((([,t])=>t===n));return null==t?void 0:t[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${e} are allowed`);return{type:o,value:t[o].unpack(r.slice(4))}}})},e.vector=function(t){if((0,n.isFixedCodec)(t))return l(t);return d(t)};var n=r(88874),i=r(67389),o=r(64452),s=r(99029),a=r(61129);function u(t,e){const r=(0,a.createArrayCodec)(t);return(0,n.createFixedBytesCodec)({byteLength:t.byteLength*e,pack(t){const e=r.pack(t);return(0,o.concat)(...e)},unpack(e){const r=[],n=t.byteLength;for(let i=0;i<e.byteLength;i+=n)r.push(t.unpack(e.slice(i,i+n)));return r}})}function c(t,e){return t.filter((t=>!e.includes(t)))}function f(t,e){const r=Object.keys(t),n=c(r,e),i=c(e,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function l(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createArrayCodec)(t);return(0,o.concat)(i.Uint32LE.pack(e.length),r.pack(e).reduce(((t,e)=>(0,o.concat)(t,e)),new ArrayBuffer(0)))},unpack(e){if(e.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${e.byteLength}`);const r=i.Uint32LE.unpack(e.slice(0,4));return u(t,r).unpack(e.slice(4))}})}function d(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createArrayCodec)(t).pack(e).reduce(((t,e)=>{const r=i.Uint32LE.pack(t.offset);return{header:(0,o.concat)(t.header,r),body:(0,o.concat)(t.body,e),offset:t.offset+e.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*e.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(e){const r=i.Uint32LE.unpack(e.slice(0,4));if(r!==e.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${e.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(e.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((t,r)=>i.Uint32LE.unpack(e.slice(4+4*r,8+4*r))));o.push(r);const s=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],a=e.slice(n,i);s.push(t.unpack(a))}return s}}})}},67389:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(77077);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))},77077:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(e,"BIish",{enumerable:!0,get:function(){return n.BIish}}),e.Uint8=e.Uint64LE=e.Uint64BE=e.Uint64=e.Uint512LE=e.Uint512BE=e.Uint512=e.Uint32LE=e.Uint32BE=e.Uint32=e.Uint256LE=e.Uint256BE=e.Uint256=e.Uint16LE=e.Uint16BE=e.Uint16=e.Uint128LE=e.Uint128BE=e.Uint128=void 0;var n=r(43622),i=r(88874),o=r(99029);function s(t,e=!1){const r=a(t,e);return{__isFixedCodec__:!0,byteLength:t,pack:t=>r.pack(t),unpack:t=>r.unpack(t).toNumber()}}const a=(t,e=!1)=>{const r=n.BI.from(1).shl(8*t).sub(1);return(0,i.createFixedBytesCodec)({byteLength:t,pack(i){let s=e?"LE":"BE";t<=1&&(s="");const a=`Uint${8*t}${s}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,a);let u=n.BI.from(i);!function(t,e,r,i){if((t=n.BI.from(t)).lt(e)||t.gt(r))throw new o.CodecBaseParseError(`Value must be between ${e.toString()} and ${r.toString()}, but got ${t.toString()}`,i)}(u,0,r,a);const c=new DataView(new ArrayBuffer(t));for(let r=0;r<t;r++)e?c.setUint8(r,u.and(255).toNumber()):c.setUint8(t-r-1,u.and(255).toNumber()),u=u.shr(8);return new Uint8Array(c.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<t;r++)o=e?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},u=s(1);e.Uint8=u;const c=s(2,!0);e.Uint16LE=c;const f=s(2);e.Uint16BE=f;const l=c;e.Uint16=l;const d=s(4,!0);e.Uint32LE=d;const h=s(4);e.Uint32BE=h;const p=d;e.Uint32=p;const y=a(8,!0);e.Uint64LE=y;const g=a(8);e.Uint64BE=g;const b=y;e.Uint64=b;const m=a(16,!0);e.Uint128LE=m;const v=a(16);e.Uint128BE=v;const _=m;e.Uint128=_;const w=a(32,!0);e.Uint256LE=w;const S=a(32);e.Uint256BE=S;const A=w;e.Uint256=A;const x=a(64,!0);e.Uint512LE=x;const E=a(64);e.Uint512BE=E;const k=x;e.Uint512=k},92562:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertBufferLength=function(t,e){if(t.byteLength!==e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be ${e}`)},e.assertHexDecimal=function(t,e){if(f(t),2===t.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=t.length;if("number"==typeof e&&r>2*e+2)throw new Error(`Invalid hex decimal length, should be less than ${e} bytes, got ${r/2-1} bytes`);l(t)},e.assertHexString=function(t,e){f(t);const r=t.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof e&&r!==2*e+2)throw new Error("Invalid hex string length, not match with byteLength!");l(t)},e.assertMinBufferLength=function(t,e){if(t.byteLength<e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be at least ${e}`)},e.assertUtf8String=function(t){for(let e=0;e<t.length;e++){if(t.charCodeAt(e)>255)throw new Error("Invalid UTF-8 raw string!")}},e.isObjectLike=function(t){return!!t&&"object"==typeof t},e.trackCodeExecuteError=function(t,e){try{return e()}catch(e){const r=(0,n.isCodecExecuteError)(e)?e:new n.CodecExecuteError(e);throw r.updateKey(t),r}};var n=r(99029);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0),c="f".charCodeAt(0);function f(t){if(!t||!t.startsWith("0x"))throw new Error("Invalid hex string")}function l(t){const e=t.length;for(let r=2;r<e;r++){const e=t[r].charCodeAt(0);if(!(e>=i&&e<=o||e>=u&&e<=c||e>=s&&e<=a))throw new Error(`Invalid hex character ${t[r]} in the string ${t}`)}}},21312:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Collector=void 0;const o=i(r(86425)),s=i(r(98660)),a=r(96642),u=r(83910),c=r(5785),f=r(10090),l=t=>({code_hash:t.codeHash,hash_type:t.hashType,args:t.args});e.Collector=class{constructor({ckbNodeUrl:t,ckbIndexerUrl:e}){this.ckbNodeUrl=t,this.ckbIndexerUrl=e}getCkb(){return new s.default(this.ckbNodeUrl)}getCells(t){return n(this,arguments,void 0,(function*({lock:t,type:e,isDataMustBeEmpty:r=!0,outputCapacityRange:n}){let i={};t?i={script_search_mode:"exact",script:l(t),script_type:"lock",filter:{script:e?l(e):void 0,output_data_len_range:r&&!e?["0x0","0x1"]:void 0,output_capacity_range:n}}:e&&(i={script_search_mode:"exact",script:l(e),script_type:"type"});const s={id:Math.floor(1e5*Math.random()),jsonrpc:"2.0",method:"get_cells",params:[i,"asc","0x3E8"]},u=JSON.stringify(s,null,"  "),f=(yield(0,o.default)({method:"post",url:this.ckbIndexerUrl,headers:{"Content-Type":"application/json"},timeout:2e4,data:u})).data;if(f.error)throw console.error(f.error),new c.IndexerError("Get cells from indexer error");{const t=(0,a.toCamelcase)(f.result.objects);if(null===t)throw new c.IndexerError("The response of indexer RPC get_cells is invalid");return t}}))}collectInputs(t,e,r,n){var i,o;const s=null!==(i=null==n?void 0:n.minCapacity)&&void 0!==i?i:u.MIN_CAPACITY,a=[];let l=BigInt(0);const d=t.length>0&&(0,f.isRgbppLockCellIgnoreChain)(t[0].output);for(const n of t)if(a.push({previousOutput:{txHash:n.outPoint.txHash,index:n.outPoint.index},since:"0x0"}),l+=BigInt(n.output.capacity),l>=e+s+r&&!d)break;if(l<e+s+r){const t=null!==(o=null==n?void 0:n.errMsg)&&void 0!==o?o:"Insufficient free CKB balance";throw new c.CapacityNotEnoughError(t)}return{inputs:a,sumInputsCapacity:l}}collectUdtInputs({liveCells:t,needAmount:e}){const r=[];let n=BigInt(0),i=BigInt(0);const o=t.length>0&&(0,f.isRgbppLockCellIgnoreChain)(t[0].output);for(const s of t)if("0x"!==s.outputData&&(r.push({previousOutput:{txHash:s.outPoint.txHash,index:s.outPoint.index},since:"0x0"}),n+=BigInt(s.output.capacity),i+=(0,f.leToU128)((0,f.remove0x)(s.outputData).slice(0,32)),i>=e&&!o))break;if(i<e)throw new c.UdtAmountNotEnoughError("Insufficient UDT balance");return{inputs:r,sumInputsCapacity:n,sumAmount:i}}getLiveCell(t){return n(this,arguments,void 0,(function*(t,e=!0){const r=new s.default(this.ckbNodeUrl),{cell:n}=yield r.rpc.getLiveCell(t,e);return n}))}getLiveCells(t){return n(this,arguments,void 0,(function*(t,e=!1){return new s.default(this.ckbNodeUrl).rpc.createBatchRequest(t.map((t=>["getLiveCell",t,e]))).exec().then((t=>t.map((t=>t.cell))))}))}}},83910:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSporeTypeDep=e.getSporeTypeScript=e.getClusterTypeDep=e.getClusterTypeScript=e.getUniqueTypeDep=e.getUniqueTypeScript=e.getBtcTimeLockConfigDep=e.getBtcTimeLockDep=e.getBtcTimeLockScript=e.getRgbppLockConfigDep=e.getRgbppLockDep=e.getRgbppLockScript=e.getXudtDep=e.getXudtTypeScript=e.getSecp256k1CellDep=e.UNLOCKABLE_LOCK_SCRIPT=e.RGBPP_TX_ID_PLACEHOLDER=e.RGBPP_WITNESS_PLACEHOLDER=e.RGBPP_TX_INPUTS_MAX_LENGTH=e.RGBPP_TX_WITNESS_MAX_SIZE=e.BTC_JUMP_CONFIRMATION_BLOCKS=e.SECP256K1_WITNESS_LOCK_SIZE=e.MIN_CAPACITY=e.MAX_FEE=e.CKB_UNIT=void 0,e.CKB_UNIT=BigInt(1e8),e.MAX_FEE=BigInt(2e7),e.MIN_CAPACITY=BigInt(61)*BigInt(1e8),e.SECP256K1_WITNESS_LOCK_SIZE=65,e.BTC_JUMP_CONFIRMATION_BLOCKS=6,e.RGBPP_TX_WITNESS_MAX_SIZE=5e3,e.RGBPP_TX_INPUTS_MAX_LENGTH=40,e.RGBPP_WITNESS_PLACEHOLDER="0xFF",e.RGBPP_TX_ID_PLACEHOLDER="0000000000000000000000000000000000000000000000000000000000000000";const r={Secp256k1LockDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"},depType:"depGroup"},RgbppLockScript:{codeHash:"0x61ca7a4796a4eb19ca4f0d065cb9b10ddcf002f10f7cbb810c706cb6bb5c3248",hashType:"type",args:""},RgbppLockDep:{outPoint:{txHash:"0xf1de59e973b85791ec32debbba08dff80c63197e895eb95d67fc1e9f6b413e00",index:"0x0"},depType:"code"},RgbppLockConfigDep:{outPoint:{txHash:"0xf1de59e973b85791ec32debbba08dff80c63197e895eb95d67fc1e9f6b413e00",index:"0x1"},depType:"code"},BtcTimeLockScript:{codeHash:"0x00cdf8fab0f8ac638758ebf5ea5e4052b1d71e8a77b9f43139718621f6849326",hashType:"type",args:""},BtcTimeLockDep:{outPoint:{txHash:"0xde0f87878a97500f549418e5d46d2f7704c565a262aa17036c9c1c13ad638529",index:"0x0"},depType:"code"},BtcTimeLockConfigDep:{outPoint:{txHash:"0xde0f87878a97500f549418e5d46d2f7704c565a262aa17036c9c1c13ad638529",index:"0x1"},depType:"code"},XUDTTypeScript:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",args:""},XUDTTypeDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:"0x0"},depType:"code"},UniqueTypeScript:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",args:""},UniqueTypeDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:"0x0"},depType:"code"},ClusterTypeScript:{codeHash:"0x0bbe768b519d8ea7b96d58f1182eb7e6ef96c541fbd9526975077ee09f049058",hashType:"data1",args:""},ClusterTypeDep:{outPoint:{txHash:"0xcebb174d6e300e26074aea2f5dbd7f694bb4fe3de52b6dfe205e54f90164510a",index:"0x0"},depType:"code"},SporeTypeScript:{codeHash:"0x685a60219309029d01310311dba953d67029170ca4848a4ff638e57002130a0d",hashType:"data1",args:""},SporeTypeDep:{outPoint:{txHash:"0x5e8d2a517d50fd4bb4d01737a7952a1f1d35c8afc77240695bb569cd7d9d5a1f",index:"0x0"},depType:"code"},RgbppSignetLockScript:{codeHash:"0xd07598deec7ce7b5665310386b4abd06a6d48843e953c5cc2112ad0d5a220364",hashType:"type",args:""},RgbppSignetLockDep:{outPoint:{txHash:"0x61efdeddbaa0bb4132c0eb174b3e8002ff5ec430f61ba46f30768d683c516eec",index:"0x0"},depType:"code"},RgbppSignetLockConfigDep:{outPoint:{txHash:"0x61efdeddbaa0bb4132c0eb174b3e8002ff5ec430f61ba46f30768d683c516eec",index:"0x1"},depType:"code"},BtcTimeSignetLockScript:{codeHash:"0x80a09eca26d77cea1f5a69471c59481be7404febf40ee90f886c36a948385b55",hashType:"type",args:""},BtcTimeSignetLockDep:{outPoint:{txHash:"0x5364b3535965e9eac9a35dd7af8e9e45a61d30a16e115923c032f80b28783e21",index:"0x0"},depType:"code"},BtcTimeSignetLockConfigDep:{outPoint:{txHash:"0x5364b3535965e9eac9a35dd7af8e9e45a61d30a16e115923c032f80b28783e21",index:"0x1"},depType:"code"}},n={Secp256k1LockDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},depType:"depGroup"},RgbppLockScript:{codeHash:"0xbc6c568a1a0d0a09f6844dc9d74ddb4343c32143ff25f727c59edf4fb72d6936",hashType:"type",args:""},RgbppLockDep:{outPoint:{txHash:"0x04c5c3e69f1aa6ee27fb9de3d15a81704e387ab3b453965adbe0b6ca343c6f41",index:"0x0"},depType:"code"},RgbppLockConfigDep:{outPoint:{txHash:"0x04c5c3e69f1aa6ee27fb9de3d15a81704e387ab3b453965adbe0b6ca343c6f41",index:"0x1"},depType:"code"},BtcTimeLockScript:{codeHash:"0x70d64497a075bd651e98ac030455ea200637ee325a12ad08aff03f1a117e5a62",hashType:"type",args:""},BtcTimeLockDep:{outPoint:{txHash:"0x6257bf4297ee75fcebe2654d8c5f8d93bc9fc1b3dc62b8cef54ffe166162e996",index:"0x0"},depType:"code"},BtcTimeLockConfigDep:{outPoint:{txHash:"0x6257bf4297ee75fcebe2654d8c5f8d93bc9fc1b3dc62b8cef54ffe166162e996",index:"0x1"},depType:"code"},XUDTTypeScript:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",args:""},XUDTTypeDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:"0x0"},depType:"code"},UniqueTypeScript:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",args:""},UniqueTypeDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:"0x0"},depType:"code"},ClusterTypeScript:{codeHash:"0x7366a61534fa7c7e6225ecc0d828ea3b5366adec2b58206f2ee84995fe030075",hashType:"data1",args:""},ClusterTypeDep:{outPoint:{txHash:"0xe464b7fb9311c5e2820e61c99afc615d6b98bdefbe318c34868c010cbd0dc938",index:"0x0"},depType:"code"},SporeTypeScript:{codeHash:"0x4a4dce1df3dffff7f8b2cd7dff7303df3b6150c9788cb75dcf6747247132b9f5",hashType:"data1",args:""},SporeTypeDep:{outPoint:{txHash:"0x96b198fb5ddbd1eed57ed667068f1f1e55d07907b4c0dbd38675a69ea1b69824",index:"0x0"},depType:"code"}};e.UNLOCKABLE_LOCK_SCRIPT={codeHash:"0x0000000000000000000000000000000000000000000000000000000000000000",hashType:"data",args:"0x"};e.getSecp256k1CellDep=t=>t?n.Secp256k1LockDep:r.Secp256k1LockDep;e.getXudtTypeScript=t=>t?n.XUDTTypeScript:r.XUDTTypeScript;e.getXudtDep=t=>t?n.XUDTTypeDep:r.XUDTTypeDep;e.getRgbppLockScript=(t,e)=>t?n.RgbppLockScript:"Signet"===e?r.RgbppSignetLockScript:r.RgbppLockScript;e.getRgbppLockDep=(t,e)=>t?n.RgbppLockDep:"Signet"===e?r.RgbppSignetLockDep:r.RgbppLockDep;e.getRgbppLockConfigDep=(t,e)=>t?n.RgbppLockConfigDep:"Signet"===e?r.RgbppSignetLockConfigDep:r.RgbppLockConfigDep;e.getBtcTimeLockScript=(t,e)=>t?n.BtcTimeLockScript:"Signet"===e?r.BtcTimeSignetLockScript:r.BtcTimeLockScript;e.getBtcTimeLockDep=(t,e)=>t?n.BtcTimeLockDep:"Signet"===e?r.BtcTimeSignetLockDep:r.BtcTimeLockDep;e.getBtcTimeLockConfigDep=(t,e)=>t?n.BtcTimeLockConfigDep:"Signet"===e?r.BtcTimeSignetLockConfigDep:r.BtcTimeLockConfigDep;e.getUniqueTypeScript=t=>t?n.UniqueTypeScript:r.UniqueTypeScript;e.getUniqueTypeDep=t=>t?n.UniqueTypeDep:r.UniqueTypeDep;e.getClusterTypeScript=t=>t?n.ClusterTypeScript:r.ClusterTypeScript;e.getClusterTypeDep=t=>t?n.ClusterTypeDep:r.ClusterTypeDep;e.getSporeTypeScript=t=>t?n.SporeTypeScript:r.SporeTypeScript;e.getSporeTypeDep=t=>t?n.SporeTypeDep:r.SporeTypeDep},5785:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.RgbppSporeTypeMismatchError=e.RgbppUtxoBindMultiTypeAssetsError=e.RgbppCkbTxInputsExceededError=e.InputsOrOutputsLenError=e.TypeAssetNotSupportedError=e.InputsCapacityNotEnoughError=e.UdtAmountNotEnoughError=e.NoRgbppLiveCellError=e.NoXudtLiveCellError=e.NoLiveCellError=e.IndexerError=e.CapacityNotEnoughError=void 0,function(t){t[t.CapacityNotEnough=100]="CapacityNotEnough",t[t.IndexerRpcError=101]="IndexerRpcError",t[t.NoLiveCell=102]="NoLiveCell",t[t.NoXudtLiveCell=103]="NoXudtLiveCell",t[t.NoRgbppLiveCell=104]="NoRgbppLiveCell",t[t.UdtAmountNotEnough=105]="UdtAmountNotEnough",t[t.InputsCapacityNotEnough=106]="InputsCapacityNotEnough",t[t.TypeAssetNotSupported=107]="TypeAssetNotSupported",t[t.InputsOrOutputsLenInvalid=108]="InputsOrOutputsLenInvalid",t[t.RgbppCkbTxInputsExceeded=109]="RgbppCkbTxInputsExceeded",t[t.RgbppUtxoBindMultiTypeAssets=110]="RgbppUtxoBindMultiTypeAssets",t[t.RgbppSporeTypeMismatch=111]="RgbppSporeTypeMismatch"}(r||(r={}));class n extends Error{constructor(t){super(t),this.code=r.CapacityNotEnough}}e.CapacityNotEnoughError=n;class i extends Error{constructor(t){super(t),this.code=r.IndexerRpcError}}e.IndexerError=i;class o extends Error{constructor(t){super(t),this.code=r.NoLiveCell}}e.NoLiveCellError=o;class s extends Error{constructor(t){super(t),this.code=r.NoXudtLiveCell}}e.NoXudtLiveCellError=s;class a extends Error{constructor(t){super(t),this.code=r.NoRgbppLiveCell}}e.NoRgbppLiveCellError=a;class u extends Error{constructor(t){super(t),this.code=r.UdtAmountNotEnough}}e.UdtAmountNotEnoughError=u;class c extends Error{constructor(t){super(t),this.code=r.InputsCapacityNotEnough}}e.InputsCapacityNotEnoughError=c;class f extends Error{constructor(t){super(t),this.code=r.TypeAssetNotSupported}}e.TypeAssetNotSupportedError=f;class l extends Error{constructor(t){super(t),this.code=r.InputsOrOutputsLenInvalid}}e.InputsOrOutputsLenError=l;class d extends Error{constructor(t){super(t),this.code=r.RgbppCkbTxInputsExceeded}}e.RgbppCkbTxInputsExceededError=d;class h extends Error{constructor(t){super(t),this.code=r.RgbppUtxoBindMultiTypeAssets}}e.RgbppUtxoBindMultiTypeAssetsError=h;class p extends Error{constructor(t){super(t),this.code=r.RgbppSporeTypeMismatch}}e.RgbppSporeTypeMismatchError=p},41256:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.serializeScript=void 0;var o=r(60720);Object.defineProperty(e,"serializeScript",{enumerable:!0,get:function(){return o.serializeScript}}),i(r(59763),e),i(r(47830),e),i(r(21312),e),i(r(5785),e),i(r(95099),e),i(r(41462),e),i(r(2292),e),i(r(10090),e),i(r(83910),e),i(r(28742),e)},95099:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.splitMultiCellsWithSecp256k1=void 0;const i=r(60720),o=r(5785),s=r(83910),a=r(10090),u=BigInt(61)*s.CKB_UNIT;e.splitMultiCellsWithSecp256k1=t=>n(void 0,[t],void 0,(function*({masterPrivateKey:t,collector:e,receiverAddress:r,capacityWithCKB:n,cellAmount:c}){const f=r.startsWith("ckb"),l=(0,i.privateKeyToAddress)(t,{prefix:f?i.AddressPrefix.Mainnet:i.AddressPrefix.Testnet}),d=(0,i.addressToScript)(l);let h=yield e.getCells({lock:d});if(!h||0===h.length)throw new o.NoLiveCellError("The address has no empty cells");h=h.filter((t=>!t.output.type));const p=BigInt(n)*s.CKB_UNIT,y=p*BigInt(c),g=s.MAX_FEE,{inputs:b,sumInputsCapacity:m}=e.collectInputs(h,y,g,{minCapacity:u}),v=new Array(c).fill({lock:(0,i.addressToScript)(r),capacity:(0,a.append0x)(p.toString(16))}),_=m-y-g;v.push({lock:d,capacity:(0,a.append0x)(_.toString(16))});const w=new Array(c+1).fill("0x"),S={lock:"",inputType:"",outputType:""},A=b.map(((t,e)=>0===e?S:"0x")),x={version:"0x0",cellDeps:[(0,s.getSecp256k1CellDep)(f)],headerDeps:[],inputs:b,outputs:v,outputsData:w,witnesses:A};if(g===s.MAX_FEE){const t=(0,i.getTransactionSize)(x)+s.SECP256K1_WITNESS_LOCK_SIZE,e=(0,a.calculateTransactionFee)(t),r=_+(s.MAX_FEE-e);x.outputs[x.outputs.length-1].capacity=(0,a.append0x)(r.toString(16))}const E=e.getCkb().signTransaction(t)(x),k=yield e.getCkb().rpc.sendTransaction(E,"passthrough");console.info(`Paymaster cells has been split and tx hash is ${k}`)}))},62357:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}};Object.defineProperty(e,"__esModule",{value:!0}),e.genBtcJumpCkbVirtualTx=void 0;const o=r(60875),s=r(5785),a=r(10090),u=r(70213),c=r(83910),f=r(60720);e.genBtcJumpCkbVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,xudtTypeBytes:e,rgbppLockArgsList:r,transferAmount:n,toCkbAddress:l,witnessLockPlaceholderSize:d,ckbFeeRate:h,btcTestnetType:p}){var y,g,b,m;const v=l.startsWith("ckb"),_=o.blockchain.Script.unpack(e);if(!(0,a.isUDTTypeSupported)(_,v))throw new s.TypeAssetNotSupportedError("The type script asset is not supported now");const w=(0,a.deduplicateList)(r),S=w.map((t=>(0,u.genRgbppLockScript)(t,v,p)));let A=[],x=[];try{for(var E,k=!0,I=i(S);!(y=(E=yield I.next()).done);k=!0){m=E.value,k=!1;const r=m,n=yield t.getCells({lock:r,isDataMustBeEmpty:!1});(0,u.throwErrorWhenRgbppCellsInvalid)(n,e,v);const i=n.filter((t=>(0,a.isScriptEqual)(t.output.type,e))),o=n.filter((t=>!(0,a.isScriptEqual)(t.output.type,e)));A=[...A,...i],x=[...x,...o]}}catch(t){g={error:t}}finally{try{k||y||!(b=I.return)||(yield b.call(I))}finally{if(g)throw g.error}}A=A.sort(u.compareInputs),x=x.sort(u.compareInputs);const{inputs:T,sumInputsCapacity:C,sumAmount:O}=t.collectUdtInputs({liveCells:A,needAmount:n});let P=C;(0,u.throwErrorWhenTxInputsExceeded)(T.length);const M=(0,a.calculateRgbppCellCapacity)(_),B=(0,f.addressToScript)(l);if((0,a.isLockArgsSizeExceeded)(B.args))throw new Error("The lock script size of the to ckb address is too large");let R=!1;const j=O>n,D=j?BigInt(A[0].output.capacity):P,L=[{lock:(0,u.genBtcTimeLockScript)(B,v,p),type:_,capacity:(0,a.append0x)(D.toString(16))}],U=[(0,a.append0x)((0,a.u128ToLe)(n))];if(j){const t=(0,u.isRgbppCapacitySufficientForChange)(P,D);R=!t;const e=t?P-D:M;L.push({lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(1),v,p),type:_,capacity:(0,a.append0x)(e.toString(16))}),U.push((0,a.append0x)((0,a.u128ToLe)(O-n)))}const N=L.length;for(const[t,e]of x.entries())T.push({previousOutput:e.outPoint,since:"0x0"}),P+=BigInt(e.output.capacity),L.push(Object.assign(Object.assign({},e.output),{lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(N+t+1),v,p)})),U.push(e.outputData);const H=yield(0,a.fetchTypeIdCellDeps)(v,{rgbpp:!0,xudt:!0},p);R&&H.push((0,c.getSecp256k1CellDep)(v));const F=[],z=new Set,K=A.concat(x);for(const t of K)z.has(t.output.lock.args)?F.push("0x"):(z.add(t.output.lock.args),F.push(c.RGBPP_WITNESS_PLACEHOLDER));const q={version:"0x0",cellDeps:H,headerDeps:[],inputs:T,outputs:L,outputsData:U,witnesses:F};if(!R){const t=(0,f.getTransactionSize)(q)+(null!=d?d:(0,u.estimateWitnessSize)(w)),e=(0,a.calculateTransactionFee)(t,h),r=BigInt(L[L.length-1].capacity)-e;q.outputs[q.outputs.length-1].capacity=(0,a.append0x)(r.toString(16))}const W=Object.assign({},q);return{ckbRawTx:q,commitment:(0,u.calculateCommitment)(W),needPaymasterCell:R,sumInputsCapacity:(0,a.append0x)(P.toString(16))}}))},58357:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isBtcTimeCellsSpent=e.signBtcTimeCellSpentTx=e.buildBtcTimeCellsSpentTx=e.buildBtcTimeUnlockWitness=void 0;const s=r(60720),a=r(83910),u=r(47830),c=r(10090),f=r(10090),l=r(60875),d=o(r(94976));e.buildBtcTimeUnlockWitness=t=>{const e=u.BTCTimeUnlock.pack({btcTxProof:l.blockchain.Bytes.pack(t)});return(0,c.append0x)((0,s.bytesToHex)(e))};e.buildBtcTimeCellsSpentTx=t=>n(void 0,[t],void 0,(function*({btcTimeCells:t,btcAssetsApi:r,isMainnet:n,btcTestnetType:o}){var u,l,d,h;const p=t.sort(c.compareInputs),y=p.map((t=>({previousOutput:t.outPoint,since:"0x0"}))),g=p.map((t=>({lock:(0,c.lockScriptFromBtcTimeLockArgs)(t.output.lock.args),type:t.output.type,capacity:t.output.capacity}))),b=p.map((t=>t.outputData)),m=yield(0,c.fetchTypeIdCellDeps)(n,{btcTime:!0,xudt:!0},o),v=[],_=new Set,w=new Set;try{for(var S,A=!0,x=i(p);!(u=(S=yield x.next()).done);A=!0){h=S.value,A=!1;const t=h;if(_.has(t.output.lock.args)){v.push("0x");continue}_.add(t.output.lock.args);const n=yield r.getRgbppSpvProof((0,c.btcTxIdFromBtcTimeLockArgs)(t.output.lock.args),a.BTC_JUMP_CONFIRMATION_BLOCKS),{spvClient:i,proof:o}=(0,c.transformSpvProof)(n);w.has((0,s.serializeOutPoint)(i))||(m.push((0,f.buildSpvClientCellDep)(i)),w.add((0,s.serializeOutPoint)(i)));const u=(0,c.append0x)((0,s.serializeWitnessArgs)({lock:(0,e.buildBtcTimeUnlockWitness)(o),inputType:"",outputType:""}));v.push(u)}}catch(t){l={error:t}}finally{try{A||u||!(d=x.return)||(yield d.call(x))}finally{if(l)throw l.error}}return{version:"0x0",cellDeps:m,headerDeps:[],inputs:y,outputs:g,outputsData:b,witnesses:v}}));e.signBtcTimeCellSpentTx=t=>n(void 0,[t],void 0,(function*({secp256k1PrivateKey:t,ckbRawTx:e,collector:r,masterCkbAddress:n,isMainnet:i,outputCapacityRange:o,ckbFeeRate:u}){const f=(0,s.addressToScript)(n);let l=yield r.getCells({lock:f,outputCapacityRange:o});if(!l||0===l.length)throw new Error("No empty cell found");l=l.filter((t=>!t.output.type));const h={previousOutput:l[0].outPoint,since:"0x0"},p=l[0].output,y=Object.assign(Object.assign({},e),{cellDeps:[...e.cellDeps,(0,a.getSecp256k1CellDep)(i)],inputs:[h,...e.inputs],outputs:[p,...e.outputs],outputsData:["0x",...e.outputsData],witnesses:[{lock:"",inputType:"",outputType:""},...e.witnesses]}),g=(0,s.getTransactionSize)(y)+a.SECP256K1_WITNESS_LOCK_SIZE,b=(0,c.calculateTransactionFee)(g,u),m=BigInt(l[0].output.capacity)-b;y.outputs[0].capacity=(0,c.append0x)(m.toString(16));const v=new Map;v.set((0,s.scriptToHash)(f),t);const _=y.inputs.map(((t,e)=>({outPoint:t.previousOutput,lock:0===e?f:(0,a.getBtcTimeLockScript)(i)}))),w=(0,s.rawTransactionToHash)(y),S=(0,d.default)(v)({transactionHash:w,witnesses:y.witnesses,inputCells:_,skipMissingKeys:!0});return Object.assign(Object.assign({},y),{witnesses:S.map((t=>"string"!=typeof t?(0,s.serializeWitnessArgs)(t):t))})}));e.isBtcTimeCellsSpent=t=>n(void 0,[t],void 0,(function*({collector:t,ckbAddress:e,btcTxId:r,btcTestnetType:n}){const i=e.startsWith("ckb"),o=(0,s.addressToScript)(e),u=Object.assign(Object.assign({},(0,a.getBtcTimeLockScript)(i,n)),{args:(0,c.genBtcTimeLockArgs)(o,r,a.BTC_JUMP_CONFIRMATION_BLOCKS)}),f=yield t.getCells({lock:u,isDataMustBeEmpty:!1});return!f||0===f.length}))},45639:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.appendIssuerCellToBtcBatchTransfer=e.genBtcBatchTransferCkbVirtualTx=e.genBtcTransferCkbVirtualTx=void 0;const s=r(60875),a=r(5785),u=r(10090),c=r(70213),f=r(83910),l=r(60720),d=o(r(94976));e.genBtcTransferCkbVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,xudtTypeBytes:e,rgbppLockArgsList:r,transferAmount:n,isMainnet:o,noMergeOutputCells:d,witnessLockPlaceholderSize:h,ckbFeeRate:p,btcTestnetType:y}){var g,b,m,v;const _=s.blockchain.Script.unpack(e);if(!(0,u.isUDTTypeSupported)(_,o))throw new a.TypeAssetNotSupportedError("The type script asset is not supported now");const w=(0,u.deduplicateList)(r),S=w.map((t=>(0,c.genRgbppLockScript)(t,o,y)));let A=[],x=[];try{for(var E,k=!0,I=i(S);!(g=(E=yield I.next()).done);k=!0){v=E.value,k=!1;const r=v,n=yield t.getCells({lock:r,isDataMustBeEmpty:!1});(0,c.throwErrorWhenRgbppCellsInvalid)(n,e,o);const i=n.filter((t=>(0,u.isScriptEqual)(t.output.type,e))),s=n.filter((t=>!(0,u.isScriptEqual)(t.output.type,e)));A=[...A,...i],x=[...x,...s]}}catch(t){b={error:t}}finally{try{k||g||!(m=I.return)||(yield m.call(I))}finally{if(b)throw b.error}}A=A.sort(c.compareInputs),x=x.sort(c.compareInputs);let T=[],C=BigInt(0);const O=[],P=[];let M=!1;const B=t=>{for(const[e,r]of x.entries())T.push({previousOutput:r.outPoint,since:"0x0"}),C+=BigInt(r.output.capacity),O.push(Object.assign(Object.assign({},r.output),{lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(t+e+1),o,y)})),P.push(r.outputData)};if(d){for(const[t,e]of A.entries())T.push({previousOutput:e.outPoint,since:"0x0"}),C+=BigInt(e.output.capacity),O.push(Object.assign(Object.assign({},e.output),{lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(t+1),o,y)})),P.push(e.outputData);B(A.length)}else{const e=t.collectUdtInputs({liveCells:A,needAmount:n});T=e.inputs,(0,c.throwErrorWhenTxInputsExceeded)(T.length),C=e.sumInputsCapacity;const r=(0,u.calculateRgbppCellCapacity)(_),i=e.sumAmount>n,s=i?BigInt(A[0].output.capacity):C;if(O.push({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(1),o,y),type:_,capacity:(0,u.append0x)(s.toString(16))}),P.push((0,u.append0x)((0,u.u128ToLe)(n))),i){const t=(0,c.isRgbppCapacitySufficientForChange)(C,s);M=!t;const i=t?C-s:r;O.push({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(2),o,y),type:_,capacity:(0,u.append0x)(i.toString(16))}),P.push((0,u.append0x)((0,u.u128ToLe)(e.sumAmount-n)))}B(O.length)}const R=yield(0,u.fetchTypeIdCellDeps)(o,{rgbpp:!0,xudt:!0},y);M&&R.push((0,f.getSecp256k1CellDep)(o));const j=[],D=new Set,L=A.concat(x);for(const t of L)D.has(t.output.lock.args)?j.push("0x"):(D.add(t.output.lock.args),j.push(f.RGBPP_WITNESS_PLACEHOLDER));const U={version:"0x0",cellDeps:R,headerDeps:[],inputs:T,outputs:O,outputsData:P,witnesses:j};if(!M){const t=(0,l.getTransactionSize)(U)+(null!=h?h:(0,c.estimateWitnessSize)(w)),e=(0,u.calculateTransactionFee)(t,p),r=BigInt(O[O.length-1].capacity)-e;U.outputs[U.outputs.length-1].capacity=(0,u.append0x)(r.toString(16))}const N=Object.assign({},U);return{ckbRawTx:U,commitment:(0,c.calculateCommitment)(N),needPaymasterCell:M,sumInputsCapacity:(0,u.append0x)(C.toString(16))}}));e.genBtcBatchTransferCkbVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,xudtTypeBytes:e,rgbppLockArgsList:r,rgbppReceivers:n,isMainnet:o,btcTestnetType:l}){var d,h,p,y;const g=s.blockchain.Script.unpack(e);if(!(0,u.isUDTTypeSupported)(g,o))throw new a.TypeAssetNotSupportedError("The type script asset is not supported now");const b=r.map((t=>(0,c.genRgbppLockScript)(t,o,l)));let m=[];try{for(var v,_=!0,w=i(b);!(d=(v=yield w.next()).done);_=!0){y=v.value,_=!1;const e=y,r=yield t.getCells({lock:e,type:g});if(!r||0===r.length)throw new a.NoRgbppLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");m=[...m,...r]}}catch(t){h={error:t}}finally{try{_||d||!(p=w.return)||(yield p.call(w))}finally{if(h)throw h.error}}m=m.sort(c.compareInputs);const S=n.map((t=>t.transferAmount)).reduce(((t,e)=>t+e),BigInt(0)),A=(0,u.calculateRgbppCellCapacity)(g),x=n.map(((t,e)=>({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(e+1),o,l),type:g,capacity:(0,u.append0x)(A.toString(16))}))),E=n.map((t=>(0,u.append0x)((0,u.u128ToLe)(t.transferAmount)))),{inputs:k,sumInputsCapacity:I,sumAmount:T}=t.collectUdtInputs({liveCells:m,needAmount:S});(0,c.throwErrorWhenTxInputsExceeded)(k.length);let C=-1;T>S&&(C=n.length+1,x.push({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(C),o,l),type:g,capacity:(0,u.append0x)(A.toString(16))}),E.push((0,u.append0x)((0,u.u128ToLe)(T-S))));const O=[...yield(0,u.fetchTypeIdCellDeps)(o,{rgbpp:!0,xudt:!0},l),(0,f.getSecp256k1CellDep)(o)],P=[],M=new Set;for(const t of m)M.has(t.output.lock.args)?P.push("0x"):(M.add(t.output.lock.args),P.push(f.RGBPP_WITNESS_PLACEHOLDER));const B={version:"0x0",cellDeps:O,headerDeps:[],inputs:k,outputs:x,outputsData:E,witnesses:P},R=Object.assign({},B);return{ckbRawTx:B,commitment:(0,c.calculateCommitment)(R),rgbppChangeOutIndex:C,needPaymasterCell:!1,sumInputsCapacity:(0,u.append0x)(I.toString(16))}}));e.appendIssuerCellToBtcBatchTransfer=t=>n(void 0,[t],void 0,(function*({secp256k1PrivateKey:t,issuerAddress:e,collector:r,ckbRawTx:n,sumInputsCapacity:i,isMainnet:o,ckbFeeRate:s}){const c=n,h=c.inputs.length,p=c.outputs.map((t=>BigInt(t.capacity))).reduce(((t,e)=>t+e),BigInt(0)),y=(0,l.addressToScript)(e);let g=yield r.getCells({lock:y});if(!g||0===g.length)throw new a.NoLiveCellError("The issuer address has no empty cells");g=g.filter((t=>!t.output.type));let b=BigInt(i);const m=f.MAX_FEE;if(b<=p){const t=p-b+f.MIN_CAPACITY,{inputs:e,sumInputsCapacity:n}=r.collectInputs(g,t,m);c.inputs=[...c.inputs,...e],b+=n}let v=b-p;const _={lock:y,capacity:(0,u.append0x)(v.toString(16))};c.outputs=[...c.outputs,_],c.outputsData=[...c.outputsData,"0x"];const w=(0,l.getTransactionSize)(c)+f.SECP256K1_WITNESS_LOCK_SIZE;v-=(0,u.calculateTransactionFee)(w,s),c.outputs[c.outputs.length-1].capacity=(0,u.append0x)(v.toString(16));const S=new Map;S.set((0,l.scriptToHash)(y),t);const A=h,x=c.inputs.map(((t,e)=>({outPoint:t.previousOutput,lock:e>=A?y:(0,f.getRgbppLockScript)(o)}))),E={lock:"",inputType:"",outputType:""},k=c.inputs.slice(h).map(((t,e)=>0===e?E:"0x"));c.witnesses=[...c.witnesses,...k];const I=(0,l.rawTransactionToHash)(c),T=(0,d.default)(S)({transactionHash:I,witnesses:c.witnesses,inputCells:x,skipMissingKeys:!0});return Object.assign(Object.assign({},c),{witnesses:T.map((t=>"string"!=typeof t?(0,l.serializeWitnessArgs)(t):t))})}))},25266:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.updateCkbTxWithRealBtcTxId=e.sendCkbTx=e.appendPaymasterCellAndSignCkbTx=e.appendCkbTxWitnesses=e.buildRgbppUnlockWitness=void 0;const o=r(60720),s=r(83910),a=r(10090),u=r(5785),c=i(r(94976)),f=r(10090),l=r(47830),d=r(29365);e.buildRgbppUnlockWitness=(t,e,r,n)=>{const i=(0,a.append0x)((0,a.u8ToHex)(r)),s=(0,a.append0x)((0,a.u8ToHex)(n)),u=d.Bytes.pack((0,a.append0x)(t)),c=l.Uint16.pack([0,0]),f=l.RGBPPUnlock.pack({version:c,extraData:{inputLen:i,outputLen:s},btcTx:u,btcTxProof:(0,o.bytesToHex)(d.Bytes.pack((0,a.append0x)(e)))});return(0,a.append0x)((0,o.bytesToHex)(f))};e.appendCkbTxWitnesses=t=>n(void 0,[t],void 0,(function*({ckbRawTx:t,btcTxBytes:r,rgbppApiSpvProof:n}){const i=t,{spvClient:u,proof:c}=(0,a.transformSpvProof)(n);i.cellDeps.push((0,f.buildSpvClientCellDep)(u));const l=(0,e.buildRgbppUnlockWitness)(r,c,t.inputs.length,t.outputs.length),d=(0,a.append0x)((0,o.serializeWitnessArgs)({lock:l,inputType:"",outputType:""}));return i.witnesses=i.witnesses.map((t=>t===s.RGBPP_WITNESS_PLACEHOLDER?d:t)),i}));e.appendPaymasterCellAndSignCkbTx=t=>n(void 0,[t],void 0,(function*({secp256k1PrivateKey:t,ckbRawTx:e,sumInputsCapacity:r,paymasterCell:n,isMainnet:i,ckbFeeRate:f}){const l=e,d={previousOutput:n.outPoint,since:"0x0"};l.inputs=[...l.inputs,d];const h=BigInt(r)+BigInt(n.output.capacity),p=l.outputs.map((t=>BigInt(t.capacity))).reduce(((t,e)=>t+e),BigInt(0));if(h<=p+s.MIN_CAPACITY)throw new u.InputsCapacityNotEnoughError("The sum of inputs capacity is not enough");let y=h-p;const g={lock:n.output.lock,capacity:(0,a.append0x)(y.toString(16))};l.outputs=[...l.outputs,g],l.outputsData=[...l.outputsData,"0x"];const b=(0,o.getTransactionSize)(l)+s.SECP256K1_WITNESS_LOCK_SIZE;y-=(0,a.calculateTransactionFee)(b,f),l.outputs[l.outputs.length-1].capacity=(0,a.append0x)(y.toString(16));const m=new Map;m.set((0,o.scriptToHash)(n.output.lock),t),m.set((0,o.scriptToHash)((0,s.getRgbppLockScript)(i)),"");const v=l.inputs.length-1,_=l.inputs.map(((t,e)=>({outPoint:t.previousOutput,lock:e===v?n.output.lock:(0,s.getRgbppLockScript)(i)})));l.witnesses=[...l.witnesses,{lock:"",inputType:"",outputType:""}];const w=(0,o.rawTransactionToHash)(l),S=(0,c.default)(m)({transactionHash:w,witnesses:l.witnesses,inputCells:_,skipMissingKeys:!0});return Object.assign(Object.assign({},l),{witnesses:S.map((t=>"string"!=typeof t?(0,o.serializeWitnessArgs)(t):t))})}));e.sendCkbTx=t=>n(void 0,[t],void 0,(function*({collector:t,signedTx:e}){return yield t.getCkb().rpc.sendTransaction(e,"passthrough")}));e.updateCkbTxWithRealBtcTxId=({ckbRawTx:t,btcTxId:e,isMainnet:r})=>{const n=t.outputs.map((t=>(0,a.isRgbppLockOrBtcTimeLock)(t.lock,r)?Object.assign(Object.assign({},t),{lock:Object.assign(Object.assign({},t.lock),{args:(0,a.replaceLockArgsWithRealBtcTxId)(t.lock.args,e)})}):t));return Object.assign(Object.assign({},t),{outputs:n})}},39235:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.genCkbBatchJumpBtcVirtualTx=e.genCkbJumpBtcVirtualTx=void 0;const i=r(60875),o=r(5785),s=r(10090),a=r(70213),u=r(83910),c=r(60720);e.genCkbJumpBtcVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,xudtTypeBytes:e,fromCkbAddress:r,toRgbppLockArgs:n,transferAmount:f,witnessLockPlaceholderSize:l,ckbFeeRate:d,btcTestnetType:h}){const p=r.startsWith("ckb"),y=i.blockchain.Script.unpack(e);if(!(0,s.isTypeAssetSupported)(y,p))throw new o.TypeAssetNotSupportedError("The type script asset is not supported now");const g=(0,c.addressToScript)(r),b=yield t.getCells({lock:g,type:y});if(!b||0===b.length)throw new o.NoXudtLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");const m=t.collectUdtInputs({liveCells:b,needAmount:f});let{inputs:v,sumInputsCapacity:_}=m;const{sumAmount:w}=m,S=(0,s.calculateRgbppCellCapacity)(y),A=[(0,s.append0x)((0,s.u128ToLe)(f))],x=[{lock:(0,a.genRgbppLockScript)(n,p,h),type:y,capacity:(0,s.append0x)(S.toString(16))}],E=u.MAX_FEE,k=(0,s.calculateUdtCellCapacity)(g,y);if(_<k+S+u.MIN_CAPACITY+E){let e=yield t.getCells({lock:g});if(!e||0===e.length)throw new o.NoLiveCellError("The address has no empty cells");e=e.filter((t=>!t.output.type));const{inputs:r,sumInputsCapacity:n}=t.collectInputs(e,S,E);v=[...r,...v],_+=n}let I=_-S-E;w>f&&(x.push({lock:g,type:y,capacity:(0,s.append0x)(k.toString(16))}),A.push((0,s.append0x)((0,s.u128ToLe)(w-f))),I-=k),x.push({lock:g,capacity:(0,s.append0x)(I.toString(16))}),A.push("0x");const T=yield(0,s.fetchTypeIdCellDeps)(p,{xudt:!0}),C=v.map((()=>"0x")),O={version:"0x0",cellDeps:T,headerDeps:[],inputs:v,outputs:x,outputsData:A,witnesses:C};if(E===u.MAX_FEE){const t=(0,c.getTransactionSize)(O)+(null!=l?l:u.RGBPP_TX_WITNESS_MAX_SIZE),e=(0,s.calculateTransactionFee)(t,d),r=I+(u.MAX_FEE-e);O.outputs[O.outputs.length-1].capacity=(0,s.append0x)(r.toString(16))}return O}));e.genCkbBatchJumpBtcVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,xudtTypeBytes:e,fromCkbAddress:r,rgbppReceivers:n,witnessLockPlaceholderSize:f,ckbFeeRate:l,btcTestnetType:d}){const h=r.startsWith("ckb"),p=i.blockchain.Script.unpack(e);if(!(0,s.isTypeAssetSupported)(p,h))throw new o.TypeAssetNotSupportedError("The type script asset is not supported now");const y=(0,c.addressToScript)(r),g=yield t.getCells({lock:y,type:p});if(!g||0===g.length)throw new o.NoXudtLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");const b=n.map((t=>t.transferAmount)).reduce(((t,e)=>t+e),BigInt(0)),m=t.collectUdtInputs({liveCells:g,needAmount:b});let{inputs:v,sumInputsCapacity:_}=m;const{sumAmount:w}=m,S=(0,s.calculateRgbppCellCapacity)(p),A=S*BigInt(n.length),x=n.map((t=>({lock:(0,a.genRgbppLockScript)(t.toRgbppLockArgs,h,d),type:p,capacity:(0,s.append0x)(S.toString(16))}))),E=n.map((t=>(0,s.append0x)((0,s.u128ToLe)(t.transferAmount)))),k=u.MAX_FEE,I=(0,s.calculateUdtCellCapacity)(y,p);if(_<I+A+u.MIN_CAPACITY+k){let e=yield t.getCells({lock:y});if(!e||0===e.length)throw new o.NoLiveCellError("The address has no empty cells");e=e.filter((t=>!t.output.type));const{inputs:r,sumInputsCapacity:n}=t.collectInputs(e,S,k);v=[...r,...v],_+=n}let T=_-A-k;w>b&&(x.push({lock:y,type:p,capacity:(0,s.append0x)(I.toString(16))}),E.push((0,s.append0x)((0,s.u128ToLe)(w-b))),T-=I),x.push({lock:y,capacity:(0,s.append0x)(T.toString(16))}),E.push("0x");const C=yield(0,s.fetchTypeIdCellDeps)(h,{xudt:!0}),O=v.map((()=>"0x")),P={version:"0x0",cellDeps:C,headerDeps:[],inputs:v,outputs:x,outputsData:E,witnesses:O};if(k===u.MAX_FEE){const t=(0,c.getTransactionSize)(P)+(null!=f?f:u.RGBPP_TX_WITNESS_MAX_SIZE),e=(0,s.calculateTransactionFee)(t,l),r=T+(u.MAX_FEE-e);P.outputs[P.outputs.length-1].capacity=(0,s.append0x)(r.toString(16))}return P}))},2292:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(45639),e),i(r(25266),e),i(r(62357),e),i(r(58357),e),i(r(39235),e),i(r(80245),e)},80245:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.genRgbppLaunchCkbVirtualTx=void 0;const i=r(5785),o=r(10090),s=r(70213),a=r(83910),u=r(60720);e.genRgbppLaunchCkbVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,ownerRgbppLockArgs:e,launchAmount:r,rgbppTokenInfo:n,witnessLockPlaceholderSize:c,ckbFeeRate:f,isMainnet:l,btcTestnetType:d}){const h=(0,s.genRgbppLockScript)(e,l,d);let p=yield t.getCells({lock:h});if(!p||0===p.length)throw new i.NoLiveCellError("The owner address has no empty cells");p=p.filter((t=>!t.output.type));const y=(0,o.calculateRgbppTokenInfoCellCapacity)(n,l),g=a.MAX_FEE,{inputs:b,sumInputsCapacity:m}=t.collectInputs(p,y,g);let v=m-y;const _=[{lock:(0,s.genRgbppLockScript)((0,s.buildPreLockArgs)(1),l,d),type:Object.assign(Object.assign({},(0,a.getXudtTypeScript)(l)),{args:(0,o.append0x)((0,u.scriptToHash)(h))}),capacity:(0,o.append0x)(v.toString(16))},{lock:(0,s.genBtcTimeLockScript)(a.UNLOCKABLE_LOCK_SCRIPT,l,d),type:Object.assign(Object.assign({},(0,a.getUniqueTypeScript)(l)),{args:(0,o.generateUniqueTypeArgs)(b[0],1)}),capacity:(0,o.append0x)(y.toString(16))}],w=[(0,o.append0x)((0,o.u128ToLe)(r)),(0,s.encodeRgbppTokenInfo)(n)],S=yield(0,o.fetchTypeIdCellDeps)(l,{rgbpp:!0,xudt:!0,unique:!0},d),A=b.map(((t,e)=>0===e?a.RGBPP_WITNESS_PLACEHOLDER:"0x")),x={version:"0x0",cellDeps:S,headerDeps:[],inputs:b,outputs:_,outputsData:w,witnesses:A},E=(0,u.getTransactionSize)(x)+(null!=c?c:a.RGBPP_TX_WITNESS_MAX_SIZE);v-=(0,o.calculateTransactionFee)(E,f),x.outputs[0].capacity=(0,o.append0x)(v.toString(16));const k=Object.assign(Object.assign({},x),{outputs:x.outputs});return{ckbRawTx:x,commitment:(0,s.calculateCommitment)(k),needPaymasterCell:!1}}))},13926:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HashType=e.DepType=e.Uint128=e.Uint64=e.Uint32=void 0;const n=r(30464),{Uint32:i,Uint64:o,Uint128:s}=n.number;e.Uint32=i,e.Uint64=o,e.Uint128=s;const a=(0,n.createFixedBytesCodec)({byteLength:1,pack:t=>{if("type"===t)return new Uint8Array([1]);if("data"===t)return new Uint8Array([0]);if("data1"===t)return new Uint8Array([2]);if("data2"===t)return new Uint8Array([4]);throw new Error("Unknown hash type")},unpack:t=>{if(1===t[0])return"type";if(0===t[0])return"data";if(2===t[0])return"data1";if(4===t[0])return"data2";throw new Error("Unknown hash type")}});e.HashType=a;const u=(0,n.createFixedBytesCodec)({byteLength:1,pack:t=>{if("code"===t)return new Uint8Array([0]);if("depGroup"===t)return new Uint8Array([1]);throw new Error("Unknown dep type")},unpack:t=>{if(0===t[0])return"code";if(1===t[0])return"depGroup";throw new Error("Unknown dep type")}});e.DepType=u},59763:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockV1=e.Block=e.TransactionVec=e.Transaction=e.RawTransaction=e.CellOutputVec=e.CellOutput=e.CellInputVec=e.CellDepVec=e.UncleBlockVec=e.ScriptOpt=e.WitnessArgs=e.CellbaseWitness=e.UncleBlock=e.Header=e.RawHeader=e.CellDep=e.CellInput=e.OutPoint=e.Script=e.ProposalShortIdVec=e.ProposalShortId=e.Byte32Vec=e.BytesVec=e.BytesOptVec=e.BytesOpt=e.Bytes=e.Uint256=e.Byte32=void 0;const n=r(30464),i=r(13926),{array:o,vector:s,union:a,option:u,struct:c,table:f}=n.molecule,l=(0,n.createBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify});function d(t){return(0,n.createFixedBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify,byteLength:t})}d(1);e.Byte32=d(32),e.Uint256=d(32),e.Bytes=l,e.BytesOpt=u(e.Bytes),e.BytesOptVec=s(e.BytesOpt),e.BytesVec=s(e.Bytes),e.Byte32Vec=s(e.Byte32),e.ProposalShortId=d(10),e.ProposalShortIdVec=s(e.ProposalShortId),e.Script=f({codeHash:e.Byte32,hashType:i.HashType,args:e.Bytes},["codeHash","hashType","args"]),e.OutPoint=c({txHash:e.Byte32,index:i.Uint32},["txHash","index"]),e.CellInput=c({since:i.Uint64,previousOutput:e.OutPoint},["since","previousOutput"]),e.CellDep=c({outPoint:e.OutPoint,depType:i.DepType},["outPoint","depType"]),e.RawHeader=c({version:i.Uint32,compactTarget:i.Uint32,timestamp:i.Uint64,number:i.Uint64,epoch:i.Uint64,parentHash:e.Byte32,transactionsRoot:e.Byte32,proposalsHash:e.Byte32,extraHash:e.Byte32,dao:e.Byte32},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),e.Header=c({raw:e.RawHeader,nonce:i.Uint128},["raw","nonce"]),e.UncleBlock=f({header:e.Header,proposals:e.ProposalShortIdVec},["header","proposals"]),e.CellbaseWitness=f({lock:e.Script,message:e.Bytes},["lock","message"]),e.WitnessArgs=f({lock:e.BytesOpt,inputType:e.BytesOpt,outputType:e.BytesOpt},["lock","inputType","outputType"]),e.ScriptOpt=u(e.Script),e.UncleBlockVec=s(e.UncleBlock),e.CellDepVec=s(e.CellDep),e.CellInputVec=s(e.CellInput),e.CellOutput=f({capacity:i.Uint64,lock:e.Script,type_:e.ScriptOpt},["capacity","lock","type_"]),e.CellOutputVec=s(e.CellOutput),e.RawTransaction=f({version:i.Uint32,cellDeps:e.CellDepVec,headerDeps:e.Byte32Vec,inputs:e.CellInputVec,outputs:e.CellOutputVec,outputsData:e.BytesVec},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),e.Transaction=f({raw:e.RawTransaction,witnesses:e.BytesVec},["raw","witnesses"]),e.TransactionVec=s(e.Transaction),e.Block=f({header:e.Header,uncles:e.UncleBlockVec,transactions:e.TransactionVec,proposals:e.ProposalShortIdVec},["header","uncles","transactions","proposals"]),e.BlockV1=f({header:e.Header,uncles:e.UncleBlockVec,transactions:e.TransactionVec,proposals:e.ProposalShortIdVec,extension:e.Bytes},["header","uncles","transactions","proposals","extension"])},47830:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BTCTimeUnlock=e.BTCTimeLockConfig=e.BTCTimeLock=e.RGBPPUnlock=e.Uint16=e.ExtraCommitmentData=e.RGBPPLock=e.RGBPPConfig=void 0;const n=r(30464),i=r(13926),o=r(59763),{array:s,vector:a,union:u,option:c,struct:f,table:l}=n.molecule;(0,n.createBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify});function d(t){return(0,n.createFixedBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify,byteLength:t})}const h=d(1);e.RGBPPConfig=f({btcLcTypeHash:o.Byte32,btcTimeLockTypeHash:o.Byte32},["btcLcTypeHash","btcTimeLockTypeHash"]),e.RGBPPLock=f({outIndex:i.Uint32,btcTxid:o.Byte32},["outIndex","btcTxid"]),e.ExtraCommitmentData=f({inputLen:h,outputLen:h},["inputLen","outputLen"]),e.Uint16=d(2),e.RGBPPUnlock=l({version:e.Uint16,extraData:e.ExtraCommitmentData,btcTx:o.Bytes,btcTxProof:o.Bytes},["version","extraData","btcTx","btcTxProof"]),e.BTCTimeLock=l({lockScript:o.Script,after:i.Uint32,btcTxid:o.Byte32},["lockScript","after","btcTxid"]),e.BTCTimeLockConfig=f({btcLcTypeHash:o.Byte32},["btcLcTypeHash"]),e.BTCTimeUnlock=l({btcTxProof:o.Bytes},["btcTxProof"])},65732:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.genCreateClusterCkbVirtualTx=void 0;const i=r(57049),o=r(10090),s=r(70213),a=r(83910),u=r(727),c=r(5785),f=r(60720);e.genCreateClusterCkbVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,rgbppLockArgs:e,clusterData:r,isMainnet:n,witnessLockPlaceholderSize:l,ckbFeeRate:d,btcTestnetType:h}){const p=(0,s.genRgbppLockScript)(e,n,h),y=yield t.getCells({lock:p});if(!y||0===y.length)throw new c.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");const g=y[0],b=[{previousOutput:g.outPoint,since:"0x0"}],m=(0,u.generateClusterId)(b[0],0),v=[Object.assign(Object.assign({},g.output),{lock:(0,s.genRgbppLockScript)((0,s.buildPreLockArgs)(1),n,h),type:Object.assign(Object.assign({},(0,a.getClusterTypeScript)(n)),{args:m})})],_=[(0,f.bytesToHex)((0,i.packRawClusterData)(r))],w=[...yield(0,o.fetchTypeIdCellDeps)(n,{rgbpp:!0},h),(0,a.getClusterTypeDep)(n)],S=(0,u.generateClusterCreateCoBuild)(v[0],_[0]),A={version:"0x0",cellDeps:w,headerDeps:[],inputs:b,outputs:v,outputsData:_,witnesses:[a.RGBPP_WITNESS_PLACEHOLDER,S]};let x=BigInt(g.output.capacity);const E=(0,f.getTransactionSize)(A)+(null!=l?l:a.RGBPP_TX_WITNESS_MAX_SIZE);x-=(0,o.calculateTransactionFee)(E,d),A.outputs[A.outputs.length-1].capacity=(0,o.append0x)(x.toString(16));const k=Object.assign({},A);return{ckbRawTx:A,commitment:(0,s.calculateCommitment)(k),clusterId:m,needPaymasterCell:!1}}))},28742:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(65732),e),i(r(89451),e),i(r(19678),e)},19678:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}};Object.defineProperty(e,"__esModule",{value:!0}),e.genLeapSporeFromCkbToBtcRawTx=e.buildSporeBtcTimeCellsSpentTx=e.genLeapSporeFromBtcToCkbVirtualTx=void 0;const o=r(10090),s=r(70213),a=r(83910),u=r(727),c=r(5785),f=r(60720),l=r(60875),d=r(2292);e.genLeapSporeFromBtcToCkbVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,sporeRgbppLockArgs:e,sporeTypeBytes:r,toCkbAddress:n,isMainnet:i,witnessLockPlaceholderSize:c,ckbFeeRate:l,btcTestnetType:d}){const h=Object.assign(Object.assign({},(0,a.getRgbppLockScript)(i,d)),{args:(0,o.append0x)(e)}),p=yield t.getCells({lock:h,isDataMustBeEmpty:!1});(0,u.throwErrorWhenSporeCellsInvalid)(p,r,i);const y=p[0],g=[{previousOutput:y.outPoint,since:"0x0"}],b=(0,f.addressToScript)(n),m=[Object.assign(Object.assign({},y.output),{lock:(0,s.genBtcTimeLockScript)(b,i,d)})],v=[y.outputData],_=[...yield(0,o.fetchTypeIdCellDeps)(i,{rgbpp:!0},d),(0,a.getSporeTypeDep)(i)],w=(0,u.generateSporeTransferCoBuild)([y],m),S={version:"0x0",cellDeps:_,headerDeps:[],inputs:g,outputs:m,outputsData:v,witnesses:[a.RGBPP_WITNESS_PLACEHOLDER,w]};let A=BigInt(y.output.capacity);const x=(0,f.getTransactionSize)(S)+(null!=c?c:a.RGBPP_TX_WITNESS_MAX_SIZE);A-=(0,o.calculateTransactionFee)(x,l),S.outputs[S.outputs.length-1].capacity=(0,o.append0x)(A.toString(16));const E=Object.assign({},S);return{ckbRawTx:S,commitment:(0,s.calculateCommitment)(E),sporeCell:y,needPaymasterCell:!1,sumInputsCapacity:y.output.capacity}}));e.buildSporeBtcTimeCellsSpentTx=t=>n(void 0,[t],void 0,(function*({btcTimeCells:t,btcAssetsApi:e,isMainnet:r,btcTestnetType:n}){var c,l,h,p;const y=t.sort(s.compareInputs),g=y.map((t=>({previousOutput:t.outPoint,since:"0x0"}))),b=y.map((t=>({lock:(0,s.lockScriptFromBtcTimeLockArgs)(t.output.lock.args),type:t.output.type,capacity:t.output.capacity}))),m=y.map((t=>t.outputData)),v=[...yield(0,o.fetchTypeIdCellDeps)(r,{btcTime:!0},n),(0,a.getSporeTypeDep)(r)],_=[],w=new Set,S=new Set;try{for(var A,x=!0,E=i(y);!(c=(A=yield E.next()).done);x=!0){p=A.value,x=!1;const t=p;if(w.has(t.output.lock.args)){_.push("0x");continue}w.add(t.output.lock.args);const r=yield e.getRgbppSpvProof((0,s.btcTxIdFromBtcTimeLockArgs)(t.output.lock.args),a.BTC_JUMP_CONFIRMATION_BLOCKS),{spvClient:n,proof:i}=(0,s.transformSpvProof)(r);S.has((0,f.serializeOutPoint)(n))||(v.push((0,s.buildSpvClientCellDep)(n)),S.add((0,f.serializeOutPoint)(n)));const u=(0,o.append0x)((0,f.serializeWitnessArgs)({lock:(0,d.buildBtcTimeUnlockWitness)(i),inputType:"",outputType:""}));_.push(u)}}catch(t){l={error:t}}finally{try{x||c||!(h=E.return)||(yield h.call(E))}finally{if(l)throw l.error}}const k=(0,u.generateSporeTransferCoBuild)(y,b);_.push(k);return{version:"0x0",cellDeps:v,headerDeps:[],inputs:g,outputs:b,outputsData:m,witnesses:_}}));e.genLeapSporeFromCkbToBtcRawTx=t=>n(void 0,[t],void 0,(function*({collector:t,sporeTypeBytes:e,fromCkbAddress:r,toRgbppLockArgs:n,isMainnet:i,witnessLockPlaceholderSize:s,ckbFeeRate:d,btcTestnetType:h}){const p=(0,f.addressToScript)(r),y=l.blockchain.Script.unpack(e),g=yield t.getCells({lock:p,type:y});if(!g||0===g.length)throw new c.NoRgbppLiveCellError("No spore rgbpp cells found with the spore rgbpp lock args and spore type script");const b=g[0],m=[{previousOutput:b.outPoint,since:"0x0"}],v=[Object.assign(Object.assign({},b.output),{lock:Object.assign(Object.assign({},(0,a.getRgbppLockScript)(i,h)),{args:(0,o.append0x)(n)})})],_=[b.outputData],w=[(0,a.getSporeTypeDep)(i)],S=(0,u.generateSporeTransferCoBuild)([b],v),A={version:"0x0",cellDeps:w,headerDeps:[],inputs:m,outputs:v,outputsData:_,witnesses:[a.RGBPP_WITNESS_PLACEHOLDER,S]};let x=BigInt(b.output.capacity);const E=(0,f.getTransactionSize)(A)+(null!=s?s:a.RGBPP_TX_WITNESS_MAX_SIZE);return x-=(0,o.calculateTransactionFee)(E,d),A.outputs[A.outputs.length-1].capacity=(0,o.append0x)(x.toString(16)),A}))},89451:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.genTransferSporeCkbVirtualTx=e.appendIssuerCellToSporesCreate=e.buildAppendingIssuerCellToSporesCreateTx=e.genCreateSporeCkbVirtualTx=void 0;const o=r(57049),s=r(10090),a=r(70213),u=r(83910),c=r(727),f=r(5785),l=r(60720),d=i(r(94976));e.genCreateSporeCkbVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,clusterRgbppLockArgs:e,sporeDataList:r,isMainnet:n,btcTestnetType:i}){const d=(0,a.genRgbppLockScript)(e,n,i),h=yield t.getCells({lock:d,isDataMustBeEmpty:!1});if(!h||0===h.length)throw new f.NoRgbppLiveCellError("No cluster rgbpp cells found with the cluster rgbpp lock args");if(h.length>1)throw new f.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to multiple CKB cells");const p=h[0];if(!p.output.type||!(0,s.isClusterSporeTypeSupported)(p.output.type,n))throw new f.TypeAssetNotSupportedError("The type script asset is not supported now");const y=p.output.capacity,g=[{previousOutput:p.outPoint,since:"0x0"}],b={outPoint:p.outPoint,depType:"code"},m=r.map(((t,e)=>({lock:(0,a.genRgbppLockScript)((0,a.buildPreLockArgs)(e+2),n,i),type:Object.assign(Object.assign({},(0,u.getSporeTypeScript)(n)),{args:(0,c.generateSporeId)(g[0],e+1)}),capacity:(0,s.append0x)((0,s.calculateRgbppSporeCellCapacity)(t).toString(16))}))),v=r.map((t=>(0,l.bytesToHex)((0,o.packRawSporeData)(t)))),_=[Object.assign(Object.assign({},p.output),{lock:(0,a.genRgbppLockScript)((0,a.buildPreLockArgs)(1),n,i)}),...m],w=[p.outputData,...v],S=[...yield(0,s.fetchTypeIdCellDeps)(n,{rgbpp:!0},i),(0,u.getClusterTypeDep)(n),(0,u.getSporeTypeDep)(n),b],A=(0,c.generateSporeCreateCoBuild)({sporeOutputs:m,sporeOutputsData:v,clusterCell:p,clusterOutputCell:_[0]}),x=[u.RGBPP_WITNESS_PLACEHOLDER,A],E={version:"0x0",cellDeps:S,headerDeps:[],inputs:g,outputs:_,outputsData:w,witnesses:x},k=Object.assign({},E);return{ckbRawTx:E,commitment:(0,a.calculateCommitment)(k),sumInputsCapacity:y,clusterCell:p,needPaymasterCell:!1}}));e.buildAppendingIssuerCellToSporesCreateTx=t=>n(void 0,[t],void 0,(function*({issuerAddress:t,collector:e,ckbRawTx:r,sumInputsCapacity:n,witnessLockPlaceholderSize:i=u.SECP256K1_WITNESS_LOCK_SIZE,ckbFeeRate:o}){const a=r,c=a.outputs.map((t=>BigInt(t.capacity))).reduce(((t,e)=>t+e),BigInt(0)),d=(0,l.addressToScript)(t);let h=yield e.getCells({lock:d});if(!h||0===h.length)throw new f.NoLiveCellError("The issuer address has no empty cells");h=h.filter((t=>!t.output.type));let p=BigInt(n);const y=u.MAX_FEE;if(p<=c){const t=c-p+u.MIN_CAPACITY,{inputs:r,sumInputsCapacity:n}=e.collectInputs(h,t,y);a.inputs=[...a.inputs,...r],p+=n}let g=p-c;const b={lock:d,capacity:(0,s.append0x)(g.toString(16))};a.outputs=[...a.outputs,b],a.outputsData=[...a.outputsData,"0x"];const m=(0,l.getTransactionSize)(a)+i+37;return g-=(0,s.calculateTransactionFee)(m,o),a.outputs[a.outputs.length-1].capacity=(0,s.append0x)(g.toString(16)),a}));e.appendIssuerCellToSporesCreate=t=>n(void 0,[t],void 0,(function*({secp256k1PrivateKey:t,issuerAddress:r,collector:n,ckbRawTx:i,sumInputsCapacity:o,isMainnet:s,ckbFeeRate:a}){const c=i.inputs.length,f=yield(0,e.buildAppendingIssuerCellToSporesCreateTx)({issuerAddress:r,collector:n,ckbRawTx:i,sumInputsCapacity:o,ckbFeeRate:a});f.cellDeps=[...f.cellDeps,(0,u.getSecp256k1CellDep)(s)];const h=(0,l.addressToScript)(r),p=new Map;p.set((0,l.scriptToHash)(h),t);const y=c,g=f.inputs.map(((t,e)=>({outPoint:t.previousOutput,lock:e>=y?h:(0,u.getRgbppLockScript)(s)}))),b={lock:"",inputType:"",outputType:""},m=f.inputs.slice(c).map(((t,e)=>0===e?b:"0x")),v=f.witnesses.length-1;f.witnesses=[...f.witnesses.slice(0,v),...m,f.witnesses[v]];const _=(0,l.rawTransactionToHash)(f),w=(0,d.default)(p)({transactionHash:_,witnesses:f.witnesses,inputCells:g,skipMissingKeys:!0});return Object.assign(Object.assign({},f),{witnesses:w.map((t=>"string"!=typeof t?(0,l.serializeWitnessArgs)(t):t))})}));e.genTransferSporeCkbVirtualTx=t=>n(void 0,[t],void 0,(function*({collector:t,sporeRgbppLockArgs:e,sporeTypeBytes:r,isMainnet:n,witnessLockPlaceholderSize:i,ckbFeeRate:o,btcTestnetType:f}){const d=(0,a.genRgbppLockScript)(e,n,f),h=yield t.getCells({lock:d,isDataMustBeEmpty:!1});(0,c.throwErrorWhenSporeCellsInvalid)(h,r,n);const p=h[0],y=[{previousOutput:p.outPoint,since:"0x0"}],g=[Object.assign(Object.assign({},p.output),{lock:(0,a.genRgbppLockScript)((0,a.buildPreLockArgs)(1),n,f)})],b=[p.outputData],m=[...yield(0,s.fetchTypeIdCellDeps)(n,{rgbpp:!0},f),(0,u.getSporeTypeDep)(n)],v=(0,c.generateSporeTransferCoBuild)([p],g),_={version:"0x0",cellDeps:m,headerDeps:[],inputs:y,outputs:g,outputsData:b,witnesses:[u.RGBPP_WITNESS_PLACEHOLDER,v]};let w=BigInt(p.output.capacity);const S=(0,l.getTransactionSize)(_)+(null!=i?i:u.RGBPP_TX_WITNESS_MAX_SIZE);w-=(0,s.calculateTransactionFee)(S,o),_.outputs[_.outputs.length-1].capacity=(0,s.append0x)(w.toString(16));const A=Object.assign({},_);return{ckbRawTx:_,commitment:(0,a.calculateCommitment)(A),sporeCell:p,needPaymasterCell:!1,sumInputsCapacity:p.output.capacity}}))},85189:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},20601:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},41462:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(20601),e),i(r(85189),e),i(r(70321),e),i(r(1497),e),i(r(90523),e)},70321:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},90523:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},1497:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},96642:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.toCamelcase=void 0;const i=n(r(23472));e.toCamelcase=t=>{try{return(0,i.default)(t,{deep:!0})}catch(t){console.error(t)}return null}},78536:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchTypeIdCellDeps=void 0;const o=i(r(86425)),s=r(83910),a=t=>o.default.get(t,{timeout:2e3});e.fetchTypeIdCellDeps=(t,e,r)=>n(void 0,void 0,void 0,(function*(){let i=(0,s.getRgbppLockDep)(t,r),o=(0,s.getBtcTimeLockDep)(t,r),u=(0,s.getXudtDep)(t),c=(0,s.getUniqueTypeDep)(t);const f=yield n(void 0,void 0,void 0,(function*(){try{return(yield Promise.any([a("https://raw.githubusercontent.com/ckb-cell/typeid-contract-cell-deps/main/deployment/cell-deps.json"),a("https://cdn.jsdelivr.net/gh/ckb-cell/typeid-contract-cell-deps@main/deployment/cell-deps.json")])).data}catch(t){}}));f&&("Signet"===r?(i=f.rgbpp.signet,o=f.btcTime.signet):(i=t?f.rgbpp.mainnet:f.rgbpp.testnet,o=t?f.btcTime.mainnet:f.btcTime.testnet),t||(u=f.xudt.testnet,c=f.unique.testnet));let l=[];return e.rgbpp&&(l=[...l,i,Object.assign(Object.assign({},i),{outPoint:Object.assign(Object.assign({},i.outPoint),{index:"0x1"})})]),e.btcTime&&(l=[...l,o,Object.assign(Object.assign({},o),{outPoint:Object.assign(Object.assign({},o.outPoint),{index:"0x1"})})]),e.xudt&&(l=[...l,u]),e.unique&&(l=[...l,c]),l}))},59767:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkCkbTxInputsCapacitySufficient=e.isScriptEqual=e.deduplicateList=e.calculateCellOccupiedCapacity=e.calculateRgbppSporeCellCapacity=e.calculateRgbppClusterCellCapacity=e.generateUniqueTypeArgs=e.calculateRgbppTokenInfoCellCapacity=e.calculateXudtTokenInfoCellCapacity=e.calculateUdtCellCapacity=e.calculateRgbppCellCapacity=e.isLockArgsSizeExceeded=e.isTypeAssetSupported=e.isClusterSporeTypeSupported=e.isSporeTypeSupported=e.isUDTTypeSupported=e.calculateTransactionFee=void 0;const o=r(48412),s=r(57049),a=r(93339),u=r(83910),c=r(60720),f=r(70213),l=r(5785);e.calculateTransactionFee=(t,e)=>{const r=null!=e?e:BigInt(1100),n=(0,o.calculateTransactionFee)(BigInt(t),r);return BigInt(n)};e.isUDTTypeSupported=(t,e)=>(0,c.serializeScript)((0,u.getXudtTypeScript)(e))===(0,c.serializeScript)(Object.assign(Object.assign({},t),{args:""}));e.isSporeTypeSupported=(t,e)=>(0,c.serializeScript)((0,u.getSporeTypeScript)(e))===(0,c.serializeScript)(Object.assign(Object.assign({},t),{args:""}));e.isClusterSporeTypeSupported=(t,r)=>{const n=(0,c.serializeScript)(Object.assign(Object.assign({},t),{args:""})),i=(0,c.serializeScript)((0,u.getClusterTypeScript)(r));return(0,e.isSporeTypeSupported)(t,r)||i===n};e.isTypeAssetSupported=(t,r)=>(0,e.isUDTTypeSupported)(t,r)||(0,e.isClusterSporeTypeSupported)(t,r);e.isLockArgsSizeExceeded=t=>(0,a.remove0x)(t).length>52;e.calculateRgbppCellCapacity=t=>{const e=t?(0,a.remove0x)(t.args).length/2:32;return BigInt(69+(33+e)+8+16+95+1)*u.CKB_UNIT};e.calculateUdtCellCapacity=(t,e)=>{const r=(0,a.remove0x)(t.args).length/2,n=e?(0,a.remove0x)(e.args).length/2:32;return BigInt(33+r+(33+n)+8+16+1)*u.CKB_UNIT};e.calculateXudtTokenInfoCellCapacity=(t,e)=>{const r=(0,a.remove0x)(e.args).length/2+33,n=(0,a.remove0x)((0,f.encodeRgbppTokenInfo)(t)).length/2;return BigInt(r+53+8+n)*u.CKB_UNIT};e.calculateRgbppTokenInfoCellCapacity=(t,e)=>{const r=(0,f.genBtcTimeLockScript)(u.UNLOCKABLE_LOCK_SCRIPT,e),n=(0,a.remove0x)(r.args).length/2+33,i=(0,a.remove0x)((0,f.encodeRgbppTokenInfo)(t)).length/2;return BigInt(n+53+8+i)*u.CKB_UNIT};e.generateUniqueTypeArgs=(t,e)=>{const r=(0,c.hexToBytes)((0,c.serializeInput)(t)),n=(0,c.blake2b)(32,null,null,c.PERSONAL);return n.update(r),n.update((0,c.hexToBytes)(`0x${(0,a.u64ToLe)(BigInt(e))}`)),`0x${n.digest("hex").slice(0,40)}`};e.calculateRgbppClusterCellCapacity=t=>{const e=(0,s.packRawClusterData)(t).length;return BigInt(142+e+1)*u.CKB_UNIT};e.calculateRgbppSporeCellCapacity=t=>{const e=(0,s.packRawSporeData)(t).length;return BigInt(142+e+95+1)*u.CKB_UNIT};e.calculateCellOccupiedCapacity=t=>{const e=(0,a.remove0x)(t.outputData).length/2,r=(0,a.remove0x)(t.output.lock.args).length/2+1+32,n=t.output.type?(0,a.remove0x)(t.output.type.args).length/2+1+32:0;return BigInt(e+r+n+8)*u.CKB_UNIT};e.deduplicateList=t=>Array.from(new Set(t));e.isScriptEqual=(t,e)=>("string"==typeof t?(0,a.remove0x)(t):(0,a.remove0x)((0,c.serializeScript)(t)))===("string"==typeof e?(0,a.remove0x)(e):(0,a.remove0x)((0,c.serializeScript)(e)));e.checkCkbTxInputsCapacitySufficient=(t,e)=>n(void 0,void 0,void 0,(function*(){var r,n,o,s;let a=BigInt(0);try{for(var u,c=!0,f=i(t.inputs);!(r=(u=yield f.next()).done);c=!0){s=u.value,c=!1;const t=s,r=yield e.getLiveCell(t.previousOutput);if(!r)throw new l.NoLiveCellError("The cell with the specific out point is dead");a+=BigInt(r.output.capacity)}}catch(t){n={error:t}}finally{try{c||r||!(o=f.return)||(yield o.call(f))}finally{if(n)throw n.error}}return a>t.outputs.map((t=>BigInt(t.capacity))).reduce(((t,e)=>t+e),BigInt(0))}))},93339:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reverseHex=e.hexToUtf8=e.utf8ToHex=e.leToU128=e.u128ToLe=e.u64ToLe=e.leToU32=e.u32ToLeHex=e.u32ToLe=e.u32ToBe=e.u16ToLe=e.u8ToHex=e.append0x=e.remove0x=void 0;const n=r(60720);e.remove0x=t=>t.startsWith("0x")?t.substring(2):t;e.append0x=t=>(null==t?void 0:t.startsWith("0x"))?t:`0x${t}`;const i=t=>Array.prototype.map.call(new Uint8Array(t),(t=>("00"+t.toString(16)).slice(-2))).join("");e.u8ToHex=t=>{const e=new ArrayBuffer(1);return new DataView(e).setUint8(0,t),i(e)};e.u16ToLe=t=>{const e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t,!0),i(e)};const o=(t,e)=>{const r=new ArrayBuffer(4);return new DataView(r).setUint32(0,Number(t),e),i(r)};e.u32ToBe=t=>o(t,!1);e.u32ToLe=t=>o(t,!0);e.u32ToLeHex=t=>{const r=(0,e.u32ToBe)(t),n=(0,e.reverseHex)(parseInt(r,16).toString(16));return(0,e.append0x)(parseInt(n,16).toString(16))};e.leToU32=t=>{const r=`0x${(0,n.hexToBytes)((0,e.append0x)(t)).reduceRight(((t,e)=>t+e.toString(16).padStart(2,"0")),"")}`;return parseInt(r,16)};e.u64ToLe=t=>{const r=t.toString(16).padStart(16,"0");return`${(0,e.u32ToLe)(`0x${r.slice(8)}`)}${(0,e.u32ToLe)(`0x${r.slice(0,8)}`)}`};e.u128ToLe=t=>{const r=t.toString(16).padStart(32,"0");return`${(0,e.u64ToLe)(BigInt(`0x${r.slice(16)}`))}${(0,e.u64ToLe)(BigInt(`0x${r.slice(0,16)}`))}`};e.leToU128=t=>{const r=`0x${(0,n.hexToBytes)((0,e.append0x)(t)).reduceRight(((t,e)=>t+e.toString(16).padStart(2,"0")),"")}`;return BigInt(r)};e.utf8ToHex=t=>{let e=t.trim();return e.startsWith("0x")||(e=(0,n.bytesToHex)((new TextEncoder).encode(e))),e};e.hexToUtf8=t=>{let e=t.trim();try{e=(new TextDecoder).decode((0,n.hexToBytes)(e))}catch(t){console.error("hexToUtf8 error:",t)}return e};e.reverseHex=t=>(0,n.bytesToHex)((0,n.hexToBytes)((0,e.append0x)(t)).reverse())},10090:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(96642),e),i(r(93339),e),i(r(59767),e),i(r(70213),e),i(r(727),e),i(r(78536),e)},70213:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRgbppCapacitySufficientForChange=e.throwErrorWhenRgbppCellsInvalid=e.throwErrorWhenTxInputsExceeded=e.calculateRgbppTokenInfoSize=e.encodeRgbppTokenInfo=e.estimateWitnessSize=e.buildSpvClientCellDep=e.transformSpvProof=e.isRgbppLockOrBtcTimeLock=e.isBtcTimeLockCell=e.isRgbppLockCellIgnoreChain=e.isRgbppLockCell=e.replaceLockArgsWithRealBtcTxId=e.compareInputs=e.buildPreLockArgs=e.buildRgbppLockArgs=e.btcTxIdFromBtcTimeLockArgs=e.lockScriptFromBtcTimeLockArgs=e.calculateCommitment=e.genBtcTimeLockScript=e.genBtcTimeLockArgs=e.genRgbppLockScript=void 0;const n=r(71312),i=r(93339),o=r(83910),s=r(60720),a=r(47830),u=r(59763),c=r(60875),f=r(30464),l=r(96642),d=r(5785),h=r(59767);e.genRgbppLockScript=(t,e,r)=>Object.assign(Object.assign({},(0,o.getRgbppLockScript)(e,r)),{args:(0,i.append0x)(t)});e.genBtcTimeLockArgs=(t,e,r)=>{const n=c.blockchain.Byte32.pack((0,i.reverseHex)(e)),o=u.Script.unpack((0,s.serializeScript)(t));return(0,s.bytesToHex)(a.BTCTimeLock.pack({lockScript:o,after:r,btcTxid:n}))};e.genBtcTimeLockScript=(t,r,n)=>{const i=(0,e.genBtcTimeLockArgs)(t,o.RGBPP_TX_ID_PLACEHOLDER,o.BTC_JUMP_CONFIRMATION_BLOCKS);return Object.assign(Object.assign({},(0,o.getBtcTimeLockScript)(r,n)),{args:i})};e.calculateCommitment=t=>{const e=n.sha256.create();e.update((0,s.hexToBytes)((0,i.utf8ToHex)("RGB++")));e.update([0,0]);const{inputs:r,outputs:o,outputsData:a}=t;if(r.length>255||o.length>255)throw new d.InputsOrOutputsLenError("The inputs or outputs length of RGB++ CKB virtual tx cannot be greater than 255");e.update([r.length,o.length]);for(const t of r)e.update((0,s.hexToBytes)((0,s.serializeOutPoint)(t.previousOutput)));for(let t=0;t<o.length;t++){const r=o[t],n=a[t];e.update((0,s.hexToBytes)((0,s.serializeOutput)(r)));const u=(0,i.u32ToLe)((0,i.remove0x)(n).length/2);e.update((0,s.hexToBytes)((0,i.append0x)(u))),e.update((0,s.hexToBytes)(n))}return(0,n.sha256)(e.array())};e.lockScriptFromBtcTimeLockArgs=t=>{const{lockScript:e}=a.BTCTimeLock.unpack((0,i.append0x)(t));return Object.assign(Object.assign({},e),{args:f.bytes.hexify(c.blockchain.Bytes.unpack(e.args))})};e.btcTxIdFromBtcTimeLockArgs=t=>{const e=a.BTCTimeLock.unpack((0,i.append0x)(t));return(0,i.reverseHex)((0,i.append0x)(e.btcTxid))};e.buildRgbppLockArgs=(t,e)=>`0x${(0,i.u32ToLe)(t)}${(0,i.remove0x)((0,i.reverseHex)(e))}`;e.buildPreLockArgs=t=>(0,e.buildRgbppLockArgs)(t,o.RGBPP_TX_ID_PLACEHOLDER);e.compareInputs=(t,e)=>t.output.lock.args<e.output.lock.args?-1:t.output.lock.args>e.output.lock.args?1:0;e.replaceLockArgsWithRealBtcTxId=(t,e)=>{const r=(0,i.remove0x)(t).length;if(r<72)throw new Error("Rgbpp lock args or BTC time lock args length is invalid");return`0x${(0,i.remove0x)(t).substring(0,r-64)}${(0,i.remove0x)((0,i.reverseHex)(e))}`};const p=["Testnet3","Signet"],y=(t,e)=>t.codeHash===e.codeHash&&t.hashType===e.hashType;e.isRgbppLockCell=(t,e)=>e?y(t.lock,(0,o.getRgbppLockScript)(e)):p.some((r=>y(t.lock,(0,o.getRgbppLockScript)(e,r))));e.isRgbppLockCellIgnoreChain=t=>(0,e.isRgbppLockCell)(t,!0)||(0,e.isRgbppLockCell)(t,!1);e.isBtcTimeLockCell=(t,e)=>e?y(t.lock,(0,o.getBtcTimeLockScript)(e)):p.some((r=>y(t.lock,(0,o.getBtcTimeLockScript)(e,r))));e.isRgbppLockOrBtcTimeLock=(t,e)=>e?y(t,(0,o.getRgbppLockScript)(e))||y(t,(0,o.getBtcTimeLockScript)(e)):p.flatMap((t=>[(0,o.getRgbppLockScript)(e,t),(0,o.getBtcTimeLockScript)(e,t)])).some((e=>y(e,t)));e.transformSpvProof=t=>(0,l.toCamelcase)(t);e.buildSpvClientCellDep=t=>({outPoint:t,depType:"code"});e.estimateWitnessSize=t=>{const e=new Set(t).size;return o.RGBPP_TX_WITNESS_MAX_SIZE*e};e.encodeRgbppTokenInfo=t=>{const e=(0,i.u8ToHex)(t.decimal),r=(0,i.remove0x)((0,i.utf8ToHex)(t.name)),n=(0,i.u8ToHex)(r.length/2),o=(0,i.remove0x)((0,i.utf8ToHex)(t.symbol));return`0x${e}${n}${r}${(0,i.u8ToHex)(o.length/2)}${o}`};e.calculateRgbppTokenInfoSize=t=>{const r=(0,e.encodeRgbppTokenInfo)(t);return BigInt((0,i.remove0x)(r).length/2)};e.throwErrorWhenTxInputsExceeded=t=>{if(t>o.RGBPP_TX_INPUTS_MAX_LENGTH)throw new d.RgbppCkbTxInputsExceededError(`Please ensure the tx inputs do not exceed ${o.RGBPP_TX_INPUTS_MAX_LENGTH}`)};e.throwErrorWhenRgbppCellsInvalid=(t,e,r)=>{if(!t||0===t.length)throw new d.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");const n=t.filter((t=>!!t.output.type));if(0===n.length)throw new d.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");if(n.some((t=>t.output.type&&!(0,h.isUDTTypeSupported)(t.output.type,r))))throw new d.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to xUDT and other type cells at the same time");if(!n.some((t=>(0,h.isScriptEqual)(t.output.type,e))))throw new d.NoRgbppLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args")};e.isRgbppCapacitySufficientForChange=(t,e)=>t>e+((0,h.calculateRgbppCellCapacity)()-o.CKB_UNIT)},727:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throwErrorWhenSporeCellsInvalid=e.generateSporeTransferCoBuild=e.generateSporeCreateCoBuild=e.generateClusterCreateCoBuild=e.generateSporeId=e.generateClusterId=void 0;const n=r(60720),i=r(13972),o=r(93339),s=r(5785),a=r(59767);e.generateClusterId=(t,e)=>{const r=(0,n.hexToBytes)((0,n.serializeInput)(t)),i=(0,n.blake2b)(32,null,null,n.PERSONAL);return i.update(r),i.update((0,n.hexToBytes)(`0x${(0,o.u64ToLe)(BigInt(e))}`)),`0x${i.digest("hex")}`};e.generateSporeId=(t,r)=>(0,e.generateClusterId)(t,r);e.generateClusterCreateCoBuild=(t,e)=>{const r={cellOutput:t,data:e},{actions:n}=(0,i.assembleCreateClusterAction)(r);return(0,i.assembleCobuildWitnessLayout)(n)};e.generateSporeCreateCoBuild=({sporeOutputs:t,sporeOutputsData:e,clusterCell:r,clusterOutputCell:n})=>{if(t.length!==e.length)throw new Error("The length of spore outputs and spore cell data are not same");let o=[];const s={cellOutput:r.output,data:r.outputData},a={cellOutput:n,data:r.outputData},{actions:u}=(0,i.assembleTransferClusterAction)(s,a);o=o.concat(u);for(let r=0;r<t.length;r++){const n={cellOutput:t[r],data:e[r]},{actions:s}=(0,i.assembleCreateSporeAction)(n);o=o.concat(s)}return(0,i.assembleCobuildWitnessLayout)(o)};e.generateSporeTransferCoBuild=(t,e)=>{if(t.length!==e.length)throw new Error("The length of spore input cells and spore output cells are not same");let r=[];for(let n=0;n<t.length;n++){const o=t[n],s="outputData"in o?o.outputData:o.data.content,a={cellOutput:t[n].output,data:s},u={cellOutput:e[n],data:s},{actions:c}=(0,i.assembleTransferSporeAction)(a,u);r=r.concat(c)}return(0,i.assembleCobuildWitnessLayout)(r)};e.throwErrorWhenSporeCellsInvalid=(t,e,r)=>{if(!t||0===t.length)throw new s.NoRgbppLiveCellError("No spore rgbpp cells found with the spore rgbpp lock args");if(t.length>1)throw new s.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to multiple CKB cells");const n=t[0];if(!n.output.type)throw new s.RgbppSporeTypeMismatchError("The cell with the rgbpp lock args has no spore asset");if(!(0,a.isSporeTypeSupported)(n.output.type,r))throw new s.RgbppSporeTypeMismatchError("The cell type is not the supported spore type script");if(!(0,a.isScriptEqual)(n.output.type,e))throw new s.RgbppSporeTypeMismatchError("The spore cell type with the rgbpp lock args does not match")}},22495:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},29365:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WitnessArgs=e.UncleBlockVec=e.UncleBlock=e.TransactionVec=e.Transaction=e.ScriptOpt=e.Script=e.RawTransaction=e.RawHeader=e.ProposalShortIdVec=e.ProposalShortId=e.OutPoint=e.Header=e.HashType=e.DepType=e.CellbaseWitness=e.CellOutputVec=e.CellOutput=e.CellInputVec=e.CellInput=e.CellDepVec=e.CellDep=e.BytesVec=e.BytesOptVec=e.BytesOpt=e.Bytes=e.Byte32Vec=e.Byte32=e.BlockV1=e.Block=e.BaseHeader=void 0,e.WitnessArgsOf=x,e.createFixedHexBytesCodec=b,e.deTransformHeaderCodecType=et,e.deTransformTransactionCodecType=Z,e.transformHeaderCodecType=tt,e.transformTransactionCodecType=J;var n=r(30464),i=r(70071);function o(t){return{...t,unpack:e=>i.BI.from(t.unpack(e)).toHexString()}}const s=o(n.number.Uint8),a=o(n.number.Uint32LE),u=o(n.number.Uint64LE),c=o(n.number.Uint128LE),{byteVecOf:f,option:l,table:d,vector:h,struct:p}=n.molecule,{bytify:y,hexify:g}=n.bytes;function b(t){return(0,n.createFixedBytesCodec)({byteLength:t,pack:t=>y(t),unpack:t=>g(t)})}const m=f({pack:y,unpack:g});e.Bytes=m;const v=l(m);e.BytesOpt=v;const _=h(m);e.BytesVec=_;const w=h(v);e.BytesOptVec=w;const S=b(32);e.Byte32=S;const A=h(S);function x(t){return d({lock:l(f(t.lock)),inputType:l(f(t.inputType)),outputType:l(f(t.outputType))},["lock","inputType","outputType"])}e.Byte32Vec=A;const E=(0,n.createBytesCodec)({pack:y,unpack:g}),k=x({lock:E,inputType:E,outputType:E});e.WitnessArgs=k;const I=(0,n.createFixedBytesCodec)({byteLength:1,pack:t=>{if("type"===t)return n.number.Uint8.pack(1);if("data"===t)return n.number.Uint8.pack(0);if("data1"===t)return n.number.Uint8.pack(2);if("data2"===t)return n.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${t}`)},unpack:t=>{const e=n.number.Uint8.unpack(t);if(1===e)return"type";if(0===e)return"data";if(2===e)return"data1";if(4===e)return"data2";throw new Error(`Invalid hash type: ${e}`)}});e.HashType=I;const T=(0,n.createFixedBytesCodec)({byteLength:1,pack:t=>{if("code"===t)return s.pack(0);if("depGroup"===t)return s.pack(1);throw new Error(`Invalid dep type: ${t}`)},unpack:t=>{const e=n.number.Uint8.unpack(t);if(0===e)return"code";if(1===e)return"depGroup";throw new Error(`Invalid dep type: ${e}`)}});e.DepType=T;const C=d({codeHash:S,hashType:I,args:m},["codeHash","hashType","args"]);e.Script=C;const O=l(C);e.ScriptOpt=O;const P=p({txHash:S,index:a},["txHash","index"]);e.OutPoint=P;const M=p({since:u,previousOutput:P},["since","previousOutput"]);e.CellInput=M;const B=h(M);e.CellInputVec=B;const R=d({capacity:u,lock:C,type:O},["capacity","lock","type"]);e.CellOutput=R;const j=h(R);e.CellOutputVec=j;const D=p({outPoint:P,depType:T},["outPoint","depType"]);e.CellDep=D;const L=h(D);e.CellDepVec=L;const U=d({version:a,cellDeps:L,headerDeps:A,inputs:B,outputs:j,outputsData:_},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]);e.RawTransaction=U;const N=d({raw:U,witnesses:_},["raw","witnesses"]),H=(0,n.createBytesCodec)({pack:t=>N.pack(J(t)),unpack:t=>Z(N.unpack(t))});e.Transaction=H;const F=h(H);e.TransactionVec=F;const z=p({version:a,compactTarget:a,timestamp:u,number:u,epoch:u,parentHash:S,transactionsRoot:S,proposalsHash:S,extraHash:S,dao:S},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]);e.RawHeader=z;const K=p({raw:z,nonce:c},["raw","nonce"]);e.BaseHeader=K;const q=(0,n.createBytesCodec)({pack:t=>K.pack(tt(t)),unpack:t=>et(K.unpack(t))});e.Header=q;const W=b(10);e.ProposalShortId=W;const $=h(W);e.ProposalShortIdVec=$;const V=d({header:q,proposals:$},["header","proposals"]);e.UncleBlock=V;const G=h(V);e.UncleBlockVec=G;const Q=d({header:q,uncles:G,transactions:F,proposals:$},["header","uncles","transactions","proposals"]);e.Block=Q;const X=d({header:q,uncles:G,transactions:F,proposals:$,extension:m},["header","uncles","transactions","proposals","extension"]);e.BlockV1=X;const Y=d({lock:C,message:m},["lock","message"]);function J(t){return{raw:{version:t.version,cellDeps:t.cellDeps,headerDeps:t.headerDeps,inputs:t.inputs,outputs:t.outputs,outputsData:t.outputsData},witnesses:t.witnesses}}function Z(t){return{cellDeps:t.raw.cellDeps.map((t=>({outPoint:{txHash:t.outPoint.txHash,index:t.outPoint.index},depType:t.depType}))),headerDeps:t.raw.headerDeps,inputs:t.raw.inputs.map((t=>({previousOutput:{txHash:t.previousOutput.txHash,index:t.previousOutput.index},since:t.since}))),outputs:t.raw.outputs.map((t=>({capacity:t.capacity,lock:t.lock,type:t.type}))),outputsData:t.raw.outputsData,version:t.raw.version,witnesses:t.witnesses}}function tt(t){return{raw:{timestamp:t.timestamp,number:t.number,epoch:t.epoch,compactTarget:Number(t.compactTarget),dao:t.dao,parentHash:t.parentHash,proposalsHash:t.proposalsHash,transactionsRoot:t.transactionsRoot,extraHash:t.extraHash,version:t.version},nonce:t.nonce}}function et(t){return{timestamp:t.raw.timestamp,number:t.raw.number,epoch:t.raw.epoch,compactTarget:t.raw.compactTarget,dao:t.raw.dao,parentHash:t.raw.parentHash,proposalsHash:t.raw.proposalsHash,transactionsRoot:t.raw.transactionsRoot,extraHash:t.raw.extraHash,version:t.raw.version,nonce:t.nonce,hash:""}}e.CellbaseWitness=Y},52986:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCellMatchQueryOptions=function(t,{lock:e,type:r,argsLen:s=-1,data:a="any",fromBlock:u,toBlock:c}){let f=null,l=null;e&&!o(e)?f={script:e,argsLen:s}:e&&(f=e,e.argsLen||(f.argsLen=s));r&&"empty"===r?l=r:r&&"object"==typeof r&&!o(r)?l={script:r,argsLen:s}:r&&"object"==typeof r&&o(r)&&(l=r,r.argsLen||(l.argsLen=s));if(f&&f.script&&-1===f.argsLen&&!new n.ScriptValue(t.cellOutput.lock,{validate:!1}).equals(new n.ScriptValue(f.script,{validate:!1})))return!1;if(f&&f.script&&"any"===f.argsLen){const e=t.cellOutput.lock;if(e.codeHash!==f.script.codeHash||e.hashType!==f.script.hashType||!e.args.startsWith(f.script.args))return!1}if(f&&f.script&&"number"==typeof f.argsLen&&f.argsLen>=0){const e=2*f.argsLen+2,r=f.script.args.length,n=Math.min(e,r),i=t.cellOutput.lock;if(i.args.length!==e)return!1;if(i.codeHash!==f.script.codeHash||i.hashType!==f.script.hashType||i.args.slice(0,n)!==f.script.args.slice(0,n))return!1}if(l&&"empty"===l&&t.cellOutput.type)return!1;if(l&&"object"==typeof l&&(!t.cellOutput.type||!new n.ScriptValue(t.cellOutput.type,{validate:!1}).equals(new n.ScriptValue(l.script,{validate:!1}))))return!1;if(a&&"any"!==a&&t.data!==a)return!1;if(u&&t.blockNumber&&i.BI.from(t.blockNumber).lt(i.BI.from(u)))return!1;if(c&&t.blockNumber&&i.BI.from(t.blockNumber).gt(i.BI.from(c)))return!1;return!0},e.isScriptWrapper=o;var n=r(48233),i=r(70071);function o(t){return null!==t&&void 0!==t.script}},60875:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};e.values=e.utils=e.since=e.logger=e.indexer=e.helpers=e.blockchain=void 0;var i=p(r(48233));e.values=i;var o=p(r(50646));e.utils=o;var s=p(r(58525));e.since=s;var a=p(r(52986));e.helpers=a;var u=p(r(26704));e.indexer=u,Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var c=p(r(72395));e.logger=c;var f=p(r(29365));e.blockchain=f;var l=r(46970);Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))}));var d=r(22495);function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(h=function(t){return t?r:e})(t)}function p(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=h(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===d[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))}))},26704:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.TransactionCollector=e.Indexer=void 0;var n=r(32932),i=r(50646),o=r(52986);e.Indexer=class{};class s{constructor(t,{lock:e,type:r,argsLen:s=-1,fromBlock:a,toBlock:u,order:c="asc",skip:f}={},{skipMissing:l=!1,includeStatus:d=!0}={}){if(!(e||r&&"empty"!==r))throw new Error("Either lock or type script must be provided!");if(e&&!(0,o.isScriptWrapper)(e)?(n.validators.ValidateScript(e),this.lock={script:e,ioType:"both",argsLen:s}):e&&e.script&&(n.validators.ValidateScript(e.script),this.lock=e,e.argsLen||(this.lock.argsLen=s),e.ioType||(this.lock.ioType="both")),"empty"===r?this.type=r:r&&!(0,o.isScriptWrapper)(r)?(n.validators.ValidateScript(r),this.type={script:r,ioType:"both",argsLen:s}):r&&r.script&&(n.validators.ValidateScript(r.script),this.type=r,r.argsLen||(this.type.argsLen=s),r.ioType||(this.type.ioType="both")),a&&(0,i.assertHexadecimal)("fromBlock",a),u&&(0,i.assertHexadecimal)("toBlock",u),"asc"!==c&&"desc"!==c)throw new Error("Order must be either asc or desc!");this.indexer=t,this.skipMissing=l,this.includeStatus=d,this.fromBlock=a,this.toBlock=u,this.order=c,this.skip=f,this.rpc=t.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const t=await this.getTransactionHashes();for(const e of t){const t=await this.rpc.get_transaction(e);if(!this.skipMissing&&!t)throw new Error(`Transaction ${e} is missing!`);this.includeStatus?yield t:yield t.transaction}}}e.TransactionCollector=s;var a={TransactionCollector:s};e.default=a},72395:(t,e)=>{"use strict";function r(t,e){const r=`[${t}] ${e}`;return"error"===t||"warn"===t?console.warn(r):void console.log(`[${t}] ${e}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLogger=r,e.deprecated=function(t){r("deprecated",t)}},46970:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},58525:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateAbsoluteEpochSince=a,e.generateHeaderEpoch=u,e.generateSince=o,e.maximumAbsoluteEpochSince=function(...t){const e=t.map((t=>c(t))),r=Math.max(...e.map((t=>t.number))),i=e.filter((t=>t.number===r));let o=i[0];for(let t=1;t<i.length;++t){const e=i[t];n.BI.from(e.index).mul(o.length).gte(n.BI.from(o.index).mul(e.length))&&(o=e)}return a(o)},e.parseAbsoluteEpochSince=c,e.parseEpoch=s,e.parseSince=function(t){const e=i(t);return"epochNumber"===e.type?e:{...e,value:e.value.toBigInt()}},e.parseSinceCompatible=i,e.validateAbsoluteEpochSince=f,e.validateSince=function(t,e,r){const{relative:o,type:a,value:u}=i(t);if(o){if("epochNumber"===a){const t=s(e.epoch),i=s(r.epoch),o={number:n.BI.from(u.number).add(i.number),index:n.BI.from(u.index).mul(i.length).add(n.BI.from(i.index).mul(u.length)),length:n.BI.from(u.length).mul(i.length)};return 0===u.length&&0!==i.length?(o.index=n.BI.from(i.index),o.length=n.BI.from(i.length)):0===i.length&&0!==u.length&&(o.index=n.BI.from(u.index),o.length=n.BI.from(u.length)),!n.BI.from(o.length).eq(0)&&n.BI.from(o.index).gte(o.length)&&(o.number=o.index.div(o.length).add(o.number),o.index=o.index.mod(o.length)),n.BI.from(o.number).lt(t.number)||n.BI.from(o.number).eq(t.number)&&n.BI.from(o.index).mul(t.length).lte(n.BI.from(t.index).mul(o.length))}if("blockNumber"===a)return n.BI.from(u).add(r.blockNumber).lte(e.blockNumber);if("blockTimestamp"===a){if(!e.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return n.BI.from(u).mul(1e3).add(r.median_timestamp).lte(e.median_timestamp)}}else{if("epochNumber"===a)return f(t,e.epoch);if("blockNumber"===a)return n.BI.from(u).lte(e.blockNumber);if("blockTimestamp"===a){if(!e.median_timestamp)throw new Error("Must provide tip median_timestamp!");return n.BI.from(u).mul(1e3).lte(e.median_timestamp)}}return!1};var n=r(70071);function i(t){const e=n.BI.from(t),r=e.shr(56),i=r.shr(5).and("0b11");let o,s;if(i.eq(0))o="blockNumber",s=e.and("0xFFFFFFFFFFFFFF");else if(i.eq(1))o="epochNumber",s={length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()};else{if(!i.eq(2))throw new Error("Invalid metric flag!");o="blockTimestamp",s=e.and("0xFFFFFFFFFFFFFF")}return{relative:!r.and("0x80").eq(0),type:o,value:s}}function o({relative:t,type:e,value:r}){let i,o=n.BI.from(0);return t&&(o=o.add(128)),"epochNumber"===e?o=o.add(32):"blockTimestamp"===e&&(o=o.add(64)),i=(0,n.isBIish)(r)?n.BI.from(r):"object"==typeof r?u(r):n.BI.from(r),l(o.shl(56).add(i))}function s(t){const e=n.BI.from(t);return{length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()}}function a({length:t,index:e,number:r}){return o({relative:!1,type:"epochNumber",value:{length:t,index:e,number:r}})}function u({length:t,index:e,number:r}){return l(n.BI.from(t).shl(40).add(n.BI.from(e).shl(24)).add(r))}function c(t){const{relative:e,type:r,value:n}=i(t);if(!1!==e||"epochNumber"!==r)throw new Error("Since format error!");return n}function f(t,e){const r=i(t).value,o=s(e);return n.BI.from(r.number).lt(o.number)||n.BI.from(r.number).eq(o.number)&&n.BI.from(r.index).mul(o.length).lte(n.BI.from(o.index).mul(r.length))}function l(t){return"0x"+t.toString(16)}},50646:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.CKBHasher=void 0,e.assertHexString=function(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)},e.assertHexadecimal=A,e.ckbHash=g,e.computeScriptHash=function(t){return g(c.Script.pack(t))},e.deepCamel=k,e.deepCamelizeTransaction=function(t){return I(k(t))},e.generateTypeIdScript=function(t,e="0x0"){c.CellInput.pack(t),A("outputIndex",e);const r=function(t,e){const r=c.CellInput.pack(t),n=a.bytes.hexify(a.number.Uint64LE.pack(e)),i=new y;return i.update(r),i.update(n),i.digestHex()}(t,e);return{codeHash:x,hashType:"type",args:r}},e.hashCode=function(t){return(0,s.xxHash32)(t,0)},e.isDeepEqual=function(t,e){return(0,o.default)(t,e)},e.readBigUInt128LE=function(t){return S(t).toBigInt()},e.readBigUInt128LECompatible=S,e.readBigUInt64LE=function(t){return m(t).toBigInt()},e.readBigUInt64LECompatible=m,e.toBigUInt128LE=function(t){return w(t)},e.toBigUInt128LECompatible=w,e.toBigUInt64LE=function(t){return b(t)},e.toBigUInt64LECompatible=b;var i=l(r(72206)),o=l(r(8142)),s=r(52290),a=r(30464),u=r(70071),c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=f(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,r&&r.set(t,n);return n}(r(29365));function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(f=function(t){return t?r:e})(t)}function l(t){return t&&t.__esModule?t:{default:t}}const{bytify:d,hexify:h,bytifyRawString:p}=a.bytes;class y{constructor(t={}){const{outLength:e=32}=t;this.outLength=e,this.hasher=(0,i.default)(e,void 0,void 0,p("ckb-default-hash"))}update(t){return this.hasher.update(d(t)),this}digestHex(){const t=new Uint8Array(this.outLength);return this.hasher.digest(t),h(t.buffer)}}function g(t){const e=new y;return e.update(a.bytes.bytify(t)),e.digestHex()}function b(t){t=u.BI.from(t);const e=n.alloc(8);return e.writeUInt32LE(t.and("0xffffffff").toNumber(),0),t=t.shr(32),e.writeUInt32LE(t.and("0xffffffff").toNumber(),4),`0x${e.toString("hex")}`}function m(t){const e=n.from(t.slice(2),"hex");return u.BI.from(e.readUInt32LE()).add(u.BI.from(e.readUInt32LE(4)).shl(32))}e.CKBHasher=y;const v=u.BI.from(0),_=u.BI.from("340282366920938463463374607431768211455");function w(t){if((t=u.BI.from(t)).lt(v))throw new Error(`u128 ${t} too small`);if(t.gt(_))throw new Error(`u128 ${t} too large`);const e=n.alloc(16);return e.writeUInt32LE(t.and(4294967295).toNumber(),0),t=t.shr(32),e.writeUInt32LE(t.and(4294967295).toNumber(),4),t=t.shr(32),e.writeUInt32LE(t.and(4294967295).toNumber(),8),t=t.shr(32),e.writeUInt32LE(t.and(4294967295).toNumber(),12),`0x${e.toString("hex")}`}function S(t){if(t.length<34||!t.startsWith("0x"))throw new Error("leHex format error");const e=n.from(t.slice(2,34),"hex");return u.BI.from(e.readUInt32LE(0)).shl(0).add(u.BI.from(e.readUInt32LE(4)).shl(32)).add(u.BI.from(e.readUInt32LE(8)).shl(64)).add(u.BI.from(e.readUInt32LE(12)).shl(96))}function A(t,e){if(!/^0x(0|[0-9a-fA-F]+)$/.test(e))throw new Error(`${t} must be a hexadecimal!`)}const x="0x00000000000000000000000000000000000000000000000000545950455f4944";function E(t){return t.replace(/([-_][a-z])/gi,(t=>t.toUpperCase().replace("-","").replace("_","")))}function k(t){if("[object Array]"===Object.prototype.toString.call(t))return 0===t.length?t:t.map((t=>k(t)));const e={};if("[object Object]"===Object.prototype.toString.call(t)){for(const r in t){const n=t[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?e[E(r)]=k(n):e[E(r)]=n}return e}return t}function I(t){if("[object Array]"===Object.prototype.toString.call(t))return 0===t.length?t:t.map((t=>I(t)));const e={};if("[object Object]"===Object.prototype.toString.call(t)){for(const r in t){const n=t[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?e[r]=I(n):e[r]="dep_group"===n?"depGroup":n}return e}return t}},48233:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionValue=e.ScriptValue=e.RawTransactionValue=e.OutPointValue=void 0;var i=r(52290),o=r(50646),s=r(30464),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,r&&r.set(t,n);return n}(r(29365));function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(u=function(t){return t?r:e})(t)}const{hexify:c}=s.bytes;class f{constructor(t){this.buffer=t}equals(t){return c(this.buffer)===c(t.buffer)}hashCode(){return(0,i.xxHash32)(n.from(this.buffer),0)}hash(){return(0,o.ckbHash)(this.buffer)}}e.ScriptValue=class extends f{constructor(t,e={}){super(a.Script.pack(t))}};e.OutPointValue=class extends f{constructor(t,e={}){super(a.OutPoint.pack(t))}};e.RawTransactionValue=class extends f{constructor(t,e={}){super(a.RawTransaction.pack(t))}};e.TransactionValue=class extends f{constructor(t,e={}){super(a.Transaction.pack(t))}}},70071:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ckbDecimals=e.BI=void 0,e.formatUnit=function(t,e){const r=d(e);return function(t,e){if(!h(e))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(e).fill("0").join("");t=s.from(t);const n=t.isNegative();n&&(t=t.mul(l));const i=t.div(r).toString();let o=i;if(r.length>1){let e=t.mod(r).toString();for(;e.length<r.length-1;)e="0"+e;e=e.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+e}n&&(o="-"+o);return o}(t,r)},e.isBIish=o,e.parseUnit=function(t,e){const r=d(e);return function(t,e){if(!h(e))throw new Error("decimal size must be a non-negative integer");if(!t.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(e).fill("0").join(""),n="-"===t.substring(0,1);n&&(t=t.substring(1));let i,o;const a=t.split(".");if(1===a.length)i=a[0],o="0";else{if(2!==a.length)throw new Error("too many decimal points (should not happen)");i=a[0],o=a[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const u=s.from(i),c=s.from(o);let f=u.mul(r).add(c);n&&(f=f.mul(l));return f}(t,r)},e.toJSBI=u;var n,i=(n=r(75951))&&n.__esModule?n:{default:n};function o(t){return null!==t&&("number"==typeof t&&t%1==0||"string"==typeof t&&(!!t.match(/^0x(0|[0-9a-fA-F]+)$/)||!!t.match(/^-?[0-9]+$/))||"bigint"==typeof t||s.isBI(t))}class s{constructor(t){this.jsbi=t,this._isBI=!0}add(t){return a(i.default.add(this.jsbi,u(t)))}sub(t){return a(i.default.subtract(this.jsbi,u(t)))}div(t){return a(i.default.divide(this.jsbi,u(t)))}mul(t){return a(i.default.multiply(this.jsbi,u(t)))}mod(t){return a(i.default.remainder(this.jsbi,u(t)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,u(0))?a(this.jsbi):a(i.default.unaryMinus(this.jsbi))}pow(t){return a(i.default.exponentiate(this.jsbi,u(t)))}and(t){return a(i.default.bitwiseAnd(this.jsbi,u(t)))}or(t){return a(i.default.bitwiseOr(this.jsbi,u(t)))}xor(t){return a(i.default.bitwiseXor(this.jsbi,u(t)))}not(){return a(i.default.bitwiseNot(this.jsbi))}mask(t){const e=u(t);if(i.default.lessThan(e,u(0))||i.default.lessThan(this.jsbi,u(0)))throw new Error("mask works only with positive numbers");const r=u(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,e))return a(this.jsbi);{const t=i.default.leftShift(i.default.signedRightShift(this.jsbi,e),e);return a(i.default.bitwiseXor(this.jsbi,t))}}shl(t){return a(i.default.leftShift(this.jsbi,u(t)))}shr(t){return a(i.default.signedRightShift(this.jsbi,u(t)))}eq(t){return i.default.equal(this.jsbi,u(t))}lt(t){return i.default.lessThan(this.jsbi,u(t))}lte(t){return i.default.lessThanOrEqual(this.jsbi,u(t))}gt(t){return i.default.greaterThan(this.jsbi,u(t))}gte(t){return i.default.greaterThanOrEqual(this.jsbi,u(t))}isNegative(){return i.default.lessThan(this.jsbi,u(0))}isZero(){return i.default.equal(this.jsbi,u(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(t){throw new Error("this platform does not support BigInt")}}toString(t){return t=t||10,this.jsbi.toString(t)}toHexString(){return i.default.lessThan(this.jsbi,u(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(t){if(t instanceof s)return t;if(o(t))return a(u(t));if(t instanceof i.default)return a(u(t.toString()));throw new Error(`invalid type: ${t} can't be converted into BI`)}static isBI(t){return function(t){return null!=t&&"object"==typeof t}(t)&&!!t._isBI}}function a(t){return new s(t)}function u(t){return"number"==typeof t||"string"==typeof t?i.default.BigInt(t):i.default.BigInt(t.toString())}e.BI=s;const c=["shannon","ckb"],f=8;e.ckbDecimals=f;const l=s.from(-1);function d(t){let e=0;if("string"==typeof t){if(-1===c.indexOf(t))throw new Error(`invalid unit name, supported names are ${c.join(", ")}`);"ckb"===t&&(e=f)}else{if(!h(t))throw new Error("unit of integer must be a non-negative integer");e=t}return e}function h(t){return Number.isInteger(t)&&t>=0}},41055:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBytesCodec=o,e.createFixedBytesCodec=function(t){const e=t.byteLength;return{__isFixedCodec__:!0,byteLength:e,...o({pack:r=>{const i=t.pack(r);return(0,n.assertBufferLength)(i,e),i},unpack:r=>((0,n.assertBufferLength)(r,e),t.unpack(r))})}},e.isFixedCodec=function(t){return(0,n.isObjectLike)(t)&&!!t.__isFixedCodec__};var n=r(28921),i=r(53971);function o(t){return{pack:e=>t.pack(e),unpack:e=>t.unpack((0,i.bytify)(e))}}},53971:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bytify=c,e.bytifyRawString=function(t){(0,n.assertUtf8String)(t);const e=new ArrayBuffer(t.length),r=new DataView(e);for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);r.setUint8(e,n)}return new Uint8Array(e)},e.concat=function(...t){const e=t.map(c),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);let i=0;return e.forEach((t=>{n.set(t,i),i+=t.length})),n},e.equal=function(t,e){const r=c(t),n=c(e);return function(t,e){if(t.length!==e.length)return!1;for(let r=t.length;-1<r;r-=1)if(t[r]!==e[r])return!1;return!0}(r,n)},e.hexify=function(t){let e="";const r=c(t);for(let t=0;t<r.length;t++)e+=f[r[t]];return"0x"+e};var n=r(28921);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0);function c(t){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return Uint8Array.from(t);if("string"==typeof t)return function(t){(0,n.assertHexString)(t);const e=Uint8Array.from({length:t.length/2-1});for(let r=2,n=0;r<t.length;r+=2,n++){const c=t.charCodeAt(r),f=t.charCodeAt(r+1),l=c<=o?c-i:c<=a?c-s+10:c-u+10,d=f<=o?f-i:f<=a?f-s+10:f-u+10;e[n]=l<<4|d}return e}(t);if(Array.isArray(t))return function(t){for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(t)}(t);throw new Error(`Cannot convert ${t}`)}const f=Array.from({length:256}).map(((t,e)=>e.toString(16).padStart(2,"0")))},80754:(t,e)=>{"use strict";function r(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.CodecExecuteError=e.CodecBaseParseError=e.CODEC_OPTIONAL_PATH=void 0,e.isCodecExecuteError=function(t){return t instanceof Error&&t.name===o};const n="__lc_option__";e.CODEC_OPTIONAL_PATH=n;class i extends Error{constructor(t,e){super(t),this.expectedType=e}}e.CodecBaseParseError=i;const o="CodecExecuteError";class s extends Error{constructor(t){super(),r(this,"name",o),r(this,"keys",[]),this.origin=t}updateKey(t){this.keys.push(t),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var t;const e=this.keys.reduceRight(((t,e,r)=>t+(e=e===n?0===r?"?":"?.":"number"==typeof e?`[${e}]`:`.${e}`)),"input");return`Expect type ${this.origin.expectedType} at ${e} but got error: ${this.origin.message}\n    ${null===(t=this.origin.stack)||void 0===t?void 0:t.replace(/Error:.+?\n/,"")}\n    `}}e.CodecExecuteError=s},96296:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(e,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(e,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(e,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(4893)},4893:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createArrayCodec=function(t){return{pack:e=>e.map(((e,r)=>(0,n.trackCodeExecuteError)(r,(()=>t.pack(e))))),unpack:e=>e.map((e=>t.unpack(e)))}},e.createNullableCodec=function(t){return{pack:e=>null==e?e:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>t.pack(e))),unpack:e=>null==e?e:t.unpack(e)}},e.createObjectCodec=function(t){const e=Object.entries(t);return{pack:t=>{const r={};return e.forEach((([e,i])=>{Object.assign(r,{[e]:(0,n.trackCodeExecuteError)(e,(()=>i.pack(t[e])))})})),r},unpack:t=>{const r={};return e.forEach((([e,n])=>{Object.assign(r,{[e]:n.unpack(t[e])})})),r}}},e.enhancePack=function(t,e,r){return{pack:r=>e(t.pack(r)),unpack:e=>t.unpack(r(e))}};var n=r(28921),i=r(80754)},30464:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};e.bytes=void 0,Object.defineProperty(e,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(e,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(e,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),e.number=e.molecule=void 0;var i=r(41055),o=r(96296);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var s=f(r(53971));e.bytes=s;var a=f(r(632));e.number=a;var u=f(r(95901));function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}e.molecule=u},32989:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.byteArrayOf=a,e.byteOf=function(t){return a({...t,byteLength:1})},e.byteVecOf=function(t){return(0,o.createBytesCodec)({pack(e){const r=t.pack(e),n=s.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(e){(0,n.assertMinBufferLength)(e,4);const r=s.Uint32LE.unpack(e.slice(0,4));return(0,n.assertBufferLength)(e.slice(4),r),t.unpack(e.slice(4))}})};var n=r(28921),i=r(53971),o=r(41055),s=r(632);function a(t){const e=t.byteLength;return(0,o.createFixedBytesCodec)({byteLength:e,pack:e=>t.pack(e),unpack:e=>t.unpack(e)})}},95901:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(e,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(e,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(e,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(e,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(e,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(e,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(32989),i=r(11263)},11263:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.array=u,e.dynvec=d,e.fixvec=l,e.option=function(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createNullableCodec)(t);return null!=e?r.pack(e):Uint8Array.from([])},unpack(e){if(0!==e.byteLength)return t.unpack(e)}})},e.struct=function(t,e){f(t,e);const r=(0,a.createObjectCodec)(t);return(0,n.createFixedBytesCodec)({byteLength:e.reduce(((e,r)=>e+t[r].byteLength),0),pack(t){const n=r.pack(t);return e.reduce(((t,e)=>(0,o.concat)(t,n[e])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return e.forEach((e=>{const o=t[e],s=r.slice(i,i+o.byteLength);Object.assign(n,{[e]:o.unpack(s)}),i+=o.byteLength})),n}})},e.table=function(t,e){return f(t,e),(0,n.createBytesCodec)({pack(r){const n=4+4*e.length,s=(0,a.createObjectCodec)(t).pack(r),u=e.reduce(((t,e)=>{const r=s[e],n=i.Uint32LE.pack(t.offset);return{header:(0,o.concat)(t.header,n),body:(0,o.concat)(t.body,r),offset:t.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),c=i.Uint32LE.pack(u.header.byteLength+u.body.byteLength+4);return(0,o.concat)(c,u.header,u.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===e.length)return{};{const o=e.map(((t,e)=>i.Uint32LE.unpack(r.slice(4+4*e,8+4*e))));o.push(n);const s={};for(let n=0;n<o.length-1;n++){const i=o[n],a=o[n+1],u=e[n],c=t[u],f=r.slice(i,a);Object.assign(s,{[u]:c.unpack(f)})}return s}}})},e.union=function(t,e){if(f(t,Array.isArray(e)?e:Object.keys(e)),!Array.isArray(e)){const t=Object.values(e);if(t.length!==new Set(t).size)throw new Error(`Duplicated id in union: ${t.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(t),a=r.type,u=`Union(${n.join(" | ")})`;if("string"!=typeof a)throw new s.CodecBaseParseError("Invalid type in union, type must be a string",u);const c=Array.isArray(e)?e.indexOf(a):e[a];if(c<0)throw new s.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,u);const f=i.Uint32LE.pack(c),l=t[a].pack(r.value);return(0,o.concat)(f,l)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(e))return e[n];const t=Object.entries(e).find((([,t])=>t===n));return null==t?void 0:t[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${e} are allowed`);return{type:o,value:t[o].unpack(r.slice(4))}}})},e.vector=function(t){if((0,n.isFixedCodec)(t))return l(t);return d(t)};var n=r(41055),i=r(632),o=r(53971),s=r(80754),a=r(96296);function u(t,e){const r=(0,a.createArrayCodec)(t);return(0,n.createFixedBytesCodec)({byteLength:t.byteLength*e,pack(t){const e=r.pack(t);return(0,o.concat)(...e)},unpack(e){const r=[],n=t.byteLength;for(let i=0;i<e.byteLength;i+=n)r.push(t.unpack(e.slice(i,i+n)));return r}})}function c(t,e){return t.filter((t=>!e.includes(t)))}function f(t,e){const r=Object.keys(t),n=c(r,e),i=c(e,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function l(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createArrayCodec)(t);return(0,o.concat)(i.Uint32LE.pack(e.length),r.pack(e).reduce(((t,e)=>(0,o.concat)(t,e)),new ArrayBuffer(0)))},unpack(e){if(e.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${e.byteLength}`);const r=i.Uint32LE.unpack(e.slice(0,4));return u(t,r).unpack(e.slice(4))}})}function d(t){return(0,n.createBytesCodec)({pack(e){const r=(0,a.createArrayCodec)(t).pack(e).reduce(((t,e)=>{const r=i.Uint32LE.pack(t.offset);return{header:(0,o.concat)(t.header,r),body:(0,o.concat)(t.body,e),offset:t.offset+e.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*e.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(e){const r=i.Uint32LE.unpack(e.slice(0,4));if(r!==e.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${e.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(e.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((t,r)=>i.Uint32LE.unpack(e.slice(4+4*r,8+4*r))));o.push(r);const s=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],a=e.slice(n,i);s.push(t.unpack(a))}return s}}})}},632:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(21290);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))},21290:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(e,"BIish",{enumerable:!0,get:function(){return n.BIish}}),e.Uint8=e.Uint64LE=e.Uint64BE=e.Uint64=e.Uint512LE=e.Uint512BE=e.Uint512=e.Uint32LE=e.Uint32BE=e.Uint32=e.Uint256LE=e.Uint256BE=e.Uint256=e.Uint16LE=e.Uint16BE=e.Uint16=e.Uint128LE=e.Uint128BE=e.Uint128=void 0;var n=r(70071),i=r(41055),o=r(80754);function s(t,e=!1){const r=a(t,e);return{__isFixedCodec__:!0,byteLength:t,pack:t=>r.pack(t),unpack:t=>r.unpack(t).toNumber()}}const a=(t,e=!1)=>{const r=n.BI.from(1).shl(8*t).sub(1);return(0,i.createFixedBytesCodec)({byteLength:t,pack(i){let s=e?"LE":"BE";t<=1&&(s="");const a=`Uint${8*t}${s}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,a);let u=n.BI.from(i);!function(t,e,r,i){if((t=n.BI.from(t)).lt(e)||t.gt(r))throw new o.CodecBaseParseError(`Value must be between ${e.toString()} and ${r.toString()}, but got ${t.toString()}`,i)}(u,0,r,a);const c=new DataView(new ArrayBuffer(t));for(let r=0;r<t;r++)e?c.setUint8(r,u.and(255).toNumber()):c.setUint8(t-r-1,u.and(255).toNumber()),u=u.shr(8);return new Uint8Array(c.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<t;r++)o=e?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},u=s(1);e.Uint8=u;const c=s(2,!0);e.Uint16LE=c;const f=s(2);e.Uint16BE=f;const l=c;e.Uint16=l;const d=s(4,!0);e.Uint32LE=d;const h=s(4);e.Uint32BE=h;const p=d;e.Uint32=p;const y=a(8,!0);e.Uint64LE=y;const g=a(8);e.Uint64BE=g;const b=y;e.Uint64=b;const m=a(16,!0);e.Uint128LE=m;const v=a(16);e.Uint128BE=v;const _=m;e.Uint128=_;const w=a(32,!0);e.Uint256LE=w;const S=a(32);e.Uint256BE=S;const A=w;e.Uint256=A;const x=a(64,!0);e.Uint512LE=x;const E=a(64);e.Uint512BE=E;const k=x;e.Uint512=k},28921:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertBufferLength=function(t,e){if(t.byteLength!==e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be ${e}`)},e.assertHexDecimal=function(t,e){if(f(t),2===t.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=t.length;if("number"==typeof e&&r>2*e+2)throw new Error(`Invalid hex decimal length, should be less than ${e} bytes, got ${r/2-1} bytes`);l(t)},e.assertHexString=function(t,e){f(t);const r=t.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof e&&r!==2*e+2)throw new Error("Invalid hex string length, not match with byteLength!");l(t)},e.assertMinBufferLength=function(t,e){if(t.byteLength<e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be at least ${e}`)},e.assertUtf8String=function(t){for(let e=0;e<t.length;e++){if(t.charCodeAt(e)>255)throw new Error("Invalid UTF-8 raw string!")}},e.isObjectLike=function(t){return!!t&&"object"==typeof t},e.trackCodeExecuteError=function(t,e){try{return e()}catch(e){const r=(0,n.isCodecExecuteError)(e)?e:new n.CodecExecuteError(e);throw r.updateKey(t),r}};var n=r(80754);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0),c="f".charCodeAt(0);function f(t){if(!t||!t.startsWith("0x"))throw new Error("Invalid hex string")}function l(t){const e=t.length;for(let r=2;r<e;r++){const e=t[r].charCodeAt(0);if(!(e>=i&&e<=o||e>=u&&e<=c||e>=s&&e<=a))throw new Error(`Invalid hex character ${t[r]} in the string ${t}`)}}},32932:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Reader",{enumerable:!0,get:function(){return n.Reader}}),e.validators=e.transformers=e.normalizers=e.VERSION=void 0;var n=r(72837),i=u(r(82356));e.normalizers=i;var o=u(r(5950));e.transformers=o;var s=u(r(1957));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(a=function(t){return t?r:e})(t)}function u(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}e.validators=s;e.VERSION="__development_build__"},82356:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NormalizeBlock=function(t,{debugPath:e="block"}={}){return a(e,t,{header:f(m),uncles:p(f(v)),transactions:p(f(g)),proposals:p(s(10))})},e.NormalizeCellDep=h,e.NormalizeCellInput=l,e.NormalizeCellOutput=d,e.NormalizeCellbaseWitness=function(t,{debugPath:e="cellbase_witness"}={}){return a(e,t,{lock:f(u),message:s(-1)})},e.NormalizeHeader=m,e.NormalizeOutPoint=c,e.NormalizeRawHeader=b,e.NormalizeRawTransaction=y,e.NormalizeScript=u,e.NormalizeTransaction=g,e.NormalizeUncleBlock=v,e.NormalizeWitnessArgs=function(t,{debugPath:e="witness_args"}={}){const r={};t.lock&&(r.lock=s(-1)(`${e}.lock`,t.lock));t.inputType&&(r.inputType=s(-1)(`${e}.inputType`,t.inputType));t.outputType&&(r.outputType=s(-1)(`${e}.outputType`,t.outputType));return r};var n=r(70071),i=r(72837);function o(t){return function(e,r){if(!(r instanceof ArrayBuffer)){let i=n.BI.from(r).toString(16);if(i.length%2!=0&&(i="0"+i),i.length/2>t)throw new Error(`${e} is ${i.length/2} bytes long, expected length is ${t}!`);const o=new DataView(new ArrayBuffer(t));for(let t=0;t<i.length/2;t++){const e=i.length-2*(t+1);o.setUint8(t,parseInt(i.substr(e,2),16))}r=o.buffer}if(r.byteLength<t){const e=new Uint8Array(t);e.set(new Uint8Array(r),0),r=e.buffer}return r}}function s(t){return function(e,r){if(r=new i.Reader(r).toArrayBuffer(),t>0&&r.byteLength!==t)throw new Error(`${e} has invalid length ${r.byteLength}, required: ${t}`);return r}}function a(t,e,r){const n={};for(const[i,o]of Object.entries(r)){const r=e[i];if(null==r)throw new Error(`${t} is missing ${i}!`);n[i]=o(`${t}.${i}`,r)}return n}function u(t,{debugPath:e="script"}={}){return a(e,t,{codeHash:s(32),hashType:function(t,e){switch(e){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:case 1:case 2:case 4:return e;default:throw new Error(`${t}.hashType has invalid value: ${e}`)}},args:s(-1)})}function c(t,{debugPath:e="outPoint"}={}){return a(e,t,{txHash:s(32),index:o(4)})}function f(t){return function(e,r){return t(r,{debugPath:e})}}function l(t,{debugPath:e="cell_input"}={}){return a(e,t,{since:o(8),previousOutput:f(c)})}function d(t,{debugPath:e="cellOutput"}={}){const r=a(e,t,{capacity:o(8),lock:f(u)});return t.type&&(r.type_=u(t.type,{debugPath:`${e}.type`})),r}function h(t,{debugPath:e="cell_dep"}={}){return a(e,t,{outPoint:f(c),depType:function(t,e){switch(e){case"code":return 0;case"depGroup":return 1;case 0:case 1:return e;default:throw new Error(`${t}.depType has invalid value: ${e}`)}}})}function p(t){return function(e,r){return r.map(((r,n)=>t(`${e}[${n}]`,r)))}}function y(t,{debugPath:e="raw_transaction"}={}){return a(e,t,{version:o(4),cellDeps:p(f(h)),headerDeps:p(s(32)),inputs:p(f(l)),outputs:p(f(d)),outputsData:p(s(-1))})}function g(t,{debugPath:e="transaction"}={}){const r=y(t,{debugPath:`(raw)${e}`}),n=a(e,t,{witnesses:p(s(-1))});return n.raw=r,n}function b(t,{debugPath:e="raw_header"}={}){return a(e,t,{version:o(4),compactTarget:o(4),timestamp:o(8),number:o(8),epoch:o(8),parentHash:s(32),transactionsRoot:s(32),proposalsHash:s(32),extraHash:s(32),dao:s(32)})}function m(t,{debugPath:e="header"}={}){const r=b(t,{debugPath:`(raw)${e}`}),n=a(e,t,{nonce:o(16)});return n.raw=r,n}function v(t,{debugPath:e="uncle_block"}={}){return a(e,t,{header:f(m),proposals:p(s(10))})}},72837:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Reader=void 0;class r{constructor(){this.__isByteLikeReader__=!0}static isReader(t){return null!=t&&(t instanceof r||!0===t.__isByteLikeReader__)}}class n extends r{constructor(t){super(),this.view=new DataView(t)}length(){return this.view.byteLength}indexAt(t){return this.view.getUint8(t)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),(t=>("00"+t.toString(16)).slice(-2))).join("")}}class i extends r{constructor(t){super(),this.string=t}length(){return this.string.length/2-1}indexAt(t){return parseInt(this.string.substr(2+2*t,2),16)}toArrayBuffer(){const t=new ArrayBuffer(this.length()),e=new DataView(t);for(let t=0;t<this.length();t++)e.setUint8(t,this.indexAt(t));return t}serializeJson(){return this.string}}class o extends r{constructor(t){if(super(),t instanceof i||t instanceof n)return t;if("string"==typeof t){if(!t.startsWith("0x")||t.length%2!=0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new i(t)}if(t instanceof ArrayBuffer)return new n(t);if(t instanceof Uint8Array)return new n(Uint8Array.from(t).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(t){return new o(t)}static fromRawString(t){const e=new ArrayBuffer(t.length),r=new DataView(e);for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n>255)throw new Error("fromRawString can only accept UTF-8 raw string!");r.setUint8(e,n)}return new n(e)}}e.Reader=o},5950:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransformBlock=function(t,{validation:e=!0,debugPath:r="block"}={}){t=s(r,t,{header:c(y),uncles:h(c(g)),transactions:h(c(p)),proposals:h(o)}),e&&n.ValidateBlock(t,{debugPath:`(transformed) ${r}`});return t},e.TransformCellInput=f,e.TransformCellOutput=l,e.TransformCellbaseWitness=function(t,{validation:e=!0,debugPath:r="cellbase_witness"}={}){t=s(r,t,{lock:c(a),message:o}),e&&n.ValidateCellbaseWitness(t,{debugPath:`(transformed) ${r}`});return t},e.TransformHeader=y,e.TransformOutPoint=u,e.TransformRawHeader=function(t,{validation:e=!0,debugPath:r="raw_header"}={}){t=s(r,t,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o}),e&&n.ValidateRawHeader(t,{debugPath:`(transformed) ${r}`});return t},e.TransformRawTransaction=function(t,{validation:e=!0,debugPath:r="raw_transaction"}={}){t=s(r,t,{version:o,cellDeps:h(c(d)),headerDeps:h(o),inputs:h(c(f)),outputs:h(c(l)),outputsData:h(o)}),e&&n.ValidateRawTransaction(t,{debugPath:`(transformed) ${r}`});return t},e.TransformScript=a,e.TransformTransaction=p,e.TransformUncleBlock=g,e.TransformWitnessArgs=function(t,{validation:e=!0,debugPath:r="witness_args"}={}){t=s(r,t,{lock:o,inputType:o,outputType:o}),e&&n.ValidateWitnessArgs(t,{debugPath:`(transformed) ${r}`});return t};var n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}n.default=t,r&&r.set(t,n);return n}(r(1957));function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function o(t,e){return e instanceof Object&&e.serializeJson instanceof Function?e.serializeJson.call(e):e}function s(t,e,r){if(!((e=o(0,e))instanceof Object))throw new Error(`Transformed ${t} is not an object!`);const n={};for(const[i,o]of Object.entries(r)){let r=e[i];if(!r){r=e[i.replace(/(_[a-z])/g,(t=>t.toUpperCase().replace("_","")))]}r&&(n[i]=o(`${t}.${i}`,r))}return n}function a(t,{validation:e=!0,debugPath:r="script"}={}){return t=s(r,t,{codeHash:o,hashType:o,args:o}),e&&n.ValidateScript(t,{debugPath:`(transformed) ${r}`}),t}function u(t,{validation:e=!0,debugPath:r="outPoint"}={}){return t=s(r,t,{txHash:o,index:o}),e&&n.ValidateOutPoint(t,{debugPath:`(transformed) ${r}`}),t}function c(t){return function(e,r){return t(r,{validation:!1,debugPath:e})}}function f(t,{validation:e=!0,debugPath:r="cell_input"}={}){return t=s(r,t,{since:o,previousOutput:c(u)}),e&&n.ValidateCellInput(t,{debugPath:`(transformed) ${r}`}),t}function l(t,{validation:e=!0,debugPath:r="cellOutput"}={}){return t=s(r,t,{capacity:o,lock:c(a),type:c(a)}),e&&n.ValidateCellOutput(t,{debugPath:`(transformed) ${r}`}),t}function d(t,{validation:e=!0,debugPath:r="cell_dep"}={}){return t=s(r,t,{outPoint:c(u),depType:o}),e&&n.ValidateCellDep(t,{debugPath:`(transformed) ${r}`}),t}function h(t){return function(e,r){return r.map(((r,n)=>t(`${e}[${n}]`,r)))}}function p(t,{validation:e=!0,debugPath:r="transaction"}={}){return t=s(r,t,{version:o,cellDeps:h(c(d)),headerDeps:h(o),inputs:h(c(f)),outputs:h(c(l)),outputsData:h(o),witnesses:h(o)}),e&&n.ValidateTransaction(t,{debugPath:`(transformed) ${r}`}),t}function y(t,{validation:e=!0,debugPath:r="header"}={}){return t=s(r,t,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o,nonce:o}),e&&n.ValidateHeader(t,{debugPath:`(transformed) ${r}`}),t}function g(t,{validation:e=!0,debugPath:r="uncle_block"}={}){return t=s(r,t,{header:c(y),proposals:h(o)}),e&&n.ValidateUncleBlock(t,{debugPath:`(transformed) ${r}`}),t}},1957:(t,e)=>{"use strict";function r(t,e,r,n=[]){!function(t,e){if(!(e instanceof Object))throw new Error(`${t} is not an object!`)}(t,e);const i=Object.keys(e).sort(),o=r.length,s=r.length+n.length,a=`${t} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<o||i.length>s)throw new Error(a);let u=i.filter((t=>!r.includes(t)));if(i.length-u.length!==o)throw new Error(a);if(u.find((t=>!n.includes(t))))throw new Error(a)}function n(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function i(t,e){if(n(t,e),66!==e.length)throw new Error(`${t} must be a hex string of 66 bytes long!`)}function o(t,e){if("0x0"!==e&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function s(t,{nestedValidation:e=!0,debugPath:o="script"}={}){if(r(o,t,["codeHash","hashType","args"],[]),i(`${o}.codeHash`,t.codeHash),n(`${o}.args`,t.args),"data"!==t.hashType&&"type"!==t.hashType&&"data1"!==t.hashType&&"data2"!==t.hashType)throw new Error(`${o}.hashType must be either data or type!`)}function a(t,{nestedValidation:e=!0,debugPath:n="outPoint"}={}){r(n,t,["txHash","index"],[]),i(`${n}.txHash`,t.txHash),o(`${n}.index`,t.index)}function u(t,{nestedValidation:e=!0,debugPath:n="cellInput"}={}){r(n,t,["since","previousOutput"],[]),o(`${n}.since`,t.since),e&&a(t.previousOutput,{debugPath:`${n}.previousOutput`})}function c(t,{nestedValidation:e=!0,debugPath:n="cellOutput"}={}){r(n,t,["capacity","lock"],["type"]),o(`${n}.capacity`,t.capacity),e&&(s(t.lock,{debugPath:`${n}.lock`}),t.type&&s(t.type,{debugPath:`${n}.type`}))}function f(t,{nestedValidation:e=!0,debugPath:n="cellDep"}={}){if(r(n,t,["outPoint","depType"],[]),"code"!==t.depType&&"depGroup"!==t.depType)throw new Error(`${n}.depType must be either code or depGroup!`);e&&a(t.outPoint,{debugPath:`${n}.outPoint`})}function l(t,e,r,n){if(!Array.isArray(e))throw new Error(`${t} is not an array!`);if(n)for(let n=0;n<e.length;n++)r(`${t}[${n}]`,e[n])}function d(t,e){return function(r,n){t(n,{nestedValidation:e,debugPath:r})}}function h(t,e,r){o(`${t}.version`,e.version),l(`${t}.cellDeps`,e.cellDeps,d(f,r),r),l(`${t}.headerDeps`,e.headerDeps,i,r),l(`${t}.inputs`,e.inputs,d(u,r),r),l(`${t}.outputs`,e.outputs,d(c,r),r),l(`${t}.outputsData`,e.outputsData,n,r)}function p(t,{nestedValidation:e=!0,debugPath:i="transaction"}={}){r(i,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),h(i,t,e),l(`${i}.witnesses`,t.witnesses,n,e)}function y(t,{nestedValidation:e=!0,debugPath:i="header"}={}){if(r(i,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),n(`${i}.nonce`,t.nonce),34!==t.nonce.length)throw new Error(`${i}.nonce must be a hex string of 34 bytes long!`)}function g(t,e){if(n(t,e),22!==e.length)throw new Error(`${t} must be a hex string of 22 bytes long!`)}function b(t,{nestedValidation:e=!0,debugPath:n="uncleBlock"}={}){r(n,t,["header","proposals"],[]),e&&y(t.header,{debugPath:`${n}.header`}),l(`${n}.proposals`,t.proposals,g,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateBlock=function(t,{nestedValidation:e=!0,debugPath:n="block"}={}){r(n,t,["header","uncles","transactions","proposals"],[]),e&&y(t.header,{debugPath:`${n}.header`});l(`${n}.uncles`,t.uncles,d(b,e),e),l(`${n}.transactions`,t.transactions,d(p,e),e),l(`${n}.proposals`,t.proposals,g,e)},e.ValidateCellDep=f,e.ValidateCellInput=u,e.ValidateCellOutput=c,e.ValidateCellbaseWitness=function(t,{nestedValidation:e=!0,debugPath:i="cellbaseWitness"}={}){r(i,t,["lock","message"],[]),n(`${i}.message`,t.message),e&&s(t.lock,{debugPath:`${i}.lock`})},e.ValidateHeader=y,e.ValidateOutPoint=a,e.ValidateRawHeader=function(t,{nestedValidation:e=!0,debugPath:n="rawHeader"}={}){r(n,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),function(t,e){o(`${t}.version`,e.version),o(`${t}.compactTarget`,e.compactTarget),o(`${t}.timestamp`,e.timestamp),o(`${t}.number`,e.number),o(`${t}.epoch`,e.epoch),i(`${t}.parentHash`,e.parentHash),i(`${t}.transactionsRoot`,e.transactionsRoot),i(`${t}.proposalsHash`,e.proposalsHash),i(`${t}.extraHash`,e.extraHash),i(`${t}.dao`,e.dao)}(n,t)},e.ValidateRawTransaction=function(t,{nestedValidation:e=!0,debugPath:n="rawTransaction"}={}){r(n,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),h(n,t,e)},e.ValidateScript=s,e.ValidateTransaction=p,e.ValidateUncleBlock=b,e.ValidateWitnessArgs=function(t,{nestedValidation:e=!0,debugPath:i="witnessArgs"}={}){r(i,t,[],["lock","inputType","outputType"]),t.lock&&n(`${i}.lock`,t.lock);t.inputType&&n(`${i}.inputType`,t.inputType);t.outputType&&n(`${i}.outputType`,t.outputType)}},34709:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.BtcAssetsApiError=e.ErrorMessages=e.ErrorCodes=void 0,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.ASSETS_API_RESPONSE_ERROR=1]="ASSETS_API_RESPONSE_ERROR",t[t.ASSETS_API_UNAUTHORIZED=2]="ASSETS_API_UNAUTHORIZED",t[t.ASSETS_API_INVALID_PARAM=3]="ASSETS_API_INVALID_PARAM",t[t.ASSETS_API_RESOURCE_NOT_FOUND=4]="ASSETS_API_RESOURCE_NOT_FOUND",t[t.ASSETS_API_RESPONSE_DECODE_ERROR=5]="ASSETS_API_RESPONSE_DECODE_ERROR"}(r||(e.ErrorCodes=r={})),e.ErrorMessages={[r.UNKNOWN]:"Unknown error",[r.ASSETS_API_UNAUTHORIZED]:"BtcAssetsAPI unauthorized, please check your token/origin",[r.ASSETS_API_INVALID_PARAM]:"Invalid param(s) was provided to the BtcAssetsAPI",[r.ASSETS_API_RESPONSE_ERROR]:"BtcAssetsAPI returned an error",[r.ASSETS_API_RESOURCE_NOT_FOUND]:"Resource not found on the BtcAssetsAPI",[r.ASSETS_API_RESPONSE_DECODE_ERROR]:"Failed to decode the response of BtcAssetsAPI"};class n extends Error{code=r.UNKNOWN;message;context;constructor(t){const i=t.message??e.ErrorMessages[t.code]??e.ErrorMessages[r.UNKNOWN];super(i),this.message=i,this.code=t.code,this.context=t.context,Object.setPrototypeOf(this,n.prototype)}static withComment(t,i,o){const s=e.ErrorMessages[t]??e.ErrorMessages[r.UNKNOWN];return new n({code:t,message:i?`${s}: ${i}`:void 0,context:o})}}e.BtcAssetsApiError=n},90375:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(2541),e),i(r(34709),e),i(r(94866),e),i(r(64899),e)},68830:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BtcAssetsApiBase=void 0;const i=n(r(71086)),o=r(94866),s=r(34709);function a(t){try{return"string"==typeof t?JSON.parse(t):void 0}catch{return}}e.BtcAssetsApiBase=class{url;app;domain;origin;token;constructor(t){if(this.url=t.url,this.app=t.app,this.domain=t.domain,this.origin=t.origin,this.token=t.token,this.domain&&!(0,o.isDomain)(this.domain,!0))throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_INVALID_PARAM,"domain")}async request(t,e){const{requireToken:r=!0,allow404:n=!1,method:o="GET",headers:u,params:c,...f}=e??{};if(r&&!this.token&&(!this.app||!this.domain))throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_INVALID_PARAM,"app, domain");r&&!this.token&&await this.init();const l=(0,i.default)(c,(t=>void 0!==t)),d=c?"?"+new URLSearchParams(l).toString():"",h=`${this.url}${t}${d}`,p=await fetch(h,{method:o,headers:{authorization:this.token?`Bearer ${this.token}`:void 0,origin:this.origin,...u},...f});let y,g,b,m=!1;try{y=await p.text(),g=JSON.parse(y),m=g?.ok??p.ok??!1}catch{}const v=p.status,_={request:{url:h,params:c,body:a(f.body)},response:{status:v,data:g??y}};if(g||(b=y?`(${v}) ${y}`:`${v}`),g&&!m){const t=g.code??g.statusCode??g.error?.error?.code??p.status,e=g.message??("string"==typeof g.error?g.error:g.error?.error?.message);b=e?t?`(${t}) ${e}`:e:JSON.stringify(g)}if(200===v&&!g)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_RESPONSE_DECODE_ERROR,b,_);if(401===v)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_UNAUTHORIZED,b,_);if(404===v&&!n)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_RESOURCE_NOT_FOUND,b,_);if(200!==v&&404!==v&&!n)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_RESPONSE_ERROR,b,_);if(404!==v||!n)return g}async post(t,e){return this.request(t,{method:"POST",...e,headers:{"Content-Type":"application/json",...e?.headers}})}async generateToken(){if(!this.app||!this.domain)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_INVALID_PARAM,"app, domain");return this.post("/token/generate",{requireToken:!1,body:JSON.stringify({app:this.app,domain:this.domain})})}async init(t){if(this.token&&!t)return;const e=await this.generateToken();this.token=e.token}}},64899:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(68830),e),i(r(56584),e)},56584:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BtcAssetsApi=void 0;const n=r(68830);class i extends n.BtcAssetsApiBase{static fromToken(t,e,r){return new i({url:t,token:e,origin:r})}getBtcBlockchainInfo(){return this.request("/bitcoin/v1/info")}getBtcBlockByHash(t){return this.request(`/bitcoin/v1/block/${t}`)}getBtcBlockHeaderByHash(t){return this.request(`/bitcoin/v1/block/${t}/header`)}getBtcBlockHashByHeight(t){return this.request(`/bitcoin/v1/block/height/${t}`)}getBtcBlockTransactionIdsByHash(t){return this.request(`/bitcoin/v1/block/${t}/txids`)}getBtcRecommendedFeeRates(){return this.request("/bitcoin/v1/fees/recommended")}getBtcBalance(t,e){return this.request(`/bitcoin/v1/address/${t}/balance`,{params:e})}getBtcUtxos(t,e){return this.request(`/bitcoin/v1/address/${t}/unspent`,{params:e})}getBtcTransactions(t,e){return this.request(`/bitcoin/v1/address/${t}/txs`,{params:e})}getBtcTransaction(t){return this.request(`/bitcoin/v1/transaction/${t}`)}sendBtcTransaction(t){return this.post("/bitcoin/v1/transaction",{body:JSON.stringify({txhex:t})})}getRgbppPaymasterInfo(){return this.request("/rgbpp/v1/paymaster/info")}getRgbppTransactionHash(t){return this.request(`/rgbpp/v1/transaction/${t}`)}getRgbppTransactionState(t,e){return this.request(`/rgbpp/v1/transaction/${t}/job`,{params:e})}getRgbppAssetsByBtcTxId(t){return this.request(`/rgbpp/v1/assets/${t}`)}getRgbppAssetsByBtcUtxo(t,e){return this.request(`/rgbpp/v1/assets/${t}/${e}`)}getRgbppAssetsByBtcAddress(t,e){return this.request(`/rgbpp/v1/address/${t}/assets`,{params:e})}getRgbppBalanceByBtcAddress(t,e){return this.request(`/rgbpp/v1/address/${t}/balance`,{params:e})}getRgbppSpvProof(t,e){return this.request("/rgbpp/v1/btc-spv/proof",{params:{btc_txid:t,confirmations:e}})}sendRgbppCkbTransaction(t){return this.post("/rgbpp/v1/transaction/ckb-tx",{body:JSON.stringify(t)})}retryRgbppCkbTransaction(t){return this.post("/rgbpp/v1/transaction/retry",{body:JSON.stringify(t)})}}e.BtcAssetsApi=i},43784:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},71802:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2541:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(43784),e),i(r(71802),e),i(r(44554),e)},44554:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},94866:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDomain=void 0,e.isDomain=function(t,e){return!(!e||"localhost"!==t)||/^(?:[-A-Za-z0-9]+\.)+[A-Za-z]{2,}$/.test(t)}},26480:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCluster=void 0;const n=r(3599),i=r(1828),o=r(36027),s=r(18714),a=r(50752),u=r(30089);e.createCluster=async function(t){const e=t.config??(0,i.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),c=n.BI.from(t.capacityMargin??1e8),f=t.maxTransactionSize??e.maxTransactionSize??!1;let l=n.helpers.TransactionSkeleton({cellProvider:r});const d=(0,s.injectNewClusterOutput)({txSkeleton:l,data:t.data,toLock:t.toLock,updateOutput:t.updateOutput,capacityMargin:c,config:e});l=d.txSkeleton;const h=await(0,o.injectCapacityAndPayFee)({txSkeleton:l,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,updateTxSkeletonAfterCollection(t){t=(0,s.injectNewClusterIds)({txSkeleton:t,outputIndices:[d.outputIndex],config:e});const r=l.get("outputs").get(d.outputIndex),n=(0,i.getSporeScript)(e,"Cluster",r.cellOutput.type);if(n.behaviors?.cobuild){const e=(0,a.generateCreateClusterAction)({txSkeleton:t,outputIndex:d.outputIndex});t=(0,u.injectCommonCobuildProof)({txSkeleton:t,actions:e.actions}).txSkeleton}return t},config:e});return l=h.txSkeleton,"number"==typeof f&&(0,o.assertTransactionSkeletonSize)(l,void 0,f),{txSkeleton:l,outputIndex:d.outputIndex}}},3333:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transferCluster=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);e.transferCluster=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),u=t.useCapacityMarginAsFee??!0;if(!u&&!t.fromInfos?.length)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(u&&void 0!==t.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacityMargin of the cluster");let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,a.getClusterByOutPoint)(t.outPoint,e),l=(0,o.getSporeScript)(e,"Cluster",f.cellOutput.type),d=await(0,a.injectLiveClusterCell)({txSkeleton:c,cell:f,addOutput:!0,updateOutput:e=>(e.cellOutput.lock=t.toLock,t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),capacityMargin:t.capacityMargin,defaultWitness:t.defaultWitness,updateWitness:t.updateWitness,since:t.since,config:e});c=d.txSkeleton;const h=(0,s.generateTransferClusterAction)({txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex});if(u){if(l.behaviors?.cobuild){c=(0,s.injectCommonCobuildProof)({txSkeleton:c,actions:h.actions}).txSkeleton}c=await(0,i.payFeeByOutput)({outputIndex:d.outputIndex,txSkeleton:c,config:e})}else{c=(await(0,i.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,updateTxSkeletonAfterCollection(t){if(l.behaviors?.cobuild){t=(0,s.injectCommonCobuildProof)({txSkeleton:t,actions:h.actions}).txSkeleton}return t},config:e})).txSkeleton}return{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},15148:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714),u=r(31564);e.createClusterAgent=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),c=n.BI.from(t.capacityMargin??1e8);let f=n.helpers.TransactionSkeleton({cellProvider:r});const l=await(0,a.getClusterProxyByOutPoint)(t.clusterProxyOutPoint,e),d=await(0,a.injectNewClusterAgentOutput)({txSkeleton:f,clusterProxyCell:l,referenceType:t.referenceType,paymentAmount:t.paymentAmount,toLock:t.toLock,fromInfos:t.fromInfos,changeAddress:t.changeAddress,updateOutput:t.updateOutput,clusterProxy:t.clusterProxy,capacityMargin:c,config:e});f=d.txSkeleton;const h=await(0,i.injectCapacityAndPayFee)({txSkeleton:f,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,updateTxSkeletonAfterCollection(t){const r=f.get("outputs").get(d.outputIndex),n=(0,o.getSporeScript)(e,"ClusterAgent",r.cellOutput.type);if(n.behaviors?.cobuild){const e=(0,s.generateCreateClusterAgentAction)({txSkeleton:t,clusterProxyId:(0,u.unpackToRawClusterProxyArgs)(l.cellOutput.type.args).id,outputIndex:d.outputIndex,reference:d.reference});t=(0,s.injectCommonCobuildProof)({txSkeleton:t,actions:e.actions}).txSkeleton}return t},config:e});return f=h.txSkeleton,{txSkeleton:f,outputIndex:d.outputIndex,reference:d.reference}}},84302:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.meltClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);e.meltClusterAgent=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl);let u=n.helpers.TransactionSkeleton({cellProvider:r});const c=await(0,a.getClusterAgentByOutPoint)(t.outPoint,e),f=(0,o.getSporeScript)(e,"ClusterAgent",c.cellOutput.type),l=await(0,a.injectLiveClusterAgentCell)({txSkeleton:u,cell:c,updateWitness:t.updateWitness,config:e});if(u=l.txSkeleton,f.behaviors?.cobuild){const t=(0,s.generateMeltClusterAgentAction)({txSkeleton:u,inputIndex:l.inputIndex});u=(0,s.injectCommonCobuildProof)({txSkeleton:u,actions:t.actions}).txSkeleton}const d=n.helpers.encodeToAddress(c.cellOutput.lock,{config:e.lumos});return u=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:t.changeAddress??d,txSkeleton:u,config:e})).txSkeleton,{txSkeleton:u,inputIndex:l.inputIndex}}},38819:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transferClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);e.transferClusterAgent=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),u=t.useCapacityMarginAsFee??!0;if(!u&&!t.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(u&&void 0!==t.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot update capacityMargin of the cell");let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,a.getClusterAgentByOutPoint)(t.outPoint,e),l=(0,o.getSporeScript)(e,"ClusterAgent",f.cellOutput.type),d=await(0,a.injectLiveClusterAgentCell)({txSkeleton:c,cell:f,addOutput:!0,updateOutput:e=>(e.cellOutput.lock=t.toLock,t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),capacityMargin:t.capacityMargin,updateWitness:t.updateWitness,defaultWitness:t.defaultWitness,since:t.since,config:e});c=d.txSkeleton;const h=(0,s.generateTransferClusterAgentAction)({txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex});if(u){if(l.behaviors?.cobuild){c=(0,s.injectCommonCobuildProof)({txSkeleton:c,actions:h.actions}).txSkeleton}c=await(0,i.payFeeByOutput)({txSkeleton:c,outputIndex:d.outputIndex,config:e})}else{c=(await(0,i.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,updateTxSkeletonAfterCollection(t){if(l.behaviors?.cobuild){t=(0,s.injectCommonCobuildProof)({txSkeleton:t,actions:h.actions}).txSkeleton}return t},config:e})).txSkeleton}return{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},71274:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);e.createClusterProxy=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),u=n.BI.from(t.capacityMargin??1e8);let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,a.getClusterByOutPoint)(t.clusterOutPoint,e),l=await(0,a.injectNewClusterProxyOutput)({txSkeleton:c,clusterCell:f,toLock:t.toLock,fromInfos:t.fromInfos,minPayment:t.minPayment,changeAddress:t.changeAddress,updateOutput:t.updateOutput,cluster:t.cluster,capacityMargin:u,config:e});c=l.txSkeleton;const d=await(0,i.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,updateTxSkeletonAfterCollection(t){t=(0,a.injectNewClusterProxyIds)({outputIndices:[l.outputIndex],txSkeleton:t,config:e});const r=c.get("outputs").get(l.outputIndex),n=(0,o.getSporeScript)(e,"ClusterProxy",r.cellOutput.type);if(n.behaviors?.cobuild){const e=(0,s.generateCreateClusterProxyAction)({txSkeleton:t,outputIndex:l.outputIndex,reference:l.reference});t=(0,s.injectCommonCobuildProof)({txSkeleton:t,actions:e.actions}).txSkeleton}return t},config:e});return c=d.txSkeleton,{txSkeleton:c,outputIndex:l.outputIndex,reference:l.reference}}},98092:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.meltClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);e.meltClusterProxy=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl);let u=n.helpers.TransactionSkeleton({cellProvider:r});const c=await(0,a.getClusterProxyByOutPoint)(t.outPoint,e),f=(0,o.getSporeScript)(e,"ClusterProxy",c.cellOutput.type),l=await(0,a.injectLiveClusterProxyCell)({txSkeleton:u,cell:c,updateWitness:t.updateWitness,config:e});if(u=l.txSkeleton,f.behaviors?.cobuild){const t=(0,s.generateMeltClusterProxyAction)({txSkeleton:u,inputIndex:l.inputIndex});u=(0,s.injectCommonCobuildProof)({txSkeleton:u,actions:t.actions}).txSkeleton}const d=n.helpers.encodeToAddress(c.cellOutput.lock,{config:e.lumos});return u=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:t.changeAddress??d,txSkeleton:u,config:e})).txSkeleton,{txSkeleton:u,inputIndex:l.inputIndex}}},43557:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transferClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(52271),u=r(93972);e.transferClusterProxy=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),c=t.useCapacityMarginAsFee??!0;if(!c&&!t.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(c&&void 0!==t.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot update capacityMargin of the cell");let f=n.helpers.TransactionSkeleton({cellProvider:r});const l=await(0,a.getClusterProxyByOutPoint)(t.outPoint,e),d=(0,o.getSporeScript)(e,"ClusterProxy",l.cellOutput.type),h=await(0,u.injectLiveClusterProxyCell)({txSkeleton:f,cell:l,addOutput:!0,updateOutput:e=>(e.cellOutput.lock=t.toLock,t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),capacityMargin:t.capacityMargin,updateWitness:t.updateWitness,defaultWitness:t.defaultWitness,since:t.since,config:e});f=h.txSkeleton;const p=(0,s.generateTransferClusterProxyAction)({txSkeleton:f,inputIndex:h.inputIndex,outputIndex:h.outputIndex});if(c){if(d.behaviors?.cobuild){f=(0,s.injectCommonCobuildProof)({txSkeleton:f,actions:p.actions}).txSkeleton}f=await(0,i.payFeeByOutput)({outputIndex:h.outputIndex,txSkeleton:f,config:e})}else{f=(await(0,i.injectCapacityAndPayFee)({txSkeleton:f,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,updateTxSkeletonAfterCollection(t){if(d.behaviors?.cobuild){t=(0,s.injectCommonCobuildProof)({txSkeleton:t,actions:p.actions}).txSkeleton}return t},config:e})).txSkeleton}return{txSkeleton:f,inputIndex:h.inputIndex,outputIndex:h.outputIndex}}},50644:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMutant=void 0;const n=r(3599),i=r(1828),o=r(36027),s=r(18714);e.createMutant=async function(t){const e=t.config??(0,i.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),a=n.BI.from(t.capacityMargin??1e8),u=t.maxTransactionSize??e.maxTransactionSize??!1;let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=(0,s.injectNewMutantOutput)({txSkeleton:c,data:t.data,toLock:t.toLock,minPayment:t.minPayment,updateOutput:t.updateOutput,capacityMargin:a,config:e});return c=f.txSkeleton,c=(await(0,o.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,config:e})).txSkeleton,c=(0,s.injectNewMutantIds)({outputIndices:[f.outputIndex],txSkeleton:c,config:e}),"number"==typeof u&&(0,o.assertTransactionSkeletonSize)(c,void 0,u),{txSkeleton:c,outputIndex:f.outputIndex}}},39415:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transferMutant=void 0;const n=r(3599),i=r(1828),o=r(36027),s=r(18714);e.transferMutant=async function(t){const e=t.config??(0,i.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),a=t.useCapacityMarginAsFee??!0;if(!a&&!t.fromInfos?.length)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(a&&void 0!==t.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacityMargin of the cell");let u=n.helpers.TransactionSkeleton({cellProvider:r});const c=await(0,s.getMutantByOutPoint)(t.outPoint,e),f=await(0,s.injectLiveMutantCell)({txSkeleton:u,cell:c,addOutput:!0,updateOutput:e=>(e.cellOutput.lock=t.toLock,t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),minPayment:t.minPayment,capacityMargin:t.capacityMargin,defaultWitness:t.defaultWitness,updateWitness:t.updateWitness,since:t.since,config:e});if(u=f.txSkeleton,a)u=await(0,o.payFeeByOutput)({outputIndex:f.outputIndex,txSkeleton:u,config:e});else{u=(await(0,o.injectCapacityAndPayFee)({txSkeleton:u,changeAddress:t.changeAddress,fromInfos:t.fromInfos,feeRate:t.feeRate,config:e})).txSkeleton}return{txSkeleton:u,inputIndex:f.inputIndex,outputIndex:f.outputIndex}}},51760:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createMultipleSpores=e.createSpore=void 0;const i=r(87144),o=r(3599),s=r(1828),a=r(36027),u=r(18714),c=r(37760),f=r(30089),l=r(24862),d=n(r(2543));e.createSpore=async function(t){const e=t.config??(0,s.getSporeConfig)(),r=new o.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),n=o.BI.from(t.capacityMargin??1e8),h=t.maxTransactionSize??e.maxTransactionSize??!1;let p,y=o.helpers.TransactionSkeleton({cellProvider:r});if(t.prefixInputs)for(const r of t.prefixInputs){const n=(0,l.encodeToAddress)(r.cellOutput.lock,{config:e.lumos}),o={script:r.cellOutput.lock};t.fromInfos.some((t=>{const r=(0,i.parseFromInfo)(t,{config:e.lumos});return d.default.isEqual(o,r.fromScript)}))||t.fromInfos.push(n);const s=await(0,a.setupCell)({txSkeleton:y,input:r,updateWitness:t.updateWitness,defaultWitness:t.defaultWitness,config:e.lumos});y=s.txSkeleton}t.prefixOutputs&&y.update("outputs",(e=>(t.prefixOutputs.forEach((t=>e.push(t))),e))),t.clusterAgentOutPoint&&(p=await(0,u.getClusterAgentByOutPoint)(t.clusterAgentOutPoint,e));const g=await(0,u.injectNewSporeOutput)({txSkeleton:y,data:t.data,toLock:t.toLock,fromInfos:t.fromInfos,extraOutputLocks:t.prefixOutputs?.map((t=>t.cellOutput.lock)),changeAddress:t.changeAddress,updateOutput:t.updateOutput,clusterAgent:t.clusterAgent,cluster:t.cluster,mutant:t.mutant,skipCheckContentType:t.skipCheckContentType,clusterAgentCell:p,capacityMargin:n,config:e});y=g.txSkeleton;const b=(0,a.createCapacitySnapshotFromTransactionSkeleton)(y);if(b.inputsCapacity.gt(b.outputsCapacity)){y=(0,u.injectNewSporeIds)({outputIndices:[g.outputIndex],txSkeleton:y,config:e});const r=y.get("outputs").get(g.outputIndex),n=(0,s.getSporeScript)(e,"Spore",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,c.generateCreateSporeAction)({txSkeleton:y,reference:g.reference,outputIndex:g.outputIndex}),e=(0,f.injectCommonCobuildProof)({txSkeleton:y,actions:t.actions});y=e.txSkeleton}const i=o.helpers.encodeToAddress(r.cellOutput.lock,{config:e.lumos}),l=await(0,a.returnExceededCapacityAndPayFee)({txSkeleton:y,changeAddress:t.changeAddress??i,feeRate:t.feeRate,fromInfos:t.fromInfos,config:e});y=l.txSkeleton}else{const r=await(0,a.injectCapacityAndPayFee)({txSkeleton:y,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,updateTxSkeletonAfterCollection(t){t=(0,u.injectNewSporeIds)({outputIndices:[g.outputIndex],txSkeleton:t,config:e});const r=y.get("outputs").get(g.outputIndex),n=(0,s.getSporeScript)(e,"Spore",r.cellOutput.type);if(n.behaviors?.cobuild){const e=(0,c.generateCreateSporeAction)({txSkeleton:t,reference:g.reference,outputIndex:g.outputIndex});t=(0,f.injectCommonCobuildProof)({txSkeleton:t,actions:e.actions}).txSkeleton}return t},config:e});y=r.txSkeleton}return"number"==typeof h&&(0,a.assertTransactionSkeletonSize)(y,void 0,h),{txSkeleton:y,outputIndex:g.outputIndex,reference:g.reference,mutantReference:g.mutantReference}},e.createMultipleSpores=async function(t){const e=t.config??(0,s.getSporeConfig)(),r=new o.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),n=o.BI.from(t.capacityMargin??1e8);let h,p=o.helpers.TransactionSkeleton({cellProvider:r});t.fromCells&&p.update("inputs",(r=>{for(const n of t.fromCells){const o=(0,l.encodeToAddress)(n.cellOutput.lock,{config:e.lumos}),s={script:n.cellOutput.lock};t.fromInfos.some((t=>{const r=(0,i.parseFromInfo)(t,{config:e.lumos});return d.default.isEqual(s,r.fromScript)}))||t.fromInfos.push(o),r=r.push(n)}return r})),t.clusterAgentOutPoint&&(h=await(0,u.getClusterAgentByOutPoint)(t.clusterAgentOutPoint,e));const y=[];for(const r of t.sporeInfos){const i=await(0,u.injectNewSporeOutput)({txSkeleton:p,data:r.data,toLock:r.toLock,fromInfos:t.fromInfos,changeAddress:t.changeAddress,updateOutput:t.updateOutput,clusterAgent:t.clusterAgent,cluster:t.cluster,mutant:t.mutant,clusterAgentCell:h,capacityMargin:n,config:e});p=i.txSkeleton,y.push(i)}const g=y.map((t=>t.outputIndex)),b=await(0,a.injectCapacityAndPayFee)({txSkeleton:p,fromInfos:t.fromInfos,changeAddress:t.changeAddress,updateTxSkeletonAfterCollection(t){t=(0,u.injectNewSporeIds)({txSkeleton:t,outputIndices:g,config:e});const r=[];for(const n of y){const i=p.get("outputs").get(n.outputIndex),o=(0,s.getSporeScript)(e,"Spore",i.cellOutput.type);if(o.behaviors?.cobuild){const e=(0,c.generateCreateSporeAction)({txSkeleton:t,reference:n.reference,outputIndex:n.outputIndex});r.push(...e.actions)}}if(r.length){t=(0,f.injectCommonCobuildProof)({txSkeleton:t,actions:r}).txSkeleton}return t},config:e});return p=b.txSkeleton,{txSkeleton:p,outputIndices:g}}},72686:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.meltSpore=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(18714),a=r(13972);e.meltSpore=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl);let u=n.helpers.TransactionSkeleton({cellProvider:r});const c=await(0,s.getSporeByOutPoint)(t.outPoint,e),f=await(0,s.injectLiveSporeCell)({txSkeleton:u,cell:c,updateWitness:t.updateWitness,defaultWitness:t.defaultWitness,since:t.since,config:e});u=f.txSkeleton;const l=(0,o.getSporeScript)(e,"Spore",c.cellOutput.type);if(l.behaviors?.cobuild){const t=(0,a.generateMeltSporeAction)({txSkeleton:u,inputIndex:f.inputIndex});u=(0,a.injectCommonCobuildProof)({txSkeleton:u,actions:t.actions}).txSkeleton}const d=n.helpers.encodeToAddress(c.cellOutput.lock,{config:e.lumos});return u=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:t.changeAddress??d,txSkeleton:u,config:e})).txSkeleton,{txSkeleton:u,inputIndex:f.inputIndex}}},69881:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transferSpore=void 0;const n=r(3599),i=r(1828),o=r(36027),s=r(18714),a=r(13972);e.transferSpore=async function(t){const e=t.config??(0,i.getSporeConfig)(),r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),u=t.useCapacityMarginAsFee??!0;if(!u&&!t.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(u&&void 0!==t.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacity margin of the spore");let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,s.getSporeByOutPoint)(t.outPoint,e),l=(0,i.getSporeScript)(e,"Spore",f.cellOutput.type),d=await(0,s.injectLiveSporeCell)({txSkeleton:c,cell:f,addOutput:!0,updateOutput:e=>(e.cellOutput.lock=t.toLock,t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),capacityMargin:t.capacityMargin,defaultWitness:t.defaultWitness,updateWitness:t.updateWitness,since:t.since,config:e});c=d.txSkeleton;const h=(0,a.generateTransferSporeAction)({txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex});if(u){if(l.behaviors?.cobuild){c=(0,a.injectCommonCobuildProof)({txSkeleton:c,actions:h.actions}).txSkeleton}c=await(0,o.payFeeByOutput)({outputIndex:d.outputIndex,txSkeleton:c,config:e})}else{c=(await(0,o.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:t.fromInfos,changeAddress:t.changeAddress,feeRate:t.feeRate,updateTxSkeletonAfterCollection(t){if(l.behaviors?.cobuild){t=(0,a.injectCommonCobuildProof)({txSkeleton:t,actions:h.actions}).txSkeleton}return t},config:e})).txSkeleton}return{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},18714:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(26480),e),i(r(3333),e),i(r(51760),e),i(r(69881),e),i(r(72686),e),i(r(71274),e),i(r(43557),e),i(r(98092),e),i(r(15148),e),i(r(38819),e),i(r(84302),e),i(r(50644),e),i(r(39415),e),i(r(53675),e),i(r(23882),e),i(r(50636),e),i(r(15751),e),i(r(69737),e),i(r(97633),e),i(r(3096),e),i(r(4788),e),i(r(47431),e),i(r(20191),e),i(r(12518),e),i(r(93972),e),i(r(16143),e),i(r(52271),e),i(r(99839),e),i(r(8310),e),i(r(55629),e),i(r(65871),e),i(r(75595),e),i(r(47178),e),i(r(12834),e),i(r(20012),e),i(r(49639),e)},69737:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClusterById=e.getClusterByOutPoint=e.getClusterByType=void 0;const n=r(3599),i=r(36027),o=r(1828);async function s(t,e){e=e??(0,o.getSporeConfig)();const r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl);if(!(0,i.isTypeId)(t.args))throw new Error(`Target Cluster Id is invalid: ${t.args}`);const s=await(0,i.getCellByType)({type:t,indexer:r});if(void 0===s)throw new Error("Cannot find Cluster by Type because target cell does not exist");const a=s.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(e,a,"Cluster"))throw new Error("Cannot find Cluster by Type because target cell is not a supported version of Cluster");return s}e.getClusterByType=s,e.getClusterByOutPoint=async function(t,e){e=e??(0,o.getSporeConfig)();const r=new n.RPC(e.ckbNodeUrl),s=await(0,i.getCellWithStatusByOutPoint)({outPoint:t,rpc:r});if(!s.cell)throw new Error("Cannot find Cluster by OutPoint because target cell was not found");if("live"!==s.status)throw new Error("Cannot find Cluster by OutPoint because target cell is not lived");const a=s.cell.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(e,a,"Cluster"))throw new Error("Cannot find Cluster by OutPoint because target cell is not a supported version of Cluster");return s.cell},e.getClusterById=async function(t,e){if(e=e??(0,o.getSporeConfig)(),!(0,i.isTypeId)(t))throw new Error(`Target ClusterId is invalid: ${t}`);const r=((0,o.getSporeScriptCategory)(e,"Cluster").versions??[]).map((t=>t.script));for(const n of r)try{return await s({...n,args:t},e)}catch(t){console.error("getClusterById error:",t)}throw new Error("Cannot find Cluster by Id because target cell does not exist or it's not a supported version of Cluster")}},50636:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveClusterCell=void 0;const n=r(24862),i=r(1828),o=r(36027);e.injectLiveClusterCell=async function(t){const e=t.cell,r=t.config??(0,i.getSporeConfig)();let s=t.txSkeleton;const a=e.cellOutput.type,u=(0,i.getSporeScript)(r,"Cluster",a);if(!a||!u)throw new Error("Cannot inject Cluster because target cell is not a supported version of Cluster");const c=await(0,o.setupCell)({txSkeleton:s,input:t.cell,config:r.lumos,addOutput:t.addOutput,updateOutput:e=>(void 0!==t.capacityMargin&&(e=(0,o.setAbsoluteCapacityMargin)(e,t.capacityMargin)),t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),defaultWitness:t.defaultWitness,updateWitness:t.updateWitness,since:t.since});if(s=c.txSkeleton,t.addOutput){const t=s.get("outputs").get(c.outputIndex);(0,o.assetCellMinimalCapacity)(t),s=s.update("fixedEntries",(t=>t.push({field:"outputs",index:c.outputIndex})))}return s=(0,n.addCellDep)(s,u.cellDep),{txSkeleton:s,inputIndex:c.inputIndex,outputIndex:c.outputIndex}}},15751:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveClusterReference=void 0;const n=r(33089),i=r(1828),o=r(36027),s=r(50636);e.injectLiveClusterReference=async function(t){const e=t.config??(0,i.getSporeConfig)(),r=t.cell;let a,u=t.txSkeleton;const c=await(0,o.referenceCellOrLockProxy)({txSkeleton:u,cell:r,inputLocks:t.inputLocks,outputLocks:t.outputLocks,referenceCell:async n=>(a=await(0,s.injectLiveClusterCell)({txSkeleton:n,cell:r,addOutput:!0,updateOutput:t.updateOutput,updateWitness:t.updateWitness,capacityMargin:t.capacityMargin,defaultWitness:t.defaultWitness,since:t.since,config:e}),a.txSkeleton),async referenceLockProxy(t){const o=r.cellOutput.type,s=(0,i.getSporeScript)(e,"Cluster",o);if(!s.behaviors?.lockProxy)throw new Error("Cannot reference Cluster because target Cluster does not supported lockProxy");return t=(0,n.addCellDep)(t,s.cellDep)}});return u=c.txSkeleton,{txSkeleton:u,referenceType:c.referencedCell?"cell":"lockProxy",cluster:c.referencedCell&&void 0!==a?{inputIndex:a.inputIndex,outputIndex:a.outputIndex}:void 0}}},23882:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewClusterIds=void 0;const n=r(36027),i=r(1828);e.injectNewClusterIds=function(t){const e=t.config??(0,i.getSporeConfig)();let r=t.txSkeleton;const o=r.get("inputs").get(0);if(!o)throw new Error("Cannot generate Cluster Id because Transaction.inputs[0] does not exist");let s=r.get("outputs"),a=(0,n.generateTypeIdsByOutputs)(o,s.toArray(),(t=>!!t.cellOutput.type&&(0,i.isSporeScriptSupported)(e,t.cellOutput.type,"Cluster")));if(t.outputIndices&&(a=a.filter((([e])=>t.outputIndices.findIndex((t=>t===e))>=0)),a.length!==t.outputIndices.length))throw new Error("Cannot generate Cluster Id because clusterOutputIndices cannot be fully handled");for(const[t,e]of a){const r=s.get(t);if(!r)throw new Error(`Cannot generate Cluster Id because Transaction.outputs[${t}] does not exist`);r.cellOutput.type.args=e,s=s.set(t,r)}return r.set("outputs",s)}},53675:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewClusterOutput=void 0;const n=r(71313),i=r(24862),o=r(31564),s=r(1828),a=r(36027),u=r(23882);e.injectNewClusterOutput=function(t){const e=t.config??(0,s.getSporeConfig)();let r=t.txSkeleton;if(void 0!==t.data.mutantId){const e=n.bytes.bytify(t.data.mutantId);if(32!==e.byteLength)throw new Error(`Invalid Mutant Id length, expected 32, actually: ${e.byteLength}`)}const c=(0,s.getSporeScript)(e,"Cluster"),f=(0,o.packRawClusterData)(t.data,c.behaviors?.clusterDataVersion);let l=(0,a.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:t.toLock,type:{...c.script,args:"0x"+"0".repeat(64)}},data:n.bytes.hexify(f)});const d=r.get("outputs").size;r=r.update("outputs",(e=>(void 0!==t.capacityMargin&&(l=(0,a.setAbsoluteCapacityMargin)(l,t.capacityMargin)),t.updateOutput instanceof Function&&(l=t.updateOutput(l)),e.push(l)))),r=r.update("fixedEntries",(t=>t.push({field:"outputs",index:d})));const h=r.get("inputs").first();if(h&&(r=(0,u.injectNewClusterIds)({outputIndices:[d],txSkeleton:r,config:e})),r=(0,i.addCellDep)(r,c.cellDep),void 0!==t.data.mutantId){const t=(0,s.getSporeScript)(e,"Mutant");r=(0,i.addCellDep)(r,t.cellDep)}return{txSkeleton:r,outputIndex:d,hasId:void 0!==h}}},65871:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClusterAgentByOutPoint=void 0;const n=r(3599),i=r(36027),o=r(1828);e.getClusterAgentByOutPoint=async function(t,e){e=e??(0,o.getSporeConfig)();const r=new n.RPC(e.ckbNodeUrl),s=await(0,i.getCellWithStatusByOutPoint)({outPoint:t,rpc:r});if(!s.cell)throw new Error("Cannot find ClusterAgent by OutPoint because target cell was not found");if("live"!==s.status)throw new Error("Cannot find ClusterAgent by OutPoint because target cell is not lived");const a=s.cell.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(e,a,"ClusterAgent"))throw new Error("Cannot find ClusterAgent by OutPoint because target cell is not a supported version of ClusterAgent");return s.cell}},8310:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveClusterAgentCell=void 0;const n=r(33089),i=r(1828),o=r(36027);e.injectLiveClusterAgentCell=async function(t){const e=t.config??(0,i.getSporeConfig)(),r=t.cell;let s=t.txSkeleton;const a=r.cellOutput.type,u=(0,i.getSporeScript)(e,"ClusterAgent",a);if(!a||!u)throw new Error("Cannot inject ClusterAgent because target cell is not a supported version of ClusterAgent");const c=await(0,o.setupCell)({txSkeleton:s,input:r,config:e.lumos,addOutput:t.addOutput,updateOutput:e=>(void 0!==t.capacityMargin&&(e=(0,o.setAbsoluteCapacityMargin)(e,t.capacityMargin)),t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),defaultWitness:t.defaultWitness,updateWitness:t.updateWitness,since:t.since});if(s=c.txSkeleton,t.addOutput){const t=s.get("outputs").get(c.outputIndex);(0,o.assetCellMinimalCapacity)(t),s=s.update("fixedEntries",(t=>t.push({field:"outputs",index:c.outputIndex})))}return s=(0,n.addCellDep)(s,u.cellDep),{txSkeleton:s,inputIndex:c.inputIndex,outputIndex:c.outputIndex}}},55629:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveClusterAgentReference=void 0;const n=r(33089),i=r(36027),o=r(1828),s=r(8310);e.injectLiveClusterAgentReference=async function(t){const e=t.config??(0,o.getSporeConfig)();let r=t.txSkeleton;const a=t.cell;if(!a.outPoint)throw new Error("Cannot inject ClusterAgent as reference because target cell has no OutPoint");let u;const c=await(0,i.referenceCellOrLockProxy)({txSkeleton:r,cell:a,inputLocks:t.inputLocks,outputLocks:t.outputLocks,referenceCell:async r=>(u=await(0,s.injectLiveClusterAgentCell)({txSkeleton:r,cell:a,addOutput:!0,updateOutput:t.updateOutput,updateWitness:t.updateWitness,capacityMargin:t.capacityMargin,defaultWitness:t.defaultWitness,since:t.since,config:e}),u.txSkeleton),referenceLockProxy(t){const r=a.cellOutput.type,i=(0,o.getSporeScript)(e,"ClusterAgent",r);if(!i.behaviors?.lockProxy)throw new Error("Cannot reference ClusterAgent because target cell does not supported lockProxy");return t=(0,n.addCellDep)(t,i.cellDep)}});return r=c.txSkeleton,{txSkeleton:r,referenceType:c.referencedCell?"cell":"lockProxy",clusterAgent:c.referencedCell&&void 0!==u?{inputIndex:u.inputIndex,outputIndex:u.outputIndex}:void 0}}},99839:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewClusterAgentOutput=void 0;const n=r(33089),i=r(31564),o=r(36027),s=r(1828),a=r(16143);e.injectNewClusterAgentOutput=async function(t){const e=t.config??(0,s.getSporeConfig)();let r=t.txSkeleton;const u=t.clusterProxyCell,c=u.cellOutput.type;if(!c||!(0,s.isSporeScriptSupported)(e,c,"ClusterProxy"))throw new Error("Cannot reference ClusterProxy because target cell is not a supported version of ClusterProxy");const f=await(0,a.injectLiveClusterProxyReference)({txSkeleton:r,cell:u,referenceType:t.referenceType,paymentAmount:t.paymentAmount,capacityMargin:t.clusterProxy?.capacityMargin,updateWitness:t.clusterProxy?.updateWitness,updateOutput:t.clusterProxy?.updateOutput,config:e});r=f.txSkeleton;const l=(0,s.getSporeScript)(e,"ClusterAgent"),d=u.data;let h=(0,o.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:t.toLock,type:{...l.script,args:d}},data:(0,i.packRawClusterAgentDataToHash)(c)});const p=r.get("outputs").size;return r=r.update("outputs",(e=>(void 0!==t.capacityMargin&&(h=(0,o.setAbsoluteCapacityMargin)(h,t.capacityMargin)),t.updateOutput instanceof Function&&(h=t.updateOutput(h)),e.push(h)))),r=r.update("fixedEntries",(t=>t.push({field:"outputs",index:p}))),r=(0,n.addCellDep)(r,l.cellDep),{txSkeleton:r,outputIndex:p,reference:{referenceType:f.referenceType,clusterProxy:f.clusterProxy,payment:f.payment}}}},52271:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClusterProxyById=e.getClusterProxyByOutPoint=e.getClusterProxyByType=void 0;const n=r(71313),i=r(3599),o=r(36027),s=r(1828),a=r(31564);async function u(t,e){e=e??(0,s.getSporeConfig)();const r=new i.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),n=await(0,o.getCellByType)({type:t,indexer:r});if(void 0===n)throw new Error("Cannot find ClusterProxy by Type because target cell does not exist");const a=n.cellOutput.type;if(!a||!(0,s.isSporeScriptSupported)(e,a,"ClusterProxy"))throw new Error("Cannot find ClusterProxy by Type because target cell is not a supported version of ClusterProxy");return n}e.getClusterProxyByType=u,e.getClusterProxyByOutPoint=async function(t,e){e=e??(0,s.getSporeConfig)();const r=new i.RPC(e.ckbNodeUrl),n=await(0,o.getCellWithStatusByOutPoint)({outPoint:t,rpc:r});if(!n.cell)throw new Error("Cannot find ClusterProxy by OutPoint because target cell was not found");if("live"!==n.status)throw new Error("Cannot find ClusterProxy by OutPoint because target cell is not lived");const a=n.cell.cellOutput.type;if(!a||!(0,s.isSporeScriptSupported)(e,a,"ClusterProxy"))throw new Error("Cannot find ClusterProxy by OutPoint because target cell is not a supported version of ClusterProxy");return n.cell},e.getClusterProxyById=async function(t,e){e=e??(0,s.getSporeConfig)();const r=((0,s.getSporeScriptCategory)(e,"ClusterProxy").versions??[]).map((t=>t.script)),i=n.bytes.hexify((0,a.packRawClusterProxyArgs)({id:t}));for(const t of r)try{return await u({...t,args:i},e)}catch(t){console.error("getClusterProxyById error:",t)}throw new Error("Cannot find ClusterProxy by ID because target cell does not exist or it's not a supported version of ClusterProxy")}},93972:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveClusterProxyCell=void 0;const n=r(33089),i=r(1828),o=r(36027);e.injectLiveClusterProxyCell=async function(t){const e=t.config??(0,i.getSporeConfig)(),r=t.cell;let s=t.txSkeleton;const a=r.cellOutput.type,u=(0,i.getSporeScript)(e,"ClusterProxy",a);if(!a||!u)throw new Error("Cannot inject ClusterProxy because target cell is not a supported version of ClusterProxy");const c=await(0,o.setupCell)({txSkeleton:s,input:r,addOutput:t.addOutput,updateOutput:e=>(void 0!==t.capacityMargin&&(e=(0,o.setAbsoluteCapacityMargin)(e,t.capacityMargin)),t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),defaultWitness:t.defaultWitness,updateWitness:t.updateWitness,since:t.since,config:e.lumos});if(s=c.txSkeleton,t.addOutput){const t=s.get("outputs").get(c.outputIndex);(0,o.assetCellMinimalCapacity)(t),s=s.update("fixedEntries",(t=>t.push({field:"outputs",index:c.outputIndex})))}return s=(0,n.addCellDep)(s,u.cellDep),{txSkeleton:s,inputIndex:c.inputIndex,outputIndex:c.outputIndex}}},16143:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveClusterProxyReference=void 0;const n=r(3599),i=r(33089),o=r(36027),s=r(1828),a=r(93972),u=r(31564);e.injectLiveClusterProxyReference=async function(t){const e=t.config??(0,s.getSporeConfig)(),r="payment"===t.referenceType;let c=t.txSkeleton;const f=t.cell;if(!f.outPoint)throw new Error("Cannot inject ClusterProxy as reference because target cell has no OutPoint");const l=f.cellOutput.type,d=(0,s.getSporeScript)(e,"ClusterProxy",l);if(!l||!d)throw new Error("Cannot inject ClusterProxy because target cell is not a supported version of ClusterProxy");let h,p;if(r){const e=(0,u.unpackToRawClusterProxyArgs)(l.args),r=void 0!==e.minPayment?e.minPayment:n.BI.from(0);if(r.lte(0))throw new Error("Cannot pay to reference ClusterProxy because minPayment is undefined");const i=(0,o.minimalCellCapacityByLock)(f.cellOutput.lock),s=r.gt(i)?r:i,a=n.BI.from(t.paymentAmount?t.paymentAmount instanceof Function?t.paymentAmount(s):t.paymentAmount:s);if(a.lt(s))throw new Error(`Cannot pay to reference ClusterProxy because paymentAmount is too low, required: ${s.toString()}, actual: ${a.toString()}`);const d={cellOutput:{capacity:a.toHexString(),lock:f.cellOutput.lock},data:"0x"};(0,o.assetCellMinimalCapacity)(d),c=c.update("outputs",(t=>(h=t.size,t.push(d)))),c=c.update("fixedEntries",(t=>t.push({field:"outputs",index:h})))}return r||(p=await(0,a.injectLiveClusterProxyCell)({txSkeleton:c,cell:f,updateOutput:t.updateOutput,updateWitness:t.updateWitness,capacityMargin:t.capacityMargin,addOutput:!0,config:e}),c=p.txSkeleton,c=c.update("fixedEntries",(t=>t.push({field:"outputs",index:p.outputIndex})))),c=(0,i.addCellDep)(c,d.cellDep),c=(0,i.addCellDep)(c,{outPoint:f.outPoint,depType:"code"}),{txSkeleton:c,referenceType:r?"payment":"cell",clusterProxy:!r&&p?{inputIndex:p.inputIndex,outputIndex:p.outputIndex}:void 0,payment:r?{outputIndex:h}:void 0}}},12518:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewClusterProxyIds=void 0;const n=r(71313),i=r(36027),o=r(31564),s=r(1828);e.injectNewClusterProxyIds=function(t){const e=t.config??(0,s.getSporeConfig)();let r=t.txSkeleton;const a=r.get("inputs").get(0);if(!a)throw new Error("Cannot generate ClusterProxy Id because Transaction.inputs[0] does not exist");let u=r.get("outputs"),c=(0,i.generateTypeIdsByOutputs)(a,u.toArray(),(t=>!!t.cellOutput.type&&(0,s.isSporeScriptSupported)(e,t.cellOutput.type,"ClusterProxy")));if(t.outputIndices&&(c=c.filter((([e])=>t.outputIndices.findIndex((t=>t===e))>=0)),c.length!==t.outputIndices.length))throw new Error("Cannot generate ClusterProxy Id because outputIndices cannot be fully handled");for(const[t,e]of c){const r=u.get(t);if(!r)throw new Error(`Cannot generate ClusterProxy Id because Transaction.outputs[${t}] does not exist`);const i=(0,o.unpackToRawClusterProxyArgs)(r.cellOutput.type.args),s=(0,o.packRawClusterProxyArgs)({id:e,minPayment:i.minPayment});r.cellOutput.type.args=n.bytes.hexify(s),u=u.set(t,r)}return r.set("outputs",u)}},20191:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewClusterProxyOutput=void 0;const n=r(71313),i=r(33089),o=r(31564),s=r(36027),a=r(36027),u=r(1828),c=r(15751),f=r(12518);e.injectNewClusterProxyOutput=async function(t){const e=t.config??(0,u.getSporeConfig)();let r=t.txSkeleton;const l=t.clusterCell,d=l.cellOutput.type;if(!d||!(0,u.isSporeScriptSupported)(e,d,"Cluster"))throw new Error("Cannot reference Cluster because target cell is not a supported version of Cluster");const h=await(0,c.injectLiveClusterReference)({txSkeleton:r,cell:l,inputLocks:(0,s.composeInputLocks)({fromInfos:t.fromInfos,config:e.lumos}),outputLocks:(0,s.composeOutputLocks)({outputLocks:[t.toLock],fromInfos:t.fromInfos,changeAddress:t.changeAddress,config:e.lumos}),updateOutput:t.cluster?.updateOutput,updateWitness:t.cluster?.updateWitness,capacityMargin:t.cluster?.capacityMargin,config:e});r=h.txSkeleton;const p=(0,u.getSporeScript)(e,"ClusterProxy");let y=(0,a.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:t.toLock,type:{...p.script,args:n.bytes.hexify((0,o.packRawClusterProxyArgs)({id:"0x"+"0".repeat(64),minPayment:t.minPayment}))}},data:d.args});const g=r.get("outputs").size;r=r.update("outputs",(e=>(void 0!==t.capacityMargin&&(y=(0,a.setAbsoluteCapacityMargin)(y,t.capacityMargin)),t.updateOutput instanceof Function&&(y=t.updateOutput(y)),e.push(y)))),r=r.update("fixedEntries",(t=>t.push({field:"outputs",index:g})));const b=r.get("inputs").first();return b&&(r=(0,f.injectNewClusterProxyIds)({outputIndices:[g],txSkeleton:r,config:e})),r=(0,i.addCellDep)(r,p.cellDep),{txSkeleton:r,outputIndex:g,hasId:void 0!==b,reference:{referenceType:h.referenceType,cluster:h.cluster}}}},49639:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMutantById=e.getMutantByOutPoint=e.getMutantByType=void 0;const n=r(71313),i=r(3599),o=r(31564),s=r(36027),a=r(1828);async function u(t,e){e=e??(0,a.getSporeConfig)();const r=new i.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl),n=await(0,s.getCellByType)({type:t,indexer:r});if(void 0===n)throw new Error("Cannot find Mutant by Type because target cell does not exist");const o=n.cellOutput.type;if(!o||!(0,a.isSporeScriptSupported)(e,o,"Mutant"))throw new Error("Cannot find Mutant by Type because target cell is not a supported version of Mutant");return n}e.getMutantByType=u,e.getMutantByOutPoint=async function(t,e){e=e??(0,a.getSporeConfig)();const r=new i.RPC(e.ckbNodeUrl),n=await(0,s.getCellWithStatusByOutPoint)({outPoint:t,rpc:r});if(!n.cell)throw new Error("Cannot find Mutant by OutPoint because target cell was not found");if("live"!==n.status)throw new Error("Cannot find Mutant by OutPoint because target cell is not lived");const o=n.cell.cellOutput.type;if(!o||!(0,a.isSporeScriptSupported)(e,o,"Mutant"))throw new Error("Cannot find Mutant by OutPoint because target cell is not a supported version of Mutant");return n.cell},e.getMutantById=async function(t,e){e=e??(0,a.getSporeConfig)();const r=((0,a.getSporeScriptCategory)(e,"Mutant").versions??[]).map((t=>t.script)),i=n.bytes.hexify((0,o.packRawMutantArgs)({id:t}));for(const t of r)try{return await u({...t,args:i},e)}catch(t){console.error("getMutantById error:",t)}throw new Error("Cannot find Mutant by ID because target cell does not exist or it's not a supported version of Mutant")}},12834:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveMutantCell=void 0;const n=r(71313),i=r(3599),o=r(33089),s=r(1828),a=r(36027),u=r(31564);e.injectLiveMutantCell=async function(t){const e=t.cell,r=t.config??(0,s.getSporeConfig)();let c=t.txSkeleton;const f=e.cellOutput.type,l=(0,s.getSporeScript)(r,"Mutant",f);if(!f||!l)throw new Error("Cannot inject Mutant because target cell is not a supported version of Mutant");const d=await(0,a.setupCell)({txSkeleton:c,input:t.cell,config:r.lumos,addOutput:t.addOutput,updateOutput(e){if(void 0!==t.minPayment){const r=(0,u.unpackToRawMutantArgs)(e.cellOutput.type.args),o=(0,u.packRawMutantArgs)({...r,minPayment:i.BI.from(t.minPayment)});e.cellOutput.type.args=n.bytes.hexify(o)}return void 0!==t.capacityMargin&&(e=(0,a.setAbsoluteCapacityMargin)(e,t.capacityMargin)),t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e},defaultWitness:t.defaultWitness,updateWitness:t.updateWitness,since:t.since});if(c=d.txSkeleton,t.addOutput){const t=c.get("outputs").get(d.outputIndex);(0,a.assetCellMinimalCapacity)(t),c=c.update("fixedEntries",(t=>t.push({field:"outputs",index:d.outputIndex})))}return c=(0,o.addCellDep)(c,l.cellDep),{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},20012:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveMutantReferences=void 0;const n=r(3599),i=r(33089),o=r(31564),s=r(36027),a=r(1828),u=r(49639);e.injectLiveMutantReferences=async function(t){const e=t.config??(0,a.getSporeConfig)();let r=t.txSkeleton;const c=Array.isArray(t.mutantIds)?t.mutantIds:[t.mutantIds],f=await Promise.all(c.map((t=>(0,u.getMutantById)(t,e)))),l=[],d=f.reduce(((t,e)=>{const r=e.cellOutput.lock,i=n.utils.computeScriptHash(r);void 0===t[i]&&(t[i]={cell:e,lock:r,minPayment:n.BI.from(0),minLockCapacity:(0,s.minimalCellCapacityByLock)(r)});const a=(0,o.unpackToRawMutantArgs)(e.cellOutput.type.args),u=void 0!==a.minPayment?a.minPayment:n.BI.from(0);return t[i].minPayment=t[i].minPayment.add(u),t}),{});for(const e of Object.values(d)){if(e.minPayment.eq(0))continue;const i=e.minPayment.gt(e.minLockCapacity)?e.minPayment:e.minLockCapacity,o=n.BI.from(t.paymentAmount?t.paymentAmount(i,e.lock,e.cell):i);if(o.lt(i))throw new Error(`Cannot pay to reference Mutant because paymentAmount is too low, required: ${i.toString()}, actual: ${o.toString()}`);const s=r.get("outputs").size;r=r.update("outputs",(t=>(l.push(s),t.push({cellOutput:{capacity:o.toHexString(),lock:e.lock},data:"0x"})))),r=r.update("fixedEntries",(t=>t.push({field:"outputs",index:s})))}const h=(0,a.getSporeScript)(e,"Mutant");r=(0,i.addCellDep)(r,h.cellDep);const p=(0,a.getSporeScript)(e,"Lua");r=(0,i.addCellDep)(r,p.cellDep);for(const t of f)r=(0,i.addCellDep)(r,{outPoint:t.outPoint,depType:"code"});return{txSkeleton:r,referenceType:l.length>0?"payment":"none",payment:l.length>0?{outputIndices:l}:void 0}}},47178:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewMutantIds=void 0;const n=r(71313),i=r(36027),o=r(31564),s=r(1828);e.injectNewMutantIds=function(t){const e=t.config??(0,s.getSporeConfig)();let r=t.txSkeleton;const a=r.get("inputs").get(0);if(!a)throw new Error("Cannot generate Mutant Id because Transaction.inputs[0] does not exist");let u=r.get("outputs"),c=(0,i.generateTypeIdsByOutputs)(a,u.toArray(),(t=>!!t.cellOutput.type&&(0,s.isSporeScriptSupported)(e,t.cellOutput.type,"Mutant")));if(t.outputIndices&&(c=c.filter((([e])=>t.outputIndices.findIndex((t=>t===e))>=0)),c.length!==t.outputIndices.length))throw new Error("Cannot generate Mutant Id because outputIndices cannot be fully handled");for(const[t,e]of c){const r=u.get(t);if(!r)throw new Error(`Cannot generate Mutant Id because Transaction.outputs[${t}] does not exist`);const i=(0,o.unpackToRawMutantArgs)(r.cellOutput.type.args),s=(0,o.packRawMutantArgs)({id:e,minPayment:i.minPayment});r.cellOutput.type.args=n.bytes.hexify(s),u=u.set(t,r)}return r.set("outputs",u)}},75595:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewMutantOutput=void 0;const n=r(71313),i=r(3599),o=r(33089),s=r(31564),a=r(1828),u=r(36027),c=r(47178);e.injectNewMutantOutput=function(t){const e=t.config??(0,a.getSporeConfig)();let r=t.txSkeleton;const f=(0,a.getSporeScript)(e,"Mutant");let l=(0,u.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:t.toLock,type:{...f.script,args:n.bytes.hexify((0,s.packRawMutantArgs)({id:"0x"+"0".repeat(64),minPayment:void 0!==t.minPayment?i.BI.from(t.minPayment):void 0}))}},data:n.bytes.hexify(t.data)});const d=r.get("outputs").size;r=r.update("outputs",(e=>(void 0!==t.capacityMargin&&(l=(0,u.setAbsoluteCapacityMargin)(l,t.capacityMargin)),t.updateOutput instanceof Function&&(l=t.updateOutput(l)),e.push(l)))),r=r.update("fixedEntries",(t=>t.push({field:"outputs",index:d})));const h=r.get("inputs").first();h&&(r=(0,c.injectNewMutantIds)({outputIndices:[d],txSkeleton:r,config:e}));const p=(0,a.getSporeScript)(e,"Lua");return r=(0,o.addCellDep)(r,p.cellDep),r=(0,o.addCellDep)(r,f.cellDep),{txSkeleton:r,outputIndex:d,hasId:void 0!==h}}},47431:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSporeById=e.getSporeByOutPoint=e.getSporeByType=void 0;const n=r(3599),i=r(36027),o=r(1828);async function s(t,e){e=e??(0,o.getSporeConfig)();const r=new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl);if(!(0,i.isTypeId)(t.args))throw new Error(`Target Spore ID is invalid: ${t.args}`);const s=await(0,i.getCellByType)({type:t,indexer:r});if(void 0===s)throw new Error("Cannot find Spore by Type because target cell does not exist");const a=s.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(e,a,"Spore"))throw new Error("Cannot find spore by Type because target cell type is not a supported version of Spore");return s}e.getSporeByType=s,e.getSporeByOutPoint=async function(t,e){e=e??(0,o.getSporeConfig)();const r=new n.RPC(e.ckbNodeUrl),s=await(0,i.getCellWithStatusByOutPoint)({outPoint:t,rpc:r});if(!s.cell)throw new Error("Cannot find spore by OutPoint because target cell was not found");if("live"!==s.status)throw new Error("Cannot find spore by OutPoint because target cell is not lived");const a=s.cell.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(e,a,"Spore"))throw new Error("Cannot find spore by OutPoint because target cell type is not a supported version of Spore");return s.cell},e.getSporeById=async function(t,e){if(e=e??(0,o.getSporeConfig)(),!(0,i.isTypeId)(t))throw new Error("Cannot find spore because target SporeId is not valid");const r=((0,o.getSporeScriptCategory)(e,"Spore").versions??[]).map((t=>t.script));for(const n of r)try{return await s({...n,args:t},e)}catch{}throw new Error("Cannot find spore by SporeId because target cell does not exist or it's not a supported version of Spore")}},3096:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectLiveSporeCell=void 0;const n=r(3599),i=r(24862),o=r(36027),s=r(1828),a=r(31564),u=r(49639);e.injectLiveSporeCell=async function(t){const e=t.config??(0,s.getSporeConfig)(),r=t.cell;let c=t.txSkeleton;const f=r.cellOutput.type,l=(0,s.getSporeScript)(e,"Spore",f);if(!f||!l)throw new Error("Cannot inject live spore because target cell type is not a supported version of Spore");const d=await(0,o.setupCell)({txSkeleton:c,input:r,addOutput:t.addOutput,updateOutput:e=>(void 0!==t.capacityMargin&&(e=(0,o.setAbsoluteCapacityMargin)(e,t.capacityMargin)),t.updateOutput instanceof Function&&(e=t.updateOutput(e)),e),defaultWitness:t.defaultWitness,updateWitness:t.updateWitness,config:e.lumos,since:t.since});c=d.txSkeleton,t.addOutput&&(c=c.update("fixedEntries",(t=>t.push({field:"outputs",index:d.outputIndex}))));let h=l.cellDep;if(l.behaviors?.dynamicCelldep){const t=await(0,o.getCellByType)({type:l.behaviors?.dynamicCelldep,indexer:new n.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl)});t&&(h={outPoint:t.outPoint,depType:"code"})}c=(0,i.addCellDep)(c,h);const p=(0,a.unpackToRawSporeData)(r.data);if((0,o.isContentTypeValid)(p.contentType)){const t=(0,o.decodeContentType)(p.contentType);if(void 0!==t.parameters.mutant){const r=(0,s.getSporeScript)(e,"Mutant");c=(0,i.addCellDep)(c,r.cellDep);const n=t.parameters.mutant,o=Array.isArray(n)?n:[n],a=await Promise.all(o.map((t=>(0,u.getMutantById)(t,e))));for(const t of a)c=(0,i.addCellDep)(c,{outPoint:t.outPoint,depType:"code"})}}return{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},4788:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewSporeIds=void 0;const n=r(36027),i=r(1828);e.injectNewSporeIds=function(t){const e=t.config??(0,i.getSporeConfig)();let r=t.txSkeleton;const o=r.get("inputs").get(0);if(!o)throw new Error("Cannot generate Spore Id because Transaction.inputs[0] does not exist");let s=r.get("outputs"),a=(0,n.generateTypeIdsByOutputs)(o,s.toArray(),(t=>!!t.cellOutput.type&&(0,i.isSporeScriptSupported)(e,t.cellOutput.type,"Spore")));if(t.outputIndices&&(a=a.filter((([e])=>t.outputIndices.findIndex((t=>t===e))>=0)),a.length!==t.outputIndices.length))throw new Error("Cannot generate Spore Id because sporeOutputIndices cannot be fully handled");for(const[t,e]of a){const r=s.get(t);if(!r)throw new Error(`Cannot generate Spore Id because Transaction.outputs[${t}] does not exist`);r.cellOutput.type.args=e,s=s.set(t,r)}return r.set("outputs",s)}},97633:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectNewSporeOutput=void 0;const n=r(71313),i=r(3599),o=r(24862),s=r(31564),a=r(1828),u=r(36027),c=r(36027),f=r(36027),l=r(69737),d=r(15751),h=r(55629),p=r(20012),y=r(4788);e.injectNewSporeOutput=async function(t){const e=t.config??(0,a.getSporeConfig)(),r=t.data;let g=t.txSkeleton;const b=!!r.clusterId&&!t.clusterAgentCell,m=!!r.clusterId&&!!t.clusterAgentCell;let v;const _=r.clusterId?await(0,l.getClusterById)(r.clusterId,e):void 0;let w;if(b&&(v=await(0,d.injectLiveClusterReference)({txSkeleton:g,cell:_,inputLocks:(0,f.composeInputLocks)({fromInfos:t.fromInfos,config:e.lumos}),outputLocks:(0,f.composeOutputLocks)({outputLocks:t.extraOutputLocks?t.extraOutputLocks.concat([t.toLock]):[t.toLock],fromInfos:t.fromInfos,changeAddress:t.changeAddress,config:e.lumos}),capacityMargin:t.cluster?.capacityMargin,updateOutput:t.cluster?.updateOutput,updateWitness:t.cluster?.updateWitness,defaultWitness:t.cluster?.defaultWitness,since:t.cluster?.since,config:e}),g=v.txSkeleton),m){w=await(0,h.injectLiveClusterAgentReference)({txSkeleton:g,cell:t.clusterAgentCell,inputLocks:(0,f.composeInputLocks)({fromInfos:t.fromInfos,config:e.lumos}),outputLocks:(0,f.composeOutputLocks)({outputLocks:[t.toLock],fromInfos:t.fromInfos,changeAddress:t.changeAddress,config:e.lumos}),capacityMargin:t.clusterAgent?.capacityMargin,updateOutput:t.clusterAgent?.updateOutput,updateWitness:t.clusterAgent?.updateWitness,defaultWitness:t.clusterAgent?.defaultWitness,since:t.clusterAgent?.since,config:e}),g=w.txSkeleton;const r=_.cellOutput.type,n=(0,a.getSporeScript)(e,"Cluster",r);if(!r||!n)throw new Error("Cannot reference Cluster because target cell is not a supported version of Cluster");g=(0,o.addCellDep)(g,n.cellDep),g=(0,o.addCellDep)(g,{outPoint:_.outPoint,depType:"code"})}const S=(0,u.setContentTypeParameters)(r.contentType,r.contentTypeParameters??{}),A=t.skipCheckContentType??!1;if(!A&&!(0,f.isContentTypeValid)(S))throw new Error(`Spore has specified an invalid data.contentType: ${S}`);const x=(0,a.getSporeScript)(e,"Spore");let E=(0,c.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:t.toLock,type:{...x.script,args:"0x"+"0".repeat(64)}},data:n.bytes.hexify((0,s.packRawSporeData)({contentType:S,content:r.content,clusterId:r.clusterId}))});const k=g.get("outputs").size;g=g.update("outputs",(e=>(void 0!==t.capacityMargin&&(E=(0,c.setAbsoluteCapacityMargin)(E,t.capacityMargin)),t.updateOutput instanceof Function&&(E=t.updateOutput(E)),e.push(E)))),g=g.update("fixedEntries",(t=>t.push({field:"outputs",index:k})));const I=g.get("inputs").first();let T;if(void 0!==I&&(g=(0,y.injectNewSporeIds)({outputIndices:[k],txSkeleton:g,config:e})),!A){const r=(0,f.decodeContentType)(S);void 0!==r.parameters.mutant&&(T=await(0,p.injectLiveMutantReferences)({txSkeleton:g,mutantIds:r.parameters.mutant,paymentAmount:t.mutant?.paymentAmount,config:e}),g=T.txSkeleton)}let C=x.cellDep;if(x.behaviors?.dynamicCelldep){const t=await(0,u.getCellByType)({type:x.behaviors?.dynamicCelldep,indexer:new i.Indexer(e.ckbIndexerUrl,e.ckbNodeUrl)});t&&(C={outPoint:t.outPoint,depType:"code"})}return g=(0,o.addCellDep)(g,C),{txSkeleton:g,outputIndex:k,hasId:void 0!==I,reference:{referenceTarget:b?"cluster":m?"clusterAgent":"none",referenceType:b?v.referenceType:m?w.referenceType:void 0,cluster:v?.cluster,clusterAgent:w?.clusterAgent},mutantReference:T?{referenceType:T.referenceType,payment:T.payment}:void 0}}},50752:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateCreateClusterBuildingPacket=e.generateCreateClusterAction=e.assembleCreateClusterAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(t){const e=[],r=[],a=t.cellOutput.type,c=n.utils.computeScriptHash(a),f=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:c});r.push(f);const l=o.SporeAction.pack({type:"CreateCluster",value:{clusterId:a.args,dataHash:n.utils.ckbHash(t.data),to:{type:"Script",value:t.cellOutput.lock}}});return e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(f)),scriptHash:c,data:i.bytes.hexify(l)}),{actions:e,scriptInfos:r}}function f(t){return c(t.txSkeleton.get("outputs").get(t.outputIndex))}e.assembleCreateClusterAction=c,e.generateCreateClusterAction=f,e.generateCreateClusterBuildingPacket=function(t){let e=t.txSkeleton;const r=f(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.get("outputs").size-1})}},74941:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateReferenceClusterAction=void 0;const n=r(78261);e.generateReferenceClusterAction=function(t){if("lockProxy"===t.referenceType)return{actions:[],scriptInfos:[]};if(!t.cluster)throw new Error("Cannot generate TransferCluster Action without cluster info");return(0,n.generateTransferClusterAction)({txSkeleton:t.txSkeleton,inputIndex:t.cluster.inputIndex,outputIndex:t.cluster.outputIndex})}},78261:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTransferClusterBuildingPacket=e.generateTransferClusterAction=e.assembleTransferClusterAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(t,e){const r=[],a=[],c=e.cellOutput.type,f=n.utils.computeScriptHash(c),l=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:f});a.push(l);const d=o.SporeAction.pack({type:"TransferCluster",value:{clusterId:c.args,from:{type:"Script",value:t.cellOutput.lock},to:{type:"Script",value:e.cellOutput.lock}}});return r.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(l)),scriptHash:f,data:i.bytes.hexify(d)}),{actions:r,scriptInfos:a}}function f(t){let e=t.txSkeleton;return c(e.get("inputs").get(t.inputIndex),e.get("outputs").get(t.outputIndex))}e.assembleTransferClusterAction=c,e.generateTransferClusterAction=f,e.generateTransferClusterBuildingPacket=function(t){let e=t.txSkeleton;const r=f(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.useCapacityMarginAsFee?t.outputIndex:e.get("outputs").size-1})}},11228:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateCreateClusterAgentBuildingPacket=e.generateCreateClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(52293);function f(t){const e=[],r=[];let a=t.txSkeleton;const f=a.get("outputs").get(t.outputIndex),l=f.cellOutput.type,d=n.utils.computeScriptHash(l),h=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:d});r.push(h);const p=o.SporeAction.pack({type:"CreateClusterAgent",value:{clusterId:l.args,clusterProxyId:t.clusterProxyId,to:{type:"Script",value:f.cellOutput.lock}}});e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(h)),scriptHash:d,data:i.bytes.hexify(p)});const y=(0,c.generateReferenceClusterProxyAction)({txSkeleton:a,referenceType:t.reference.referenceType,clusterProxy:t.reference.clusterProxy});return e.push(...y.actions),r.push(...y.scriptInfos),{actions:e,scriptInfos:r}}e.generateCreateClusterAgentAction=f,e.generateCreateClusterAgentBuildingPacket=function(t){let e=t.txSkeleton;const r=f(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.get("outputs").size-1})}},86078:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateMeltClusterAgentBuildingPacket=e.generateMeltClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(t){const e=[],r=[];const a=t.txSkeleton.get("inputs").get(t.inputIndex),c=a.cellOutput.type,f=n.utils.computeScriptHash(c),l=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:f});r.push(l);const d=o.SporeAction.pack({type:"MeltClusterAgent",value:{clusterId:a.cellOutput.type.args,from:{type:"Script",value:a.cellOutput.lock}}});return e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(l)),scriptHash:f,data:i.bytes.hexify(d)}),{actions:e,scriptInfos:r}}e.generateMeltClusterAgentAction=c,e.generateMeltClusterAgentBuildingPacket=function(t){let e=t.txSkeleton;const r=c(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.get("outputs").size-1})}},40653:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateReferenceClusterAgentAction=void 0;const n=r(58227);e.generateReferenceClusterAgentAction=function(t){if("lockProxy"===t.referenceType)return{actions:[],scriptInfos:[]};if(!t.clusterAgent)throw new Error("Cannot generate TransferClusterAgent Action without clusterAgent info");return(0,n.generateTransferClusterAgentAction)({txSkeleton:t.txSkeleton,inputIndex:t.clusterAgent.inputIndex,outputIndex:t.clusterAgent.outputIndex})}},58227:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTransferClusterAgentBuildingPacket=e.generateTransferClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(t){const e=[],r=[];let a=t.txSkeleton;const c=a.get("inputs").get(t.inputIndex),f=a.get("outputs").get(t.outputIndex),l=f.cellOutput.type,d=n.utils.computeScriptHash(l),h=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:d});r.push(h);const p=o.SporeAction.pack({type:"TransferClusterAgent",value:{clusterId:l.args.slice(0,66),from:{type:"Script",value:c.cellOutput.lock},to:{type:"Script",value:f.cellOutput.lock}}});return e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(h)),scriptHash:d,data:i.bytes.hexify(p)}),{actions:e,scriptInfos:r}}e.generateTransferClusterAgentAction=c,e.generateTransferClusterAgentBuildingPacket=function(t){let e=t.txSkeleton;const r=c(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.useCapacityMarginAsFee?t.outputIndex:e.get("outputs").size-1})}},74746:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateCreateClusterProxyBuildingPacket=e.generateCreateClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(74941),f=r(31564);function l(t){const e=[],r=[];let a=t.txSkeleton;const l=a.get("outputs").get(t.outputIndex),d=l.cellOutput.type,h=n.utils.computeScriptHash(d),p=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:h});r.push(p);const y=o.SporeAction.pack({type:"CreateClusterProxy",value:{clusterId:l.data,clusterProxyId:(0,f.unpackToRawClusterProxyArgs)(d.args).id,to:{type:"Script",value:l.cellOutput.lock}}});e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(p)),scriptHash:h,data:i.bytes.hexify(y)});const g=(0,c.generateReferenceClusterAction)({txSkeleton:a,referenceType:t.reference.referenceType,cluster:t.reference.cluster});return e.push(...g.actions),r.push(...g.scriptInfos),{actions:e,scriptInfos:r}}e.generateCreateClusterProxyAction=l,e.generateCreateClusterProxyBuildingPacket=function(t){let e=t.txSkeleton;const r=l(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.get("outputs").size-1})}},5244:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateMeltClusterProxyBuildingPacket=e.generateMeltClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(31564);function f(t){const e=[],r=[];const a=t.txSkeleton.get("inputs").get(t.inputIndex),f=a.cellOutput.type,l=n.utils.computeScriptHash(f),d=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:l});r.push(d);const h=o.SporeAction.pack({type:"MeltClusterProxy",value:{clusterId:a.data,clusterProxyId:(0,c.unpackToRawClusterProxyArgs)(f.args).id,from:{type:"Script",value:a.cellOutput.lock}}});return e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(d)),scriptHash:l,data:i.bytes.hexify(h)}),{actions:e,scriptInfos:r}}e.generateMeltClusterProxyAction=f,e.generateMeltClusterProxyBuildingPacket=function(t){let e=t.txSkeleton;const r=f(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.get("outputs").size-1})}},52293:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateReferenceClusterProxyAction=void 0;const n=r(85781);e.generateReferenceClusterProxyAction=function(t){if("payment"===t.referenceType)return{actions:[],scriptInfos:[]};if(!t.clusterProxy)throw new Error("Cannot generate TransferClusterProxy Action without clusterProxy info");return(0,n.generateTransferClusterProxyAction)({txSkeleton:t.txSkeleton,inputIndex:t.clusterProxy.inputIndex,outputIndex:t.clusterProxy.outputIndex})}},85781:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTransferClusterProxyBuildingPacket=e.generateTransferClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(31564);function f(t){const e=[],r=[];let a=t.txSkeleton;const f=a.get("inputs").get(t.inputIndex),l=a.get("outputs").get(t.outputIndex),d=l.cellOutput.type,h=n.utils.computeScriptHash(d),p=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:h});r.push(p);const y=o.SporeAction.pack({type:"TransferClusterProxy",value:{clusterId:l.data,clusterProxyId:(0,c.unpackToRawClusterProxyArgs)(d.args).id,from:{type:"Script",value:f.cellOutput.lock},to:{type:"Script",value:l.cellOutput.lock}}});return e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(p)),scriptHash:h,data:i.bytes.hexify(y)}),{actions:e,scriptInfos:r}}e.generateTransferClusterProxyAction=f,e.generateTransferClusterProxyBuildingPacket=function(t){let e=t.txSkeleton;const r=f(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.useCapacityMarginAsFee?t.outputIndex:e.get("outputs").size-1})}},37760:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateCreateSporeBuildingPacket=e.generateCreateSporeAction=e.assembleCreateSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(74941),f=r(40653);function l(t){const e=[],r=[],a=t.cellOutput.type,c=n.utils.computeScriptHash(a),f=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:c});r.push(f);const l=o.SporeAction.pack({type:"CreateSpore",value:{sporeId:a.args,dataHash:n.utils.ckbHash(t.data),to:{type:"Script",value:t.cellOutput.lock}}});return e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(f)),scriptHash:c,data:i.bytes.hexify(l)}),{actions:e,scriptInfos:r}}function d(t){let e=t.txSkeleton;const r=e.get("outputs").get(t.outputIndex);let{actions:n,scriptInfos:i}=l(r);if("clusterAgent"===t.reference.referenceTarget){const r=(0,f.generateReferenceClusterAgentAction)({txSkeleton:e,referenceType:t.reference.referenceType,clusterAgent:t.reference.clusterAgent});n.push(...r.actions),i.push(...r.scriptInfos)}if("cluster"===t.reference.referenceTarget){const r=(0,c.generateReferenceClusterAction)({txSkeleton:e,referenceType:t.reference.referenceType,cluster:t.reference.cluster});n.push(...r.actions),i.push(...r.scriptInfos)}return{actions:n,scriptInfos:i}}e.assembleCreateSporeAction=l,e.generateCreateSporeAction=d,e.generateCreateSporeBuildingPacket=function(t){let e=t.txSkeleton;const r=d(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.get("outputs").size-1})}},3902:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateMeltSporeBuildingPacket=e.generateMeltSporeAction=e.assembleMeltSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(t){const e=[],r=[],a=t.cellOutput.type,c=n.utils.computeScriptHash(a),f=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:c});r.push(f);const l=o.SporeAction.pack({type:"MeltSpore",value:{sporeId:a.args,from:{type:"Script",value:t.cellOutput.lock}}});return e.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(f)),scriptHash:c,data:i.bytes.hexify(l)}),{actions:e,scriptInfos:r}}function f(t){return c(t.txSkeleton.get("inputs").get(t.inputIndex))}e.assembleMeltSporeAction=c,e.generateMeltSporeAction=f,e.generateMeltSporeBuildingPacket=function(t){let e=t.txSkeleton;const r=f(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.get("outputs").size-1})}},61545:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTransferSporeBuildingPacket=e.generateTransferSporeAction=e.assembleTransferSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(t,e){const r=[],a=[],c=e.cellOutput.type,f=n.utils.computeScriptHash(c),l=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:f});a.push(l);const d=o.SporeAction.pack({type:"TransferSpore",value:{sporeId:c.args,from:{type:"Script",value:t.cellOutput.lock},to:{type:"Script",value:e.cellOutput.lock}}});return r.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(l)),scriptHash:f,data:i.bytes.hexify(d)}),{actions:r,scriptInfos:a}}function f(t){let e=t.txSkeleton;return c(e.get("inputs").get(t.inputIndex),e.get("outputs").get(t.outputIndex))}e.assembleTransferSporeAction=c,e.generateTransferSporeAction=f,e.generateTransferSporeBuildingPacket=function(t){let e=t.txSkeleton;const r=f(t);return(0,a.createRawBuildingPacket)({txSkeleton:e,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.useCapacityMarginAsFee?t.outputIndex:e.get("outputs").size-1})}},62638:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRawBuildingPacket=void 0;const n=r(3599),i=r(16043);e.createRawBuildingPacket=function(t){const e=t.txSkeleton;return{type:"BuildingPacketV1",value:{message:{actions:t.actions??[]},payload:n.helpers.createTransactionFromSkeleton(e),resolvedInputs:(0,i.inputCellsToResolvedInputs)(e.get("inputs")),changeOutput:t.changeOutput??e.get("outputs").size-1,scriptInfos:t.scriptInfos??[],lockActions:[]}}}},16043:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolvedInputsToInputCells=e.inputCellsToResolvedInputs=void 0,e.inputCellsToResolvedInputs=function(t,e){return e instanceof Function&&(t=t.filter(e)),t.reduce(((t,e)=>(t.outputs.push(e.cellOutput),t.outputsData.push(e.data),t)),{outputs:[],outputsData:[]})},e.resolvedInputsToInputCells=function(t,e){return t.map(((t,r)=>({cellOutput:e.outputs[r],data:e.outputsData[r],outPoint:t.previousOutput})))}},17654:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSporeScriptInfoFromTemplate=e.sporeScriptInfoTemplate=e.sporeScriptInfoSchema=e.sporeScriptInfoMessageType=void 0,e.sporeScriptInfoMessageType="SporeAction",e.sporeScriptInfoSchema="\narray Byte32 [byte; 32];\nvector Bytes <byte>;\n\ntable Script {\n    code_hash: Byte32,\n    hash_type: byte,\n    args: Bytes,\n}\n\nunion Address {\n    Script,\n}\n\n/* Actions for Spore */\n\ntable MintSpore {\n    spore_id: Byte32,\n    to: Address,\n    data_hash: Byte32,\n}\n\ntable TransferSpore {\n    spore_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnSpore {\n    spore_id: Byte32,\n    from: Address,\n}\n\n/* Actions for Cluster */\n\ntable MintCluster {\n    cluster_id: Byte32,\n    to: Address,\n    data_hash: Byte32,\n}\n\ntable TransferCluster {\n    cluster_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\n/* Actions for Cluster/Proxy */\n\ntable MintProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    to: Address,\n}\n\ntable TransferProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    from: Address,\n}\n\n/* Actions for Cluster/Agent */\n\ntable MintAgent {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    to: Address,\n}\n\ntable TransferAgent {\n    cluster_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnAgent {\n    cluster_id: Byte32,\n    from: Address,\n}\n\n/* Action in ScriptInfo */\n\nunion SporeAction {\n    MintSpore,\n    TransferSpore,\n    BurnSpore,\n\n    MintCluster,\n    TransferCluster,\n\n    MintProxy,\n    TransferProxy,\n    BurnProxy,\n\n    MintAgent,\n    TransferAgent,\n    BurnAgent,\n}\n",e.sporeScriptInfoTemplate={name:"spore",url:"https://spore.pro",schema:e.sporeScriptInfoSchema,messageType:e.sporeScriptInfoMessageType},e.createSporeScriptInfoFromTemplate=function(t){return{...e.sporeScriptInfoTemplate,scriptHash:t.scriptHash}}},30089:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectCommonCobuildProof=e.assembleCobuildWitnessLayout=e.unpackWitness=e.getWitnessType=void 0;const n=r(41600),i=r(71313),o=r(24888);function s(t){return i.bytes.hexify(o.WitnessLayout.pack({type:"SighashAll",value:{seal:"0x",message:{actions:t}}}))}e.getWitnessType=function(t){const e=i.bytes.bytify(t??[]);if(e.length>4){const t=i.number.Uint32LE.unpack(e.slice(0,4));if(!(t>=o.WitnessLayoutFieldTags.SighashAll))return"WitnessArgs";for(const[e,r]of Object.entries(o.WitnessLayoutFieldTags))if(r===t)return e}throw new Error("Unknown witness format")},e.unpackWitness=function(t){const e=i.bytes.bytify(t??[]);if(e.length>4){const t=i.number.Uint32LE.unpack(e.slice(0,4));try{return t>=o.WitnessLayoutFieldTags.SighashAll?o.WitnessLayout.unpack(e):{type:"WitnessArgs",value:n.blockchain.WitnessArgs.unpack(e)}}catch(t){}}throw new Error("Unknown witness format")},e.assembleCobuildWitnessLayout=s,e.injectCommonCobuildProof=function(t){let e=t.txSkeleton;if(e.get("inputs").size>0){let r;return e=e.update("witnesses",(e=>{r=e.size;const n=s(t.actions);return e.push(n)})),{txSkeleton:e,witnessIndex:r}}throw new Error("Cannot inject CobuildProof into a Transaction without witnesses")}},75945:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BuildingPacket=e.BuildingPacketV1=e.ScriptInfoVec=e.ScriptInfo=e.ResolvedInputs=e.Message=e.ActionVec=e.Action=void 0;const n=r(71313),i=r(41600),o=r(31564);e.Action=n.molecule.table({scriptInfoHash:o.Hash,scriptHash:o.Hash,data:i.blockchain.Bytes},["scriptInfoHash","scriptHash","data"]),e.ActionVec=n.molecule.vector(e.Action),e.Message=n.molecule.table({actions:e.ActionVec},["actions"]),e.ResolvedInputs=n.molecule.table({outputs:i.blockchain.CellOutputVec,outputsData:i.blockchain.BytesVec},["outputs","outputsData"]),e.ScriptInfo=n.molecule.table({name:o.RawString,url:o.RawString,scriptHash:o.Hash,schema:o.RawString,messageType:o.RawString},["name","url","scriptHash","schema","messageType"]),e.ScriptInfoVec=n.molecule.vector(e.ScriptInfo),e.BuildingPacketV1=n.molecule.table({message:e.Message,payload:i.blockchain.Transaction,resolvedInputs:e.ResolvedInputs,changeOutput:o.Uint32Opt,scriptInfos:e.ScriptInfoVec,lockActions:e.ActionVec},["message","payload","resolvedInputs","changeOutput","scriptInfos","lockActions"]),e.BuildingPacket=n.molecule.union({BuildingPacketV1:e.BuildingPacketV1},["BuildingPacketV1"])},20462:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SporeAction=e.MeltClusterAgent=e.TransferClusterAgent=e.CreateClusterAgent=e.MeltClusterProxy=e.TransferClusterProxy=e.CreateClusterProxy=e.TransferCluster=e.CreateCluster=e.MeltSpore=e.TransferSpore=e.CreateSpore=e.Address=void 0;const n=r(71313),i=r(41600),o=r(31564);e.Address=n.molecule.union({Script:i.blockchain.Script},["Script"]),e.CreateSpore=n.molecule.table({sporeId:o.Hash,to:e.Address,dataHash:o.Hash},["sporeId","to","dataHash"]),e.TransferSpore=n.molecule.table({sporeId:o.Hash,from:e.Address,to:e.Address},["sporeId","from","to"]),e.MeltSpore=n.molecule.table({sporeId:o.Hash,from:e.Address},["sporeId","from"]),e.CreateCluster=n.molecule.table({clusterId:o.Hash,to:e.Address,dataHash:o.Hash},["clusterId","to","dataHash"]),e.TransferCluster=n.molecule.table({clusterId:o.Hash,from:e.Address,to:e.Address},["clusterId","from","to"]),e.CreateClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,to:e.Address},["clusterId","clusterProxyId","to"]),e.TransferClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,from:e.Address,to:e.Address},["clusterId","clusterProxyId","from","to"]),e.MeltClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,from:e.Address},["clusterId","clusterProxyId","from"]),e.CreateClusterAgent=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,to:e.Address},["clusterId","clusterProxyId","to"]),e.TransferClusterAgent=n.molecule.table({clusterId:o.Hash,from:e.Address,to:e.Address},["clusterId","from","to"]),e.MeltClusterAgent=n.molecule.table({clusterId:o.Hash,from:e.Address},["clusterId","from"]),e.SporeAction=n.molecule.union({CreateSpore:e.CreateSpore,TransferSpore:e.TransferSpore,MeltSpore:e.MeltSpore,CreateCluster:e.CreateCluster,TransferCluster:e.TransferCluster,CreateClusterProxy:e.CreateClusterProxy,TransferClusterProxy:e.TransferClusterProxy,MeltClusterProxy:e.MeltClusterProxy,CreateClusterAgent:e.CreateClusterAgent,TransferClusterAgent:e.TransferClusterAgent,MeltClusterAgent:e.MeltClusterAgent},["CreateSpore","TransferSpore","MeltSpore","CreateCluster","TransferCluster","CreateClusterProxy","TransferClusterProxy","MeltClusterProxy","CreateClusterAgent","TransferClusterAgent","MeltClusterAgent"])},24888:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WitnessLayout=e.WitnessLayoutFieldTags=e.OtxStart=e.Otx=e.SighashAllOnly=e.SighashAll=void 0;const n=r(41600),i=r(71313),o=r(75945);e.SighashAll=i.molecule.table({seal:n.blockchain.Bytes,message:o.Message},["seal","message"]),e.SighashAllOnly=i.molecule.table({seal:n.blockchain.Bytes},["seal"]),e.Otx=i.molecule.table({},[]),e.OtxStart=i.molecule.table({},[]),e.WitnessLayoutFieldTags={SighashAll:4278190081,SighashAllOnly:4278190082,Otx:4278190083,OtxStart:4278190084},e.WitnessLayout=i.molecule.union({SighashAll:e.SighashAll,SighashAllOnly:e.SighashAllOnly,Otx:e.Otx,OtxStart:e.OtxStart},e.WitnessLayoutFieldTags)},13972:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(62638),e),i(r(16043),e),i(r(17654),e),i(r(30089),e),i(r(75945),e),i(r(24888),e),i(r(20462),e),i(r(37760),e),i(r(61545),e),i(r(3902),e),i(r(50752),e),i(r(78261),e),i(r(74941),e),i(r(74746),e),i(r(85781),e),i(r(52293),e),i(r(5244),e),i(r(11228),e),i(r(58227),e),i(r(40653),e),i(r(86078),e)},75930:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackToRawClusterDataV2=e.unpackToRawClusterDataV1=e.unpackToRawClusterData=e.packRawClusterDataV2=e.packRawClusterDataV1=e.packRawClusterData=e.ClusterDataV2=e.ClusterDataV1=void 0;const n=r(41600),i=r(71313),o=r(36027),s=r(71313);function a(t){return e.ClusterDataV1.pack({name:(0,o.bytifyRawString)(t.name),description:(0,o.bytifyRawString)(t.description)})}function u(t){return e.ClusterDataV2.pack({name:(0,o.bytifyRawString)(t.name),description:(0,o.bytifyRawString)(t.description),mutantId:t.mutantId})}function c(t){const r=e.ClusterDataV1.unpack(t);return{name:(0,o.bufferToRawString)(r.name),description:(0,o.bufferToRawString)(r.description)}}function f(t){const r=e.ClusterDataV2.unpack(t);return{name:(0,o.bufferToRawString)(r.name),description:(0,o.bufferToRawString)(r.description),mutantId:r.mutantId}}e.ClusterDataV1=i.molecule.table({name:n.blockchain.Bytes,description:n.blockchain.Bytes},["name","description"]),e.ClusterDataV2=i.molecule.table({name:n.blockchain.Bytes,description:n.blockchain.Bytes,mutantId:n.blockchain.BytesOpt},["name","description","mutantId"]),e.packRawClusterData=function(t,e){if(!e)return u(t);switch(e){case"v1":return a(t);case"v2":return u(t);default:throw new Error(`Unsupported ClusterData version: ${e}`)}},e.packRawClusterDataV1=a,e.packRawClusterDataV2=u,e.unpackToRawClusterData=function(t,e){if(e)switch(e){case"v1":return c(t);case"v2":return f(t);default:throw new Error(`Unsupported ClusterData version: ${e}`)}try{return f(t)}catch{try{return c(t)}catch{throw new Error(`Cannot unpack ClusterData, no matching molecule: ${s.bytes.hexify(t)}`)}}},e.unpackToRawClusterDataV1=c,e.unpackToRawClusterDataV2=f},83557:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.packRawClusterAgentData=e.packRawClusterAgentDataToHash=void 0;const n=r(3599),i=r(71313);function o(t){return n.utils.computeScriptHash(t)}e.packRawClusterAgentDataToHash=o,e.packRawClusterAgentData=function(t){const e=o(t);return i.bytes.bytify(e)}},42820:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackToRawClusterProxyArgs=e.packRawClusterProxyArgs=e.ClusterProxyArgsExact=e.ClusterProxyArgsPower=void 0;const n=r(92900),i=r(41600),o=r(71313),s=r(17733);e.ClusterProxyArgsPower=(0,o.createBytesCodec)({pack(t){const e=i.blockchain.Byte32.pack(t.id),r=s.Uint8Opt.pack(t.minPayment),n=new Uint8Array(e.length+r.length);return n.set(e,0),n.set(r,e.length),n},unpack(t){const e=i.blockchain.Byte32.unpack(t.slice(0,32)),r=s.Uint8Opt.unpack(t.slice(32,33));return{id:e,minPayment:"number"==typeof r?n.BI.from(r):void 0}}}),e.ClusterProxyArgsExact=(0,o.createBytesCodec)({pack(t){const e=i.blockchain.Byte32.pack(t.id),r=s.Uint64Opt.pack(t.minPayment),n=new Uint8Array(e.length+r.length);return n.set(e,0),n.set(r,e.length),n},unpack(t){const e=i.blockchain.Byte32.unpack(t.slice(0,32)),r=s.Uint64Opt.unpack(t.slice(32,40));return{id:e,minPayment:(n.BI.isBI(r),r)}}}),e.packRawClusterProxyArgs=function(t,r){switch(r){case"power":return e.ClusterProxyArgsPower.pack(t);case"exact":case void 0:return e.ClusterProxyArgsExact.pack(t);default:throw new Error(`Unsupported ClusterProxy version: ${r}`)}},e.unpackToRawClusterProxyArgs=function(t,r){switch(r){case"power":return e.ClusterProxyArgsPower.unpack(t);case"exact":case void 0:return e.ClusterProxyArgsExact.unpack(t);default:throw new Error(`Unsupported ClusterProxy version: ${r}`)}}},31564:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(17733),e),i(r(49657),e),i(r(75930),e),i(r(42820),e),i(r(83557),e),i(r(47745),e)},47745:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackToRawMutantArgs=e.packRawMutantArgs=e.MutantArgsExact=e.MutantArgsPower=void 0;const n=r(92900),i=r(41600),o=r(71313),s=r(17733);e.MutantArgsPower=(0,o.createBytesCodec)({pack(t){const e=i.blockchain.Byte32.pack(t.id),r=s.Uint8Opt.pack(t.minPayment),n=new Uint8Array(e.length+r.length);return n.set(e,0),n.set(r,e.length),n},unpack(t){const e=i.blockchain.Byte32.unpack(t.slice(0,32)),r=s.Uint8Opt.unpack(t.slice(32,33));return{id:e,minPayment:"number"==typeof r?n.BI.from(r):void 0}}}),e.MutantArgsExact=(0,o.createBytesCodec)({pack(t){const e=i.blockchain.Byte32.pack(t.id),r=s.Uint64Opt.pack(t.minPayment),n=new Uint8Array(e.length+r.length);return n.set(e,0),n.set(r,e.length),n},unpack(t){const e=i.blockchain.Byte32.unpack(t.slice(0,32)),r=s.Uint64Opt.unpack(t.slice(32,40));return{id:e,minPayment:(n.BI.isBI(r),r)}}}),e.packRawMutantArgs=function(t,r){switch(r){case"power":return e.MutantArgsPower.pack(t);case"exact":case void 0:return e.MutantArgsExact.pack(t);default:throw new Error(`Unsupported Mutant version: ${r}`)}},e.unpackToRawMutantArgs=function(t,r){switch(r){case"power":return e.MutantArgsPower.unpack(t);case"exact":case void 0:return e.MutantArgsExact.unpack(t);default:throw new Error(`Unsupported Mutant version: ${r}`)}}},49657:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackToRawSporeData=e.packRawSporeData=e.SporeData=void 0;const n=r(41600),i=r(71313),o=r(36027);e.SporeData=i.molecule.table({contentType:n.blockchain.Bytes,content:n.blockchain.Bytes,clusterId:n.blockchain.BytesOpt},["contentType","content","clusterId"]),e.packRawSporeData=function(t){return e.SporeData.pack({contentType:(0,o.bytifyRawString)(t.contentType),content:t.content,clusterId:t.clusterId})},e.unpackToRawSporeData=function(t){const r=e.SporeData.unpack(t);return{contentType:(0,o.bufferToRawString)(r.contentType),content:r.content,clusterId:r.clusterId}}},17733:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RawString=e.Hash=e.Uint64Opt=e.Uint32Opt=e.Uint8Opt=e.ScriptId=void 0;const n=r(41600),i=r(71313),o=r(36027);e.ScriptId=i.molecule.struct({codeHash:n.blockchain.Byte32,hashType:n.blockchain.HashType},["codeHash","hashType"]),e.Uint8Opt=i.molecule.option(i.number.Uint8),e.Uint32Opt=i.molecule.option(i.number.Uint32LE),e.Uint64Opt=i.molecule.option(i.number.Uint64LE),e.Hash=n.blockchain.Byte32,e.RawString=i.molecule.byteVecOf({pack:t=>(0,o.bytifyRawString)(t),unpack:t=>(0,o.bufferToRawString)(t)})},74762:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSporeCacheScriptByCodeHash=e.getSporeCacheScriptsByTags=e.getSporeCacheScriptsByTag=e.createSporeConfigCache=e.getSporeConfigCache=e.setSporeConfigCache=void 0;const i=n(r(88055)),o=r(45358),s=new Map;function a(t){const e=u(t);s.set(e.hash,e)}function u(t){const e=(0,o.getSporeConfigHash)(t),r={},n={},s={},a={};for(const e in t.scripts){const o=t.scripts[e],u={},c={};for(const t of o.versions){const n={name:e,...(0,i.default)(t)};r[t.script.codeHash]=n;const o=t.tags.sort();for(const t of o)void 0===u[t]&&(u[t]=[]),u[t].push(n);const s=o.join(",");c[s]||(c[s]=[]),c[s].push(n)}n[e]=u,s[e]=c,a[e]={}}return{hash:e,config:t,scriptsByTag:n,scriptsByTags:s,scriptsByCodeHash:r,queryRecordsByTags:a}}function c(t,e,r){const n=t.scriptsByTag[e]?.[r];if(Array.isArray(n))return n}e.setSporeConfigCache=a,e.getSporeConfigCache=function(t){const e=(0,o.getSporeConfigHash)(t);return s.has(e)||a(t),s.get(e)},e.createSporeConfigCache=u,e.getSporeCacheScriptsByTag=c,e.getSporeCacheScriptsByTags=function(t,e,r){if(1===r.length)return c(t,e,r[0]);const n=t.queryRecordsByTags[e],i=r.sort(),o=i.join(",");if(n&&o in n)return n[o];const s=t.scriptsByTags[e];if(!s)return;const a=i.join(",.*"),u=new RegExp(`${a}.*`,"g"),f=Object.entries(s).filter((([t])=>u.test(t)));if(f){const t=f.reduce(((t,[e,r])=>(t.push(...r),t)),[]);return n[o]=t,t}},e.getSporeCacheScriptByCodeHash=function(t,e,r){const n=t.scriptsByCodeHash[e];if(!r||n.name===r)return n}},51896:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.forkSporeConfig=e.getSporeConfig=e.setSporeConfig=void 0;const i=n(r(88055));let o=r(85256).predefinedSporeConfigs.Aggron4;e.setSporeConfig=function(t){o=t},e.getSporeConfig=function(){return o},e.forkSporeConfig=function(t,e){const r={...(t=(0,i.default)(t)).scripts,...e.scripts};return{...t,...e,scripts:r}}},45358:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSporeConfigHash=void 0;const n=r(41600),i=r(36027),o=new Map;e.getSporeConfigHash=function(t){const e=JSON.stringify(t,null,0);if(o.has(e))return o.get(e);const r=n.utils.ckbHash((0,i.bytifyRawString)(e));return o.set(e,r),r}},1828:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(12833),e),i(r(45358),e),i(r(74762),e),i(r(51896),e),i(r(93633),e),i(r(85256),e)},85256:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.predefinedSporeConfigs=void 0;const n=r(14105),i={lumos:n.predefined.AGGRON4,ckbNodeUrl:"https://testnet.ckb.dev/rpc",ckbIndexerUrl:"https://testnet.ckb.dev/indexer",maxTransactionSize:512e3,defaultTags:["preview"],scripts:{Spore:{versions:[{tags:["v2","did"],script:{codeHash:"0x0b1f412fbae26853ff7d082d422c2bdd9e2ff94ee8aaec11240a5b34cc6e890f",hashType:"type"},cellDep:{outPoint:{txHash:"0x29d0123dda05cb92452a46df609e9bd08e066d62f0c3953fe34935dc10edfdcc",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,dynamicCelldep:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x80f0d4bf6b3951911aa6b98cc609d477a8a10b903b35cfd528d098e95c36f680"}}},{tags:["v2","preview"],script:{codeHash:"0x685a60219309029d01310311dba953d67029170ca4848a4ff638e57002130a0d",hashType:"data1"},cellDep:{outPoint:{txHash:"0x5e8d2a517d50fd4bb4d01737a7952a1f1d35c8afc77240695bb569cd7d9d5a1f",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}},{tags:["v1","latest"],script:{codeHash:"0xbbad126377d45f90a8ee120da988a2d7332c78ba8fd679aab478a19d6c133494",hashType:"data1"},cellDep:{outPoint:{txHash:"0xfd694382e621f175ddf81ce91ce2ecf8bfc027d53d7d31b8438f7d26fc37fd19",index:"0x0"},depType:"code"}}]},Cluster:{versions:[{tags:["v2","preview"],script:{codeHash:"0x0bbe768b519d8ea7b96d58f1182eb7e6ef96c541fbd9526975077ee09f049058",hashType:"data1"},cellDep:{outPoint:{txHash:"0xcebb174d6e300e26074aea2f5dbd7f694bb4fe3de52b6dfe205e54f90164510a",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}},{tags:["v1","latest"],script:{codeHash:"0x598d793defef36e2eeba54a9b45130e4ca92822e1d193671f490950c3b856080",hashType:"data1"},cellDep:{outPoint:{txHash:"0x49551a20dfe39231e7db49431d26c9c08ceec96a29024eef3acc936deeb2ca76",index:"0x0"},depType:"code"}}]},ClusterProxy:{versions:[{tags:["v2","preview"],script:{codeHash:"0x4349889bda064adab8f49f7dd8810d217917f7df28e9b2a1df0b74442399670a",hashType:"data1"},cellDep:{outPoint:{txHash:"0xc5a41d58155b11ecd87a5a49fdcb6e83bd6684d3b72b2f3686f081945461c156",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},ClusterAgent:{versions:[{tags:["v2","preview"],script:{codeHash:"0x923e997654b2697ee3f77052cb884e98f28799a4270fd412c3edb8f3987ca622",hashType:"data1"},cellDep:{outPoint:{txHash:"0x52210232292d10c51b48e72a2cea60d8f0a08c2680a97a8ee7ca0a39379f0036",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Mutant:{versions:[{tags:["v2","preview"],script:{codeHash:"0x5ff1a403458b436ea4b2ceb72f1fa70a6507968493315b646f5302661cb68e57",hashType:"data1"},cellDep:{outPoint:{txHash:"0x9b2098e5b6f575b2fd34ffd0212bc1c96e1f9e86fcdb146511849c174dfe0d02",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Lua:{versions:[{tags:["v2","preview"],script:{codeHash:"0xed08faee8c29b7a7c29bd9d495b4b93cc207bd70ca93f7b356f39c677e7ab0fc",hashType:"data1"},cellDep:{outPoint:{txHash:"0x8fb7170a58d631250dabd0f323a833f4ad2cfdd0189f45497e62beb8409e7a0c",index:"0x0"},depType:"code"}}]}}},o={lumos:n.predefined.LINA,ckbNodeUrl:"https://mainnet.ckb.dev/rpc",ckbIndexerUrl:"https://mainnet.ckb.dev/indexer",maxTransactionSize:512e3,defaultTags:["latest"],scripts:{Spore:{versions:[{tags:["v2","did"],script:{codeHash:"0xcfba73b58b6f30e70caed8a999748781b164ef9a1e218424a6fb55ebf641cb33",hashType:"type"},cellDep:{outPoint:{txHash:"0x18dda0f02036305b423b85cce276a40417faed044b2ee9220284215f38734daa",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,dynamicCelldep:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x62312cd846659e188b05da11dc3f080b083c27371ea701d6026e11e713e0e3de"}}},{tags:["v2","latest"],script:{codeHash:"0x4a4dce1df3dffff7f8b2cd7dff7303df3b6150c9788cb75dcf6747247132b9f5",hashType:"data1"},cellDep:{outPoint:{txHash:"0x96b198fb5ddbd1eed57ed667068f1f1e55d07907b4c0dbd38675a69ea1b69824",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Cluster:{versions:[{tags:["v2","latest"],script:{codeHash:"0x7366a61534fa7c7e6225ecc0d828ea3b5366adec2b58206f2ee84995fe030075",hashType:"data1"},cellDep:{outPoint:{txHash:"0xe464b7fb9311c5e2820e61c99afc615d6b98bdefbe318c34868c010cbd0dc938",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]}}};e.predefinedSporeConfigs={Aggron4:i,Testnet:i,Mainnet:o}},93633:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSporeScriptSupported=e.isSporeScriptCategorySupported=e.getSporeScriptByTags=e.getSporeScriptByScriptId=e.getLatestSporeScript=e.getSporeScript=e.getSporeScriptCategory=void 0;const n=r(74762);function i(t,e){const r=t.scripts[e];if(!r||!r.versions.length)throw new Error(`"${e}" script is not defined in the SporeConfig`);return r.versions[0]}function o(t,e,r){const i=t.scripts[e];if(!i||!i.versions.length)throw new Error(`"${e}" script is not defined in the SporeConfig`);const o=(0,n.getSporeConfigCache)(t),s=(0,n.getSporeCacheScriptByCodeHash)(o,r.codeHash,e);if(!s)throw new Error(`Specific "${e}" script is not defined in the SporeConfig, codeHash: ${r.codeHash}`);return s}function s(t,e,r){const i=t.scripts[e];if(!i||!i.versions.length)throw new Error(`"${e}" script is not defined in the SporeConfig`);const o=(0,n.getSporeConfigCache)(t),s=(0,n.getSporeCacheScriptsByTags)(o,e,r);if(!s||!s.length)throw new Error(`Specific tags of the "${e}" script is not defined in the SporeConfig: [${r.join(", ")}]`);return s[0]}e.getSporeScriptCategory=function(t,e){const r=t.scripts[e];if(!r)throw new Error(`"${e}" script is not defined in the SporeConfig`);return r},e.getSporeScript=function(t,e,r){return r&&"object"==typeof r&&"codeHash"in r&&"hashType"in r?o(t,e,r):r&&Array.isArray(r)?s(t,e,r):t.defaultTags?s(t,e,t.defaultTags):i(t,e)},e.getLatestSporeScript=i,e.getSporeScriptByScriptId=o,e.getSporeScriptByTags=s,e.isSporeScriptCategorySupported=function(t,e){return void 0!==t.scripts[e]},e.isSporeScriptSupported=function(t,e,r){const i=(0,n.getSporeConfigCache)(t);return void 0!==(0,n.getSporeCacheScriptByCodeHash)(i,e.codeHash,r)}},12833:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},47127:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromInfoToAddress=e.isAddressValid=void 0;const n=r(3599),i=r(35945);function o(t,e){try{return n.helpers.parseAddress(t,{config:e}),!0}catch{return!1}}e.isAddressValid=o,e.fromInfoToAddress=function(t,e){if("string"==typeof t&&o(t))return t;const r=(0,i.parseFromInfo)(t,{config:e});return n.helpers.encodeToAddress(r.fromScript,{config:e})}},24021:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bufferToRawString=e.bytifyRawString=void 0;const n=r(71313),i=new TextEncoder,o=new TextDecoder;e.bytifyRawString=function(t){return i.encode(t)},e.bufferToRawString=function(t,e){const r=n.bytes.bytify(t);return o.decode(r,e)}},98299:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnExceededCapacity=e.injectNeededCapacity=e.calculateNeededCapacity=e.correctChangeCellCapacity=e.createCapacitySnapshot=e.createCapacitySnapshotFromTransactionSkeleton=e.getCellsTotalCapacity=e.setAbsoluteCapacityMargin=e.getCellCapacityMargin=e.assetCellMinimalCapacity=e.correctCellMinimalCapacity=e.minimalCellCapacityByLock=void 0;const i=n(r(88055)),o=r(3599),s=r(35945),a=r(47127),u=r(90888);function c(t){return o.helpers.minimalCellCapacityCompatible({cellOutput:{capacity:"0x0",lock:t},data:"0x"})}function f(t){const e=o.helpers.minimalCellCapacityCompatible(t);return o.BI.from(t.cellOutput.capacity).sub(e)}function l(t){return t.reduce(((t,e)=>t.add(e.cellOutput.capacity)),o.BI.from(0))}function d(t){return h(t.get("inputs").toArray(),t.get("outputs").toArray())}function h(t,e){const r=l(t),n=l(e),i=r.sub(n),o=n.sub(r);return{inputsLength:t.length,outputsLength:e.length,inputsCapacity:r,outputsCapacity:n,inputsRemainCapacity:i,outputsRemainCapacity:o}}function p(t){const e=d(t.txSkeleton),r=o.helpers.parseAddress(t.changeAddress,{config:t.config}),n=o.BI.from(t.extraCapacity??0),i=c(r).add(n);let s=e.inputsRemainCapacity,a=e.outputsRemainCapacity.add(n);const u=a.lte(0)&&s.gt(0),f=s.lt(i);return u&&f&&(a=i,s=o.BI.from(0)),a.lt(0)&&(a=o.BI.from(0)),s.lt(0)&&(s=o.BI.from(0)),{snapshot:e,neededCapacity:a,exceedCapacity:s}}function y(t){let e=t.txSkeleton;const r=d(e);let n=!1,i=!1,s=-1,a=o.BI.from(0);if(r.inputsRemainCapacity.lte(0))return{txSkeleton:e,returnedChange:n,createdChangeCell:i,changeCellOutputIndex:s,unreturnedCapacity:a};n=!0;const c=o.helpers.parseAddress(t.changeAddress,{config:t.config}),f=e.get("fixedEntries").filter((({field:t})=>"outputs"===t)).map((({index:t})=>t)),l=e.get("outputs").findLastIndex(((t,e)=>!f.includes(e)&&((0,u.isScriptValueEquals)(t.cellOutput.lock,c)&&void 0===t.cellOutput.type)));if(l>-1)s=l,e=e.update("outputs",(t=>{const e=t.get(l);return e.cellOutput.capacity=o.BI.from(e.cellOutput.capacity).add(r.inputsRemainCapacity).toHexString(),t.set(l,e)}));else{const t={cellOutput:{capacity:r.inputsRemainCapacity.toHexString(),lock:c},data:"0x"},n=o.helpers.minimalCellCapacityCompatible(t);r.inputsRemainCapacity.lt(n)?a=r.inputsRemainCapacity:(i=!0,e=e.update("outputs",(e=>(s=e.size,e.push(t)))))}return{txSkeleton:e,returnedChange:n,createdChangeCell:i,changeCellOutputIndex:s,unreturnedCapacity:a}}e.minimalCellCapacityByLock=c,e.correctCellMinimalCapacity=function(t){const e=o.helpers.minimalCellCapacityCompatible(t);return e.eq(t.cellOutput.capacity)||(t.cellOutput.capacity=e.toHexString()),t},e.assetCellMinimalCapacity=function(t){const e=o.helpers.minimalCellCapacityCompatible(t);if(e.gt(t.cellOutput.capacity)){const r=e.toString(),n=o.BI.from(t.cellOutput.capacity).toString();throw new Error(`Target cell required capacity of ${r}, but declared ${n}`)}},e.getCellCapacityMargin=f,e.setAbsoluteCapacityMargin=function(t,e){const r=f(t=(0,i.default)(t)),n=e instanceof Function?e(t,r):e,s=o.helpers.minimalCellCapacityCompatible(t);return t.cellOutput.capacity=s.add(n).toHexString(),t},e.getCellsTotalCapacity=l,e.createCapacitySnapshotFromTransactionSkeleton=d,e.createCapacitySnapshot=h,e.correctChangeCellCapacity=function(t){let e=t.txSkeleton;const r=d(e);if(r.inputsRemainCapacity.gt(0)){const n=t.changeOutputIndex??e.get("outputs").size-1;e=e.update("outputs",(t=>{const e=t.get(n);if(!e)throw new Error("Cannot correct change cell capacity because Transaction.outputs is empty");const i=o.BI.from(e.cellOutput.capacity);return e.cellOutput.capacity=i.add(r.inputsRemainCapacity).toHexString(),t}))}return e},e.calculateNeededCapacity=p,e.injectNeededCapacity=async function(t){let e=t.txSkeleton;const r=t.config,n=(0,a.fromInfoToAddress)(t.changeAddress??t.fromInfos[0],r),i=p({extraCapacity:t.extraCapacity,changeAddress:n,txSkeleton:e,config:r}),o=i.snapshot;let u;if(i.neededCapacity.gt(0)&&(e=await s.common.injectCapacity(e,t.fromInfos,i.neededCapacity,t.changeAddress,void 0,{enableDeductCapacity:t.enableDeductCapacity,config:t.config}),u=d(e)),i.neededCapacity.lte(0)&&i.exceedCapacity.gt(0)){const t=y({txSkeleton:e,changeAddress:n,config:r});t.returnedChange&&(e=t.txSkeleton)}return{txSkeleton:e,before:o,after:u}},e.returnExceededCapacity=y},58963:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findCellIndexByScriptFromTransactionSkeleton=e.groupCells=e.setupCell=e.getCellWithStatusByOutPoint=e.getCellByType=e.getCellByLock=void 0;const n=r(71313),i=r(35945),o=r(31564),s=r(90888);e.getCellByLock=async function(t){const e=t.indexer.collector({lock:t.lock});for await(const r of e.collect()){if(t.has_type&&r.cellOutput.type)return r;if(!t.has_type&&!r.cellOutput.type)return r}},e.getCellByType=async function(t){const e=t.indexer.collector({type:t.type});for await(const t of e.collect())return t},e.getCellWithStatusByOutPoint=async function(t){const e=await t.rpc.getLiveCell(t.outPoint,!0);return{cell:e.cell?{cellOutput:e.cell.output,data:e.cell.data.content,outPoint:t.outPoint}:void 0,status:e.status}},e.setupCell=async function(t){const e=t.addOutput??!1;let r=t.txSkeleton;r=await i.common.setupInputCell(r,t.input,t.fromInfo,{defaultWitness:t.defaultWitness,config:t.config,since:t.since}),e||(r=r.update("outputs",(t=>t.remove(t.size-1))));const n=r.get("inputs").size-1,o=e?r.get("outputs").size-1:-1;return e&&t.updateOutput instanceof Function&&(r=r.update("outputs",(e=>{const r=e.last();if(!r)throw new Error("Cannot update output because the added output could not be found");return e.set(o,t.updateOutput(r))}))),t.updateWitness&&(r=r.update("witnesses",(e=>{if(t.updateWitness instanceof Function){const r=e.get(n);if(!r)throw new Error(`Cannot update Transaction.witnesses[${n}] because it's undefined`);return e.set(n,t.updateWitness(r))}return"string"==typeof t.updateWitness?e.set(n,t.updateWitness):e}))),{txSkeleton:r,inputIndex:n,outputIndex:o}},e.groupCells=function(t){const e={};for(let r=0;r<t.length;r++){const i=t[r],s=i.cellOutput.type?n.bytes.hexify(o.ScriptId.pack(i.cellOutput.type)):"null";void 0===e[s]&&(e[s]=[]),e[s].push({index:r,cell:i})}return e},e.findCellIndexByScriptFromTransactionSkeleton=function(t){if(!["inputs","outputs"].includes(t.source))throw new Error('Can only find cell from the following source: "inputs" | "outputs"');if(!["lock","type"].includes(t.scriptName))throw new Error('Can only find cell from the following scriptType: "lock" | "type"');return t.txSkeleton.get(t.source).findIndex((e=>!!e.cellOutput[t.scriptName]&&(0,s.isScriptValueEquals)(e.cellOutput[t.scriptName],t.script)))}},29582:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findCellDepIndexByTypeFromTransactionSkeleton=void 0;const n=r(3599),i=r(1828),o=r(58963),s=r(90888);e.findCellDepIndexByTypeFromTransactionSkeleton=async function(t){const e=t.config??(0,i.getSporeConfig)(),r=new n.RPC(e.ckbNodeUrl),a=t.txSkeleton.get("cellDeps");for await(const[e,n]of a.toArray().entries()){const i=await(0,o.getCellWithStatusByOutPoint)({outPoint:n.outPoint,rpc:r});if(i.cell?.cellOutput.type&&(0,s.isScriptValueEquals)(i.cell.cellOutput.type,t.type))return e}return-1}},43614:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeMutantParameter=e.setContentTypeParameters=e.decodeContentType=e.encodeContentType=e.isContentTypeValid=void 0;const n=r(74567);function i(t){const e=Object.entries(t.parameters||{}).map((([t,e])=>{if("mutant"!==t&&"mutant[]"!==t||([t,e]=s(t,e)),Array.isArray(e)&&(e=e.map(((e,r)=>{if("string"!=typeof e){if(!(e.toString instanceof Function))throw new Error(`ContentType parameter "${t}" has a property that cannot be converted to string`);e=e.toString()}return e}))),!Array.isArray(e)&&"string"!=typeof e){if(!(e.toString instanceof Function))throw new Error(`ContentType parameter "${t}" cannot be converted to string`);e=e.toString()}return[t,e]}));return(0,n.serializeMimeType)({type:t.type,subtype:t.subtype,parameters:new Map(e)},{arrayParameters:!0})}function o(t){let e=null;try{e=(0,n.parseMimeType)(t,{arrayParameters:!0})}catch{}if(!e)throw new Error(`Cannot decode ContentType: ${t}`);const r=Object.fromEntries(e.parameters);return r.mutant&&Array.isArray(r.mutant)&&(r.mutant=r.mutant.map((t=>t.startsWith("0x")?t:"0x"+t))),{type:e.type,subtype:e.subtype,mediaType:`${e.type}/${e.subtype}`,parameters:r}}function s(t,e){if("mutant[]"===t&&(t="mutant"),!Array.isArray(e))throw new Error("ContentType parameter mutant should be an array");return e=e.map(((e,r)=>{if("string"!=typeof e){if(!(e.toString instanceof Function))throw new Error(`ContentType parameter "${t}" has a property that cannot be converted to string`);e=e.toString()}if(e.startsWith("0x")&&(e=e.slice(2)),64!==e.length)throw new Error(`ContentType parameter mutant[${r}] should have a length of 32 bytes: ${e}`);return e})),[t,e]}e.isContentTypeValid=function(t){try{const e=o(t);return i(e)===t}catch{return!1}},e.encodeContentType=i,e.decodeContentType=o,e.setContentTypeParameters=function(t,e){const r=o(t);for(const[t,n]of Object.entries(e))r.parameters[t]=n;return i(r)},e.encodeMutantParameter=s},25447:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.returnExceededCapacityAndPayFee=e.injectCapacityAndPayFee=e.payFeeByOutput=e.payFeeThroughCollection=e.calculateFeeByTransactionSkeleton=e.calculateFeeByTransaction=e.calculateFee=e.getMinFeeRate=void 0;const n=r(35945),i=r(3599),o=r(1828),s=r(98299),a=r(98299),u=r(51103);async function c(t){t="string"==typeof t?new i.RPC(t):t;const e=await t.txPoolInfo();return i.BI.from(e.minFeeRate)}function f(t,e){const r=i.BI.from(1e3),n=i.BI.from(t).mul(e),o=n.div(r);return o.mul(r).lt(n)?o.add(1):i.BI.from(o)}function l(t,e){return f((0,u.getTransactionSize)(t),e)}function d(t,e){return l(i.helpers.createTransactionFromSkeleton(t),e)}async function h(t){const e=t.config??(0,o.getSporeConfig)(),r=t.feeRate??await c(e.ckbNodeUrl);let i=0,s=t.txSkeleton,a=(0,u.getTransactionSkeletonSize)(s);for(;a>i;){i=a;const o=f(i,r);s=await n.common.injectCapacity(t.txSkeleton,t.fromInfos,o,t.changeAddress,t.tipHeader,{config:e.lumos,enableDeductCapacity:t.enableDeductCapacity,useLocktimeCellsFirst:t.useLocktimeCellsFirst}),t.updateTxSkeletonAfterCollection&&(s=await t.updateTxSkeletonAfterCollection(s)),a=(0,u.getTransactionSkeletonSize)(s)}return s}async function p(t){const e=t.config??(0,o.getSporeConfig)(),r=t.feeRate??await c(e.ckbNodeUrl);let n=t.txSkeleton,s=n.get("outputs");const a=s.get(t.outputIndex);if(!a)throw new Error(`Cannot pay fee by Transaction.outputs[${t.outputIndex}] because it does not exist`);const u=i.helpers.minimalCellCapacityCompatible(a),f=i.BI.from(a.cellOutput.capacity),l=f.sub(u),h=d(n,r);if(l.lt(h))throw new Error(`Cannot pay fee by Transaction.outputs[${t.outputIndex}] due to insufficient capacity`);return a.cellOutput.capacity=f.sub(h).toHexString(),s=s.set(t.outputIndex,a),n.set("outputs",s)}e.getMinFeeRate=c,e.calculateFee=f,e.calculateFeeByTransaction=l,e.calculateFeeByTransactionSkeleton=d,e.payFeeThroughCollection=h,e.payFeeByOutput=p,e.injectCapacityAndPayFee=async function(t){const e=t.config??(0,o.getSporeConfig)(),r=await(0,s.injectNeededCapacity)({...t,config:e.lumos}),n=await h({...t,txSkeleton:r.txSkeleton});return{txSkeleton:n,before:r.before,after:(0,a.createCapacitySnapshotFromTransactionSkeleton)(n)}},e.returnExceededCapacityAndPayFee=async function(t){let e=t.txSkeleton;const r=t.config??(0,o.getSporeConfig)(),a=(0,s.returnExceededCapacity)({txSkeleton:e,config:r.lumos,changeAddress:t.changeAddress});if(e=a.txSkeleton,!a.returnedChange)throw new Error("Cannot pay fee with change cell because no change was returned");if(a.unreturnedCapacity.gt(0)){if(void 0===t.fromInfos)throw new Error("Cannot pay fee with change cell because fromInfos is required");const o=d(e,t.feeRate??await c(r.ckbNodeUrl));e=await n.common.injectCapacity(e,t.fromInfos,1,t.changeAddress,void 0,{enableDeductCapacity:!1,config:t.config?.lumos}),e=e.update("outputs",(t=>(t.update(-1,(t=>{if(t){const e=i.BI.from(t.cellOutput.capacity);t.cellOutput.capacity=e.add(a.unreturnedCapacity).sub(o).toHexString()}return t})),t)))}else e=await p({outputIndex:a.changeCellOutputIndex,txSkeleton:e,feeRate:t.feeRate,config:r});return{txSkeleton:e,createdChangeCell:a.createdChangeCell,changeCellOutputIndex:a.changeCellOutputIndex}}},36027:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(24021),e),i(r(54388),e),i(r(58963),e),i(r(29582),e),i(r(90888),e),i(r(47127),e),i(r(41446),e),i(r(98299),e),i(r(51103),e),i(r(29488),e),i(r(25447),e),i(r(74567),e),i(r(43614),e),i(r(53818),e),i(r(91218),e)},91218:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.referenceCellOrLockProxy=void 0;const n=r(33089),i=r(90888);e.referenceCellOrLockProxy=async function(t){const e=t.addCellToCellDeps??!0;let r=t.txSkeleton;const o=t.cell,s=o.cellOutput.lock;if(!o.outPoint)throw new Error("Cannot reference cell because target cell has no OutPoint");const a=t.inputLocks.some((t=>(0,i.isScriptValueEquals)(s,t))),u=t.outputLocks.some((t=>(0,i.isScriptValueEquals)(s,t))),c=a&&u,f=!a||!u;return console.log("referencedLockProxy = ",c),c&&(r=await t.referenceLockProxy(r)),f&&(r=await t.referenceCell(r)),e&&(r=(0,n.addCellDep)(r,{outPoint:o.outPoint,depType:"code"})),{txSkeleton:r,referencedCell:f,referencedLockProxy:c}}},74567:(t,e)=>{"use strict";function r(t){return t.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,"")}function n(t){return t.replace(/[ \t\n\r]+$/u,"")}function i(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function o(t){return/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(t)}function s(t){return/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(t)}function a(t){return t.replace(/[A-Z]/gu,(t=>t.toLowerCase()))}function u(t,e){let r="";for(e++;;){for(;e<t.length&&'"'!==t[e]&&"\\"!==t[e];)r+=t[e],++e;if(e>=t.length)break;const n=t[e];if(++e,"\\"!==n)break;if(e>=t.length){r+="\\";break}r+=t[e],++e}return[r,e]}Object.defineProperty(e,"__esModule",{value:!0}),e.collectAnHTTPQuotedString=e.asciiLowercase=e.solelyContainsHTTPQuotedStringTokenCodePoints=e.solelyContainsExtendedHTTPTokenCodePoints=e.solelyContainsHTTPTokenCodePoints=e.isHTTPWhitespaceChar=e.removeTrailingHTTPWhitespace=e.removeLeadingAndTrailingHTTPWhitespace=e.serializeMimeType=e.parseMimeType=void 0,e.parseMimeType=function(t,e){const c=e?.arrayParameters??!1;t=r(t);let f=0,l="";for(;f<t.length&&"/"!==t[f];)l+=t[f],++f;if(0===l.length||!o(l))return null;if(f>=t.length)return null;++f;let d="";for(;f<t.length&&";"!==t[f];)d+=t[f],++f;if(d=n(d),0===d.length||!o(d))return null;const h={type:a(l),subtype:a(d),parameters:new Map};for(;f<t.length;){for(++f;i(t[f]);)++f;let e="";for(;f<t.length&&";"!==t[f]&&"="!==t[f];)e+=t[f],++f;if(e=a(e),f<t.length){if(";"===t[f])continue;++f}let r=null;if('"'===t[f])for([r,f]=u(t,f);f<t.length&&";"!==t[f];)++f;else{for(r="";f<t.length&&";"!==t[f];)r+=t[f],++f;if(r=n(r),""===r)continue}const l=e.length>0,d=e.endsWith("[]");if(!l||d&&!c)continue;const p=l&&d&&c;p&&(e=e.slice(0,-2));const y=!h.parameters.has(e),g=o(e),b=s(r);l&&g&&b&&y&&(p&&(r=r.split(",")),h.parameters.set(e,r))}return h},e.serializeMimeType=function(t,e){const r=e?.arrayParameters??!1;let n=`${t.type}/${t.subtype}`;if(0===t.parameters.size)return n;for(let[e,i]of t.parameters){if(!r&&Array.isArray(i))throw new Error("Array parameter value is not supported");Array.isArray(i)&&(e=e.endsWith("[]")?e:`${e}[]`,i=i.join(",")),n+=";",n+=e,n+="=",o(i)&&0!==i.length||(i=i.replace(/(["\\])/gu,"\\$1"),i=`"${i}"`),n+=i}return n},e.removeLeadingAndTrailingHTTPWhitespace=r,e.removeTrailingHTTPWhitespace=n,e.isHTTPWhitespaceChar=i,e.solelyContainsHTTPTokenCodePoints=o,e.solelyContainsExtendedHTTPTokenCodePoints=function(t){return/^[-!#$%&'*+.^_`|~\[\]A-Za-z0-9]*$/u.test(t)},e.solelyContainsHTTPQuotedStringTokenCodePoints=s,e.asciiLowercase=a,e.collectAnHTTPQuotedString=u},53818:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.isMultipartContentAsBytesValid=e.isMultipartContentValid=e.readArrayBufferStream=e.encodeMultipartContent=e.decodeMultipartContentFromStream=e.decodeMultipartContentFromBytes=e.decodeMultipartContent=void 0;const s=r(71313),a=o(r(56750)),u=r(24021);async function c(t,e){return f((0,u.bytifyRawString)(t.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")),e)}async function f(t,e){return l(new Blob([s.bytes.bytify(t)]).stream(),e)}async function l(t,e){return async function t(e){const r=[];for await(const n of e)if(n.parts){const e=await t(n.parts);r.push({...n,parts:e})}else r.push({headers:n.headers,body:n.body});return r}((0,a.default)(t,e))}async function d(t){const e=t.getReader(),r=[],n=[];let i=0;for(;;){const t=await e.read();if(t.done)break;r.push(t.value);const o=(0,u.bufferToRawString)(t.value);i+=o.length,n.push(o)}const o=await new Blob(r).arrayBuffer();return{buffer:o,bufferChunks:r,rawStringChunks:n,byteLength:o.byteLength,codeUnitLength:i}}e.decodeMultipartContent=c,e.decodeMultipartContentFromBytes=f,e.decodeMultipartContentFromStream=l,e.encodeMultipartContent=async function(t,e){const r=(0,a.encodeMultipartMessage)(t,e);return{stream:r,...await d(r)}},e.readArrayBufferStream=d,e.isMultipartContentValid=async function(t,e){try{return await c(t,e),!0}catch{return!1}},e.isMultipartContentAsBytesValid=async function(t,e){try{return await f(t,e),!0}catch{return!1}}},54388:(t,e)=>{"use strict";function r(t){return new Promise((e=>{setTimeout((()=>e()),t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.waitForMilliseconds=e.retryWork=void 0,e.retryWork=function(t){const e=t.interval instanceof Function,n=e?100:t.interval??100,i=t.delay??0,o=t.retry??3,s=t.onError??(()=>!0),a=t.onComplete??(()=>!0);return new Promise((async u=>{const c=Date.now(),f=[];let l,d=0,h=!1,p=!1;i>0&&await r(i),await async function r(){try{l=await t.getter(),a(l)?p=!0:d++}catch(t){f.push(t),await s(t)?d++:h=!0}if(p)return u({success:!0,result:l,errors:f,retries:d,duration:Date.now()-c});if(h||d>=o)return u({success:!1,result:void 0,errors:f,retries:d,duration:Date.now()-c});const i=e?t.interval({retries:d}):n;setTimeout((()=>r()),i)}()}))},e.waitForMilliseconds=r},90888:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.composeOutputLocks=e.composeInputLocks=e.getChangeLock=e.isScriptIdEquals=e.isScriptValueEquals=void 0;const i=n(r(88055)),o=r(3599),s=r(35945);function a(t,e){return t.codeHash===e.codeHash&&t.hashType===e.hashType&&t.args===e.args}e.isScriptValueEquals=a,e.isScriptIdEquals=function(t,e){return t.codeHash===e.codeHash&&t.hashType===e.hashType},e.getChangeLock=function(t,e,r){const n=(0,s.parseFromInfo)(t[0],{config:r});return(e?o.helpers.parseAddress(e,{config:r}):void 0)??n.fromScript},e.composeInputLocks=function(t){const e=t.config;return[...Array.isArray(t.inputLocks)?(0,i.default)(t.inputLocks):[],...t.fromInfos.map((t=>(0,s.parseFromInfo)(t,{config:e}).fromScript))]},e.composeOutputLocks=function(t){const e=t.config,r=Array.isArray(t.outputLocks)?(0,i.default)(t.outputLocks):[];let n;return n=t.changeAddress?o.helpers.parseAddress(t.changeAddress,{config:e}):(0,s.parseFromInfo)(t.fromInfos[0],{config:e}).fromScript,r.findIndex((t=>a(t,n)))<0&&r.push(n),r}},51103:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForTransaction=e.waitForTransactionRetryWork=e.assertTransactionSkeletonSize=e.assetTransactionSize=e.isTransactionSkeletonSizeInRange=e.isTransactionSizeInRange=e.getTransactionSkeletonSize=e.getTransactionSize=void 0;const n=r(41600),i=r(3599),o=r(54388);function s(t){return 4+n.blockchain.Transaction.pack(t).buffer.byteLength}function a(t,e,r){const n=s(t);return n<=(e??0)||n>(r??1/0)}function u(t,e,r){e=e??0,r=r??1/0;const n=s(t);if(n<=e)throw new Error(`Expected the transaction size to be > ${e}, actual size: ${n}`);if(n>r)throw new Error(`Expected the transaction size to be <= ${r}, actual size: ${n}`)}async function c(t,e){return await(0,o.retryWork)({getter:()=>e.getTransaction(t),retry:6,interval:({retries:t})=>1e3*Math.pow(2,t),onComplete(e){switch(e.txStatus.status){case"rejected":throw new Error(`Transaction rejected: ${t}, reason: ${e.txStatus.reason}`);case"committed":return!0;default:return!1}}})}e.getTransactionSize=s,e.getTransactionSkeletonSize=function(t){return s(i.helpers.createTransactionFromSkeleton(t))},e.isTransactionSizeInRange=a,e.isTransactionSkeletonSizeInRange=function(t,e,r){return a(i.helpers.createTransactionFromSkeleton(t),e,r)},e.assetTransactionSize=u,e.assertTransactionSkeletonSize=function(t,e,r){u(i.helpers.createTransactionFromSkeleton(t),e,r)},e.waitForTransactionRetryWork=c,e.waitForTransaction=async function(t,e){const r=await c(t,e);if(r.success)return r.result;throw new Error(`Failed to wait for transaction: ${t}, reason: ${r.errors[r.errors.length-1]}`)}},41446:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTypeIdLengthMatch=e.isTypeId=e.generateTypeIdsByOutputs=e.generateTypeIdGroup=e.generateTypeId=void 0;const n=r(3599),i=r(71313);function o(t,e){if(!t.outPoint)throw new Error("Cannot generate TypeId because Transaction.inputs[0] has no OutPoint");return n.utils.generateTypeIdScript({previousOutput:t.outPoint,since:"0x0"},n.BI.from(e).toHexString()).args}e.generateTypeId=o,e.generateTypeIdGroup=function(t,e,r){const n=[];for(let i=0;i<e.length;i++){if(r(e[i])){const e=n.length;n.push([i,o(t,e)])}}return n},e.generateTypeIdsByOutputs=function(t,e,r){const n=[];for(let s=0;s<e.length;s++)i=e[s],r instanceof Function&&!r(i)||n.push([s,o(t,s)]);var i;return n},e.isTypeId=function(t){try{return 32===i.bytes.bytify(t).byteLength}catch{return!1}},e.isTypeIdLengthMatch=function(t){try{return i.bytes.bytify(t).byteLength>=32}catch{return!1}}},29488:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateWitnessArgs=e.defaultEmptyWitnessArgs=void 0;const n=r(71313),i=r(41600);e.defaultEmptyWitnessArgs=n.bytes.hexify(i.blockchain.WitnessArgs.pack({})),e.updateWitnessArgs=function(t,r,o){return t=t&&"0x"!==t?t:e.defaultEmptyWitnessArgs,n.bytes.hexify(i.blockchain.WitnessArgs.pack({...i.blockchain.WitnessArgs.unpack(t),[r]:o}))}},57049:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(31564),e),i(r(1828),e),i(r(36027),e),i(r(18714),e),i(r(13972),e)},25568:t=>{"use strict";const{AbortController:e,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=e,t.exports.AbortSignal=r,t.exports.default=e},87568:(t,e,r)=>{var n=e;n.bignum=r(39404),n.define=r(47363).define,n.base=r(9673),n.constants=r(22153),n.decoders=r(22853),n.encoders=r(24669)},47363:(t,e,r)=>{var n=r(87568),i=r(56698);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){var e;try{e=r(68961).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},47227:(t,e,r)=>{var n=r(56698),i=r(9673).Reporter,o=r(48287).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}n(s,i),e.t=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){var e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.d=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(t,e),e+=r.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},9673:(t,e,r)=>{var n=e;n.Reporter=r(89220).a,n.DecoderBuffer=r(47227).t,n.EncoderBuffer=r(47227).d,n.Node=r(90993)},90993:(t,e,r)=>{var n=r(9673).Reporter,i=r(9673).EncoderBuffer,o=r(9673).DecoderBuffer,s=r(43349),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var t=this._baseState,e={};f.forEach((function(r){e[r]=t[r]}));var r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){var t=this._baseState;u.forEach((function(e){this[e]=function(){var r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}}),this)},c.prototype._init=function(t){var e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),s.equal(e.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(t){var e=this._baseState,r=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach((function(r){r==(0|r)&&(r|=0);var n=t[r];e[n]=r})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){c.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){c.prototype[t]=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}})),c.prototype.use=function(t){s(t);var e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){var e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){var e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){var e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},c.prototype.contains=function(t){var e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){var r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));var n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){var u=null;if(null!==r.explicit?u=r.explicit:null!==r.implicit?u=r.implicit:null!==r.tag&&(u=r.tag),null!==u||r.any){if(s=this._peekTag(t,u,r.any),t.isError(s))return s}else{var c=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(c)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){var f=this._decodeTag(t,r.explicit);if(t.isError(f))return f;t=f}var l=t.offset;if(null===r.use&&null===r.choice){if(r.any)c=t.save();var d=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(d))return d;r.any?i=t.raw(c):t=d}if(e&&e.track&&null!==r.tag&&e.track(t.path(),l,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(t,e)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var h=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(h,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){var n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},c.prototype._getUse=function(t,e){var r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(o){var s=t.save(),a=r.choice[o];try{var u=a._decode(t,e);if(t.isError(u))return!1;n={type:o,value:u},i=!0}catch(e){return t.restore(s),!1}return!0}),this),i?n:t.error("Choice not matched")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){var n=this._baseState;if(null===n.default||n.default!==t){var i=this._encodeValue(t,e,r);if(void 0!==i&&!this._skipDefault(i,e,r))return i}},c.prototype._encodeValue=function(t,e,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);var o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");var n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i}),this).filter((function(t){return t})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,s=this._createEncoderBuffer(t.map((function(r){var n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)}),u))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,f=null===i.implicit?"universal":"context";null===c?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(c,a,f,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(t,e){var r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){var r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},89220:(t,e,r)=>{var n=r(56698);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.a=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){var n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){var e,r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},74598:(t,e,r)=>{var n=r(22153);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=n._reverse(e.tag)},22153:(t,e,r)=>{var n=e;n._reverse=function(t){var e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);var n=t[r];e[n]=r})),e},n.der=r(74598)},62010:(t,e,r)=>{var n=r(56698),i=r(87568),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,"der",t)}function f(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var n=a.tagClass[r>>6],i=!(32&r);if(31&~r)r&=31;else{var o=r;for(r=0;!(128&~o);){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=127&o}}return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function l(t,e,r){var n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(!(128&n))return n;var i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;var n=t.save(),i=f(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},c.prototype._decodeTag=function(t,e,r){var n=f(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;var i=l(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){var r=f(t,e);if(t.isError(r))return r;var n,i=l(t,r.primitive,e);if(t.isError(i))return i;if(n=r.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(n))return n;if("end"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var s=r.decode(t,"der",n);if(t.isError(s)&&o)break;i.push(s)}return i},c.prototype._decodeStr=function(t,e){if("bitstr"===e){var r=t.readUInt8();return t.isError(r)?r:{unused:r,data:t.raw()}}if("bmpstr"===e){var n=t.raw();if(n.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===e){var s=t.raw().toString("ascii");return this._isNumstr(s)?s:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},c.prototype._decodeObjid=function(t,e,r){for(var n,i=[],o=0;!t.isEmpty();){var s=t.readUInt8();o<<=7,o|=127&s,128&s||(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){var c=e[n.join(" ")];void 0===c&&(c=e[n.join(".")]),void 0!==c&&(n=c)}return n},c.prototype._decodeTime=function(t,e){var r=t.raw().toString();if("gentime"===e)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(t){return null},c.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){var r=t.raw(),n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},22853:(t,e,r)=>{var n=e;n.der=r(62010),n.pem=r(58903)},58903:(t,e,r)=>{var n=r(56698),i=r(48287).Buffer,o=r(62010);function s(t){o.call(this,t),this.enc="pem"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){for(var r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1,c=0;c<r.length;c++){var f=r[c].match(s);if(null!==f&&f[2]===n){if(-1!==a){if("END"!==f[1])break;u=c;break}if("BEGIN"!==f[1])break;a=c}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);var l=r.slice(a+1,u).join("");l.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(l,"base64");return o.prototype.decode.call(this,d,e)}},70082:(t,e,r)=>{var n=r(56698),i=r(48287).Buffer,o=r(87568),s=o.base,a=o.constants.der;function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,"der",t)}function f(t){return t<10?"0"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){var o,s=function(t,e,r,n){var i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}if(i>=31)return n.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6,i}(t,e,r,this.reporter);if(n.length<128)return(o=new i(2))[0]=s,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var u=1,c=n.length;c>=256;c>>=8)u++;(o=new i(2+u))[0]=s,o[1]=128|u;c=1+u;for(var f=n.length;f>0;c--,f>>=8)o[c]=255&f;return this._createEncoderBuffer([o,n])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var r=new i(2*t.length),n=0;n<t.length;n++)r.writeUInt16BE(t.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},c.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var n=0;n<t.length;n++)t[n]|=0}else if(Array.isArray(t)){t=t.slice();for(n=0;n<t.length;n++)t[n]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var o=0;for(n=0;n<t.length;n++){var s=t[n];for(o++;s>=128;s>>=7)o++}var a=new i(o),u=a.length-1;for(n=t.length-1;n>=0;n--){s=t[n];for(a[u--]=127&s;(s>>=7)>0;)a[u--]=128|127&s}return this._createEncoderBuffer(a)},c.prototype._encodeTime=function(t,e){var r,n=new Date(t);return"gentime"===e?r=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){var r=t.toArray();!t.sign&&128&r[0]&&r.unshift(0),t=new i(r)}if(i.isBuffer(t)){var n=t.length;0===t.length&&n++;var o=new i(n);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);n=1;for(var s=t;s>=256;s>>=8)n++;for(s=(o=new Array(n)).length-1;s>=0;s--)o[s]=255&t,t>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},c.prototype._skipDefault=function(t,e,r){var n,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},24669:(t,e,r)=>{var n=e;n.der=r(70082),n.pem=r(90735)},90735:(t,e,r)=>{var n=r(56698),i=r(70082);function o(t){i.call(this,t),this.enc="pem"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){for(var r=i.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"],o=0;o<r.length;o+=64)n.push(r.slice(o,o+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},35682:(t,e,r)=>{const n=r(36209),i=r(10943),o=r(51847),s=r(86679),a=r(65435),u=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function c(t){switch(t){case"ascii":return n;case"base64":return i;case"hex":return o;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a;default:throw new Error(`Unknown encoding: ${t}`)}}function f(t){return t instanceof Uint8Array}function l(t,e,r){return"string"==typeof t?function(t,e){const r=c(e),n=new Uint8Array(r.byteLength(t));return r.write(n,t,0,n.byteLength),n}(t,e):Array.isArray(t)?function(t){const e=new Uint8Array(t.length);return e.set(t),e}(t):ArrayBuffer.isView(t)?function(t){const e=new Uint8Array(t.byteLength);return e.set(t),e}(t):function(t,e,r){return new Uint8Array(t,e,r)}(t,e,r)}function d(t,e,r,n,i){if(0===t.byteLength)return-1;if("string"==typeof r?(n=r,r=0):void 0===r?r=i?0:t.length-1:r<0&&(r+=t.byteLength),r>=t.byteLength){if(i)return-1;r=t.byteLength-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e)e=l(e,n);else if("number"==typeof e)return e&=255,i?t.indexOf(e,r):t.lastIndexOf(e,r);if(0===e.byteLength)return-1;if(i){let n=-1;for(let i=r;i<t.byteLength;i++)if(t[i]===e[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===e.byteLength)return n}else-1!==n&&(i-=i-n),n=-1}else{r+e.byteLength>t.byteLength&&(r=t.byteLength-e.byteLength);for(let n=r;n>=0;n--){let r=!0;for(let i=0;i<e.byteLength;i++)if(t[n+i]!==e[i]){r=!1;break}if(r)return n}}return-1}function h(t,e,r,n){return d(t,e,r,n,!0)}function p(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}t.exports=e={isBuffer:f,isEncoding:function(t){try{return c(t),!0}catch{return!1}},alloc:function(t,r,n){const i=new Uint8Array(t);return void 0!==r&&e.fill(i,r,0,i.byteLength,n),i},allocUnsafe:function(t){return new Uint8Array(t)},allocUnsafeSlow:function(t){return new Uint8Array(t)},byteLength:function(t,e){return c(e).byteLength(t)},compare:function(t,e){if(t===e)return 0;const r=Math.min(t.byteLength,e.byteLength);t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4){if(t.getUint32(n,u)!==e.getUint32(n,u))break}for(;n<r;n++){const r=t.getUint8(n),i=e.getUint8(n);if(r<i)return-1;if(r>i)return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0},concat:function(t,e){void 0===e&&(e=t.reduce(((t,e)=>t+e.byteLength),0));const r=new Uint8Array(e);let n=0;for(const e of t){if(n+e.byteLength>r.byteLength){const t=e.subarray(0,r.byteLength-n);return r.set(t,n),r}r.set(e,n),n+=e.byteLength}return r},copy:function(t,e,r=0,n=0,i=t.byteLength){if(i>0&&i<n)return 0;if(i===n)return 0;if(0===t.byteLength||0===e.byteLength)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(n<0||n>=t.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");r>=e.byteLength&&(r=e.byteLength),i>t.byteLength&&(i=t.byteLength),e.byteLength-r<i-n&&(i=e.length-r+n);const o=i-n;return t===e?e.copyWithin(r,n,i):e.set(t.subarray(n,i),r),o},equals:function(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;const r=t.byteLength;t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4)if(t.getUint32(n,u)!==e.getUint32(n,u))return!1;for(;n<r;n++)if(t.getUint8(n)!==e.getUint8(n))return!1;return!0},fill:function(t,e,r,n,i){if("string"==typeof e?"string"==typeof r?(i=r,r=0,n=t.byteLength):"string"==typeof n&&(i=n,n=t.byteLength):"number"==typeof e?e&=255:"boolean"==typeof e&&(e=+e),r<0||t.byteLength<r||t.byteLength<n)throw new RangeError("Out of range index");if(void 0===r&&(r=0),void 0===n&&(n=t.byteLength),n<=r)return t;if(e||(e=0),"number"==typeof e)for(let i=r;i<n;++i)t[i]=e;else{const o=(e=f(e)?e:l(e,i)).byteLength;for(let i=0;i<n-r;++i)t[i+r]=e[i%o]}return t},from:l,includes:function(t,e,r,n){return-1!==h(t,e,r,n)},indexOf:h,lastIndexOf:function(t,e,r,n){return d(t,e,r,n,!1)},swap16:function(t){const e=t.byteLength;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)p(t,r,r+1);return t},swap32:function(t){const e=t.byteLength;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)p(t,r,r+3),p(t,r+1,r+2);return t},swap64:function(t){const e=t.byteLength;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)p(t,r,r+7),p(t,r+1,r+6),p(t,r+2,r+5),p(t,r+3,r+4);return t},toBuffer:function(t){return t},toString:function(t,e,r=0,n=t.byteLength){const i=t.byteLength;return r>=i||n<=r?"":(r<0&&(r=0),n>i&&(n=i),(0!==r||n<i)&&(t=t.subarray(r,n)),c(e).toString(t))},write:function(t,e,r,n,i){return void 0===r?i="utf8":void 0===n&&"string"==typeof r?(i=r,r=void 0):void 0===i&&"string"==typeof n&&(i=n,n=void 0),c(i).write(t,e,r,n)},writeDoubleLE:function(t,e,r){return void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),r+8},writeFloatLE:function(t,e,r){return void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),r+4},writeUInt32LE:function(t,e,r){return void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(r,e,!0),r+4},writeInt32LE:function(t,e,r){return void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setInt32(r,e,!0),r+4},readDoubleLE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},readFloatLE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},readUInt32LE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(e,!0)},readInt32LE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getInt32(e,!0)}}},36209:t=>{function e(t){return t.length}t.exports={byteLength:e,toString:function(t){const e=t.byteLength;let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r},write:function(t,r,n=0,i=e(r)){const o=Math.min(i,t.byteLength-n);for(let e=0;e<o;e++)t[n+e]=r.charCodeAt(e);return o}}},10943:t=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256);for(let t=0;t<64;t++)r[e.charCodeAt(t)]=t;function n(t){let e=t.length;return 61===t.charCodeAt(e-1)&&e--,e>1&&61===t.charCodeAt(e-1)&&e--,3*e>>>2}r[45]=62,r[95]=63,t.exports={byteLength:n,toString:function(t){const r=t.byteLength;let n="";for(let i=0;i<r;i+=3)n+=e[t[i]>>2]+e[(3&t[i])<<4|t[i+1]>>4]+e[(15&t[i+1])<<2|t[i+2]>>6]+e[63&t[i+2]];return r%3==2?n=n.substring(0,n.length-1)+"=":r%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(t,e,i=0,o=n(e)){const s=Math.min(o,t.byteLength-i);for(let n=0,i=0;i<s;n+=4){const o=r[e.charCodeAt(n)],s=r[e.charCodeAt(n+1)],a=r[e.charCodeAt(n+2)],u=r[e.charCodeAt(n+3)];t[i++]=o<<2|s>>4,t[i++]=(15&s)<<4|a>>2,t[i++]=(3&a)<<6|63&u}return s}}},51847:t=>{function e(t){return t.length>>>1}function r(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:void 0}t.exports={byteLength:e,toString:function(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let r="",n=0;for(let i=e-e%4;n<i;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");for(;n<e;n++)r+=t.getUint8(n).toString(16).padStart(2,"0");return r},write:function(t,n,i=0,o=e(n)){const s=Math.min(o,t.byteLength-i);for(let e=0;e<s;e++){const o=r(n.charCodeAt(2*e)),s=r(n.charCodeAt(2*e+1));if(void 0===o||void 0===s)return t.subarray(0,e);t[i+e]=o<<4|s}return s}}},65435:t=>{function e(t){return 2*t.length}t.exports={byteLength:e,toString:function(t){const e=t.byteLength;let r="";for(let n=0;n<e-1;n+=2)r+=String.fromCharCode(t[n]+256*t[n+1]);return r},write:function(t,r,n=0,i=e(r)){const o=Math.min(i,t.byteLength-n);let s=o;for(let e=0;e<r.length&&!((s-=2)<0);++e){const i=r.charCodeAt(e),o=i>>8,s=i%256;t[n+2*e]=s,t[n+2*e+1]=o}return o}}},86679:t=>{function e(t){let e=0;for(let r=0,n=t.length;r<n;r++){const i=t.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const n=t.charCodeAt(r+1);if(n>=56320&&n<=57343){e+=4,r++;continue}}e+=i<=127?1:i<=2047?2:3}return e}let r,n;if("undefined"!=typeof TextDecoder){const t=new TextDecoder;r=function(e){return t.decode(e)}}else r=function(t){const e=t.byteLength;let r="",n=0;for(;n<e;){let i=t[n];if(i<=127){r+=String.fromCharCode(i),n++;continue}let o=0,s=0;if(i<=223?(o=1,s=31&i):i<=239?(o=2,s=15&i):i<=244&&(o=3,s=7&i),e-n-o>0){let e=0;for(;e<o;)i=t[n+e+1],s=s<<6|63&i,e+=1}else s=65533,o=e-n;r+=String.fromCodePoint(s),n+=o+1}return r};if("undefined"!=typeof TextEncoder){const t=new TextEncoder;n=function(r,n,i=0,o=e(n)){const s=Math.min(o,r.byteLength-i);return t.encodeInto(n,r.subarray(i,i+s)),s}}else n=function(t,r,n=0,i=e(r)){const o=Math.min(i,t.byteLength-n);t=t.subarray(n,n+o);let s=0,a=0;for(;s<r.length;){const e=r.codePointAt(s);if(e<=127){t[a++]=e,s++;continue}let n=0,i=0;for(e<=2047?(n=6,i=192):e<=65535?(n=12,i=224):e<=2097151&&(n=18,i=240),t[a++]=i|e>>n,n-=6;n>=0;)t[a++]=128|e>>n&63,n-=6;s+=e>=65536?2:1}return o};t.exports={byteLength:e,toString:r,write:n}},95364:(t,e,r)=>{"use strict";var n=r(92861).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,o=0;t[r]===u;)i++,r++;for(var s=(t.length-r)*c+1>>>0,f=new Uint8Array(s);r<t.length;){var l=e[t.charCodeAt(r)];if(255===l)return;for(var d=0,h=s-1;(0!==l||d<o)&&-1!==h;h--,d++)l+=a*f[h]>>>0,f[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=d,r++}for(var p=s-o;p!==s&&0===f[p];)p++;var y=n.allocUnsafe(i+(s-p));y.fill(0,0,i);for(var g=i;p!==s;)y[g++]=f[p++];return y}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,r++;for(var c=(s-o)*f+1>>>0,l=new Uint8Array(c);o!==s;){for(var d=e[o],h=0,p=c-1;(0!==d||h<i)&&-1!==p;p--,h++)d+=256*l[p]>>>0,l[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=h,o++}for(var y=c-i;y!==c&&0===l[y];)y++;for(var g=u.repeat(r);y<c;++y)g+=t.charAt(l[y]);return g},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},67526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],u=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,u)),f=0,l=u>0?s-4:s;for(r=0;r<l;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[f++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(u(t,a,a+s>c?c:a+s));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},22343:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bech32m=e.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let t=0;t<32;t++){const e=r.charAt(t);n[e]=t}function i(t){const e=t>>25;return(33554431&t)<<5^996825010&-(1&e)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function o(t){let e=1;for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=i(e)^n>>5}e=i(e);for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);e=i(e)^31&n}return e}function s(t,e,r,n){let i=0,o=0;const s=(1<<r)-1,a=[];for(let n=0;n<t.length;++n)for(i=i<<e|t[n],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function a(t){return s(t,8,5,!0)}function u(t){const e=s(t,5,8,!1);if(Array.isArray(e))return e}function c(t){const e=s(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function f(t){let e;function s(t,r){if(r=r||90,t.length<8)return t+" too short";if(t.length>r)return"Exceeds length limit";const s=t.toLowerCase(),a=t.toUpperCase();if(t!==s&&t!==a)return"Mixed-case string "+t;const u=(t=s).lastIndexOf("1");if(-1===u)return"No separator character for "+t;if(0===u)return"Missing prefix for "+t;const c=t.slice(0,u),f=t.slice(u+1);if(f.length<6)return"Data too short";let l=o(c);if("string"==typeof l)return l;const d=[];for(let t=0;t<f.length;++t){const e=f.charAt(t),r=n[e];if(void 0===r)return"Unknown character "+e;l=i(l)^r,t+6>=f.length||d.push(r)}return l!==e?"Invalid checksum for "+t:{prefix:c,words:d}}return e="bech32"===t?1:734539939,{decodeUnsafe:function(t,e){const r=s(t,e);if("object"==typeof r)return r},decode:function(t,e){const r=s(t,e);if("object"==typeof r)return r;throw new Error(r)},encode:function(t,n,s){if(s=s||90,t.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=o(t=t.toLowerCase());if("string"==typeof a)throw new Error(a);let u=t+"1";for(let t=0;t<n.length;++t){const e=n[t];if(e>>5)throw new Error("Non 5-bit word");a=i(a)^e,u+=r.charAt(e)}for(let t=0;t<6;++t)a=i(a);a^=e;for(let t=0;t<6;++t){u+=r.charAt(a>>5*(5-t)&31)}return u},toWords:a,fromWordsUnsafe:u,fromWords:c}}e.bech32=f("bech32"),e.bech32m=f("bech32m")},64863:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(91457);function i(t,e,r){return n=>{if(t.has(n))return;const i=r.filter((t=>t.key.toString("hex")===n))[0];e.push(i),t.add(n)}}function o(t){return t.globalMap.unsignedTx}function s(t){const e=new Set;return t.forEach((t=>{const r=t.key.toString("hex");if(e.has(r))throw new Error("Combine: KeyValue Map keys should be unique");e.add(r)})),e}e.combine=function(t){const e=t[0],r=n.psbtToKeyVals(e),a=t.slice(1);if(0===a.length)throw new Error("Combine: Nothing to combine");const u=o(e);if(void 0===u)throw new Error("Combine: Self missing transaction");const c=s(r.globalKeyVals),f=r.inputKeyVals.map(s),l=r.outputKeyVals.map(s);for(const t of a){const e=o(t);if(void 0===e||!e.toBuffer().equals(u.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const a=n.psbtToKeyVals(t);s(a.globalKeyVals).forEach(i(c,r.globalKeyVals,a.globalKeyVals));a.inputKeyVals.map(s).forEach(((t,e)=>t.forEach(i(f[e],r.inputKeyVals[e],a.inputKeyVals[e]))));a.outputKeyVals.map(s).forEach(((t,e)=>t.forEach(i(l[e],r.outputKeyVals[e],a.outputKeyVals[e]))))}return n.psbtFromKeyVals(u,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}},4834:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(79!==t.key.length||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(const e of(n=t.value.length/4-1,[...Array(n).keys()])){const n=t.value.readUInt32LE(4*e+4),i=!!(2147483648&n),o=2147483647&n;r.path+="/"+o.toString(10)+(i?"'":"")}var n;return r},e.encode=function(t){const e=n.from([i.GlobalTypes.GLOBAL_XPUB]),r=n.concat([e,t.extendedPubkey]),o=t.path.split("/"),s=n.allocUnsafe(4*o.length);t.masterFingerprint.copy(s,0);let a=4;return o.slice(1).forEach((t=>{const e="'"===t.slice(-1);let r=2147483647&parseInt(e?t.slice(0,-1):t,10);e&&(r+=2147483648),s.writeUInt32LE(r,a),a+=4})),{key:r,value:s}},e.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",e.check=function(t){const e=t.extendedPubkey,r=t.masterFingerprint,i=t.path;return n.isBuffer(e)&&78===e.length&&[2,3].indexOf(e[45])>-1&&n.isBuffer(r)&&4===r.length&&"string"==typeof i&&!!i.match(/^m(\/\d+'?)*$/)},e.canAddToArray=function(t,e,r){const n=e.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.extendedPubkey.equals(e.extendedPubkey))).length)}},4213:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.encode=function(t){return{key:n.from([i.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}},22706:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(99080),i=r(4834),o=r(4213),s=r(76605),a=r(71795),u=r(4431),c=r(66907),f=r(95949),l=r(59344),d=r(72760),h=r(81695),p=r(98454),y=r(19034),g=r(82926),b=r(77851),m=r(97545),v=r(22412),_=r(54307),w=r(87636),S=r(22223),A=r(75578),x={unsignedTx:o,globalXpub:i,checkPubkey:v.makeChecker([])};e.globals=x;const E={nonWitnessUtxo:u,partialSig:c,sighashType:l,finalScriptSig:s,finalScriptWitness:a,porCommitment:f,witnessUtxo:g,bip32Derivation:m.makeConverter(n.InputTypes.BIP32_DERIVATION),redeemScript:_.makeConverter(n.InputTypes.REDEEM_SCRIPT),witnessScript:A.makeConverter(n.InputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([n.InputTypes.PARTIAL_SIG,n.InputTypes.BIP32_DERIVATION]),tapKeySig:d,tapScriptSig:y,tapLeafScript:h,tapBip32Derivation:w.makeConverter(n.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:S.makeConverter(n.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:p};e.inputs=E;const k={bip32Derivation:m.makeConverter(n.OutputTypes.BIP32_DERIVATION),redeemScript:_.makeConverter(n.OutputTypes.REDEEM_SCRIPT),witnessScript:A.makeConverter(n.OutputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([n.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:w.makeConverter(n.OutputTypes.TAP_BIP32_DERIVATION),tapTree:b,tapInternalKey:S.makeConverter(n.OutputTypes.TAP_INTERNAL_KEY)};e.outputs=k},76605:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.FINAL_SCRIPTSIG]),value:t}},e.expected="Buffer",e.check=function(t){return n.isBuffer(t)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.finalScriptSig}},71795:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.FINAL_SCRIPTWITNESS]),value:t}},e.expected="Buffer",e.check=function(t){return n.isBuffer(t)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.finalScriptWitness}},4431:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.NON_WITNESS_UTXO]),value:t}},e.expected="Buffer",e.check=function(t){return n.isBuffer(t)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.nonWitnessUtxo}},66907:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(34!==t.key.length&&66!==t.key.length||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}},e.encode=function(t){const e=n.from([i.InputTypes.PARTIAL_SIG]);return{key:n.concat([e,t.pubkey]),value:t.signature}},e.expected="{ pubkey: Buffer; signature: Buffer; }",e.check=function(t){return n.isBuffer(t.pubkey)&&n.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&function(t){if(!n.isBuffer(t)||t.length<9)return!1;if(48!==t[0])return!1;if(t.length!==t[1]+3)return!1;if(2!==t[2])return!1;const e=t[3];if(e>33||e<1)return!1;if(2!==t[3+e+1])return!1;const r=t[3+e+2];return!(r>33||r<1)&&t.length===3+e+2+r+2}(t.signature)},e.canAddToArray=function(t,e,r){const n=e.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.pubkey.equals(e.pubkey))).length)}},95949:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")},e.encode=function(t){return{key:n.from([i.InputTypes.POR_COMMITMENT]),value:n.from(t,"utf8")}},e.expected="string",e.check=function(t){return"string"==typeof t},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.porCommitment}},59344:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)},e.encode=function(t){const e=n.from([i.InputTypes.SIGHASH_TYPE]),r=n.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}},e.expected="number",e.check=function(t){return"number"==typeof t},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.sighashType}},72760:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);function o(t){return n.isBuffer(t)&&(64===t.length||65===t.length)}e.decode=function(t){if(t.key[0]!==i.InputTypes.TAP_KEY_SIG||1!==t.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!o(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.TAP_KEY_SIG]),value:t}},e.expected="Buffer",e.check=o,e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapKeySig}},81695:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));const e=t.value[t.value.length-1];if((254&t.key[1])!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));const r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}},e.encode=function(t){const e=n.from([i.InputTypes.TAP_LEAF_SCRIPT]),r=n.from([t.leafVersion]);return{key:n.concat([e,t.controlBlock]),value:n.concat([t.script,r])}},e.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",e.check=function(t){return n.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32==0&&(254&t.controlBlock[0])===t.leafVersion&&n.isBuffer(t.script)},e.canAddToArray=function(t,e,r){const n=e.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.controlBlock.equals(e.controlBlock))).length)}},98454:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);function o(t){return n.isBuffer(t)&&32===t.length}e.decode=function(t){if(t.key[0]!==i.InputTypes.TAP_MERKLE_ROOT||1!==t.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!o(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.TAP_MERKLE_ROOT]),value:t}},e.expected="Buffer",e.check=o,e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapMerkleRoot}},19034:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080);e.decode=function(t){if(t.key[0]!==i.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(65!==t.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(64!==t.value.length&&65!==t.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1,33),leafHash:t.key.slice(33),signature:t.value}},e.encode=function(t){const e=n.from([i.InputTypes.TAP_SCRIPT_SIG]);return{key:n.concat([e,t.pubkey,t.leafHash]),value:t.signature}},e.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",e.check=function(t){return n.isBuffer(t.pubkey)&&n.isBuffer(t.leafHash)&&n.isBuffer(t.signature)&&32===t.pubkey.length&&32===t.leafHash.length&&(64===t.signature.length||65===t.signature.length)},e.canAddToArray=function(t,e,r){const n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.pubkey.equals(e.pubkey)&&t.leafHash.equals(e.leafHash))).length)}},82926:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080),o=r(78133),s=r(40394);e.decode=function(t){if(t.key[0]!==i.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));const e=o.readUInt64LE(t.value,0);let r=8;const n=s.decode(t.value,r);r+=s.encodingLength(n);const a=t.value.slice(r);if(a.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:a,value:e}},e.encode=function(t){const{script:e,value:r}=t,a=s.encodingLength(e.length),u=n.allocUnsafe(8+a+e.length);return o.writeUInt64LE(u,r,0),s.encode(e.length,u,8),e.copy(u,8+a),{key:n.from([i.InputTypes.WITNESS_UTXO]),value:u}},e.expected="{ script: Buffer; value: number; }",e.check=function(t){return n.isBuffer(t.script)&&"number"==typeof t.value},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.witnessUtxo}},77851:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(99080),o=r(40394);e.decode=function(t){if(t.key[0]!==i.OutputTypes.TAP_TREE||1!==t.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0;const r=[];for(;e<t.value.length;){const n=t.value[e++],i=t.value[e++],s=o.decode(t.value,e);e+=o.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}},e.encode=function(t){const e=n.from([i.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map((t=>[n.of(t.depth,t.leafVersion),o.encode(t.script.length),t.script])));return{key:e,value:n.concat(r)}},e.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",e.check=function(t){return Array.isArray(t.leaves)&&t.leaves.every((t=>t.depth>=0&&t.depth<=128&&(254&t.leafVersion)===t.leafVersion&&n.isBuffer(t.script)))},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapTree}},97545:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=t=>33===t.length&&[2,3].includes(t[0])||65===t.length&&4===t[0];e.makeConverter=function(t,e=i){return{decode:function(r){if(r.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));const n=r.key.slice(1);if(!e(n))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const i={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"};for(const t of(o=r.value.length/4-1,[...Array(o).keys()])){const e=r.value.readUInt32LE(4*t+4),n=!!(2147483648&e),o=2147483647&e;i.path+="/"+o.toString(10)+(n?"'":"")}var o;return i},encode:function(e){const r=n.from([t]),i=n.concat([r,e.pubkey]),o=e.path.split("/"),s=n.allocUnsafe(4*o.length);e.masterFingerprint.copy(s,0);let a=4;return o.slice(1).forEach((t=>{const e="'"===t.slice(-1);let r=2147483647&parseInt(e?t.slice(0,-1):t,10);e&&(r+=2147483648),s.writeUInt32LE(r,a),a+=4})),{key:i,value:s}},check:function(t){return n.isBuffer(t.pubkey)&&n.isBuffer(t.masterFingerprint)&&"string"==typeof t.path&&e(t.pubkey)&&4===t.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(t,e,r){const n=e.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.pubkey.equals(e.pubkey))).length)}}}},22412:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeChecker=function(t){return function(e){let r;if(t.includes(e.key[0])&&(r=e.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+e.key.toString("hex"));return r}}},54307:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+e.key.toString("hex"));return e.value},encode:function(e){return{key:n.from([t]),value:e}},check:function(t){return n.isBuffer(t)},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.redeemScript}}}},87636:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(40394),o=r(97545),s=t=>32===t.length;e.makeConverter=function(t){const e=o.makeConverter(t,s);return{decode:function(t){const r=i.decode(t.value),n=i.encodingLength(r),o=e.decode({key:t.key,value:t.value.slice(n+32*r)}),s=new Array(r);for(let e=0,i=n;e<r;e++,i+=32)s[e]=t.value.slice(i,i+32);return Object.assign({},o,{leafHashes:s})},encode:function(t){const r=e.encode(t),o=i.encodingLength(t.leafHashes.length),s=n.allocUnsafe(o);i.encode(t.leafHashes.length,s);const a=n.concat([s,...t.leafHashes,r.value]);return Object.assign({},r,{value:a})},check:function(t){return Array.isArray(t.leafHashes)&&t.leafHashes.every((t=>n.isBuffer(t)&&32===t.length))&&e.check(t)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:e.canAddToArray}}},22223:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t||1!==e.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+e.key.toString("hex"));if(32!==e.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return e.value},encode:function(e){return{key:n.from([t]),value:e}},check:function(t){return n.isBuffer(t)&&32===t.length},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.tapInternalKey}}}},75578:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+e.key.toString("hex"));return e.value},encode:function(e){return{key:n.from([t]),value:e}},check:function(t){return n.isBuffer(t)},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.witnessScript}}}},78133:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(40394);function o(t){const e=t.key.length,r=t.value.length,o=i.encodingLength(e),s=i.encodingLength(r),a=n.allocUnsafe(o+e+s+r);return i.encode(e,a,0),t.key.copy(a,o),i.encode(r,a,o+e),t.value.copy(a,o+e+s),a}function s(t,e){if("number"!=typeof t)throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}e.range=t=>[...Array(t).keys()],e.reverseBuffer=function(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t},e.keyValsToBuffer=function(t){const e=t.map(o);return e.push(n.from([0])),n.concat(e)},e.keyValToBuffer=o,e.readUInt64LE=function(t,e){const r=t.readUInt32LE(e);let n=t.readUInt32LE(e+4);return n*=4294967296,s(n+r,9007199254740991),n+r},e.writeUInt64LE=function(t,e,r){return s(e,9007199254740991),t.writeInt32LE(-1&e,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}},40394:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=9007199254740991;function o(t){if(t<0||t>i||t%1!=0)throw new RangeError("value out of range")}function s(t){return o(t),t<253?1:t<=65535?3:t<=4294967295?5:9}e.encode=function t(e,r,i){if(o(e),r||(r=n.allocUnsafe(s(e))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),e<253?(r.writeUInt8(e,i),Object.assign(t,{bytes:1})):e<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(e,i+1),Object.assign(t,{bytes:3})):e<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(e,i+1),Object.assign(t,{bytes:5})):(r.writeUInt8(255,i),r.writeUInt32LE(e>>>0,i+1),r.writeUInt32LE(e/4294967296|0,i+5),Object.assign(t,{bytes:9})),r},e.decode=function t(e,r){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const i=e.readUInt8(r);if(i<253)return Object.assign(t,{bytes:1}),i;if(253===i)return Object.assign(t,{bytes:3}),e.readUInt16LE(r+1);if(254===i)return Object.assign(t,{bytes:5}),e.readUInt32LE(r+1);{Object.assign(t,{bytes:9});const n=e.readUInt32LE(r+1),i=4294967296*e.readUInt32LE(r+5)+n;return o(i),i}},e.encodingLength=s},76263:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(22706),o=r(78133),s=r(40394),a=r(99080);function u(t,e,r){if(!e.equals(n.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}function c(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){const s={unsignedTx:t};let c=0;for(const t of e)switch(t.key[0]){case a.GlobalTypes.UNSIGNED_TX:if(u("global",t.key,a.GlobalTypes.UNSIGNED_TX),c>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");c++;break;case a.GlobalTypes.GLOBAL_XPUB:void 0===s.globalXpub&&(s.globalXpub=[]),s.globalXpub.push(i.globals.globalXpub.decode(t));break;default:s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(t)}const f=r.length,l=n.length,d=[],h=[];for(const t of o.range(f)){const e={};for(const n of r[t])switch(i.inputs.checkPubkey(n),n.key[0]){case a.InputTypes.NON_WITNESS_UTXO:if(u("input",n.key,a.InputTypes.NON_WITNESS_UTXO),void 0!==e.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");e.nonWitnessUtxo=i.inputs.nonWitnessUtxo.decode(n);break;case a.InputTypes.WITNESS_UTXO:if(u("input",n.key,a.InputTypes.WITNESS_UTXO),void 0!==e.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");e.witnessUtxo=i.inputs.witnessUtxo.decode(n);break;case a.InputTypes.PARTIAL_SIG:void 0===e.partialSig&&(e.partialSig=[]),e.partialSig.push(i.inputs.partialSig.decode(n));break;case a.InputTypes.SIGHASH_TYPE:if(u("input",n.key,a.InputTypes.SIGHASH_TYPE),void 0!==e.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");e.sighashType=i.inputs.sighashType.decode(n);break;case a.InputTypes.REDEEM_SCRIPT:if(u("input",n.key,a.InputTypes.REDEEM_SCRIPT),void 0!==e.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");e.redeemScript=i.inputs.redeemScript.decode(n);break;case a.InputTypes.WITNESS_SCRIPT:if(u("input",n.key,a.InputTypes.WITNESS_SCRIPT),void 0!==e.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");e.witnessScript=i.inputs.witnessScript.decode(n);break;case a.InputTypes.BIP32_DERIVATION:void 0===e.bip32Derivation&&(e.bip32Derivation=[]),e.bip32Derivation.push(i.inputs.bip32Derivation.decode(n));break;case a.InputTypes.FINAL_SCRIPTSIG:u("input",n.key,a.InputTypes.FINAL_SCRIPTSIG),e.finalScriptSig=i.inputs.finalScriptSig.decode(n);break;case a.InputTypes.FINAL_SCRIPTWITNESS:u("input",n.key,a.InputTypes.FINAL_SCRIPTWITNESS),e.finalScriptWitness=i.inputs.finalScriptWitness.decode(n);break;case a.InputTypes.POR_COMMITMENT:u("input",n.key,a.InputTypes.POR_COMMITMENT),e.porCommitment=i.inputs.porCommitment.decode(n);break;case a.InputTypes.TAP_KEY_SIG:u("input",n.key,a.InputTypes.TAP_KEY_SIG),e.tapKeySig=i.inputs.tapKeySig.decode(n);break;case a.InputTypes.TAP_SCRIPT_SIG:void 0===e.tapScriptSig&&(e.tapScriptSig=[]),e.tapScriptSig.push(i.inputs.tapScriptSig.decode(n));break;case a.InputTypes.TAP_LEAF_SCRIPT:void 0===e.tapLeafScript&&(e.tapLeafScript=[]),e.tapLeafScript.push(i.inputs.tapLeafScript.decode(n));break;case a.InputTypes.TAP_BIP32_DERIVATION:void 0===e.tapBip32Derivation&&(e.tapBip32Derivation=[]),e.tapBip32Derivation.push(i.inputs.tapBip32Derivation.decode(n));break;case a.InputTypes.TAP_INTERNAL_KEY:u("input",n.key,a.InputTypes.TAP_INTERNAL_KEY),e.tapInternalKey=i.inputs.tapInternalKey.decode(n);break;case a.InputTypes.TAP_MERKLE_ROOT:u("input",n.key,a.InputTypes.TAP_MERKLE_ROOT),e.tapMerkleRoot=i.inputs.tapMerkleRoot.decode(n);break;default:e.unknownKeyVals||(e.unknownKeyVals=[]),e.unknownKeyVals.push(n)}d.push(e)}for(const t of o.range(l)){const e={};for(const r of n[t])switch(i.outputs.checkPubkey(r),r.key[0]){case a.OutputTypes.REDEEM_SCRIPT:if(u("output",r.key,a.OutputTypes.REDEEM_SCRIPT),void 0!==e.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");e.redeemScript=i.outputs.redeemScript.decode(r);break;case a.OutputTypes.WITNESS_SCRIPT:if(u("output",r.key,a.OutputTypes.WITNESS_SCRIPT),void 0!==e.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");e.witnessScript=i.outputs.witnessScript.decode(r);break;case a.OutputTypes.BIP32_DERIVATION:void 0===e.bip32Derivation&&(e.bip32Derivation=[]),e.bip32Derivation.push(i.outputs.bip32Derivation.decode(r));break;case a.OutputTypes.TAP_INTERNAL_KEY:u("output",r.key,a.OutputTypes.TAP_INTERNAL_KEY),e.tapInternalKey=i.outputs.tapInternalKey.decode(r);break;case a.OutputTypes.TAP_TREE:u("output",r.key,a.OutputTypes.TAP_TREE),e.tapTree=i.outputs.tapTree.decode(r);break;case a.OutputTypes.TAP_BIP32_DERIVATION:void 0===e.tapBip32Derivation&&(e.tapBip32Derivation=[]),e.tapBip32Derivation.push(i.outputs.tapBip32Derivation.decode(r));break;default:e.unknownKeyVals||(e.unknownKeyVals=[]),e.unknownKeyVals.push(r)}h.push(e)}return{globalMap:s,inputs:d,outputs:h}}e.psbtFromBuffer=function(t,e){let r=0;function n(){const e=s.decode(t,r);r+=s.encodingLength(e);const n=t.slice(r,r+e);return r+=e,n}function i(){return{key:n(),value:n()}}function u(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");const e=0===t.readUInt8(r);return e&&r++,e}if(1886610036!==function(){const e=t.readUInt32BE(r);return r+=4,e}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const e=t.readUInt8(r);return r+=1,e}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const f=[],l={};for(;!u();){const t=i(),e=t.key.toString("hex");if(l[e])throw new Error("Format Error: Keys must be unique for global keymap: key "+e);l[e]=1,f.push(t)}const d=f.filter((t=>t.key[0]===a.GlobalTypes.UNSIGNED_TX));if(1!==d.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const h=e(d[0].value),{inputCount:p,outputCount:y}=h.getInputOutputCounts(),g=[],b=[];for(const t of o.range(p)){const e={},r=[];for(;!u();){const n=i(),o=n.key.toString("hex");if(e[o])throw new Error("Format Error: Keys must be unique for each input: input index "+t+" key "+o);e[o]=1,r.push(n)}g.push(r)}for(const t of o.range(y)){const e={},r=[];for(;!u();){const n=i(),o=n.key.toString("hex");if(e[o])throw new Error("Format Error: Keys must be unique for each output: output index "+t+" key "+o);e[o]=1,r.push(n)}b.push(r)}return c(h,{globalMapKeyVals:f,inputKeyVals:g,outputKeyVals:b})},e.checkKeyBuffer=u,e.psbtFromKeyVals=c},91457:(t,e,r)=>{"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(76263)),n(r(238))},238:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(22706),o=r(78133);e.psbtToBuffer=function({globalMap:t,inputs:e,outputs:r}){const{globalKeyVals:i,inputKeyVals:s,outputKeyVals:a}=u({globalMap:t,inputs:e,outputs:r}),c=o.keyValsToBuffer(i),f=t=>0===t.length?[n.from([0])]:t.map(o.keyValsToBuffer),l=f(s),d=f(a),h=n.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),n.concat([h,c].concat(l,d))};const s=(t,e)=>t.key.compare(e.key);function a(t,e){const r=new Set,n=Object.entries(t).reduce(((t,[n,i])=>{if("unknownKeyVals"===n)return t;const o=e[n];if(void 0===o)return t;const s=(Array.isArray(i)?i:[i]).map(o.encode);return s.map((t=>t.key.toString("hex"))).forEach((t=>{if(r.has(t))throw new Error("Serialize Error: Duplicate key: "+t);r.add(t)})),t.concat(s)}),[]),i=t.unknownKeyVals?t.unknownKeyVals.filter((t=>!r.has(t.key.toString("hex")))):[];return n.concat(i).sort(s)}function u({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:a(t,i.globals),inputKeyVals:e.map((t=>a(t,i.inputs))),outputKeyVals:r.map((t=>a(t,i.outputs)))}}e.psbtToKeyVals=u},1614:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(64863),o=r(91457),s=r(99080),a=r(45080);e.Psbt=class{constructor(t){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}static fromBase64(t,e){const r=n.from(t,"base64");return this.fromBuffer(r,e)}static fromHex(t,e){const r=n.from(t,"hex");return this.fromBuffer(r,e)}static fromBuffer(t,e){const r=o.psbtFromBuffer(t,e),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return o.psbtToBuffer(this)}updateGlobal(t){return a.updateGlobal(t,this.globalMap),this}updateInput(t,e){const r=a.checkForInput(this.inputs,t);return a.updateInput(e,r),this}updateOutput(t,e){const r=a.checkForOutput(this.outputs,t);return a.updateOutput(e,r),this}addUnknownKeyValToGlobal(t){return a.checkHasKey(t,this.globalMap.unknownKeyVals,a.getEnumLength(s.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(t),this}addUnknownKeyValToInput(t,e){const r=a.checkForInput(this.inputs,t);return a.checkHasKey(e,r.unknownKeyVals,a.getEnumLength(s.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(e),this}addUnknownKeyValToOutput(t,e){const r=a.checkForOutput(this.outputs,t);return a.checkHasKey(e,r.unknownKeyVals,a.getEnumLength(s.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(e),this}addInput(t){this.globalMap.unsignedTx.addInput(t),this.inputs.push({unknownKeyVals:[]});const e=t.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(e))throw new Error("unknownKeyVals must be an Array");return e.forEach((t=>this.addUnknownKeyValToInput(r,t))),a.addInputAttributes(this.inputs,t),this}addOutput(t){this.globalMap.unsignedTx.addOutput(t),this.outputs.push({unknownKeyVals:[]});const e=t.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(e))throw new Error("unknownKeyVals must be an Array");return e.forEach((t=>this.addUnknownKeyValToOutput(r,t))),a.addOutputAttributes(this.outputs,t),this}clearFinalizedInput(t){const e=a.checkForInput(this.inputs,t);a.inputCheckUncleanFinalized(t,e);for(const t of Object.keys(e))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(t)||delete e[t];return this}combine(...t){const e=i.combine([this].concat(t));return Object.assign(this,e),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},99080:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(e.GlobalTypes||(e.GlobalTypes={})),e.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(e.InputTypes||(e.InputTypes={})),e.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(e.OutputTypes||(e.OutputTypes={})),e.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},45080:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=r(22706);function o(t,e){const r=t[e];if(void 0===r)throw new Error(`No input #${e}`);return r}function s(t,e){const r=t[e];if(void 0===r)throw new Error(`No output #${e}`);return r}function a(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function u(t){return(e,r)=>{for(const n of Object.keys(e)){const o=e[n],{canAdd:s,canAddToArray:u,check:c,expected:f}=i[t+"s"][n]||{};if(c)if(!!u){if(!Array.isArray(o)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);o.every(c)||a(t,n,f,o);const e=r[n]||[],i=new Set;if(!o.every((t=>u(e,t,i))))throw new Error("Can not add duplicate data to array");r[n]=e.concat(o)}else{if(c(o)||a(t,n,f,o),!s(r,o))throw new Error(`Can not add duplicate data to ${t}`);r[n]=o}}}}e.checkForInput=o,e.checkForOutput=s,e.checkHasKey=function(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&0!==e.filter((e=>e.key.equals(t.key))).length)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)},e.getEnumLength=function(t){let e=0;return Object.keys(t).forEach((t=>{Number(isNaN(Number(t)))&&e++})),e},e.inputCheckUncleanFinalized=function(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){const t=!!e.redeemScript,n=!!e.witnessScript,i=!t||!!e.finalScriptSig,o=!n||!!e.finalScriptWitness,s=!!e.finalScriptSig||!!e.finalScriptWitness;r=i&&o&&s}if(!1===r)throw new Error(`Input #${t} has too much or too little data to clean`)},e.updateGlobal=u("global"),e.updateInput=u("input"),e.updateOutput=u("output"),e.addInputAttributes=function(t,r){const n=o(t,t.length-1);e.updateInput(r,n)},e.addOutputAttributes=function(t,r){const n=s(t,t.length-1);e.updateOutput(r,n)},e.defaultVersionSetter=function(t,e){if(!n.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e},e.defaultLocktimeSetter=function(t,e){if(!n.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}},70057:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.toOutputScript=e.fromOutputScript=e.toBech32=e.toBase58Check=e.fromBech32=e.fromBase58Check=void 0;const i=r(50622),o=r(30885),s=r(67038),a=r(98116),u=r(22343),c=r(91889),f=40,l=2,d=16,h=2,p=80,y="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function g(t){const e=n.from(c.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");return{version:e.readUInt8(0),hash:e.slice(1)}}function b(t){let e,r;try{e=u.bech32.decode(t)}catch(t){}if(e){if(r=e.words[0],0!==r)throw new TypeError(t+" uses wrong encoding")}else if(e=u.bech32m.decode(t),r=e.words[0],0===r)throw new TypeError(t+" uses wrong encoding");const i=u.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:n.from(i)}}function m(t,e,r){const n=u.bech32.toWords(t);return n.unshift(e),0===e?u.bech32.encode(r,n):u.bech32m.encode(r,n)}e.fromBase58Check=g,e.fromBech32=b,e.toBase58Check=function(t,e){(0,a.typeforce)((0,a.tuple)(a.Hash160bit,a.UInt8),arguments);const r=n.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),c.encode(r)},e.toBech32=m,e.fromOutputScript=function(t,e){e=e||i.bitcoin;try{return o.p2pkh({output:t,network:e}).address}catch(t){}try{return o.p2sh({output:t,network:e}).address}catch(t){}try{return o.p2wpkh({output:t,network:e}).address}catch(t){}try{return o.p2wsh({output:t,network:e}).address}catch(t){}try{return o.p2tr({output:t,network:e}).address}catch(t){}try{return function(t,e){const r=t.slice(2);if(r.length<l||r.length>f)throw new TypeError("Invalid program length for segwit address");const n=t[0]-p;if(n<h||n>d)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(y),m(r,n,e.bech32)}(t,e)}catch(t){}throw new Error(s.toASM(t)+" has no matching Address")},e.toOutputScript=function(t,e){let r,n;e=e||i.bitcoin;try{r=g(t)}catch(t){}if(r){if(r.version===e.pubKeyHash)return o.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return o.p2sh({hash:r.hash}).output}else{try{n=b(t)}catch(t){}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return o.p2wpkh({hash:n.data}).output;if(32===n.data.length)return o.p2wsh({hash:n.data}).output}else if(1===n.version){if(32===n.data.length)return o.p2tr({pubkey:n.data}).output}else if(n.version>=h&&n.version<=d&&n.data.length>=l&&n.data.length<=f)return console.warn(y),s.compile([n.version+p,n.data])}}throw new Error(t+" has no matching Script")}},13966:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=e.check=void 0,e.check=function(t){if(t.length<8)return!1;if(t.length>72)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-2)return!1;if(2!==t[2])return!1;const e=t[3];if(0===e)return!1;if(5+e>=t.length)return!1;if(2!==t[4+e])return!1;const r=t[5+e];return 0!==r&&(6+e+r===t.length&&(!(128&t[4])&&(!(e>1&&0===t[4]&&!(128&t[5]))&&(!(128&t[e+6])&&!(r>1&&0===t[e+6]&&!(128&t[e+7]))))))},e.decode=function(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(48!==t[0])throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(2!==t[2])throw new Error("Expected DER integer");const e=t[3];if(0===e)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(2!==t[4+e])throw new Error("Expected DER integer (2)");const r=t[5+e];if(0===r)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(128&t[4])throw new Error("R value is negative");if(e>1&&0===t[4]&&!(128&t[5]))throw new Error("R value excessively padded");if(128&t[e+6])throw new Error("S value is negative");if(r>1&&0===t[e+6]&&!(128&t[e+7]))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}},e.encode=function(t,e){const r=t.length,i=e.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&t[0])throw new Error("R value is negative");if(128&e[0])throw new Error("S value is negative");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error("R value excessively padded");if(i>1&&0===e[0]&&!(128&e[1]))throw new Error("S value excessively padded");const o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=t.length,t.copy(o,4),o[4+r]=2,o[5+r]=e.length,e.copy(o,6+r),o}},41696:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.Block=void 0;const i=r(30606),o=r(91944),s=r(31015),a=r(22021),u=r(98116),{typeforce:c}=u,f=new TypeError("Cannot compute merkle root for zero transactions"),l=new TypeError("Cannot compute witness commit for non-segwit block");class d{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");const e=new i.BufferReader(t),r=new d;if(r.version=e.readInt32(),r.prevHash=e.readSlice(32),r.merkleRoot=e.readSlice(32),r.timestamp=e.readUInt32(),r.bits=e.readUInt32(),r.nonce=e.readUInt32(),80===t.length)return r;const n=()=>{const t=a.Transaction.fromBuffer(e.buffer.slice(e.offset),!0);return e.offset+=t.byteLength(),t},o=e.readVarInt();r.transactions=[];for(let t=0;t<o;++t){const t=n();r.transactions.push(t)}const s=r.getWitnessCommit();return s&&(r.witnessCommit=s),r}static fromHex(t){return d.fromBuffer(n.from(t,"hex"))}static calculateTarget(t){const e=((4278190080&t)>>24)-3,r=8388607&t,i=n.alloc(32,0);return i.writeUIntBE(r,29-e,3),i}static calculateMerkleRoot(t,e){if(c([{getHash:u.Function}],t),0===t.length)throw f;if(e&&!h(t))throw l;const r=t.map((t=>t.getHash(e))),i=(0,s.fastMerkleRoot)(r,o.hash256);return e?o.hash256(n.concat([i,t[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!h(this.transactions))return null;const t=this.transactions[0].outs.filter((t=>t.script.slice(0,6).equals(n.from("6a24aa21a9ed","hex")))).map((t=>t.script.slice(6,38)));if(0===t.length)return null;const e=t[t.length-1];return e instanceof n&&32===e.length?e:null}hasWitnessCommit(){return this.witnessCommit instanceof n&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(t=this.transactions)instanceof Array&&t.some((t=>"object"==typeof t&&t.ins instanceof Array&&t.ins.some((t=>"object"==typeof t&&t.witness instanceof Array&&t.witness.length>0))));var t}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(t,e=!0){return t||!this.transactions?80:80+i.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((t,r)=>t+r.byteLength(e)),0)}getHash(){return o.hash256(this.toBuffer(!0))}getId(){return(0,i.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const t=new Date(0);return t.setUTCSeconds(this.timestamp),t}toBuffer(t){const e=n.allocUnsafe(this.byteLength(t)),r=new i.BufferWriter(e);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),t||!this.transactions||(i.varuint.encode(this.transactions.length,e,r.offset),r.offset+=i.varuint.encode.bytes,this.transactions.forEach((t=>{const n=t.byteLength();t.toBuffer(e,r.offset),r.offset+=n}))),e}toHex(t){return this.toBuffer(t).toString("hex")}checkTxRoots(){const t=this.hasWitnessCommit();return!(!t&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!t||this.__checkWitnessCommit()))}checkProofOfWork(){const t=(0,i.reverseBuffer)(this.getHash()),e=d.calculateTarget(this.bits);return t.compare(e)<=0}__checkMerkleRoot(){if(!this.transactions)throw f;const t=d.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(t)}__checkWitnessCommit(){if(!this.transactions)throw f;if(!this.hasWitnessCommit())throw l;const t=d.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(t)}}function h(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}e.Block=d},30606:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=e.BufferWriter=e.cloneBuffer=e.reverseBuffer=e.writeUInt64LE=e.readUInt64LE=e.varuint=void 0;const i=r(98116),{typeforce:o}=i,s=r(68469);function a(t,e){if("number"!=typeof t)throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function u(t,e){const r=t.readUInt32LE(e);let n=t.readUInt32LE(e+4);return n*=4294967296,a(n+r,9007199254740991),n+r}function c(t,e,r){return a(e,9007199254740991),t.writeInt32LE(-1&e,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}e.varuint=s,e.readUInt64LE=u,e.writeUInt64LE=c,e.reverseBuffer=function(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t},e.cloneBuffer=function(t){const e=n.allocUnsafe(t.length);return t.copy(e),e};class f{static withCapacity(t){return new f(n.alloc(t))}constructor(t,e=0){this.buffer=t,this.offset=e,o(i.tuple(i.Buffer,i.UInt32),[t,e])}writeUInt8(t){this.offset=this.buffer.writeUInt8(t,this.offset)}writeInt32(t){this.offset=this.buffer.writeInt32LE(t,this.offset)}writeUInt32(t){this.offset=this.buffer.writeUInt32LE(t,this.offset)}writeUInt64(t){this.offset=c(this.buffer,t,this.offset)}writeVarInt(t){s.encode(t,this.buffer,this.offset),this.offset+=s.encode.bytes}writeSlice(t){if(this.buffer.length<this.offset+t.length)throw new Error("Cannot write slice out of bounds");this.offset+=t.copy(this.buffer,this.offset)}writeVarSlice(t){this.writeVarInt(t.length),this.writeSlice(t)}writeVector(t){this.writeVarInt(t.length),t.forEach((t=>this.writeVarSlice(t)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}e.BufferWriter=f;e.BufferReader=class{constructor(t,e=0){this.buffer=t,this.offset=e,o(i.tuple(i.Buffer,i.UInt32),[t,e])}readUInt8(){const t=this.buffer.readUInt8(this.offset);return this.offset++,t}readInt32(){const t=this.buffer.readInt32LE(this.offset);return this.offset+=4,t}readUInt32(){const t=this.buffer.readUInt32LE(this.offset);return this.offset+=4,t}readUInt64(){const t=u(this.buffer,this.offset);return this.offset+=8,t}readVarInt(){const t=s.decode(this.buffer,this.offset);return this.offset+=s.decode.bytes,t}readSlice(t){if(this.buffer.length<this.offset+t)throw new Error("Cannot read slice out of bounds");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const t=this.readVarInt(),e=[];for(let r=0;r<t;r++)e.push(this.readVarSlice());return e}}},91944:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.taggedHash=e.TAGGED_HASH_PREFIXES=e.TAGS=e.hash256=e.hash160=e.sha256=e.sha1=e.ripemd160=void 0;const i=r(93238),o=r(31549),s=r(22623);function a(t){return n.from((0,s.sha256)(Uint8Array.from(t)))}e.ripemd160=function(t){return n.from((0,i.ripemd160)(Uint8Array.from(t)))},e.sha1=function(t){return n.from((0,o.sha1)(Uint8Array.from(t)))},e.sha256=a,e.hash160=function(t){return n.from((0,i.ripemd160)((0,s.sha256)(Uint8Array.from(t))))},e.hash256=function(t){return n.from((0,s.sha256)((0,s.sha256)(Uint8Array.from(t))))},e.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],e.TAGGED_HASH_PREFIXES={"BIP0340/challenge":n.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":n.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":n.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:n.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:n.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:n.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:n.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":n.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":n.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},e.taggedHash=function(t,r){return a(n.concat([e.TAGGED_HASH_PREFIXES[t],r]))}},60916:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.getEccLib=e.initEccLib=void 0;const i={};e.initEccLib=function(t){var e;t?t!==i.eccLib&&(s("function"==typeof(e=t).isXOnlyPoint),s(e.isXOnlyPoint(o("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),s(e.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),s(e.isXOnlyPoint(o("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),s(e.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000001"))),s(!e.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000000"))),s(!e.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),s("function"==typeof e.xOnlyPointAddTweak),a.forEach((t=>{const r=e.xOnlyPointAddTweak(o(t.pubkey),o(t.tweak));null===t.result?s(null===r):(s(null!==r),s(r.parity===t.parity),s(n.from(r.xOnlyPubkey).equals(o(t.result))))})),i.eccLib=t):i.eccLib=t},e.getEccLib=function(){if(!i.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return i.eccLib};const o=t=>n.from(t,"hex");function s(t){if(!t)throw new Error("ecc library invalid")}const a=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},21757:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initEccLib=e.Transaction=e.opcodes=e.Psbt=e.Block=e.script=e.payments=e.networks=e.crypto=e.address=void 0;const n=r(70057);e.address=n;const i=r(91944);e.crypto=i;const o=r(50622);e.networks=o;const s=r(30885);e.payments=s;const a=r(67038);e.script=a;var u=r(41696);Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return u.Block}});var c=r(59646);Object.defineProperty(e,"Psbt",{enumerable:!0,get:function(){return c.Psbt}});var f=r(68417);Object.defineProperty(e,"opcodes",{enumerable:!0,get:function(){return f.OPS}});var l=r(22021);Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return l.Transaction}});var d=r(60916);Object.defineProperty(e,"initEccLib",{enumerable:!0,get:function(){return d.initEccLib}})},31015:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.fastMerkleRoot=void 0,e.fastMerkleRoot=function(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if("function"!=typeof e)throw TypeError("Expected digest Function");let r=t.length;const i=t.concat();for(;r>1;){let t=0;for(let o=0;o<r;o+=2,++t){const s=i[o],a=o+1===r?s:i[o+1],u=n.concat([s,a]);i[t]=e(u)}r=t}return i[0]}},50622:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.testnet=e.regtest=e.bitcoin=void 0,e.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},e.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},e.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},68417:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REVERSE_OPS=e.OPS=void 0;const r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};e.OPS=r;const n={};e.REVERSE_OPS=n;for(const t of Object.keys(r)){n[r[t]]=t}},82218:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tweakKey=e.tapTweakHash=e.tapleafHash=e.findScriptPath=e.toHashTree=e.rootHashFromPath=e.MAX_TAPTREE_DEPTH=e.LEAF_VERSION_TAPSCRIPT=void 0;const n=r(48287),i=r(60916),o=r(91944),s=r(30606),a=r(98116);e.LEAF_VERSION_TAPSCRIPT=192,e.MAX_TAPTREE_DEPTH=128;function u(t){const r=t.version||e.LEAF_VERSION_TAPSCRIPT;return o.taggedHash("TapLeaf",n.Buffer.concat([n.Buffer.from([r]),l(t.output)]))}function c(t,e){return o.taggedHash("TapTweak",n.Buffer.concat(e?[t,e]:[t]))}function f(t,e){return o.taggedHash("TapBranch",n.Buffer.concat([t,e]))}function l(t){const e=s.varuint.encodingLength(t.length),r=n.Buffer.allocUnsafe(e);return s.varuint.encode(t.length,r),n.Buffer.concat([r,t])}e.rootHashFromPath=function(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);const r=(t.length-33)/32;let n=e;for(let e=0;e<r;e++){const r=t.slice(33+32*e,65+32*e);n=n.compare(r)<0?f(n,r):f(r,n)}return n},e.toHashTree=function t(e){if((0,a.isTapleaf)(e))return{hash:u(e)};const r=[t(e[0]),t(e[1])];r.sort(((t,e)=>t.hash.compare(e.hash)));const[n,i]=r;return{hash:f(n.hash,i.hash),left:n,right:i}},e.findScriptPath=function t(e,r){if("left"in(n=e)&&"right"in n){const n=t(e.left,r);if(void 0!==n)return[...n,e.right.hash];const i=t(e.right,r);if(void 0!==i)return[...i,e.left.hash]}else if(e.hash.equals(r))return[];var n},e.tapleafHash=u,e.tapTweakHash=c,e.tweakKey=function(t,e){if(!n.Buffer.isBuffer(t))return null;if(32!==t.length)return null;if(e&&32!==e.length)return null;const r=c(t,e),o=(0,i.getEccLib)().xOnlyPointAddTweak(t,r);return o&&null!==o.xOnlyPubkey?{parity:o.parity,x:n.Buffer.from(o.xOnlyPubkey)}:null}},55472:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2data=void 0;const n=r(50622),i=r(67038),o=r(98116),s=r(97883),a=i.OPS;e.p2data=function(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},t);const r={name:"embed",network:t.network||n.bitcoin};if(s.prop(r,"output",(()=>{if(t.data)return i.compile([a.OP_RETURN].concat(t.data))})),s.prop(r,"data",(()=>{if(t.output)return i.decompile(t.output).slice(1)})),e.validate&&t.output){const e=i.decompile(t.output);if(e[0]!==a.OP_RETURN)throw new TypeError("Output is invalid");if(!e.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!(0,o.stacksEqual)(t.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,t)}},30885:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2tr=e.p2wsh=e.p2wpkh=e.p2sh=e.p2pkh=e.p2pk=e.p2ms=e.embed=void 0;const n=r(55472);Object.defineProperty(e,"embed",{enumerable:!0,get:function(){return n.p2data}});const i=r(91395);Object.defineProperty(e,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=r(4930);Object.defineProperty(e,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const s=r(23504);Object.defineProperty(e,"p2pkh",{enumerable:!0,get:function(){return s.p2pkh}});const a=r(8368);Object.defineProperty(e,"p2sh",{enumerable:!0,get:function(){return a.p2sh}});const u=r(77027);Object.defineProperty(e,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});const c=r(79041);Object.defineProperty(e,"p2wsh",{enumerable:!0,get:function(){return c.p2wsh}});const f=r(25501);Object.defineProperty(e,"p2tr",{enumerable:!0,get:function(){return f.p2tr}})},97883:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.value=e.prop=void 0,e.prop=function(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){const t=r.call(this);return this[e]=t,t},set(t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}})},e.value=function(t){let e;return()=>(void 0!==e||(e=t()),e)}},91395:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2ms=void 0;const n=r(50622),i=r(67038),o=r(98116),s=r(97883),a=i.OPS,u=a.OP_RESERVED;e.p2ms=function(t,e){if(!(t.input||t.output||t.pubkeys&&void 0!==t.m||t.signatures))throw new TypeError("Not enough data");function r(t){return i.isCanonicalScriptSignature(t)||void 0!==(e.allowIncomplete&&t===a.OP_0)}e=Object.assign({validate:!0},e||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(r)),input:o.typeforce.maybe(o.typeforce.Buffer)},t);const c={network:t.network||n.bitcoin};let f=[],l=!1;function d(t){l||(l=!0,f=i.decompile(t),c.m=f[0]-u,c.n=f[f.length-2]-u,c.pubkeys=f.slice(1,-2))}if(s.prop(c,"output",(()=>{if(t.m&&c.n&&t.pubkeys)return i.compile([].concat(u+t.m,t.pubkeys,u+c.n,a.OP_CHECKMULTISIG))})),s.prop(c,"m",(()=>{if(c.output)return d(c.output),c.m})),s.prop(c,"n",(()=>{if(c.pubkeys)return c.pubkeys.length})),s.prop(c,"pubkeys",(()=>{if(t.output)return d(t.output),c.pubkeys})),s.prop(c,"signatures",(()=>{if(t.input)return i.decompile(t.input).slice(1)})),s.prop(c,"input",(()=>{if(t.signatures)return i.compile([a.OP_0].concat(t.signatures))})),s.prop(c,"witness",(()=>{if(c.input)return[]})),s.prop(c,"name",(()=>{if(c.m&&c.n)return`p2ms(${c.m} of ${c.n})`})),e.validate){if(t.output){if(d(t.output),!o.typeforce.Number(f[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(f[f.length-2]))throw new TypeError("Output is invalid");if(f[f.length-1]!==a.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(c.m<=0||c.n>16||c.m>c.n||c.n!==f.length-3)throw new TypeError("Output is invalid");if(!c.pubkeys.every((t=>(0,o.isPoint)(t))))throw new TypeError("Output is invalid");if(void 0!==t.m&&t.m!==c.m)throw new TypeError("m mismatch");if(void 0!==t.n&&t.n!==c.n)throw new TypeError("n mismatch");if(t.pubkeys&&!(0,o.stacksEqual)(t.pubkeys,c.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(void 0!==t.n&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(c.n=t.pubkeys.length,c.n<c.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<c.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>c.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==a.OP_0)throw new TypeError("Input is invalid");if(0===c.signatures.length||!c.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!(0,o.stacksEqual)(t.signatures,c.signatures))throw new TypeError("Signature mismatch");if(void 0!==t.m&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(c,t)}},4930:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2pk=void 0;const n=r(50622),i=r(67038),o=r(98116),s=r(97883),a=i.OPS;e.p2pk=function(t,e){if(!(t.input||t.output||t.pubkey||t.input||t.signature))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},t);const r=s.value((()=>i.decompile(t.input))),u={name:"p2pk",network:t.network||n.bitcoin};if(s.prop(u,"output",(()=>{if(t.pubkey)return i.compile([t.pubkey,a.OP_CHECKSIG])})),s.prop(u,"pubkey",(()=>{if(t.output)return t.output.slice(1,-1)})),s.prop(u,"signature",(()=>{if(t.input)return r()[0]})),s.prop(u,"input",(()=>{if(t.signature)return i.compile([t.signature])})),s.prop(u,"witness",(()=>{if(u.input)return[]})),e.validate){if(t.output){if(t.output[t.output.length-1]!==a.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(u.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(u.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(u.input))throw new TypeError("Signature mismatch");if(t.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(u.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(u,t)}},23504:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.p2pkh=void 0;const i=r(91944),o=r(50622),s=r(67038),a=r(98116),u=r(97883),c=r(91889),f=s.OPS;e.p2pkh=function(t,e){if(!(t.address||t.hash||t.output||t.pubkey||t.input))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(25)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(s.isCanonicalScriptSignature),input:a.typeforce.maybe(a.typeforce.Buffer)},t);const r=u.value((()=>{const e=n.from(c.decode(t.address));return{version:e.readUInt8(0),hash:e.slice(1)}})),l=u.value((()=>s.decompile(t.input))),d=t.network||o.bitcoin,h={name:"p2pkh",network:d};if(u.prop(h,"address",(()=>{if(!h.hash)return;const t=n.allocUnsafe(21);return t.writeUInt8(d.pubKeyHash,0),h.hash.copy(t,1),c.encode(t)})),u.prop(h,"hash",(()=>t.output?t.output.slice(3,23):t.address?r().hash:t.pubkey||h.pubkey?i.hash160(t.pubkey||h.pubkey):void 0)),u.prop(h,"output",(()=>{if(h.hash)return s.compile([f.OP_DUP,f.OP_HASH160,h.hash,f.OP_EQUALVERIFY,f.OP_CHECKSIG])})),u.prop(h,"pubkey",(()=>{if(t.input)return l()[1]})),u.prop(h,"signature",(()=>{if(t.input)return l()[0]})),u.prop(h,"input",(()=>{if(t.pubkey&&t.signature)return s.compile([t.signature,t.pubkey])})),u.prop(h,"witness",(()=>{if(h.input)return[]})),e.validate){let e=n.from([]);if(t.address){if(r().version!==d.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");e=r().hash}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw new TypeError("Hash mismatch");e=t.hash}if(t.output){if(25!==t.output.length||t.output[0]!==f.OP_DUP||t.output[1]!==f.OP_HASH160||20!==t.output[2]||t.output[23]!==f.OP_EQUALVERIFY||t.output[24]!==f.OP_CHECKSIG)throw new TypeError("Output is invalid");const r=t.output.slice(3,23);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}if(t.pubkey){const r=i.hash160(t.pubkey);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}if(t.input){const r=l();if(2!==r.length)throw new TypeError("Input is invalid");if(!s.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!(0,a.isPoint)(r[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const n=i.hash160(r[1]);if(e.length>0&&!e.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(h,t)}},8368:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.p2sh=void 0;const i=r(91944),o=r(50622),s=r(67038),a=r(98116),u=r(97883),c=r(91889),f=s.OPS;e.p2sh=function(t,e){if(!(t.address||t.hash||t.output||t.redeem||t.input))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(23)),redeem:a.typeforce.maybe({network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||o.bitcoin);const l={network:r},d=u.value((()=>{const e=n.from(c.decode(t.address));return{version:e.readUInt8(0),hash:e.slice(1)}})),h=u.value((()=>s.decompile(t.input))),p=u.value((()=>{const e=h(),i=e[e.length-1];return{network:r,output:i===f.OP_FALSE?n.from([]):i,input:s.compile(e.slice(0,-1)),witness:t.witness||[]}}));if(u.prop(l,"address",(()=>{if(!l.hash)return;const t=n.allocUnsafe(21);return t.writeUInt8(l.network.scriptHash,0),l.hash.copy(t,1),c.encode(t)})),u.prop(l,"hash",(()=>t.output?t.output.slice(2,22):t.address?d().hash:l.redeem&&l.redeem.output?i.hash160(l.redeem.output):void 0)),u.prop(l,"output",(()=>{if(l.hash)return s.compile([f.OP_HASH160,l.hash,f.OP_EQUAL])})),u.prop(l,"redeem",(()=>{if(t.input)return p()})),u.prop(l,"input",(()=>{if(t.redeem&&t.redeem.input&&t.redeem.output)return s.compile([].concat(s.decompile(t.redeem.input),t.redeem.output))})),u.prop(l,"witness",(()=>l.redeem&&l.redeem.witness?l.redeem.witness:l.input?[]:void 0)),u.prop(l,"name",(()=>{const t=["p2sh"];return void 0!==l.redeem&&void 0!==l.redeem.name&&t.push(l.redeem.name),t.join("-")})),e.validate){let e=n.from([]);if(t.address){if(d().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==d().hash.length)throw new TypeError("Invalid address");e=d().hash}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw new TypeError("Hash mismatch");e=t.hash}if(t.output){if(23!==t.output.length||t.output[0]!==f.OP_HASH160||20!==t.output[1]||t.output[22]!==f.OP_EQUAL)throw new TypeError("Output is invalid");const r=t.output.slice(2,22);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}const o=t=>{if(t.output){const r=s.decompile(t.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");if(t.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(s.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.hash160(t.output);if(e.length>0&&!e.equals(n))throw new TypeError("Hash mismatch");e=n}if(t.input){const e=t.input.length>0,r=t.witness&&t.witness.length>0;if(!e&&!r)throw new TypeError("Empty input");if(e&&r)throw new TypeError("Input and witness provided");if(e){const e=s.decompile(t.input);if(!s.isPushOnly(e))throw new TypeError("Non push-only scriptSig")}}};if(t.input){const t=h();if(!t||t.length<1)throw new TypeError("Input too short");if(!n.isBuffer(p().output))throw new TypeError("Input is invalid");o(p())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){const e=p();if(t.redeem.output&&!t.redeem.output.equals(e.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(e.input))throw new TypeError("Redeem.input mismatch")}o(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!(0,a.stacksEqual)(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(l,t)}},25501:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2tr=void 0;const n=r(48287),i=r(50622),o=r(67038),s=r(98116),a=r(60916),u=r(82218),c=r(97883),f=r(22343),l=r(70057),d=o.OPS;e.p2tr=function(t,e){if(!(t.address||t.output||t.pubkey||t.internalPubkey||t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,s.typeforce)({address:s.typeforce.maybe(s.typeforce.String),input:s.typeforce.maybe(s.typeforce.BufferN(0)),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.BufferN(34)),internalPubkey:s.typeforce.maybe(s.typeforce.BufferN(32)),hash:s.typeforce.maybe(s.typeforce.BufferN(32)),pubkey:s.typeforce.maybe(s.typeforce.BufferN(32)),signature:s.typeforce.maybe(s.typeforce.anyOf(s.typeforce.BufferN(64),s.typeforce.BufferN(65))),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer)),scriptTree:s.typeforce.maybe(s.isTaptree),redeem:s.typeforce.maybe({output:s.typeforce.maybe(s.typeforce.Buffer),redeemVersion:s.typeforce.maybe(s.typeforce.Number),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),redeemVersion:s.typeforce.maybe(s.typeforce.Number)},t);const r=c.value((()=>(0,l.fromBech32)(t.address))),h=c.value((()=>{if(t.witness&&t.witness.length)return t.witness.length>=2&&80===t.witness[t.witness.length-1][0]?t.witness.slice(0,-1):t.witness.slice()})),p=c.value((()=>t.scriptTree?(0,u.toHashTree)(t.scriptTree):t.hash?{hash:t.hash}:void 0)),y=t.network||i.bitcoin,g={name:"p2tr",network:y};if(c.prop(g,"address",(()=>{if(!g.pubkey)return;const t=f.bech32m.toWords(g.pubkey);return t.unshift(1),f.bech32m.encode(y.bech32,t)})),c.prop(g,"hash",(()=>{const t=p();if(t)return t.hash;const e=h();if(e&&e.length>1){const t=e[e.length-1],r=t[0]&s.TAPLEAF_VERSION_MASK,n=e[e.length-2],i=(0,u.tapleafHash)({output:n,version:r});return(0,u.rootHashFromPath)(t,i)}return null})),c.prop(g,"output",(()=>{if(g.pubkey)return o.compile([d.OP_1,g.pubkey])})),c.prop(g,"redeemVersion",(()=>t.redeemVersion?t.redeemVersion:t.redeem&&void 0!==t.redeem.redeemVersion&&null!==t.redeem.redeemVersion?t.redeem.redeemVersion:u.LEAF_VERSION_TAPSCRIPT)),c.prop(g,"redeem",(()=>{const t=h();if(t&&!(t.length<2))return{output:t[t.length-2],witness:t.slice(0,-2),redeemVersion:t[t.length-1][0]&s.TAPLEAF_VERSION_MASK}})),c.prop(g,"pubkey",(()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(g.internalPubkey){const t=(0,u.tweakKey)(g.internalPubkey,g.hash);if(t)return t.x}})),c.prop(g,"internalPubkey",(()=>{if(t.internalPubkey)return t.internalPubkey;const e=h();return e&&e.length>1?e[e.length-1].slice(1,33):void 0})),c.prop(g,"signature",(()=>{if(t.signature)return t.signature;const e=h();return e&&1===e.length?e[0]:void 0})),c.prop(g,"witness",(()=>{if(t.witness)return t.witness;const e=p();if(e&&t.redeem&&t.redeem.output&&t.internalPubkey){const r=(0,u.tapleafHash)({output:t.redeem.output,version:g.redeemVersion}),i=(0,u.findScriptPath)(e,r);if(!i)return;const o=(0,u.tweakKey)(t.internalPubkey,e.hash);if(!o)return;const s=n.Buffer.concat([n.Buffer.from([g.redeemVersion|o.parity]),t.internalPubkey].concat(i));return[t.redeem.output,s]}return t.signature?[t.signature]:void 0})),e.validate){let e=n.Buffer.from([]);if(t.address){if(y&&y.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");e=r().data}if(t.pubkey){if(e.length>0&&!e.equals(t.pubkey))throw new TypeError("Pubkey mismatch");e=t.pubkey}if(t.output){if(34!==t.output.length||t.output[0]!==d.OP_1||32!==t.output[1])throw new TypeError("Output is invalid");if(e.length>0&&!e.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");e=t.output.slice(2)}if(t.internalPubkey){const r=(0,u.tweakKey)(t.internalPubkey,g.hash);if(e.length>0&&!e.equals(r.x))throw new TypeError("Pubkey mismatch");e=r.x}if(e&&e.length&&!(0,a.getEccLib)().isXOnlyPoint(e))throw new TypeError("Invalid pubkey for p2tr");const i=p();if(t.hash&&i&&!t.hash.equals(i.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&i){const e=(0,u.tapleafHash)({output:t.redeem.output,version:g.redeemVersion});if(!(0,u.findScriptPath)(i,e))throw new TypeError("Redeem script not in tree")}const c=h();if(t.redeem&&g.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==g.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(0===o.decompile(t.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(g.redeem.output&&!t.redeem.output.equals(g.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&g.redeem.witness&&!(0,s.stacksEqual)(t.redeem.witness,g.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(c&&c.length)if(1===c.length){if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch")}else{const r=c[c.length-1];if(r.length<33)throw new TypeError(`The control-block length is too small. Got ${r.length}, expected min 33.`);if((r.length-33)%32!=0)throw new TypeError(`The control-block length of ${r.length} is incorrect!`);const n=(r.length-33)/32;if(n>128)throw new TypeError(`The script path is too long. Got ${n}, expected max 128.`);const i=r.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(!(0,a.getEccLib)().isXOnlyPoint(i))throw new TypeError("Invalid internalPubkey for p2tr witness");const o=r[0]&s.TAPLEAF_VERSION_MASK,f=c[c.length-2],l=(0,u.tapleafHash)({output:f,version:o}),d=(0,u.rootHashFromPath)(r,l),h=(0,u.tweakKey)(i,d);if(!h)throw new TypeError("Invalid outputKey for p2tr witness");if(e.length&&!e.equals(h.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(h.parity!==(1&r[0]))throw new Error("Incorrect parity")}}return Object.assign(g,t)}},77027:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.p2wpkh=void 0;const i=r(91944),o=r(50622),s=r(67038),a=r(98116),u=r(97883),c=r(22343),f=s.OPS,l=n.alloc(0);e.p2wpkh=function(t,e){if(!(t.address||t.hash||t.output||t.pubkey||t.witness))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(22)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(s.isCanonicalScriptSignature),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},t);const r=u.value((()=>{const e=c.bech32.decode(t.address),r=e.words.shift(),i=c.bech32.fromWords(e.words);return{version:r,prefix:e.prefix,data:n.from(i)}})),d=t.network||o.bitcoin,h={name:"p2wpkh",network:d};if(u.prop(h,"address",(()=>{if(!h.hash)return;const t=c.bech32.toWords(h.hash);return t.unshift(0),c.bech32.encode(d.bech32,t)})),u.prop(h,"hash",(()=>t.output?t.output.slice(2,22):t.address?r().data:t.pubkey||h.pubkey?i.hash160(t.pubkey||h.pubkey):void 0)),u.prop(h,"output",(()=>{if(h.hash)return s.compile([f.OP_0,h.hash])})),u.prop(h,"pubkey",(()=>t.pubkey?t.pubkey:t.witness?t.witness[1]:void 0)),u.prop(h,"signature",(()=>{if(t.witness)return t.witness[0]})),u.prop(h,"input",(()=>{if(h.witness)return l})),u.prop(h,"witness",(()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]})),e.validate){let e=n.from([]);if(t.address){if(d&&d.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");e=r().data}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw new TypeError("Hash mismatch");e=t.hash}if(t.output){if(22!==t.output.length||t.output[0]!==f.OP_0||20!==t.output[1])throw new TypeError("Output is invalid");if(e.length>0&&!e.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");e=t.output.slice(2)}if(t.pubkey){const r=i.hash160(t.pubkey);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");if(e=r,!(0,a.isPoint)(t.pubkey)||33!==t.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(2!==t.witness.length)throw new TypeError("Witness is invalid");if(!s.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,a.isPoint)(t.witness[1])||33!==t.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");const r=i.hash160(t.witness[1]);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(h,t)}},79041:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.p2wsh=void 0;const i=r(91944),o=r(50622),s=r(67038),a=r(98116),u=r(97883),c=r(22343),f=s.OPS,l=n.alloc(0);function d(t){return!(!n.isBuffer(t)||65!==t.length||4!==t[0]||!(0,a.isPoint)(t))}e.p2wsh=function(t,e){if(!(t.address||t.hash||t.output||t.redeem||t.witness))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),output:a.typeforce.maybe(a.typeforce.BufferN(34)),redeem:a.typeforce.maybe({input:a.typeforce.maybe(a.typeforce.Buffer),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.BufferN(0)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},t);const r=u.value((()=>{const e=c.bech32.decode(t.address),r=e.words.shift(),i=c.bech32.fromWords(e.words);return{version:r,prefix:e.prefix,data:n.from(i)}})),h=u.value((()=>s.decompile(t.redeem.input)));let p=t.network;p||(p=t.redeem&&t.redeem.network||o.bitcoin);const y={network:p};if(u.prop(y,"address",(()=>{if(!y.hash)return;const t=c.bech32.toWords(y.hash);return t.unshift(0),c.bech32.encode(p.bech32,t)})),u.prop(y,"hash",(()=>t.output?t.output.slice(2):t.address?r().data:y.redeem&&y.redeem.output?i.sha256(y.redeem.output):void 0)),u.prop(y,"output",(()=>{if(y.hash)return s.compile([f.OP_0,y.hash])})),u.prop(y,"redeem",(()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:l,witness:t.witness.slice(0,-1)}})),u.prop(y,"input",(()=>{if(y.witness)return l})),u.prop(y,"witness",(()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){const e=s.toStack(h());return y.redeem=Object.assign({witness:e},t.redeem),y.redeem.input=l,[].concat(e,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)})),u.prop(y,"name",(()=>{const t=["p2wsh"];return void 0!==y.redeem&&void 0!==y.redeem.name&&t.push(y.redeem.name),t.join("-")})),e.validate){let e=n.from([]);if(t.address){if(r().prefix!==p.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");e=r().data}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw new TypeError("Hash mismatch");e=t.hash}if(t.output){if(34!==t.output.length||t.output[0]!==f.OP_0||32!==t.output[1])throw new TypeError("Output is invalid");const r=t.output.slice(2);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}if(t.redeem){if(t.redeem.network&&t.redeem.network!==p)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){const r=s.decompile(t.redeem.output);if(!r||r.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(s.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.sha256(t.redeem.output);if(e.length>0&&!e.equals(n))throw new TypeError("Hash mismatch");e=n}if(t.redeem.input&&!s.isPushOnly(h()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!(0,a.stacksEqual)(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&h().some(d)||t.redeem.output&&(s.decompile(t.redeem.output)||[]).some(d))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){const e=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(e))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(d)||(s.decompile(e)||[]).some(d))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(y,t)}},59646:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.Psbt=void 0;const i=r(1614),o=r(40394),s=r(45080),a=r(70057),u=r(30606),c=r(50622),f=r(30885),l=r(82218),d=r(67038),h=r(22021),p=r(60477),y=r(34929),g={network:c.bitcoin,maximumFeeRate:5e3};class b{static fromBase64(t,e={}){const r=n.from(t,"base64");return this.fromBuffer(r,e)}static fromHex(t,e={}){const r=n.from(t,"hex");return this.fromBuffer(r,e)}static fromBuffer(t,e={}){const r=i.Psbt.fromBuffer(t,m),n=new b(e,r);var o,s;return o=n.__CACHE.__TX,s=n.__CACHE,o.ins.forEach((t=>{I(s,t)})),n}constructor(t={},e=new i.Psbt(new v)){this.data=e,this.opts=Object.assign({},g,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const r=(t,e,r,n)=>Object.defineProperty(t,e,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(t){this.setVersion(t)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(t){this.setLocktime(t)}get txInputs(){return this.__CACHE.__TX.ins.map((t=>({hash:(0,u.cloneBuffer)(t.hash),index:t.index,sequence:t.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((t=>{let e;try{e=(0,a.fromOutputScript)(t.script,this.opts.network)}catch(t){}return{script:(0,u.cloneBuffer)(t.script),value:t.value,address:e}}))}combine(...t){return this.data.combine(...t.map((t=>t.data))),this}clone(){const t=b.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}setMaximumFeeRate(t){x(t),this.opts.maximumFeeRate=t}setVersion(t){x(t),E(this.data.inputs,"setVersion");const e=this.__CACHE;return e.__TX.version=t,e.__EXTRACTED_TX=void 0,this}setLocktime(t){x(t),E(this.data.inputs,"setLocktime");const e=this.__CACHE;return e.__TX.locktime=t,e.__EXTRACTED_TX=void 0,this}setInputSequence(t,e){x(e),E(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=t)throw new Error("Input index too high");return r.__TX.ins[t].sequence=e,r.__EXTRACTED_TX=void 0,this}addInputs(t){return t.forEach((t=>this.addInput(t))),this}addInput(t){if(arguments.length>1||!t||void 0===t.hash||void 0===t.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,p.checkTaprootInputFields)(t,t,"addInput"),E(this.data.inputs,"addInput"),t.witnessScript&&G(t.witnessScript);const e=this.__CACHE;this.data.addInput(t);I(e,e.__TX.ins[e.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&F(this.__CACHE,n,r),e.__FEE=void 0,e.__FEE_RATE=void 0,e.__EXTRACTED_TX=void 0,this}addOutputs(t){return t.forEach((t=>this.addOutput(t))),this}addOutput(t){if(arguments.length>1||!t||void 0===t.value||void 0===t.address&&void 0===t.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");E(this.data.inputs,"addOutput");const{address:e}=t;if("string"==typeof e){const{network:r}=this.opts,n=(0,a.toOutputScript)(e,r);t=Object.assign({},t,{script:n})}(0,p.checkTaprootOutputFields)(t,t,"addOutput");const r=this.__CACHE;return this.data.addOutput(t),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(t){if(!this.data.inputs.every(S))throw new Error("Not finalized");const e=this.__CACHE;if(t||function(t,e,r){const n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,e,this.opts),e.__EXTRACTED_TX)return e.__EXTRACTED_TX;const r=e.__TX.clone();return z(this.data.inputs,r,e,!0),r}getFeeRate(){return P("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return P("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,s.checkForInput)(this.data.inputs,0),X(this.data.inputs.length).forEach((t=>this.finalizeInput(t))),this}finalizeInput(t,e){const r=(0,s.checkForInput)(this.data.inputs,t);return(0,p.isTaprootInput)(r)?this._finalizeTaprootInput(t,r,void 0,e):this._finalizeInput(t,r,e)}finalizeTaprootInput(t,e,r=p.tapScriptFinalizer){const n=(0,s.checkForInput)(this.data.inputs,t);if((0,p.isTaprootInput)(n))return this._finalizeTaprootInput(t,n,e,r);throw new Error(`Cannot finalize input #${t}. Not Taproot.`)}_finalizeInput(t,e,r=M){const{script:n,isP2SH:i,isP2WSH:o,isSegwit:s}=function(t,e,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){const o=K(r,e,t),s=n.ins[t].index;i.script=o.outs[s].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);(e.witnessScript||(0,y.isP2WPKH)(i.script))&&(i.isSegwit=!0);return i}(t,e,this.__CACHE);if(!n)throw new Error(`No script found for input #${t}`);!function(t){if(!t.sighashType||!t.partialSig)return;const{partialSig:e,sighashType:r}=t;e.forEach((t=>{const{hashType:e}=d.signature.decode(t.signature);if(r!==e)throw new Error("Signature sighash does not match input sighash type")}))}(e);const{finalScriptSig:a,finalScriptWitness:u}=r(t,e,n,s,i,o);if(a&&this.data.updateInput(t,{finalScriptSig:a}),u&&this.data.updateInput(t,{finalScriptWitness:u}),!a&&!u)throw new Error(`Unknown error finalizing input #${t}`);return this.data.clearFinalizedInput(t),this}_finalizeTaprootInput(t,e,r,n=p.tapScriptFinalizer){if(!e.witnessUtxo)throw new Error(`Cannot finalize input #${t}. Missing withness utxo.`);if(e.tapKeySig){const r=f.p2tr({output:e.witnessUtxo.script,signature:e.tapKeySig}),n=(0,y.witnessStackToScriptWitness)(r.witness);this.data.updateInput(t,{finalScriptWitness:n})}else{const{finalScriptWitness:i}=n(t,e,r);this.data.updateInput(t,{finalScriptWitness:i})}return this.data.clearFinalizedInput(t),this}getInputType(t){const e=(0,s.checkForInput)(this.data.inputs,t),r=V(q(t,e,this.__CACHE),t,"input",e.redeemScript||function(t){if(!t)return;const e=d.decompile(t);if(!e)return;const r=e[e.length-1];if(!n.isBuffer(r)||$(r)||(i=r,d.isCanonicalScriptSignature(i)))return;var i;if(!d.decompile(r))return;return r}(e.finalScriptSig),e.witnessScript||function(t){if(!t)return;const e=H(t),r=e[e.length-1];if($(r))return;if(!d.decompile(r))return;return r}(e.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+Q(r.meaningfulScript)}inputHasPubkey(t,e){return function(t,e,r,n){const i=q(r,e,n),{meaningfulScript:o}=V(i,r,"input",e.redeemScript,e.witnessScript);return(0,y.pubkeyInScript)(t,o)}(e,(0,s.checkForInput)(this.data.inputs,t),t,this.__CACHE)}inputHasHDKey(t,e){const r=(0,s.checkForInput)(this.data.inputs,t),n=A(e);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(t,e){return function(t,e,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=V(i,r,"output",e.redeemScript,e.witnessScript);return(0,y.pubkeyInScript)(t,o)}(e,(0,s.checkForOutput)(this.data.outputs,t),t,this.__CACHE)}outputHasHDKey(t,e){const r=(0,s.checkForOutput)(this.data.outputs,t),n=A(e);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(t){(0,s.checkForInput)(this.data.inputs,0);return X(this.data.inputs.length).map((e=>this.validateSignaturesOfInput(e,t))).reduce(((t,e)=>!0===e&&t),!0)}validateSignaturesOfInput(t,e,r){const n=this.data.inputs[t];return(0,p.isTaprootInput)(n)?this.validateSignaturesOfTaprootInput(t,e,r):this._validateSignaturesOfInput(t,e,r)}_validateSignaturesOfInput(t,e,r){const n=this.data.inputs[t],i=(n||{}).partialSig;if(!n||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof e)throw new Error("Need validator function to validate signatures");const o=r?i.filter((t=>t.pubkey.equals(r))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const s=[];let a,u,c;for(const r of o){const i=d.signature.decode(r.signature),{hash:o,script:f}=c!==i.hashType?R(t,Object.assign({},n,{sighashType:i.hashType}),this.__CACHE,!0):{hash:a,script:u};c=i.hashType,a=o,u=f,k(r.pubkey,f,"verify"),s.push(e(r.pubkey,o,i.signature))}return s.every((t=>!0===t))}validateSignaturesOfTaprootInput(t,e,r){const n=this.data.inputs[t],i=(n||{}).tapKeySig,o=(n||{}).tapScriptSig;if(!n&&!i&&(!o||o.length))throw new Error("No signatures to validate");if("function"!=typeof e)throw new Error("Need validator function to validate signatures");const s=(r=r&&(0,p.toXOnly)(r))?L(t,n,this.data.inputs,r,this.__CACHE):function(t,e,r,n){const i=[];if(e.tapInternalKey){const r=j(t,e,n);r&&i.push(r)}if(e.tapScriptSig){const t=e.tapScriptSig.map((t=>t.pubkey));i.push(...t)}const o=i.map((i=>L(t,e,r,i,n)));return o.flat()}(t,n,this.data.inputs,this.__CACHE);if(!s.length)throw new Error("No signatures for this pubkey");const a=s.find((t=>!t.leafHash));let u=0;if(i&&a){if(!e(a.pubkey,a.hash,D(i)))return!1;u++}if(o)for(const t of o){const r=s.find((e=>t.pubkey.equals(e.pubkey)));if(r){if(!e(t.pubkey,r.hash,D(t.signature)))return!1;u++}}return u>0}signAllInputsHD(t,e=[h.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const n of X(this.data.inputs.length))try{this.signInputHD(n,t,e),r.push(!0)}catch(t){r.push(!1)}if(r.every((t=>!1===t)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(t,e=[h.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!t||!t.publicKey||!t.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const r of X(this.data.inputs.length))o.push(this.signInputHDAsync(r,t,e).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((t=>!1===t)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(t,e,r=[h.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");return N(t,this.data.inputs,e).forEach((e=>this.signInput(t,e,r))),this}signInputHDAsync(t,e,r=[h.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=N(t,this.data.inputs,e).map((e=>this.signInputAsync(t,e,r)));return Promise.all(o).then((()=>{n()})).catch(i)}))}signAllInputs(t,e){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const n of X(this.data.inputs.length))try{this.signInput(n,t,e),r.push(!0)}catch(t){r.push(!1)}if(r.every((t=>!1===t)))throw new Error("No inputs were signed");return this}signAllInputsAsync(t,e){return new Promise(((r,n)=>{if(!t||!t.publicKey)return n(new Error("Need Signer to sign input"));const i=[],o=[];for(const[r]of this.data.inputs.entries())o.push(this.signInputAsync(r,t,e).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((t=>!1===t)))return n(new Error("No inputs were signed"));r()}))}))}signInput(t,e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const n=(0,s.checkForInput)(this.data.inputs,t);return(0,p.isTaprootInput)(n)?this._signTaprootInput(t,n,e,void 0,r):this._signInput(t,e,r)}signTaprootInput(t,e,r,n){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const i=(0,s.checkForInput)(this.data.inputs,t);if((0,p.isTaprootInput)(i))return this._signTaprootInput(t,i,e,r,n);throw new Error(`Input #${t} is not of type Taproot.`)}_signInput(t,e,r=[h.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=B(this.data.inputs,t,e.publicKey,this.__CACHE,r),o=[{pubkey:e.publicKey,signature:d.signature.encode(e.sign(n),i)}];return this.data.updateInput(t,{partialSig:o}),this}_signTaprootInput(t,e,r,n,i=[h.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(t,e,r,n,i),s=o.filter((t=>!t.leafHash)).map((t=>(0,p.serializeTaprootSignature)(r.signSchnorr(t.hash),e.sighashType)))[0],a=o.filter((t=>!!t.leafHash)).map((t=>({pubkey:(0,p.toXOnly)(r.publicKey),signature:(0,p.serializeTaprootSignature)(r.signSchnorr(t.hash),e.sighashType),leafHash:t.leafHash})));return s&&this.data.updateInput(t,{tapKeySig:s}),a.length&&this.data.updateInput(t,{tapScriptSig:a}),this}signInputAsync(t,e,r){return Promise.resolve().then((()=>{if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const n=(0,s.checkForInput)(this.data.inputs,t);return(0,p.isTaprootInput)(n)?this._signTaprootInputAsync(t,n,e,void 0,r):this._signInputAsync(t,e,r)}))}signTaprootInputAsync(t,e,r,n){return Promise.resolve().then((()=>{if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const i=(0,s.checkForInput)(this.data.inputs,t);if((0,p.isTaprootInput)(i))return this._signTaprootInputAsync(t,i,e,r,n);throw new Error(`Input #${t} is not of type Taproot.`)}))}_signInputAsync(t,e,r=[h.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=B(this.data.inputs,t,e.publicKey,this.__CACHE,r);return Promise.resolve(e.sign(n)).then((r=>{const n=[{pubkey:e.publicKey,signature:d.signature.encode(r,i)}];this.data.updateInput(t,{partialSig:n})}))}async _signTaprootInputAsync(t,e,r,n,i=[h.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(t,e,r,n,i),s=[],a=o.filter((t=>!t.leafHash))[0];if(a){const t=Promise.resolve(r.signSchnorr(a.hash)).then((t=>({tapKeySig:(0,p.serializeTaprootSignature)(t,e.sighashType)})));s.push(t)}const u=o.filter((t=>!!t.leafHash));if(u.length){const t=u.map((t=>Promise.resolve(r.signSchnorr(t.hash)).then((n=>({tapScriptSig:[{pubkey:(0,p.toXOnly)(r.publicKey),signature:(0,p.serializeTaprootSignature)(n,e.sighashType),leafHash:t.leafHash}]})))));s.push(...t)}return Promise.all(s).then((e=>{e.forEach((e=>this.data.updateInput(t,e)))}))}checkTaprootHashesForSig(t,e,r,n,i){if("function"!=typeof r.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${t}.`);const o=L(t,e,this.data.inputs,r.publicKey,this.__CACHE,n,i);if(!o||!o.length)throw new Error(`Can not sign for input #${t} with the key ${r.publicKey.toString("hex")}`);return o}toBuffer(){return _(this.__CACHE),this.data.toBuffer()}toHex(){return _(this.__CACHE),this.data.toHex()}toBase64(){return _(this.__CACHE),this.data.toBase64()}updateGlobal(t){return this.data.updateGlobal(t),this}updateInput(t,e){return e.witnessScript&&G(e.witnessScript),(0,p.checkTaprootInputFields)(this.data.inputs[t],e,"updateInput"),this.data.updateInput(t,e),e.nonWitnessUtxo&&F(this.__CACHE,this.data.inputs[t],t),this}updateOutput(t,e){const r=this.data.outputs[t];return(0,p.checkTaprootOutputFields)(r,e,"updateOutput"),this.data.updateOutput(t,e),this}addUnknownKeyValToGlobal(t){return this.data.addUnknownKeyValToGlobal(t),this}addUnknownKeyValToInput(t,e){return this.data.addUnknownKeyValToInput(t,e),this}addUnknownKeyValToOutput(t,e){return this.data.addUnknownKeyValToOutput(t,e),this}clearFinalizedInput(t){return this.data.clearFinalizedInput(t),this}}e.Psbt=b;const m=t=>new v(t);class v{constructor(t=n.from([2,0,0,0,0,0,0,0,0,0])){this.tx=h.Transaction.fromBuffer(t),function(t){if(!t.ins.every((t=>t.script&&0===t.script.length&&t.witness&&0===t.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(t){if(void 0===t.hash||void 0===t.index||!n.isBuffer(t.hash)&&"string"!=typeof t.hash||"number"!=typeof t.index)throw new Error("Error adding input.");const e="string"==typeof t.hash?(0,u.reverseBuffer)(n.from(t.hash,"hex")):t.hash;this.tx.addInput(e,t.index,t.sequence)}addOutput(t){if(void 0===t.script||void 0===t.value||!n.isBuffer(t.script)||"number"!=typeof t.value)throw new Error("Error adding output.");this.tx.addOutput(t.script,t.value)}toBuffer(){return this.tx.toBuffer()}}function _(t){if(!1!==t.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function w(t,e,r){if(!e)return!1;let n;if(n=r?r.map((t=>{const r=function(t){if(65===t.length){const e=1&t[64],r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}(t);return e.find((t=>t.pubkey.equals(r)))})).filter((t=>!!t)):e,n.length>t)throw new Error("Too many signatures");return n.length===t}function S(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function A(t){return e=>!!e.masterFingerprint.equals(t.fingerprint)&&!!t.derivePath(e.path).publicKey.equals(e.pubkey)}function x(t){if("number"!=typeof t||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function E(t,e){t.forEach((t=>{if((0,p.isTaprootInput)(t)?(0,p.checkTaprootInputForSigs)(t,e):(0,y.checkInputForSig)(t,e))throw new Error("Can not modify transaction, signatures exist.")}))}function k(t,e,r){if(!(0,y.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function I(t,e){const r=(0,u.reverseBuffer)(n.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function T(t,e){return(r,n,i,o)=>{const s=t({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${e} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const C=T(f.p2sh,"Redeem script"),O=T(f.p2wsh,"Witness script");function P(t,e,r,n){if(!r.every(S))throw new Error(`PSBT must be finalized to calculate ${e}`);if("__FEE_RATE"===t&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===t&&n.__FEE)return n.__FEE;let i,o=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),z(r,i,n,o),"__FEE_RATE"===t?n.__FEE_RATE:"__FEE"===t?n.__FEE:void 0}function M(t,e,r,n,i,o){const s=Q(r);if(!function(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return w(1,t.partialSig);case"multisig":const r=f.p2ms({output:e});return w(r.m,t.partialSig,r.pubkeys);default:return!1}}(e,r,s))throw new Error(`Can not finalize input #${t}`);return function(t,e,r,n,i,o){let s,a;const u=function(t,e,r){let n;switch(e){case"multisig":const e=function(t,e){const r=f.p2ms({output:t});return r.pubkeys.map((t=>(e.filter((e=>e.pubkey.equals(t)))[0]||{}).signature)).filter((t=>!!t))}(t,r);n=f.p2ms({output:t,signatures:e});break;case"pubkey":n=f.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=f.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=f.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(t,e,r),c=o?f.p2wsh({redeem:u}):null,l=i?f.p2sh({redeem:c||u}):null;n?(a=c?(0,y.witnessStackToScriptWitness)(c.witness):(0,y.witnessStackToScriptWitness)(u.witness),l&&(s=l.input)):s=l?l.input:u.input;return{finalScriptSig:s,finalScriptWitness:a}}(r,s,e.partialSig,n,i,o)}function B(t,e,r,n,i){const o=(0,s.checkForInput)(t,e),{hash:a,sighashType:u,script:c}=R(e,o,n,!1,i);return k(r,c,"sign"),{hash:a,sighashType:u}}function R(t,e,r,n,i){const o=r.__TX,s=e.sighashType||h.Transaction.SIGHASH_ALL;let a,u;if(U(s,i),e.nonWitnessUtxo){const n=K(r,e,t),i=o.ins[t].hash,s=n.getHash();if(!i.equals(s))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);const a=o.ins[t].index;u=n.outs[a]}else{if(!e.witnessUtxo)throw new Error("Need a Utxo input item for signing");u=e.witnessUtxo}const{meaningfulScript:c,type:l}=V(u.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(l)>=0)a=o.hashForWitnessV0(t,c,u.value,s);else if((0,y.isP2WPKH)(c)){const e=f.p2pkh({hash:c.slice(2)}).output;a=o.hashForWitnessV0(t,e,u.value,s)}else{if(void 0===e.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=o.hashForSignature(t,c,s)}return{script:c,sighashType:s,hash:a}}function j(t,e,r){const{script:n}=W(t,e,r);return(0,y.isP2TR)(n)?n.subarray(2,34):null}function D(t){return 64===t.length?t:t.subarray(0,64)}function L(t,e,r,i,o,s,a){const u=o.__TX,c=e.sighashType||h.Transaction.SIGHASH_DEFAULT;U(c,a);const f=r.map(((t,e)=>W(e,t,o))),d=f.map((t=>t.script)),g=f.map((t=>t.value)),b=[];if(e.tapInternalKey&&!s){const r=j(t,e,o)||n.from([]);if((0,p.toXOnly)(i).equals(r)){const e=u.hashForWitnessV1(t,d,g,c);b.push({pubkey:i,hash:e})}}const m=(e.tapLeafScript||[]).filter((t=>(0,y.pubkeyInScript)(i,t.script))).map((t=>{const e=(0,l.tapleafHash)({output:t.script,version:t.leafVersion});return Object.assign({hash:e},t)})).filter((t=>!s||s.equals(t.hash))).map((e=>{const r=u.hashForWitnessV1(t,d,g,c,e.hash);return{pubkey:i,hash:r,leafHash:e.hash}}));return b.concat(m)}function U(t,e){if(e&&e.indexOf(t)<0){const e=function(t){let e=t&h.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&t){case h.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case h.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case h.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE"}return e}(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${e}`)}}function N(t,e,r){const n=(0,s.checkForInput)(e,t);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((t=>t.masterFingerprint.equals(r.fingerprint)?t:void 0)).filter((t=>!!t));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((t=>{const e=r.derivePath(t.path);if(!t.pubkey.equals(e.publicKey))throw new Error("pubkey did not match bip32Derivation");return e}))}function H(t){let e=0;function r(){const r=o.decode(t,e);return e+=o.decode.bytes,r}function n(){return n=r(),e+=n,t.slice(e-n,e);var n}return function(){const t=r(),e=[];for(let r=0;r<t;r++)e.push(n());return e}()}function F(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;const n=h.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=t,o=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){const t=i.__NON_WITNESS_UTXO_BUF_CACHE[o],e=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==t)return t;{const t=e.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=t,t}},set(t){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=t}})}function z(t,e,r,n){let i=0;t.forEach(((t,o)=>{if(n&&t.finalScriptSig&&(e.ins[o].script=t.finalScriptSig),n&&t.finalScriptWitness&&(e.ins[o].witness=H(t.finalScriptWitness)),t.witnessUtxo)i+=t.witnessUtxo.value;else if(t.nonWitnessUtxo){const n=K(r,t,o),s=e.ins[o].index,a=n.outs[s];i+=a.value}}));const o=e.outs.reduce(((t,e)=>t+e.value),0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");const a=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/a)}function K(t,e,r){const n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||F(t,e,r),n[r]}function q(t,e,r){const{script:n}=W(t,e,r);return n}function W(t,e,r){if(void 0!==e.witnessUtxo)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(void 0!==e.nonWitnessUtxo){const n=K(r,e,t).outs[r.__TX.ins[t].index];return{script:n.script,value:n.value}}throw new Error("Can't find pubkey in input without Utxo data")}function $(t){return 33===t.length&&d.isCanonicalPubKey(t)}function V(t,e,r,n,i){const o=(0,y.isP2SHScript)(t),s=o&&n&&(0,y.isP2WSHScript)(n),a=(0,y.isP2WSHScript)(t);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return s?(u=i,C(e,t,n,r),O(e,n,i,r),G(u)):a?(u=i,O(e,t,i,r),G(u)):o?(u=n,C(e,t,n,r)):u=t,{meaningfulScript:u,type:s?"p2sh-p2wsh":o?"p2sh":a?"p2wsh":"raw"}}function G(t){if((0,y.isP2WPKH)(t)||(0,y.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Q(t){return(0,y.isP2WPKH)(t)?"witnesspubkeyhash":(0,y.isP2PKH)(t)?"pubkeyhash":(0,y.isP2MS)(t)?"multisig":(0,y.isP2PK)(t)?"pubkey":"nonstandard"}function X(t){return[...Array(t).keys()]}},60477:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.checkTaprootInputForSigs=e.tapTreeFromList=e.tapTreeToList=e.tweakInternalPubKey=e.checkTaprootOutputFields=e.checkTaprootInputFields=e.isTaprootOutput=e.isTaprootInput=e.serializeTaprootSignature=e.tapScriptFinalizer=e.toXOnly=void 0;const i=r(98116),o=r(22021),s=r(34929),a=r(82218),u=r(30885),c=r(34929);function f(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,s.isP2TR)(t.witnessUtxo.script))}function l(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,s.isP2TR)(e))}function d(t=[]){return 1===t.length&&0===t[0].depth?{output:t[0].script,version:t[0].leafVersion}:function(t){let e;for(const r of t)if(e=y(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}(t)}function h(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||o.Transaction.SIGHASH_DEFAULT}}function p(t,e=[],r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,i.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||a.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&p(t[0],e,r+1),t[1]&&p(t[1],e,r+1),e):[]}function y(t,e,r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,i.isTapleaf)(e))return;const n=y(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];const o=y(t,e&&e[1],r+1);return o?[e&&e[0],o]:void 0}function g(t,e){if(!e)return!0;const r=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(0,a.rootHashFromPath)(t.controlBlock,r).equals(e)}function b(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}e.toXOnly=t=>32===t.length?t:t.slice(1,33),e.tapScriptFinalizer=function(t,e,r){const n=function(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);const n=(t.tapLeafScript||[]).sort(((t,e)=>t.controlBlock.length-e.controlBlock.length)).find((e=>function(t,e,r){const n=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&void 0!==e.find((t=>t.leafHash.equals(n)))}(e,t.tapScriptSig,r)));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}(e,t,r);try{const t=function(t,e){const r=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter((t=>t.leafHash.equals(r))).map((t=>function(t,e){return Object.assign({positionInScript:(0,s.pubkeyPositionInScript)(e.pubkey,t)},e)}(e.script,t))).sort(((t,e)=>e.positionInScript-t.positionInScript)).map((t=>t.signature))}(e,n),r=t.concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,s.witnessStackToScriptWitness)(r)}}catch(e){throw new Error(`Can not finalize taproot input #${t}: ${e}`)}},e.serializeTaprootSignature=function(t,e){const r=e?n.from([e]):n.from([]);return n.concat([t,r])},e.isTaprootInput=f,e.isTaprootOutput=l,e.checkTaprootInputFields=function(t,e,r){!function(t,e,r){const n=f(t)&&b(e),i=b(t)&&f(e),o=t===e&&f(e)&&b(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(t,e,r),function(t,e,r){if(e.tapMerkleRoot){const n=(e.tapLeafScript||[]).every((t=>g(t,e.tapMerkleRoot))),i=(t.tapLeafScript||[]).every((t=>g(t,e.tapMerkleRoot)));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot){if(!(e.tapLeafScript||[]).every((e=>g(e,t.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}}(t,e,r)},e.checkTaprootOutputFields=function(t,e,r){!function(t,e,r){const n=l(t)&&b(e),i=b(t)&&l(e),o=t===e&&l(e)&&b(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(t,e,r),function(t,e){if(!e.tapTree&&!e.tapInternalKey)return;const r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){const{script:e}=t,i=function(t,e){const r=e&&d(e.leaves),{output:n}=(0,u.p2tr)({internalPubkey:t,scriptTree:r});return n}(r,n);if(e&&!e.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(t,e)},e.tweakInternalPubKey=function(t,e){const r=e.tapInternalKey,n=r&&(0,a.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x},e.tapTreeToList=function(t){if(!(0,i.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return p(t)},e.tapTreeFromList=d,e.checkTaprootInputForSigs=function(t,e){return function(t){const e=[];t.tapKeySig&&e.push(t.tapKeySig);t.tapScriptSig&&e.push(...t.tapScriptSig.map((t=>t.signature)));if(!e.length){const r=function(t){if(!t)return;const e=t.slice(2);if(64===e.length||65===e.length)return e}(t.finalScriptWitness);r&&e.push(r)}return e}(t).some((t=>(0,c.signatureBlocksAction)(t,h,e)))}},34929:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.signatureBlocksAction=e.checkInputForSig=e.pubkeyInScript=e.pubkeyPositionInScript=e.witnessStackToScriptWitness=e.isP2TR=e.isP2SHScript=e.isP2WSHScript=e.isP2WPKH=e.isP2PKH=e.isP2PK=e.isP2MS=void 0;const i=r(40394),o=r(67038),s=r(22021),a=r(91944),u=r(30885);function c(t){return e=>{try{return t({output:e}),!0}catch(t){return!1}}}function f(t,e){const r=(0,a.hash160)(t),n=t.slice(1,33),i=o.decompile(e);if(null===i)throw new Error("Unknown script error");return i.findIndex((e=>"number"!=typeof e&&(e.equals(t)||e.equals(r)||e.equals(n))))}function l(t,e,r){const{hashType:n}=e(t),i=[];n&s.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput");switch(31&n){case s.Transaction.SIGHASH_ALL:break;case s.Transaction.SIGHASH_SINGLE:case s.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(r)}e.isP2MS=c(u.p2ms),e.isP2PK=c(u.p2pk),e.isP2PKH=c(u.p2pkh),e.isP2WPKH=c(u.p2wpkh),e.isP2WSHScript=c(u.p2wsh),e.isP2SHScript=c(u.p2sh),e.isP2TR=c(u.p2tr),e.witnessStackToScriptWitness=function(t){let e=n.allocUnsafe(0);function r(t){const r=e.length,o=i.encodingLength(t);e=n.concat([e,n.allocUnsafe(o)]),i.encode(t,e,r)}function o(t){r(t.length),function(t){e=n.concat([e,n.from(t)])}(t)}var s;return r((s=t).length),s.forEach(o),e},e.pubkeyPositionInScript=f,e.pubkeyInScript=function(t,e){return-1!==f(t,e)},e.checkInputForSig=function(t,e){return function(t){let e=[];if(0===(t.partialSig||[]).length){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=function(t){const e=t.finalScriptSig&&o.decompile(t.finalScriptSig)||[],r=t.finalScriptWitness&&o.decompile(t.finalScriptWitness)||[];return e.concat(r).filter((t=>n.isBuffer(t)&&o.isCanonicalScriptSignature(t))).map((t=>({signature:t})))}(t)}else e=t.partialSig;return e.map((t=>t.signature))}(t).some((t=>l(t,o.signature.decode,e)))},e.signatureBlocksAction=l},34344:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=e.encodingLength=void 0;const n=r(68417);function i(t){return t<n.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}e.encodingLength=i,e.encode=function(t,e,r){const o=i(e);return 1===o?t.writeUInt8(e,r):2===o?(t.writeUInt8(n.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):3===o?(t.writeUInt8(n.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(n.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),o},e.decode=function(t,e){const r=t.readUInt8(e);let i,o;if(r<n.OPS.OP_PUSHDATA1)i=r,o=1;else if(r===n.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;i=t.readUInt8(e+1),o=2}else if(r===n.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;i=t.readUInt16LE(e+1),o=3}else{if(e+5>t.length)return null;if(r!==n.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");i=t.readUInt32LE(e+1),o=5}return{opcode:r,number:i,size:o}}},67038:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.signature=e.number=e.isCanonicalScriptSignature=e.isDefinedHashType=e.isCanonicalPubKey=e.toStack=e.fromASM=e.toASM=e.decompile=e.compile=e.countNonPushOnlyOPs=e.isPushOnly=e.OPS=void 0;const i=r(13966),o=r(68417);Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return o.OPS}});const s=r(34344),a=r(19464),u=r(41043),c=r(98116),{typeforce:f}=c,l=o.OPS.OP_RESERVED;function d(t){return c.Buffer(t)||function(t){return c.Number(t)&&(t===o.OPS.OP_0||t>=o.OPS.OP_1&&t<=o.OPS.OP_16||t===o.OPS.OP_1NEGATE)}(t)}function h(t){return c.Array(t)&&t.every(d)}function p(t){return 0===t.length?o.OPS.OP_0:1===t.length?t[0]>=1&&t[0]<=16?l+t[0]:129===t[0]?o.OPS.OP_1NEGATE:void 0:void 0}function y(t){return n.isBuffer(t)}function g(t){return n.isBuffer(t)}function b(t){if(y(t))return t;f(c.Array,t);const e=t.reduce(((t,e)=>g(e)?1===e.length&&void 0!==p(e)?t+1:t+s.encodingLength(e.length)+e.length:t+1),0),r=n.allocUnsafe(e);let i=0;if(t.forEach((t=>{if(g(t)){const e=p(t);if(void 0!==e)return r.writeUInt8(e,i),void(i+=1);i+=s.encode(r,t.length,i),t.copy(r,i),i+=t.length}else r.writeUInt8(t,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function m(t){if(e=t,c.Array(e))return t;var e;f(c.Buffer,t);const r=[];let n=0;for(;n<t.length;){const e=t[n];if(e>o.OPS.OP_0&&e<=o.OPS.OP_PUSHDATA4){const e=s.decode(t,n);if(null===e)return null;if(n+=e.size,n+e.number>t.length)return null;const i=t.slice(n,n+e.number);n+=e.number;const o=p(i);void 0!==o?r.push(o):r.push(i)}else r.push(e),n+=1}return r}function v(t){const e=-129&t;return e>0&&e<4}e.isPushOnly=h,e.countNonPushOnlyOPs=function(t){return t.length-t.filter(d).length},e.compile=b,e.decompile=m,e.toASM=function(t){if(y(t)&&(t=m(t)),!t)throw new Error("Could not convert invalid chunks to ASM");return t.map((t=>{if(g(t)){const e=p(t);if(void 0===e)return t.toString("hex");t=e}return o.REVERSE_OPS[t]})).join(" ")},e.fromASM=function(t){return f(c.String,t),b(t.split(" ").map((t=>void 0!==o.OPS[t]?o.OPS[t]:(f(c.Hex,t),n.from(t,"hex")))))},e.toStack=function(t){return t=m(t),f(h,t),t.map((t=>g(t)?t:t===o.OPS.OP_0?n.allocUnsafe(0):a.encode(t-l)))},e.isCanonicalPubKey=function(t){return c.isPoint(t)},e.isDefinedHashType=v,e.isCanonicalScriptSignature=function(t){return!!n.isBuffer(t)&&(!!v(t[t.length-1])&&i.check(t.slice(0,-1)))},e.number=a,e.signature=u},19464:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0,e.decode=function(t,e,r){e=e||4,r=void 0===r||r;const n=t.length;if(0===n)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(127&t[n-1]||!(n<=1)&&128&t[n-2]))throw new Error("Non-minimally encoded script number");if(5===n){const e=t.readUInt32LE(0),r=t.readUInt8(4);return 128&r?-(4294967296*(-129&r)+e):4294967296*r+e}let i=0;for(let e=0;e<n;++e)i|=t[e]<<8*e;return 128&t[n-1]?-(i&~(128<<8*(n-1))):i},e.encode=function(t){let e=Math.abs(t);const r=(i=e)>2147483647?5:i>8388607?4:i>32767?3:i>127?2:i>0?1:0;var i;const o=n.allocUnsafe(r),s=t<0;for(let t=0;t<r;++t)o.writeUInt8(255&e,t),e>>=8;return 128&o[r-1]?o.writeUInt8(s?128:0,r-1):s&&(o[r-1]|=128),o}},41043:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0;const i=r(13966),o=r(67038),s=r(98116),{typeforce:a}=s,u=n.alloc(1,0);function c(t){let e=0;for(;0===t[e];)++e;return e===t.length?u:128&(t=t.slice(e))[0]?n.concat([u,t],1+t.length):t}function f(t){0===t[0]&&(t=t.slice(1));const e=n.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}e.decode=function(t){const e=t.readUInt8(t.length-1);if(!(0,o.isDefinedHashType)(e))throw new Error("Invalid hashType "+e);const r=i.decode(t.slice(0,-1)),s=f(r.r),a=f(r.s);return{signature:n.concat([s,a],64),hashType:e}},e.encode=function(t,e){if(a({signature:s.BufferN(64),hashType:s.UInt8},{signature:t,hashType:e}),!(0,o.isDefinedHashType)(e))throw new Error("Invalid hashType "+e);const r=n.allocUnsafe(1);r.writeUInt8(e,0);const u=c(t.slice(0,32)),f=c(t.slice(32,64));return n.concat([i.encode(u,f),r])}},22021:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=void 0;const i=r(30606),o=r(91944),s=r(67038),a=r(67038),u=r(98116),{typeforce:c}=u;function f(t){const e=t.length;return i.varuint.encodingLength(e)+e}const l=n.allocUnsafe(0),d=[],h=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),p=n.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),y=n.from("ffffffffffffffff","hex"),g={script:l,valueBuffer:y};class b{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(t,e){const r=new i.BufferReader(t),n=new b;n.version=r.readInt32();const o=r.readUInt8(),s=r.readUInt8();let a=!1;o===b.ADVANCED_TRANSACTION_MARKER&&s===b.ADVANCED_TRANSACTION_FLAG?a=!0:r.offset-=2;const u=r.readVarInt();for(let t=0;t<u;++t)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:d});const c=r.readVarInt();for(let t=0;t<c;++t)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(a){for(let t=0;t<u;++t)n.ins[t].witness=r.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),e)return n;if(r.offset!==t.length)throw new Error("Transaction has unexpected data");return n}static fromHex(t){return b.fromBuffer(n.from(t,"hex"),!1)}static isCoinbaseHash(t){c(u.Hash256bit,t);for(let e=0;e<32;++e)if(0!==t[e])return!1;return!0}isCoinbase(){return 1===this.ins.length&&b.isCoinbaseHash(this.ins[0].hash)}addInput(t,e,r,n){return c(u.tuple(u.Hash256bit,u.UInt32,u.maybe(u.UInt32),u.maybe(u.Buffer)),arguments),u.Null(r)&&(r=b.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:e,script:n||l,sequence:r,witness:d})-1}addOutput(t,e){return c(u.tuple(u.Buffer,u.Satoshi),arguments),this.outs.push({script:t,value:e})-1}hasWitnesses(){return this.ins.some((t=>0!==t.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(t=!0){const e=t&&this.hasWitnesses();return(e?10:8)+i.varuint.encodingLength(this.ins.length)+i.varuint.encodingLength(this.outs.length)+this.ins.reduce(((t,e)=>t+40+f(e.script)),0)+this.outs.reduce(((t,e)=>t+8+f(e.script)),0)+(e?this.ins.reduce(((t,e)=>t+function(t){const e=t.length;return i.varuint.encodingLength(e)+t.reduce(((t,e)=>t+f(e)),0)}(e.witness)),0):0)}clone(){const t=new b;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map((t=>({hash:t.hash,index:t.index,script:t.script,sequence:t.sequence,witness:t.witness}))),t.outs=this.outs.map((t=>({script:t.script,value:t.value}))),t}hashForSignature(t,e,r){if(c(u.tuple(u.UInt32,u.Buffer,u.Number),arguments),t>=this.ins.length)return p;const i=s.compile(s.decompile(e).filter((t=>t!==a.OPS.OP_CODESEPARATOR))),f=this.clone();if((31&r)===b.SIGHASH_NONE)f.outs=[],f.ins.forEach(((e,r)=>{r!==t&&(e.sequence=0)}));else if((31&r)===b.SIGHASH_SINGLE){if(t>=this.outs.length)return p;f.outs.length=t+1;for(let e=0;e<t;e++)f.outs[e]=g;f.ins.forEach(((e,r)=>{r!==t&&(e.sequence=0)}))}r&b.SIGHASH_ANYONECANPAY?(f.ins=[f.ins[t]],f.ins[0].script=i):(f.ins.forEach((t=>{t.script=l})),f.ins[t].script=i);const d=n.allocUnsafe(f.byteLength(!1)+4);return d.writeInt32LE(r,d.length-4),f.__toBuffer(d,0,!1),o.hash256(d)}hashForWitnessV1(t,e,r,s,a,d){if(c(u.tuple(u.UInt32,c.arrayOf(u.Buffer),c.arrayOf(u.Satoshi),u.UInt32),arguments),r.length!==this.ins.length||e.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const h=s===b.SIGHASH_DEFAULT?b.SIGHASH_ALL:s&b.SIGHASH_OUTPUT_MASK,p=(s&b.SIGHASH_INPUT_MASK)===b.SIGHASH_ANYONECANPAY,y=h===b.SIGHASH_NONE,g=h===b.SIGHASH_SINGLE;let m=l,v=l,_=l,w=l,S=l;if(!p){let t=i.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((e=>{t.writeSlice(e.hash),t.writeUInt32(e.index)})),m=o.sha256(t.end()),t=i.BufferWriter.withCapacity(8*this.ins.length),r.forEach((e=>t.writeUInt64(e))),v=o.sha256(t.end()),t=i.BufferWriter.withCapacity(e.map(f).reduce(((t,e)=>t+e))),e.forEach((e=>t.writeVarSlice(e))),_=o.sha256(t.end()),t=i.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((e=>t.writeUInt32(e.sequence))),w=o.sha256(t.end())}if(y||g){if(g&&t<this.outs.length){const e=this.outs[t],r=i.BufferWriter.withCapacity(8+f(e.script));r.writeUInt64(e.value),r.writeVarSlice(e.script),S=o.sha256(r.end())}}else{const t=this.outs.map((t=>8+f(t.script))).reduce(((t,e)=>t+e)),e=i.BufferWriter.withCapacity(t);this.outs.forEach((t=>{e.writeUInt64(t.value),e.writeVarSlice(t.script)})),S=o.sha256(e.end())}const A=(a?2:0)+(d?1:0),x=174-(p?49:0)-(y?32:0)+(d?32:0)+(a?37:0),E=i.BufferWriter.withCapacity(x);if(E.writeUInt8(s),E.writeInt32(this.version),E.writeUInt32(this.locktime),E.writeSlice(m),E.writeSlice(v),E.writeSlice(_),E.writeSlice(w),y||g||E.writeSlice(S),E.writeUInt8(A),p){const n=this.ins[t];E.writeSlice(n.hash),E.writeUInt32(n.index),E.writeUInt64(r[t]),E.writeVarSlice(e[t]),E.writeUInt32(n.sequence)}else E.writeUInt32(t);if(d){const t=i.BufferWriter.withCapacity(f(d));t.writeVarSlice(d),E.writeSlice(o.sha256(t.end()))}return g&&E.writeSlice(S),a&&(E.writeSlice(a),E.writeUInt8(0),E.writeUInt32(4294967295)),o.taggedHash("TapSighash",n.concat([n.from([0]),E.end()]))}hashForWitnessV0(t,e,r,s){c(u.tuple(u.UInt32,u.Buffer,u.Satoshi,u.UInt32),arguments);let a,l=n.from([]),d=h,p=h,y=h;if(s&b.SIGHASH_ANYONECANPAY||(l=n.allocUnsafe(36*this.ins.length),a=new i.BufferWriter(l,0),this.ins.forEach((t=>{a.writeSlice(t.hash),a.writeUInt32(t.index)})),p=o.hash256(l)),s&b.SIGHASH_ANYONECANPAY||(31&s)===b.SIGHASH_SINGLE||(31&s)===b.SIGHASH_NONE||(l=n.allocUnsafe(4*this.ins.length),a=new i.BufferWriter(l,0),this.ins.forEach((t=>{a.writeUInt32(t.sequence)})),y=o.hash256(l)),(31&s)!==b.SIGHASH_SINGLE&&(31&s)!==b.SIGHASH_NONE){const t=this.outs.reduce(((t,e)=>t+8+f(e.script)),0);l=n.allocUnsafe(t),a=new i.BufferWriter(l,0),this.outs.forEach((t=>{a.writeUInt64(t.value),a.writeVarSlice(t.script)})),d=o.hash256(l)}else if((31&s)===b.SIGHASH_SINGLE&&t<this.outs.length){const e=this.outs[t];l=n.allocUnsafe(8+f(e.script)),a=new i.BufferWriter(l,0),a.writeUInt64(e.value),a.writeVarSlice(e.script),d=o.hash256(l)}l=n.allocUnsafe(156+f(e)),a=new i.BufferWriter(l,0);const g=this.ins[t];return a.writeInt32(this.version),a.writeSlice(p),a.writeSlice(y),a.writeSlice(g.hash),a.writeUInt32(g.index),a.writeVarSlice(e),a.writeUInt64(r),a.writeUInt32(g.sequence),a.writeSlice(d),a.writeUInt32(this.locktime),a.writeUInt32(s),o.hash256(l)}getHash(t){return t&&this.isCoinbase()?n.alloc(32,0):o.hash256(this.__toBuffer(void 0,void 0,t))}getId(){return(0,i.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(t,e){return this.__toBuffer(t,e,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(t,e){c(u.tuple(u.Number,u.Buffer),arguments),this.ins[t].script=e}setWitness(t,e){c(u.tuple(u.Number,[u.Buffer]),arguments),this.ins[t].witness=e}__toBuffer(t,e,r=!1){t||(t=n.allocUnsafe(this.byteLength(r)));const o=new i.BufferWriter(t,e||0);o.writeInt32(this.version);const s=r&&this.hasWitnesses();return s&&(o.writeUInt8(b.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(b.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach((t=>{o.writeSlice(t.hash),o.writeUInt32(t.index),o.writeVarSlice(t.script),o.writeUInt32(t.sequence)})),o.writeVarInt(this.outs.length),this.outs.forEach((t=>{void 0!==t.value?o.writeUInt64(t.value):o.writeSlice(t.valueBuffer),o.writeVarSlice(t.script)})),s&&this.ins.forEach((t=>{o.writeVector(t.witness)})),o.writeUInt32(this.locktime),void 0!==e?t.slice(e,o.offset):t}}e.Transaction=b,b.DEFAULT_SEQUENCE=4294967295,b.SIGHASH_DEFAULT=0,b.SIGHASH_ALL=1,b.SIGHASH_NONE=2,b.SIGHASH_SINGLE=3,b.SIGHASH_ANYONECANPAY=128,b.SIGHASH_OUTPUT_MASK=3,b.SIGHASH_INPUT_MASK=128,b.ADVANCED_TRANSACTION_MARKER=0,b.ADVANCED_TRANSACTION_FLAG=1},98116:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOf=e.Null=e.BufferN=e.Function=e.UInt32=e.UInt8=e.tuple=e.maybe=e.Hex=e.Buffer=e.String=e.Boolean=e.Array=e.Number=e.Hash256bit=e.Hash160bit=e.Buffer256bit=e.isTaptree=e.isTapleaf=e.TAPLEAF_VERSION_MASK=e.Satoshi=e.isPoint=e.stacksEqual=e.typeforce=void 0;const n=r(48287);e.typeforce=r(8676);const i=n.Buffer.alloc(32,0),o=n.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");e.stacksEqual=function(t,e){return t.length===e.length&&t.every(((t,r)=>t.equals(e[r])))},e.isPoint=function(t){if(!n.Buffer.isBuffer(t))return!1;if(t.length<33)return!1;const e=t[0],r=t.slice(1,33);if(0===r.compare(i))return!1;if(r.compare(o)>=0)return!1;if((2===e||3===e)&&33===t.length)return!0;const s=t.slice(33);return 0!==s.compare(i)&&(!(s.compare(o)>=0)&&(4===e&&65===t.length))};function s(t){return!(!t||!("output"in t))&&(!!n.Buffer.isBuffer(t.output)&&(void 0===t.version||(t.version&e.TAPLEAF_VERSION_MASK)===t.version))}e.Satoshi=function(t){return e.typeforce.UInt53(t)&&t<=21e14},e.TAPLEAF_VERSION_MASK=254,e.isTapleaf=s,e.isTaptree=function t(r){return(0,e.Array)(r)?2===r.length&&r.every((e=>t(e))):s(r)},e.Buffer256bit=e.typeforce.BufferN(32),e.Hash160bit=e.typeforce.BufferN(20),e.Hash256bit=e.typeforce.BufferN(32),e.Number=e.typeforce.Number,e.Array=e.typeforce.Array,e.Boolean=e.typeforce.Boolean,e.String=e.typeforce.String,e.Buffer=e.typeforce.Buffer,e.Hex=e.typeforce.Hex,e.maybe=e.typeforce.maybe,e.tuple=e.typeforce.tuple,e.UInt8=e.typeforce.UInt8,e.UInt32=e.typeforce.UInt32,e.Function=e.typeforce.Function,e.BufferN=e.typeforce.BufferN,e.Null=e.typeforce.Null,e.oneOf=e.typeforce.oneOf},91892:t=>{var e=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var r=e.length,n=new Uint8Array(3*(r-("="==e[r-1])-("="==e[r-2]))/4|0),i=0,o=0;i<r;){var s=t[e.charCodeAt(i++)],a=t[e.charCodeAt(i++)],u=t[e.charCodeAt(i++)],c=t[e.charCodeAt(i++)];n[o++]=s<<2|a>>4,n[o++]=a<<4|u>>2,n[o++]=u<<6|c}return n}})(),r=((t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports})({"wasm-binary:./blake2b.wat"(t,r){r.exports=e("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}})(),n=WebAssembly.compile(r);t.exports=async t=>(await WebAssembly.instantiate(await n,t)).exports},51685:(t,e,r)=>{var n=r(86889),i=r(35682),o=null,s="undefined"!=typeof WebAssembly&&r(91892)().then((t=>{o=t})),a=64,u=[];t.exports=y;var c=t.exports.BYTES_MIN=16,f=t.exports.BYTES_MAX=64,l=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),d=t.exports.KEYBYTES_MAX=64,h=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),p=t.exports.PERSONALBYTES=16;function y(t,e,r,i,s){if(!(this instanceof y))return new y(t,e,r,i,s);if(!o)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),!0!==s&&(n(t>=c,"digestLength must be at least "+c+", was given "+t),n(t<=f,"digestLength must be at most "+f+", was given "+t),null!=e&&(n(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),n(e.length>=l,"key must be at least "+l+", was given "+e.length),n(e.length<=d,"key must be at least "+d+", was given "+e.length)),null!=r&&(n(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),n(r.length===h,"salt must be exactly "+h+", was given "+r.length)),null!=i&&(n(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),n(i.length===p,"personal must be exactly "+p+", was given "+i.length))),u.length||(u.push(a),a+=216),this.digestLength=t,this.finalized=!1,this.pointer=u.pop(),this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),i&&this._memory.set(i,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),o.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,a,a+e.length),this._memory[this.pointer+200]=128)}function g(){}y.prototype._realloc=function(t){o.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},y.prototype.update=function(t){return n(!1===this.finalized,"Hash instance finalized"),n(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),a+t.length>this._memory.length&&this._realloc(a+t.length),this._memory.set(t,a),o.blake2b_update(this.pointer,a,a+t.length),this},y.prototype.digest=function(t){if(n(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,u.push(this.pointer),o.blake2b_final(this.pointer),!t||"binary"===t)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof t)return i.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);n(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t},y.prototype.final=y.prototype.digest,y.WASM=o,y.SUPPORTED="undefined"!=typeof WebAssembly,y.ready=function(t){return t||(t=g),s?s.then((()=>t()),t):t(new Error("WebAssembly not supported"))},y.prototype.ready=y.ready,y.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},y.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)}},72206:(t,e,r)=>{var n=r(86889),i=r(51685);function o(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function s(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function a(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function u(t,e,r,n,i,a){var u=d[i],c=d[i+1],f=d[a],h=d[a+1];o(l,t,e),s(l,t,u,c);var p=l[n]^l[t],y=l[n+1]^l[t+1];l[n]=y,l[n+1]=p,o(l,r,n),p=l[e]^l[r],y=l[e+1]^l[r+1],l[e]=p>>>24^y<<8,l[e+1]=y>>>24^p<<8,o(l,t,e),s(l,t,f,h),p=l[n]^l[t],y=l[n+1]^l[t+1],l[n]=p>>>16^y<<16,l[n+1]=y>>>16^p<<16,o(l,r,n),p=l[e]^l[r],y=l[e+1]^l[r+1],l[e]=y>>>31^p<<1,l[e+1]=p>>>31^y<<1}var c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),f=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(t){return 2*t}))),l=new Uint32Array(32),d=new Uint32Array(32);function h(t,e){var r=0;for(r=0;r<16;r++)l[r]=t.h[r],l[r+16]=c[r];for(l[24]=l[24]^t.t,l[25]=l[25]^t.t/4294967296,e&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)d[r]=a(t.b,4*r);for(r=0;r<12;r++)u(0,8,16,24,f[16*r+0],f[16*r+1]),u(2,10,18,26,f[16*r+2],f[16*r+3]),u(4,12,20,28,f[16*r+4],f[16*r+5]),u(6,14,22,30,f[16*r+6],f[16*r+7]),u(0,10,20,30,f[16*r+8],f[16*r+9]),u(2,12,22,24,f[16*r+10],f[16*r+11]),u(4,14,16,26,f[16*r+12],f[16*r+13]),u(6,8,18,28,f[16*r+14],f[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^l[r]^l[r+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function y(t,e,r,n){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,p[0]=t,e&&(p[1]=e.length),p[2]=1,p[3]=1,r&&p.set(r,32),n&&p.set(n,48);for(var i=0;i<16;i++)this.h[i]=c[i]^a(p,4*i);e&&(g(this,e),this.c=128)}function g(t,e){for(var r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,h(t,!1),t.c=0),t.b[t.c++]=e[r]}function b(t){return t<16?"0"+t.toString(16):t.toString(16)}y.prototype.update=function(t){return n(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),g(this,t),this},y.prototype.digest=function(t){var e=t&&"binary"!==t&&"hex"!==t?t:new Uint8Array(this.outlen);return n(e instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),n(e.length>=this.outlen,"out must have at least outlen bytes of space"),function(t,e){t.t+=t.c;for(;t.c<128;)t.b[t.c++]=0;h(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)}(this,e),"hex"===t?function(t){for(var e="",r=0;r<t.length;r++)e+=b(t[r]);return e}(e):e},y.prototype.final=y.prototype.digest,y.ready=function(t){i.ready((function(){t()}))};var m=y;t.exports=function(t,e,r,i,o){return!0!==o&&(n(t>=v,"outlen must be at least "+v+", was given "+t),n(t<=_,"outlen must be at most "+_+", was given "+t),null!=e&&(n(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),n(e.length>=w,"key must be at least "+w+", was given "+e.length),n(e.length<=S,"key must be at most "+S+", was given "+e.length)),null!=r&&(n(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),n(r.length===A,"salt must be exactly "+A+", was given "+r.length)),null!=i&&(n(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),n(i.length===x,"personal must be exactly "+x+", was given "+i.length))),new m(t,e,r,i)},t.exports.ready=function(t){i.ready((function(){t()}))},t.exports.WASM_SUPPORTED=i.SUPPORTED,t.exports.WASM_LOADED=!1;var v=t.exports.BYTES_MIN=16,_=t.exports.BYTES_MAX=64,w=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),S=t.exports.KEYBYTES_MAX=64,A=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),x=t.exports.PERSONALBYTES=16;i.ready((function(e){e||(t.exports.WASM_LOADED=!0,t.exports=i)}))},39404:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(47790).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(t,f,f+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,e.length-1),h=Math.max(0,c-t.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|t.words[p])*(o=0|e.words[h])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?f[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],h=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(h).toString(t);r=(p=p.idivn(h)).isZero()?y+r:f[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,y=h>>>13,g=0|s[2],b=8191&g,m=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],A=8191&S,x=S>>>13,E=0|s[5],k=8191&E,I=E>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],M=8191&P,B=P>>>13,R=0|s[8],j=8191&R,D=R>>>13,L=0|s[9],U=8191&L,N=L>>>13,H=0|a[0],F=8191&H,z=H>>>13,K=0|a[1],q=8191&K,W=K>>>13,$=0|a[2],V=8191&$,G=$>>>13,Q=0|a[3],X=8191&Q,Y=Q>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,dt=ft>>>13,ht=0|a[9],pt=8191&ht,yt=ht>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,z))+Math.imul(d,F)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(y,F)|0,o=Math.imul(y,z);var bt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,q)|0))<<13)|0;c=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,W)|0;var mt=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,V)|0))<<13)|0;c=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,G)|0;var vt=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,z))+Math.imul(x,F)|0,o=Math.imul(x,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0;var _t=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,o=Math.imul(I,z),n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(d,ot)|0))<<13)|0;c=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var At=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((o=o+Math.imul(d,ct)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(D,F)|0,o=Math.imul(D,z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(B,q)|0,o=o+Math.imul(B,W)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,dt)|0)+Math.imul(d,lt)|0))<<13)|0;c=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,z))+Math.imul(N,F)|0,o=Math.imul(N,z),n=n+Math.imul(j,q)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,dt)|0;var Et=(c+(n=n+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,yt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((o=o+Math.imul(d,yt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,W))+Math.imul(N,q)|0,o=Math.imul(N,W),n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(b,lt)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,dt)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,yt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,G))+Math.imul(N,V)|0,o=Math.imul(N,G),n=n+Math.imul(j,X)|0,i=(i=i+Math.imul(j,Y)|0)+Math.imul(D,X)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(_,lt)|0,i=(i=i+Math.imul(_,dt)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,yt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,Y))+Math.imul(N,X)|0,o=Math.imul(N,Y),n=n+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,dt)|0;var Tt=(c+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,tt))+Math.imul(N,Z)|0,o=Math.imul(N,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(I,lt)|0,o=o+Math.imul(I,dt)|0;var Ct=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,yt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(N,rt)|0,o=Math.imul(N,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,dt)|0;var Ot=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(N,ot)|0,o=Math.imul(N,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,ct)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(B,lt)|0,o=o+Math.imul(B,dt)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,yt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(N,ut)|0,o=Math.imul(N,ct),n=n+Math.imul(j,lt)|0,i=(i=i+Math.imul(j,dt)|0)+Math.imul(D,lt)|0,o=o+Math.imul(D,dt)|0;var Mt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,yt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((o=o+Math.imul(B,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,lt),i=(i=Math.imul(U,dt))+Math.imul(N,lt)|0,o=Math.imul(N,dt);var Bt=(c+(n=n+Math.imul(j,pt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(D,pt)|0))<<13)|0;c=((o=o+Math.imul(D,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Rt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,yt))+Math.imul(N,pt)|0))<<13)|0;return c=((o=Math.imul(N,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=gt,u[1]=bt,u[2]=mt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=At,u[8]=xt,u[9]=Et,u[10]=kt,u[11]=It,u[12]=Tt,u[13]=Ct,u[14]=Ot,u[15]=Pt,u[16]=Mt,u[17]=Bt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=h),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?h(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):y(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},g.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=r[f+h],y=n[f+h],g=r[f+h+s],b=n[f+h+s],m=l*g-d*b;b=l*b+d*g,g=m,r[f+h]=p+g,n[f+h]=y+b,r[f+h+s]=p-g,n[f+h+s]=y-b,h!==a&&(m=u*l-c*d,d=u*d+c*l,l=m)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var h=0;h<n;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var d=0,h=1;!(e.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;!(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function m(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},m.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(t,e){t.iushrn(this.n,0,e)},m.prototype.imulK=function(t){return t.imul(this.k)},i(v,m),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,m),i(w,m),i(S,m),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new _;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return b[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(t,i.addn(1).iushrn(1)),h=this.pow(t,i),p=s;0!==h.cmp(a);){for(var y=h,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var b=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(b),l=b.redSqr(),h=h.redMul(l),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new x(t)},i(x,A),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},15037:(t,e,r)=>{var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(73776);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},50462:(t,e,r)=>{var n=r(92861).Buffer;function i(t){n.isBuffer(t)||(t=n.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(4*i);return r}function o(t){for(;0<t.length;t++)t[0]=0}function s(t,e,r,n,i){for(var o,s,a,u,c=r[0],f=r[1],l=r[2],d=r[3],h=t[0]^e[0],p=t[1]^e[1],y=t[2]^e[2],g=t[3]^e[3],b=4,m=1;m<i;m++)o=c[h>>>24]^f[p>>>16&255]^l[y>>>8&255]^d[255&g]^e[b++],s=c[p>>>24]^f[y>>>16&255]^l[g>>>8&255]^d[255&h]^e[b++],a=c[y>>>24]^f[g>>>16&255]^l[h>>>8&255]^d[255&p]^e[b++],u=c[g>>>24]^f[h>>>16&255]^l[p>>>8&255]^d[255&y]^e[b++],h=o,p=s,y=a,g=u;return o=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[y>>>8&255]<<8|n[255&g])^e[b++],s=(n[p>>>24]<<24|n[y>>>16&255]<<16|n[g>>>8&255]<<8|n[255&h])^e[b++],a=(n[y>>>24]<<24|n[g>>>16&255]<<16|n[h>>>8&255]<<8|n[255&p])^e[b++],u=(n[g>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[255&y])^e[b++],[o>>>=0,s>>>=0,a>>>=0,u>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,u=0;u<256;++u){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^255&c^99,r[s]=c,n[c]=s;var f=t[s],l=t[f],d=t[l],h=257*t[c]^16843008*c;i[0][s]=h<<24|h>>>8,i[1][s]=h<<16|h>>>16,i[2][s]=h<<8|h>>>24,i[3][s]=h,h=16843009*d^65537*l^257*f^16843008*s,o[0][c]=h<<24|h>>>8,o[1][c]=h<<16|h>>>16,o[2][c]=h<<8|h>>>24,o[3][c]=h,0===s?s=a=1:(s=f^t[t[t[d^f]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function c(t){this._key=i(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=4*(r+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var s=i[o-1];o%e==0?(s=s<<8|s>>>24,s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s],s^=a[o/e|0]<<24):e>6&&o%e==4&&(s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s]),i[o]=i[o-e]^s}for(var c=[],f=0;f<n;f++){var l=n-f,d=i[l-(f%4?0:4)];c[f]=f<4||l<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(t){return s(t=i(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=n.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},c.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var r=s(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=c},92356:(t,e,r)=>{var n=r(50462),i=r(92861).Buffer,o=r(56168),s=r(56698),a=r(25892),u=r(30295),c=r(45122);function f(t,e,r,s){o.call(this);var u=i.alloc(4,0);this._cipher=new n.AES(e);var f=this._cipher.encryptBlock(u);this._ghash=new a(f),r=function(t,e,r){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var n=new a(r),o=e.length,s=o%16;n.update(e),s&&(s=16-s,n.update(i.alloc(s,0))),n.update(i.alloc(8,0));var u=8*o,f=i.alloc(8);f.writeUIntBE(u,0,8),n.update(f),t._finID=n.state;var l=i.from(t._finID);return c(l),l}(this,r,f),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}s(f,o),f.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},f.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=f},1241:(t,e,r)=>{var n=r(25799),i=r(36171),o=r(3219);e.createCipher=e.Cipher=n.createCipher,e.createCipheriv=e.Cipheriv=n.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},36171:(t,e,r)=>{var n=r(92356),i=r(92861).Buffer,o=r(530),s=r(50650),a=r(56168),u=r(50462),c=r(68078);function f(t,e,r){a.call(this),this._cache=new l,this._last=void 0,this._cipher=new u.AES(e),this._prev=i.from(r),this._mode=t,this._autopadding=!0}function l(){this.cache=i.allocUnsafe(0)}function d(t,e,r){var a=o[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new s(a.module,e,r,!0):"auth"===a.type?new n(a.module,e,r,!0):new f(a.module,e,r)}r(56698)(f,a),f.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return i.concat(n)},f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},l.prototype.add=function(t){this.cache=i.concat([this.cache,t])},l.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=o[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=c(e,!1,r.key,r.iv);return d(t,n.key,n.iv)},e.createDecipheriv=d},25799:(t,e,r)=>{var n=r(530),i=r(92356),o=r(92861).Buffer,s=r(50650),a=r(56168),u=r(50462),c=r(68078);function f(t,e,r){a.call(this),this._cache=new d,this._cipher=new u.AES(e),this._prev=o.from(r),this._mode=t,this._autopadding=!0}r(56698)(f,a),f.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return o.concat(n)};var l=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(t,e,r){var a=n[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new s(a.module,e,r):"auth"===a.type?new i(a.module,e,r):new f(a.module,e,r)}f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},d.prototype.add=function(t){this.cache=o.concat([this.cache,t])},d.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},d.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return o.concat([this.cache,e])},e.createCipheriv=h,e.createCipher=function(t,e){var r=n[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=c(e,!1,r.key,r.iv);return h(t,i.key,i.iv)}},25892:(t,e,r)=>{var n=r(92861).Buffer,i=n.alloc(16,0);function o(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function s(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},s.prototype._multiply=function(){for(var t,e,r,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(!!(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=!!(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},s.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=s},45122:t=>{t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},92884:(t,e,r)=>{var n=r(30295);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},46383:(t,e,r)=>{var n=r(92861).Buffer,i=r(30295);function o(t,e,r){var o=e.length,s=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=n.concat([t._prev,r?e:s]),s}e.encrypt=function(t,e,r){for(var i,s=n.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=n.allocUnsafe(0)),!(t._cache.length<=e.length)){s=n.concat([s,o(t,e,r)]);break}i=t._cache.length,s=n.concat([s,o(t,e.slice(0,i),r)]),e=e.slice(i)}return s}},55264:(t,e,r)=>{var n=r(92861).Buffer;function i(t,e,r){for(var n,i,s=-1,a=0;++s<8;)n=e&1<<7-s?128:0,a+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^n))>>s%8,t._prev=o(t._prev,r?n:i);return a}function o(t,e){var r=t.length,i=-1,o=n.allocUnsafe(t.length);for(t=n.concat([t,n.from([e])]);++i<r;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,r){for(var o=e.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],r);return s}},86975:(t,e,r)=>{var n=r(92861).Buffer;function i(t,e,r){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=n.concat([t._prev.slice(1),n.from([r?e:i])]),i}e.encrypt=function(t,e,r){for(var o=e.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],r);return s}},63053:(t,e,r)=>{var n=r(30295),i=r(92861).Buffer,o=r(45122);function s(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var u=s(t),c=o+16*a;t._cache.writeUInt32BE(u[0],c+0),t._cache.writeUInt32BE(u[1],c+4),t._cache.writeUInt32BE(u[2],c+8),t._cache.writeUInt32BE(u[3],c+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,f)}},52632:(t,e)=>{e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},530:(t,e,r)=>{var n={ECB:r(52632),CBC:r(92884),CFB:r(46383),CFB8:r(86975),CFB1:r(55264),OFB:r(46843),CTR:r(63053),GCM:r(63053)},i=r(3219);for(var o in i)i[o].module=n[i[o].mode];t.exports=i},46843:(t,e,r)=>{var n=r(48287).Buffer,i=r(30295);function o(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=n.concat([t._cache,o(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,r)}},50650:(t,e,r)=>{var n=r(50462),i=r(92861).Buffer,o=r(56168);function s(t,e,r,s){o.call(this),this._cipher=new n.AES(e),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=t}r(56698)(s,o),s.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},30125:(t,e,r)=>{var n=r(84050),i=r(1241),o=r(530),s=r(32438),a=r(68078);function u(t,e,r){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,r);if(s[t])return new n({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function c(t,e,r){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,r);if(s[t])return new n({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var r,n;if(t=t.toLowerCase(),o[t])r=o[t].key,n=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");r=8*s[t].key,n=s[t].iv}var i=a(e,!1,r,n);return u(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=u,e.createDecipher=e.Decipher=function(t,e){var r,n;if(t=t.toLowerCase(),o[t])r=o[t].key,n=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");r=8*s[t].key,n=s[t].iv}var i=a(e,!1,r,n);return c(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=c,e.listCiphers=e.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},84050:(t,e,r)=>{var n=r(56168),i=r(29560),o=r(56698),s=r(92861).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(t){n.call(this);var e,r=t.mode.toLowerCase(),i=a[r];e=t.decrypt?"decrypt":"encrypt";var o=t.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=s.concat([o,o.slice(0,8)]));var u=t.iv;s.isBuffer(u)||(u=s.from(u)),this._des=i.create({key:o,iv:u,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=u,o(u,n),u.prototype._update=function(t){return s.from(this._des.update(t))},u.prototype._final=function(){return s.from(this._des.final())}},32438:(t,e)=>{e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},67332:(t,e,r)=>{var n=r(48287).Buffer,i=r(78893),o=r(53209);function s(t){var e,r=t.modulus.byteLength();do{e=new i(o(r))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,e){var r=function(t){var e=s(t);return{blinder:e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),o=e.modulus.byteLength(),a=new i(t).mul(r.blinder).umod(e.modulus),u=a.toRed(i.mont(e.prime1)),c=a.toRed(i.mont(e.prime2)),f=e.coefficient,l=e.prime1,d=e.prime2,h=u.redPow(e.exponent1).fromRed(),p=c.redPow(e.exponent2).fromRed(),y=h.isub(p).imul(f).umod(l).imul(d);return p.iadd(y).imul(r.unblinder).umod(e.modulus).toArrayLike(n,"be",o)}a.getr=s,t.exports=a},78893:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(98285).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function f(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(t,f,f+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){f(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(t){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],f=p[t];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var y=l.modrn(f).toString(t);r=(l=l.idivn(f)).isZero()?y+r:d[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function y(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,e.length-1),h=Math.max(0,c-t.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|t.words[p])*(o=0|e.words[h])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,y=h>>>13,g=0|s[2],b=8191&g,m=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],A=8191&S,x=S>>>13,E=0|s[5],k=8191&E,I=E>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],M=8191&P,B=P>>>13,R=0|s[8],j=8191&R,D=R>>>13,L=0|s[9],U=8191&L,N=L>>>13,H=0|a[0],F=8191&H,z=H>>>13,K=0|a[1],q=8191&K,W=K>>>13,$=0|a[2],V=8191&$,G=$>>>13,Q=0|a[3],X=8191&Q,Y=Q>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,dt=ft>>>13,ht=0|a[9],pt=8191&ht,yt=ht>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,z))+Math.imul(d,F)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(y,F)|0,o=Math.imul(y,z);var bt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,q)|0))<<13)|0;c=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,W)|0;var mt=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,V)|0))<<13)|0;c=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,G)|0;var vt=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,z))+Math.imul(x,F)|0,o=Math.imul(x,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0;var _t=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,o=Math.imul(I,z),n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(d,ot)|0))<<13)|0;c=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var At=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((o=o+Math.imul(d,ct)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(D,F)|0,o=Math.imul(D,z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(B,q)|0,o=o+Math.imul(B,W)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,dt)|0)+Math.imul(d,lt)|0))<<13)|0;c=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,z))+Math.imul(N,F)|0,o=Math.imul(N,z),n=n+Math.imul(j,q)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,dt)|0;var Et=(c+(n=n+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,yt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((o=o+Math.imul(d,yt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,W))+Math.imul(N,q)|0,o=Math.imul(N,W),n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(b,lt)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,dt)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,yt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,G))+Math.imul(N,V)|0,o=Math.imul(N,G),n=n+Math.imul(j,X)|0,i=(i=i+Math.imul(j,Y)|0)+Math.imul(D,X)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(_,lt)|0,i=(i=i+Math.imul(_,dt)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,yt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,Y))+Math.imul(N,X)|0,o=Math.imul(N,Y),n=n+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,dt)|0;var Tt=(c+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,tt))+Math.imul(N,Z)|0,o=Math.imul(N,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(I,lt)|0,o=o+Math.imul(I,dt)|0;var Ct=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,yt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(N,rt)|0,o=Math.imul(N,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,dt)|0;var Ot=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(N,ot)|0,o=Math.imul(N,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,ct)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(B,lt)|0,o=o+Math.imul(B,dt)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,yt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(N,ut)|0,o=Math.imul(N,ct),n=n+Math.imul(j,lt)|0,i=(i=i+Math.imul(j,dt)|0)+Math.imul(D,lt)|0,o=o+Math.imul(D,dt)|0;var Mt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,yt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((o=o+Math.imul(B,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,lt),i=(i=Math.imul(U,dt))+Math.imul(N,lt)|0,o=Math.imul(N,dt);var Bt=(c+(n=n+Math.imul(j,pt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(D,pt)|0))<<13)|0;c=((o=o+Math.imul(D,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Rt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,yt))+Math.imul(N,pt)|0))<<13)|0;return c=((o=Math.imul(N,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=gt,u[1]=bt,u[2]=mt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=At,u[8]=xt,u[9]=Et,u[10]=kt,u[11]=It,u[12]=Tt,u[13]=Ct,u[14]=Ot,u[15]=Pt,u[16]=Mt,u[17]=Bt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function b(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(t,e,r){return b(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=y),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?y(this,t,e):r<1024?b(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},v.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=r[f+h],y=n[f+h],g=r[f+h+s],b=n[f+h+s],m=l*g-d*b;b=l*b+d*g,g=m,r[f+h]=p+g,n[f+h]=y+b,r[f+h+s]=p-g,n[f+h+s]=y-b,h!==a&&(m=u*l-c*d,d=u*d+c*l,l=m)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var h=0;h<n;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var d=0,h=1;!(e.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;!(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(S,w),S.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,w),i(x,w),i(E,w),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new A;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return _[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(f(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(t,i.addn(1).iushrn(1)),h=this.pow(t,i),p=s;0!==h.cmp(a);){for(var y=h,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var b=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(b),l=b.redSqr(),h=h.redMul(l),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new I(t)},i(I,k),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},55715:(t,e,r)=>{"use strict";t.exports=r(62951)},20:(t,e,r)=>{"use strict";var n=r(92861).Buffer,i=r(47108),o=r(46737),s=r(56698),a=r(35359),u=r(74847),c=r(62951);function f(t){o.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function l(t){o.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function d(t){return new f(t)}function h(t){return new l(t)}Object.keys(c).forEach((function(t){c[t].id=n.from(c[t].id,"hex"),c[t.toLowerCase()]=c[t]})),s(f,o.Writable),f.prototype._write=function(t,e,r){this._hash.update(t),r()},f.prototype.update=function(t,e){return this._hash.update("string"==typeof t?n.from(t,e):t),this},f.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),n=a(r,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},s(l,o.Writable),l.prototype._write=function(t,e,r){this._hash.update(t),r()},l.prototype.update=function(t,e){return this._hash.update("string"==typeof t?n.from(t,e):t),this},l.prototype.verify=function(t,e,r){var i="string"==typeof e?n.from(e,r):e;this.end();var o=this._hash.digest();return u(i,o,t,this._signType,this._tag)},t.exports={Sign:d,Verify:h,createSign:d,createVerify:h}},35359:(t,e,r)=>{"use strict";var n=r(92861).Buffer,i=r(83507),o=r(67332),s=r(86729).ec,a=r(26162),u=r(78170),c=r(64589);function f(t,e,r,o){if((t=n.from(t.toArray())).length<e.byteLength()){var s=n.alloc(e.byteLength()-t.length);t=n.concat([s,t])}var a=r.length,u=function(t,e){t=l(t,e),t=t.mod(e);var r=n.from(t.toArray());if(r.length<e.byteLength()){var i=n.alloc(e.byteLength()-r.length);r=n.concat([i,r])}return r}(r,e),c=n.alloc(a);c.fill(1);var f=n.alloc(a);return f=i(o,f).update(c).update(n.from([0])).update(t).update(u).digest(),c=i(o,f).update(c).digest(),{k:f=i(o,f).update(c).update(n.from([1])).update(t).update(u).digest(),v:c=i(o,f).update(c).digest()}}function l(t,e){var r=new a(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function d(t,e,r){var o,s;do{for(o=n.alloc(0);8*o.length<t.bitLength();)e.v=i(r,e.k).update(e.v).digest(),o=n.concat([o,e.v]);s=l(o,t),e.k=i(r,e.k).update(e.v).update(n.from([0])).digest(),e.v=i(r,e.k).update(e.v).digest()}while(-1!==s.cmp(t));return s}function h(t,e,r,n){return t.toRed(a.mont(r)).redPow(e).fromRed().mod(n)}t.exports=function(t,e,r,i,p){var y=u(e);if(y.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var r=c[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new s(r).keyFromPrivate(e.privateKey),o=i.sign(t);return n.from(o.toDER())}(t,y)}if("dsa"===y.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,r){var i,o=e.params.priv_key,s=e.params.p,u=e.params.q,c=e.params.g,p=new a(0),y=l(t,u).mod(u),g=!1,b=f(o,u,t,r);for(;!1===g;)p=h(c,i=d(u,b,r),s,u),0===(g=i.invm(u).imul(y.add(o.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),n.from(i)}(p,g)}(t,y,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");if(void 0!==e.padding&&1!==e.padding)throw new Error("illegal or unsupported padding mode");t=n.concat([p,t]);for(var g=y.modulus.byteLength(),b=[0,1];t.length+b.length+1<g;)b.push(255);b.push(0);for(var m=-1;++m<t.length;)b.push(t[m]);return o(b,y)},t.exports.getKey=f,t.exports.makeKey=d},74847:(t,e,r)=>{"use strict";var n=r(92861).Buffer,i=r(26162),o=r(86729).ec,s=r(78170),a=r(64589);function u(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}t.exports=function(t,e,r,c,f){var l=s(r);if("ec"===l.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(t,e,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new o(n),s=r.data.subjectPrivateKey.data;return i.verify(e,t,s)}(t,e,l)}if("dsa"===l.type){if("dsa"!==c)throw new Error("wrong public key type");return function(t,e,r){var n=r.data.p,o=r.data.q,a=r.data.g,c=r.data.pub_key,f=s.signature.decode(t,"der"),l=f.s,d=f.r;u(l,o),u(d,o);var h=i.mont(n),p=l.invm(o),y=a.toRed(h).redPow(new i(e).mul(p).mod(o)).fromRed().mul(c.toRed(h).redPow(d.mul(p).mod(o)).fromRed()).mod(n).mod(o);return 0===y.cmp(d)}(t,e,l)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");e=n.concat([f,e]);for(var d=l.modulus.byteLength(),h=[1],p=0;e.length+h.length+2<d;)h.push(255),p+=1;h.push(0);for(var y=-1;++y<e.length;)h.push(e[y]);h=n.from(h);var g=i.mont(l.modulus);t=(t=new i(t).toRed(g)).redPow(new i(l.publicExponent)),t=n.from(t.fromRed().toArray());var b=p<8?1:0;for(d=Math.min(t.length,h.length),t.length!==h.length&&(b=1),y=-1;++y<d;)b|=t[y]^h[y];return 0===b}},26162:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(38664).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function f(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(t,f,f+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){f(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(t){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],f=p[t];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var y=l.modrn(f).toString(t);r=(l=l.idivn(f)).isZero()?y+r:d[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function y(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,e.length-1),h=Math.max(0,c-t.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|t.words[p])*(o=0|e.words[h])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,y=h>>>13,g=0|s[2],b=8191&g,m=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],A=8191&S,x=S>>>13,E=0|s[5],k=8191&E,I=E>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],M=8191&P,B=P>>>13,R=0|s[8],j=8191&R,D=R>>>13,L=0|s[9],U=8191&L,N=L>>>13,H=0|a[0],F=8191&H,z=H>>>13,K=0|a[1],q=8191&K,W=K>>>13,$=0|a[2],V=8191&$,G=$>>>13,Q=0|a[3],X=8191&Q,Y=Q>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,dt=ft>>>13,ht=0|a[9],pt=8191&ht,yt=ht>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,z))+Math.imul(d,F)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(y,F)|0,o=Math.imul(y,z);var bt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,q)|0))<<13)|0;c=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,W)|0;var mt=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,V)|0))<<13)|0;c=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,G)|0;var vt=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,z))+Math.imul(x,F)|0,o=Math.imul(x,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0;var _t=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,o=Math.imul(I,z),n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,G)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(d,ot)|0))<<13)|0;c=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var At=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((o=o+Math.imul(d,ct)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(D,F)|0,o=Math.imul(D,z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(B,q)|0,o=o+Math.imul(B,W)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,dt)|0)+Math.imul(d,lt)|0))<<13)|0;c=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,z))+Math.imul(N,F)|0,o=Math.imul(N,z),n=n+Math.imul(j,q)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,dt)|0;var Et=(c+(n=n+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,yt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((o=o+Math.imul(d,yt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,W))+Math.imul(N,q)|0,o=Math.imul(N,W),n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(b,lt)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,dt)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,yt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,G))+Math.imul(N,V)|0,o=Math.imul(N,G),n=n+Math.imul(j,X)|0,i=(i=i+Math.imul(j,Y)|0)+Math.imul(D,X)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(_,lt)|0,i=(i=i+Math.imul(_,dt)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,yt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,Y))+Math.imul(N,X)|0,o=Math.imul(N,Y),n=n+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,dt)|0;var Tt=(c+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,tt))+Math.imul(N,Z)|0,o=Math.imul(N,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(I,lt)|0,o=o+Math.imul(I,dt)|0;var Ct=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,yt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(N,rt)|0,o=Math.imul(N,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,dt)|0;var Ot=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(N,ot)|0,o=Math.imul(N,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,ct)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(B,lt)|0,o=o+Math.imul(B,dt)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,yt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(N,ut)|0,o=Math.imul(N,ct),n=n+Math.imul(j,lt)|0,i=(i=i+Math.imul(j,dt)|0)+Math.imul(D,lt)|0,o=o+Math.imul(D,dt)|0;var Mt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,yt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((o=o+Math.imul(B,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,lt),i=(i=Math.imul(U,dt))+Math.imul(N,lt)|0,o=Math.imul(N,dt);var Bt=(c+(n=n+Math.imul(j,pt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(D,pt)|0))<<13)|0;c=((o=o+Math.imul(D,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Rt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,yt))+Math.imul(N,pt)|0))<<13)|0;return c=((o=Math.imul(N,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=gt,u[1]=bt,u[2]=mt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=At,u[8]=xt,u[9]=Et,u[10]=kt,u[11]=It,u[12]=Tt,u[13]=Ct,u[14]=Ot,u[15]=Pt,u[16]=Mt,u[17]=Bt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function b(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(t,e,r){return b(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=y),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?y(this,t,e):r<1024?b(this,t,e):m(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},v.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=r[f+h],y=n[f+h],g=r[f+h+s],b=n[f+h+s],m=l*g-d*b;b=l*b+d*g,g=m,r[f+h]=p+g,n[f+h]=y+b,r[f+h+s]=p-g,n[f+h+s]=y-b,h!==a&&(m=u*l-c*d,d=u*d+c*l,l=m)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var h=0;h<n;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var d=0,h=1;!(e.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;!(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(S,w),S.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,w),i(x,w),i(E,w),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new A;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return _[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(f(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(t,i.addn(1).iushrn(1)),h=this.pow(t,i),p=s;0!==h.cmp(a);){for(var y=h,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var b=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(b),l=b.redSqr(),h=h.redMul(l),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new I(t)},i(I,k),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},26248:(t,e,r)=>{"use strict";var n=r(33225),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var o=Object.create(r(15622));o.inherits=r(56698);var s=r(30206),a=r(7314);o.inherits(l,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];l.prototype[f]||(l.prototype[f]=a.prototype[f])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},75242:(t,e,r)=>{"use strict";t.exports=o;var n=r(81816),i=Object.create(r(15622));function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(56698),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},30206:(t,e,r)=>{"use strict";var n=r(65606),i=r(33225);t.exports=v;var o,s=r(64634);v.ReadableState=m;r(37007).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=r(5567),c=r(24116).Buffer,f=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l=Object.create(r(15622));l.inherits=r(56698);var d=r(92668),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,y=r(20672),g=r(36278);l.inherits(v,u);var b=["error","close","destroy","pause","resume"];function m(t,e){t=t||{};var n=e instanceof(o=o||r(26248));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r(6427).I),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||r(26248),!(this instanceof v))return new v(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(t,e,r,n,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,x(t)}(t,s)):(i||(o=function(t,e){var r;n=e,c.isBuffer(n)||n instanceof f||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):k(t,s)):w(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&x(t)),k(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),_(this,t,e,!1,r)},v.prototype.unshift=function(t){return _(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return p||(p=r(6427).I),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var S=8388608;function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(h("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){h("emit readable"),t.emit("readable"),O(t)}function k(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(I,t,e))}function I(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(h("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function T(t){h("readable nexttick read 0"),t.read(0)}function C(t,e){e.reading||(h("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(h("flow",e.flowing);e.flowing&&null!==t.read(););}function P(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(B,e,t))}function B(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}v.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):x(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&M(this),null;var n,i=e.needReadable;return h("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&h("length less than watermark",i=!0),e.ended||e.reading?h("reading or ended",i=!1):i&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(r,e))),null===(n=t>0?P(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:v;function c(e,n){h("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),t.removeListener("close",b),t.removeListener("finish",m),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",c),r.removeListener("end",f),r.removeListener("end",v),r.removeListener("data",y),d=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function f(){h("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",c);var l=function(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,O(t))}}(r);t.on("drain",l);var d=!1;var p=!1;function y(e){h("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==R(o.pipes,t))&&!d&&(h("false write response, pause",o.awaitDrain),o.awaitDrain++,p=!0),r.pause())}function g(e){h("onerror",e),v(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function b(){t.removeListener("finish",m),v()}function m(){h("onfinish"),t.removeListener("close",b),v()}function v(){h("unpipe"),r.unpipe(t)}return r.on("data",y),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",b),t.once("finish",m),t.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=R(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},v.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&x(this):i.nextTick(T,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(C,t,e))}(this,t)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<b.length;o++)t.on(b[o],this.emit.bind(this,b[o]));return this._read=function(e){h("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=P},81816:(t,e,r)=>{"use strict";t.exports=s;var n=r(26248),i=Object.create(r(15622));function o(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);n.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){u(t,e,r)})):u(this,null,null)}function u(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(56698),i.inherits(s,n),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},7314:(t,e,r)=>{"use strict";var n=r(65606),i=r(33225);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=b;var s,a=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;b.WritableState=g;var u=Object.create(r(15622));u.inherits=r(56698);var c={deprecate:r(94643)},f=r(5567),l=r(24116).Buffer,d=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var h,p=r(36278);function y(){}function g(t,e){s=s||r(26248),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var u=t.highWaterMark,c=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,o=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,o){--e.pendingcb,r?(i.nextTick(o,n),i.nextTick(A,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(o(n),t._writableState.errorEmitted=!0,t.emit("error",n),A(t,e))}(t,r,n,e,o);else{var s=w(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||_(t,r),n?a(v,t,r,s,o):v(t,r,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(t){if(s=s||r(26248),!(h.call(b,this)||this instanceof s))return new b(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function m(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function v(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),A(t,e)}function _(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,m(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(m(t,e,!1,e.objectMode?1:c.length,c,f,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),A(t,e)}))}function A(t,e){var r=w(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}u.inherits(b,f),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===b&&(t&&t._writableState instanceof g)}})):h=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(t,e,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=t,l.isBuffer(n)||n instanceof d);return a&&!l.isBuffer(t)&&(t=function(t){return l.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=y),o.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),i.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),i.nextTick(n,s),o=!1),o}(this,o,t,r))&&(o.pendingcb++,s=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=l.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else m(t,e,!1,a,n,i,o);return u}(this,o,a,t,e,r)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||_(this,t))},b.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,A(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}},20672:(t,e,r)=>{"use strict";var n=r(24116).Buffer,i=r(21638);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);for(var e,r,i,o=n.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,r=o,i=a,e.copy(r,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},36278:(t,e,r)=>{"use strict";var n=r(33225);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,t)):n.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,n.nextTick(i,r,t)):n.nextTick(i,r,t):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5567:(t,e,r)=>{t.exports=r(37007).EventEmitter},24116:(t,e,r)=>{var n=r(48287),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},46737:(t,e,r)=>{(e=t.exports=r(30206)).Stream=e,e.Readable=e,e.Writable=r(7314),e.Duplex=r(26248),e.Transform=r(81816),e.PassThrough=r(75242)},6427:(t,e,r)=>{"use strict";var n=r(88393).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=l,e=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.I=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=s(e[n]),i>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=s(e[n]),i>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},88393:(t,e,r)=>{var n=r(48287),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},16763:(t,e,r)=>{var n=r(95364);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},59204:(t,e,r)=>{"use strict";var n=r(1191);t.exports=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(e){var r=Uint8Array.from(e),i=t(r),o=r.length+4,s=new Uint8Array(o);return s.set(r,0),s.set(i.subarray(0,4),r.length),n.encode(s,o)},decode:function(t){var r=e(n.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=n.decodeUnsafe(t);if(r)return e(r)}}}},91889:(t,e,r)=>{"use strict";var{sha256:n}=r(22623),i=r(59204);t.exports=i((function(t){return n(n(t))}))},91648:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var o=(t.length-r)*u+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=s*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,r++}for(var h=o-i;h!==o&&0===c[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=c[h++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var u=(o-i)*c+1>>>0,f=new Uint8Array(u);i!==o;){for(var l=e[i],d=0,h=u-1;(0!==l||d<n)&&-1!==h;h--,d++)l+=256*f[h]>>>0,f[h]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===f[p];)p++;for(var y=a.repeat(r);p<u;++p)y+=t.charAt(f[p]);return y},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},1191:(t,e,r)=>{const n=r(91648);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},30295:(t,e,r)=>{var n=r(48287).Buffer;t.exports=function(t,e){for(var r=Math.min(t.length,e.length),i=new n(r),o=0;o<r;++o)i[o]=t[o]^e[o];return i}},48287:(t,e,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const n=r(67526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=a(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Q(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return h(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(t,SharedArrayBuffer)||t&&Q(t.buffer,SharedArrayBuffer)))return h(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||X(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return f(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function h(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(i)return n?-1:$(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(t,o+n)!==c(e,n)){r=!1;break}if(r)return o}return-1}function _(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(X(n))return s;t[r+s]=n}return s}function w(t,e,r,n){return G($(e,t.length-r),t,r,n)}function S(t,e,r,n){return G(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function A(t,e,r,n){return G(V(e),t,r,n)}function x(t,e,r,n){return G(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=I));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return l(t)},u.allocUnsafeSlow=function(t){return l(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Q(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Q(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)b(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(Q(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<a;++t)if(c[t]!==f[t]){o=c[t],s=f[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return S(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Y[t[n]];return i}function P(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function R(t,e,r,n,i){z(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function j(t,e,r,n,i){z(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function D(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,o){return e=+e,r>>>=0,o||D(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return e=+e,r>>>=0,o||D(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=J((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=J((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=J((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=J((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){B(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){B(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=J((function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=J((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=J((function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=J((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const N={};function H(t,e,r){N[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function z(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new N.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){K(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||q(e,t.length-(r+1))}(n,i,o)}function K(t,e){if("number"!=typeof t)throw new N.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw K(t,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function $(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const Y=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw new Error("BigInt not supported")}},23472:(t,e,r)=>{"use strict";const n=r(48089),i=r(12729),o=r(87392),s=new o({maxSize:1e5}),a=t=>!("object"!=typeof t||null===t||t instanceof RegExp||t instanceof Error||t instanceof Date),u=(t,e)=>{if(!a(t))return t;e={deep:!1,pascalCase:!1,...e};const{exclude:r,pascalCase:o,stopPaths:u,deep:c}=e,f=new Set(u),l=t=>(e,u)=>{if(c&&a(u)){const r=void 0===t?e:`${t}.${e}`;f.has(r)||(u=n(u,l(r)))}if(!r||!((t,e)=>t.some((t=>"string"==typeof t?t===e:(t.lastIndex=0,t.test(e)))))(r,e)){const t=o?`${e}_`:e;if(s.has(t))e=s.get(t);else{const r=i(e,{pascalCase:o,locale:!1});e.length<100&&s.set(t,r),e=r}}return[e,u]};return n(t,l(void 0))};t.exports=(t,e)=>Array.isArray(t)?Object.keys(t).map((r=>u(t[r],e))):u(t,e)},12729:t=>{"use strict";const e=/[\p{Lu}]/u,r=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,s=new RegExp("^"+o.source),a=new RegExp(o.source+i.source,"gu"),u=new RegExp("\\d+"+i.source,"gu"),c=(t,i)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const o=!1===i.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(i.locale),c=!1===i.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(i.locale);if(1===t.length)return i.pascalCase?c(t):o(t);return t!==o(t)&&(t=((t,n,i)=>{let o=!1,s=!1,a=!1;for(let u=0;u<t.length;u++){const c=t[u];o&&e.test(c)?(t=t.slice(0,u)+"-"+t.slice(u),o=!1,a=s,s=!0,u++):s&&a&&r.test(c)?(t=t.slice(0,u-1)+"-"+t.slice(u-1),a=s,s=!1,o=!0):(o=n(c)===c&&i(c)!==c,a=s,s=i(c)===c&&n(c)!==c)}return t})(t,o,c)),t=t.replace(s,""),t=i.preserveConsecutiveUppercase?((t,e)=>(n.lastIndex=0,t.replace(n,(t=>e(t)))))(t,o):o(t),i.pascalCase&&(t=c(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,u.lastIndex=0,t.replace(a,((t,r)=>e(r))).replace(u,(t=>e(t)))))(t,c)};t.exports=c,t.exports.default=c},56168:(t,e,r)=>{var n=r(92861).Buffer,i=r(88310).Transform,o=r(83141).I;function s(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(56698)(s,i),s.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=s},15622:(t,e,r)=>{function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(48287).Buffer.isBuffer},61324:(t,e,r)=>{var n=r(48287).Buffer,i=r(86729),o=r(39404);t.exports=function(t){return new a(t)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=s[t],this.curveType||(this.curveType={name:t}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function u(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new n(t);if(r&&i.length<r){var o=new n(r-i.length);o.fill(0),i=n.concat([o,i])}return e?i.toString(e):i}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,r){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),u(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),u(r,t)},a.prototype.getPrivateKey=function(t){return u(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e));var r=new o(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},47108:(t,e,r)=>{"use strict";var n=r(56698),i=r(88276),o=r(66011),s=r(62802),a=r(56168);function u(t){a.call(this,"digest"),this._hash=t}n(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new u(s(t))}},20320:(t,e,r)=>{var n=r(88276);t.exports=function(t){return(new n).update(t).digest()}},83507:(t,e,r)=>{"use strict";var n=r(56698),i=r(41800),o=r(56168),s=r(92861).Buffer,a=r(20320),u=r(66011),c=r(62802),f=s.alloc(128);function l(t,e){o.call(this,"digest"),"string"==typeof e&&(e=s.from(e));var r="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>r)?e=("rmd160"===t?new u:c(t)).update(e).digest():e.length<r&&(e=s.concat([e,f],r));for(var n=this._ipad=s.allocUnsafe(r),i=this._opad=s.allocUnsafe(r),a=0;a<r;a++)n[a]=54^e[a],i[a]=92^e[a];this._hash="rmd160"===t?new u:c(t),this._hash.update(n)}n(l,o),l.prototype._update=function(t){this._hash.update(t)},l.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new l("rmd160",e):"md5"===t?new i(a,e):new l(t,e)}},41800:(t,e,r)=>{"use strict";var n=r(56698),i=r(92861).Buffer,o=r(56168),s=i.alloc(128),a=64;function u(t,e){o.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,s],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),u=0;u<a;u++)r[u]=54^e[u],n[u]=92^e[u];this._hash=[r]}n(u,o),u.prototype._update=function(t){this._hash.push(t)},u.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=u},74945:function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function y(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t,e,r,n=h(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=c(t),e=f(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[c(t)]},d.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},d.prototype.set=function(t,e){this.map[c(t)]=f(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),l(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),l(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),l(t)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var r,n,i=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},b.call(v.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];w.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(t,r){return new Promise((function(n,o){var s=new v(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new w(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}A.polyfill=!0,t.fetch||(t.fetch=A,t.Headers=d,t.Request=v,t.Response=w),e.Headers=d,e.Request=v,e.Response=w,e.fetch=A,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},91565:(t,e,r)=>{"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(53209),e.createHash=e.Hash=r(47108),e.createHmac=e.Hmac=r(83507);var n=r(55715),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var s=r(78396);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync;var a=r(30125);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var u=r(15380);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var c=r(20);e.createSign=c.createSign,e.Sign=c.Sign,e.createVerify=c.createVerify,e.Verify=c.Verify,e.createECDH=r(61324);var f=r(97168);e.publicEncrypt=f.publicEncrypt,e.privateEncrypt=f.privateEncrypt,e.publicDecrypt=f.publicDecrypt,e.privateDecrypt=f.privateDecrypt;var l=r(76983);e.randomFill=l.randomFill,e.randomFillSync=l.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},82229:t=>{t.exports=function t(e){Object.freeze(e);var r="function"==typeof e,n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(e).forEach((function(i){!n.call(e,i)||r&&("caller"===i||"callee"===i||"arguments"===i)||null===e[i]||"object"!=typeof e[i]&&"function"!=typeof e[i]||Object.isFrozen(e[i])||t(e[i])})),e}},29560:(t,e,r)=>{"use strict";e.utils=r(87626),e.Cipher=r(82808),e.DES=r(82211),e.CBC=r(3389),e.EDE=r(65279)},3389:(t,e,r)=>{"use strict";var n=r(43349),i=r(56698),o={};function s(t){n.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var r=Object.keys(o),n=0;n<r.length;n++){var s=r[n];e.prototype[s]=o[s]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new s(this.options.iv);this._cbcState=t},o._update=function(t,e,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];o._update.call(this,s,0,r,n);for(a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{o._update.call(this,t,e,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}}},82808:(t,e,r)=>{"use strict";var n=r(43349);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<r;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,r=0,n=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,r=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),r+=this._flushBuffer(i,r);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},82211:(t,e,r)=>{"use strict";var n=r(43349),i=r(56698),o=r(87626),s=r(82808);function a(){this.tmp=new Array(2),this.keys=null}function u(t){s.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}i(u,s),t.exports=u,u.create=function(t){return new u(t)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(e,0),i=o.readUInt32BE(e,4);o.pc1(r,i,t.tmp,0),r=t.tmp[0],i=t.tmp[1];for(var s=0;s<t.keys.length;s+=2){var a=c[s>>>1];r=o.r28shl(r,a),i=o.r28shl(i,a),o.pc2(r,i,t.keys,s)}},u.prototype._update=function(t,e,r,n){var i=this._desState,s=o.readUInt32BE(t,e),a=o.readUInt32BE(t,e+4);o.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],o.writeUInt32BE(r,s,n),o.writeUInt32BE(r,a,n+4)},u.prototype._pad=function(t,e){if(!1===this.padding)return!1;for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},u.prototype._unpad=function(t){if(!1===this.padding)return t;for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)n.equal(t[r],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,r,n,i){for(var s=e,a=r,u=0;u<t.keys.length;u+=2){var c=t.keys[u],f=t.keys[u+1];o.expand(a,t.tmp,0),c^=t.tmp[0],f^=t.tmp[1];var l=o.substitute(c,f),d=a;a=(s^o.permute(l))>>>0,s=d}o.rip(a,s,n,i)},u.prototype._decrypt=function(t,e,r,n,i){for(var s=r,a=e,u=t.keys.length-2;u>=0;u-=2){var c=t.keys[u],f=t.keys[u+1];o.expand(s,t.tmp,0),c^=t.tmp[0],f^=t.tmp[1];var l=o.substitute(c,f),d=s;s=(a^o.permute(l))>>>0,a=d}o.rip(s,a,n,i)}},65279:(t,e,r)=>{"use strict";var n=r(43349),i=r(56698),o=r(82808),s=r(82211);function a(t,e){n.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:r})]}function u(t){o.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}i(u,o),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,r,n){var i=this._edeState;i.ciphers[0]._update(t,e,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=s.prototype._pad,u.prototype._unpad=s.prototype._unpad},87626:(t,e)=>{"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},e.rip=function(t,e,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+s&1,i<<=1,i|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.pc1=function(t,e,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var o=0,s=0,a=r.length>>>1,u=0;u<a;u++)o<<=1,o|=t>>>r[u]&1;for(u=a;u<r.length;u++)s<<=1,s|=e>>>r[u]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},e.expand=function(t,e,r){var n=0,i=0;n=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[r+0]=n>>>0,e[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,i=0;i<4;i++){r<<=4,r|=n[64*i+(t>>>18-6*i&63)]}for(i=0;i<4;i++){r<<=4,r|=n[256+64*i+(e>>>18-6*i&63)]}return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<i.length;r++)e<<=1,e|=t>>>i[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var i=[],o=0;o<e;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},15380:(t,e,r)=>{var n=r(48287).Buffer,i=r(4934),o=r(23241),s=r(14910);var a={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(t){var e=new n(o[t].prime,"hex"),r=new n(o[t].gen,"hex");return new s(e,r)},e.createDiffieHellman=e.DiffieHellman=function t(e,r,o,u){return n.isBuffer(r)||void 0===a[r]?t(e,"binary",r,o):(r=r||"binary",u=u||"binary",o=o||new n([2]),n.isBuffer(o)||(o=new n(o,u)),"number"==typeof e?new s(i(e,o),o,!0):(n.isBuffer(e)||(e=new n(e,r)),new s(e,o,!0)))}},14910:(t,e,r)=>{var n=r(48287).Buffer,i=r(39404),o=new(r(52244)),s=new i(24),a=new i(11),u=new i(10),c=new i(3),f=new i(7),l=r(4934),d=r(53209);function h(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._pub=new i(t),this}function p(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._priv=new i(t),this}t.exports=g;var y={};function g(t,e,r){this.setGenerator(e),this.__prime=new i(t),this._prime=i.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=h,this.setPrivateKey=p):this._primeCode=8}function b(t,e){var r=new n(t.toArray());return e?r.toString(e):r}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in y)return y[n];var i,d=0;if(t.isEven()||!l.simpleSieve||!l.fermatTest(t)||!o.test(t))return d+=1,d+="02"===r||"05"===r?8:4,y[n]=d,d;switch(o.test(t.shrn(1))||(d+=2),r){case"02":t.mod(s).cmp(a)&&(d+=8);break;case"05":(i=t.mod(u)).cmp(c)&&i.cmp(f)&&(d+=8);break;default:d+=4}return y[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var e=(t=(t=new i(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(e.toArray()),o=this.getPrime();if(r.length<o.length){var s=new n(o.length-r.length);s.fill(0),r=n.concat([s,r])}return r},g.prototype.getPublicKey=function(t){return b(this._pub,t)},g.prototype.getPrivateKey=function(t){return b(this._priv,t)},g.prototype.getPrime=function(t){return b(this.__prime,t)},g.prototype.getGenerator=function(t){return b(this._gen,t)},g.prototype.setGenerator=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.__gen=t,this._gen=new i(t),this}},4934:(t,e,r)=>{var n=r(53209);t.exports=m,m.simpleSieve=g,m.fermatTest=b;var i=r(39404),o=new i(24),s=new(r(52244)),a=new i(1),u=new i(2),c=new i(5),f=(new i(16),new i(8),new i(10)),l=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function y(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<e&&t[i]<=n&&r%t[i]!=0;i++);e!==i&&t[i]<=n||(t[e++]=r)}return p=t,t}function g(t){for(var e=y(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function b(t){var e=i.mont(t);return 0===u.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function m(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new i(e);;){for(r=new i(n(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(u),e.cmp(u)){if(!e.cmp(c))for(;r.mod(f).cmp(l);)r.iadd(h)}else for(;r.mod(o).cmp(d);)r.iadd(h);if(g(p=r.shrn(1))&&g(r)&&b(p)&&b(r)&&s.test(p)&&s.test(r))return r}}},25170:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.ECPairFactory=e.networks=void 0;const i=r(95249);e.networks=i;const o=r(90953),s=r(53209),a=r(57513),u=r(80709),c=o.typeforce.maybe(o.typeforce.compile({compressed:o.maybe(o.Boolean),network:o.maybe(o.Network)}));e.ECPairFactory=function(t){function e(e,r){if(o.typeforce(o.Buffer256bit,e),!t.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return o.typeforce(c,r),new f(e,void 0,r)}function r(e,r){return o.typeforce(t.isPoint,e),o.typeforce(c,r),new f(void 0,e,r)}(0,u.testEcc)(t);class f{__D;__Q;compressed;network;lowR;constructor(e,r,o){this.__D=e,this.__Q=r,this.lowR=!1,void 0===o&&(o={}),this.compressed=void 0===o.compressed||o.compressed,this.network=o.network||i.bitcoin,void 0!==r&&(this.__Q=n.from(t.pointCompress(r,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){const e=t.pointFromScalar(this.__D,this.compressed);this.__Q=n.from(e)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return a.encode(this.network.wif,this.__D,this.compressed)}tweak(t){return this.privateKey?this.tweakFromPrivateKey(t):this.tweakFromPublicKey(t)}sign(e,r){if(!this.__D)throw new Error("Missing private key");if(void 0===r&&(r=this.lowR),!1===r)return n.from(t.sign(e,this.__D));{let r=t.sign(e,this.__D);const i=n.alloc(32,0);let o=0;for(;r[0]>127;)o++,i.writeUIntLE(o,0,6),r=t.sign(e,this.__D,i);return n.from(r)}}signSchnorr(e){if(!this.privateKey)throw new Error("Missing private key");if(!t.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return n.from(t.signSchnorr(e,this.privateKey))}verify(e,r){return t.verify(e,this.publicKey,r)}verifySchnorr(e,r){if(!t.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return t.verifySchnorr(e,this.publicKey.subarray(1,33),r)}tweakFromPublicKey(e){const i=32===(o=this.publicKey).length?o:o.slice(1,33);var o;const s=t.xOnlyPointAddTweak(i,e);if(!s||null===s.xOnlyPubkey)throw new Error("Cannot tweak public key!");const a=n.from([0===s.parity?2:3]);return r(n.concat([a,s.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(r){const i=3===this.publicKey[0]||4===this.publicKey[0]&&!(1&~this.publicKey[64])?t.privateNegate(this.privateKey):this.privateKey,o=t.privateAdd(i,r);if(!o)throw new Error("Invalid tweaked private key!");return e(n.from(o),{network:this.network,compressed:this.compressed})}}return{isPoint:function(e){return t.isPoint(e)},fromPrivateKey:e,fromPublicKey:r,fromWIF:function(t,r){const n=a.decode(t),s=n.version;if(o.Array(r)){if(!(r=r.filter((t=>s===t.wif)).pop()))throw new Error("Unknown network version")}else if(r=r||i.bitcoin,s!==r.wif)throw new Error("Invalid network version");return e(n.privateKey,{compressed:n.compressed,network:r})},makeRandom:function(r){o.typeforce(c,r),void 0===r&&(r={});const n=r.rng||s;let i;do{i=n(32),o.typeforce(o.Buffer256bit,i)}while(!t.isPrivate(i));return e(i,r)}}}},38700:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.networks=e.ECPairFactory=e.default=void 0;var n=r(25170);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.ECPairFactory}}),Object.defineProperty(e,"ECPairFactory",{enumerable:!0,get:function(){return n.ECPairFactory}}),Object.defineProperty(e,"networks",{enumerable:!0,get:function(){return n.networks}})},95249:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.testnet=e.bitcoin=void 0,e.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},e.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},80709:(t,e,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.testEcc=void 0;const i=t=>n.from(t,"hex");function o(t){if(!t)throw new Error("ecc library invalid")}e.testEcc=function(t){o(t.isPoint(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(!t.isPoint(i("030000000000000000000000000000000000000000000000000000000000000005"))),o(t.isPrivate(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(t.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(!t.isPrivate(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!t.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),o(!t.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),o(n.from(t.privateAdd(i("0000000000000000000000000000000000000000000000000000000000000001"),i("0000000000000000000000000000000000000000000000000000000000000000"))).equals(i("0000000000000000000000000000000000000000000000000000000000000001"))),o(null===t.privateAdd(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(t.privateAdd(i("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),i("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(i("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),o(n.from(t.privateNegate(i("0000000000000000000000000000000000000000000000000000000000000001"))).equals(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(n.from(t.privateNegate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(t.privateNegate(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),o(n.from(t.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(t.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(t.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(t.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(t.pointFromScalar(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),o(null===t.xOnlyPointAddTweak(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let e=t.xOnlyPointAddTweak(i("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),i("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));o(n.from(e.xOnlyPubkey).equals(i("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===e.parity),e=t.xOnlyPointAddTweak(i("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),i("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),o(n.from(e.xOnlyPubkey).equals(i("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&0===e.parity),o(n.from(t.sign(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),o(t.verify(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),t.signSchnorr&&o(n.from(t.signSchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),i("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),t.verifySchnorr&&o(t.verifySchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}},90953:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maybe=e.Boolean=e.Array=e.Buffer256bit=e.Network=e.typeforce=void 0,e.typeforce=r(8676),e.Network=e.typeforce.compile({messagePrefix:e.typeforce.oneOf(e.typeforce.Buffer,e.typeforce.String),bip32:{public:e.typeforce.UInt32,private:e.typeforce.UInt32},pubKeyHash:e.typeforce.UInt8,scriptHash:e.typeforce.UInt8,wif:e.typeforce.UInt8}),e.Buffer256bit=e.typeforce.BufferN(32),e.Array=e.typeforce.Array,e.Boolean=e.typeforce.Boolean,e.maybe=e.typeforce.maybe},86729:(t,e,r)=>{"use strict";var n=e;n.version=r(1636).rE,n.utils=r(47011),n.rand=r(15037),n.curve=r(894),n.curves=r(60480),n.ec=r(57447),n.eddsa=r(8650)},36677:(t,e,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.getNAF,s=i.getJSF,a=i.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=o(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,u,c=[];for(s=0;s<n.length;s+=r.step){u=0;for(var f=s+r.step-1;f>=s;f--)u=(u<<1)+n[f];c.push(u)}for(var l=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<c.length;s++)(u=c[s])===h?d=d.mixedAdd(r.points[s]):u===-h&&(d=d.mixedAdd(r.points[s].neg()));l=l.add(d)}return l.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r,this._bitLength),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&0===s[c];c--)f++;if(c>=0&&f++,u=u.dblp(f),c<0)break;var l=s[c];a(0!==l),u="affine"===t.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){var a,u,c,f=this._wnafT1,l=this._wnafT2,d=this._wnafT3,h=0;for(a=0;a<n;a++){var p=(c=e[a])._getNAFPoints(t);f[a]=p.wnd,l[a]=p.points}for(a=n-1;a>=1;a-=2){var y=a-1,g=a;if(1===f[y]&&1===f[g]){var b=[e[y],null,null,e[g]];0===e[y].y.cmp(e[g].y)?(b[1]=e[y].add(e[g]),b[2]=e[y].toJ().mixedAdd(e[g].neg())):0===e[y].y.cmp(e[g].y.redNeg())?(b[1]=e[y].toJ().mixedAdd(e[g]),b[2]=e[y].add(e[g].neg())):(b[1]=e[y].toJ().mixedAdd(e[g]),b[2]=e[y].toJ().mixedAdd(e[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[y],r[g]);for(h=Math.max(v[0].length,h),d[y]=new Array(h),d[g]=new Array(h),u=0;u<h;u++){var _=0|v[0][u],w=0|v[1][u];d[y][u]=m[3*(_+1)+(w+1)],d[g][u]=0,l[y]=b}}else d[y]=o(r[y],f[y],this._bitLength),d[g]=o(r[g],f[g],this._bitLength),h=Math.max(d[y].length,h),h=Math.max(d[g].length,h)}var S=this.jpoint(null,null,null),A=this._wnafT4;for(a=h;a>=0;a--){for(var x=0;a>=0;){var E=!0;for(u=0;u<n;u++)A[u]=0|d[u][a],0!==A[u]&&(E=!1);if(!E)break;x++,a--}if(a>=0&&x++,S=S.dblp(x),a<0)break;for(u=0;u<n;u++){var k=A[u];0!==k&&(k>0?c=l[u][k-1>>1]:k<0&&(c=l[u][-k-1>>1].neg()),S="affine"===c.type?S.mixedAdd(c):S.add(c))}}for(a=0;a<n;a++)l[a]=null;return i?S:S.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},31298:(t,e,r)=>{"use strict";var n=r(47011),i=r(39404),o=r(56698),s=r(36677),a=n.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function c(t,e,r,n,o){s.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},o(c,s.BasePoint),u.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},u.prototype.point=function(t,e,r,n){return new c(this,t,e,r,n)},c.fromJSON=function(t,e){return new c(t,e[0],e[1],e[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),l=s.redMul(o);return this.curve.point(u,c,l,f)},c.prototype._projDbl=function(){var t,e,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(t=s.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),e=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),t=s.redSub(a).redISub(u).redMul(o),e=c.redMul(n.redSub(u)),r=c.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(t,e,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=o.redMul(s),f=a.redMul(u),l=o.redMul(u),d=s.redMul(a);return this.curve.point(c,f,d,l)},c.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),l=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(e=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,e,r)},c.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},c.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},c.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},c.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},894:(t,e,r)=>{"use strict";var n=e;n.base=r(36677),n.short=r(39188),n.mont=r(30370),n.edwards=r(31298)},30370:(t,e,r)=>{"use strict";var n=r(39404),i=r(56698),o=r(36677),s=r(47011);function a(t){o.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){o.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(u,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(t,e,r)=>{"use strict";var n=r(47011),i=r(39404),o=r(56698),s=r(36677),a=n.assert;function u(t){s.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(t,e,r,n){s.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(t,e,r,n){s.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,r,n,o,s,a,u,c,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,h=this.n.clone(),p=new i(1),y=new i(0),g=new i(0),b=new i(1),m=0;0!==d.cmpn(0);){var v=h.div(d);c=h.sub(v.mul(d)),f=g.sub(v.mul(p));var _=b.sub(v.mul(y));if(!n&&c.cmp(l)<0)e=u.neg(),r=p,n=c.neg(),o=f;else if(n&&2==++m)break;u=c,h=d,d=c,g=p,p=f,b=y,y=_}s=c.neg(),a=f;var w=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(w)>=0&&(s=e,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(c).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(e&&!o||!e&&o)&&(n=n.redNeg()),this.point(t,n)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return c},o(c,s.BasePoint),u.prototype.point=function(t,e,r){return new c(this,t,e,r)},u.prototype.pointFromJSON=function(t,e){return c.fromJSON(this,t,e)},c.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},c.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),u.prototype.jpoint=function(t,e,r){return new f(this,t,e,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),l=n.redMul(c),d=u.redSqr().redIAdd(f).redISub(l).redISub(l),h=u.redMul(l.redISub(d)).redISub(o.redMul(f)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,h,p)},f.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),l=a.redSqr().redIAdd(c).redISub(f).redISub(f),d=a.redMul(f.redISub(l)).redISub(i.redMul(c)),h=this.z.redMul(s);return this.curve.jpoint(l,d,h)},f.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(e=0;e<t;e++){var f=o.redSqr(),l=c.redSqr(),d=l.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=o.redMul(l),y=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(y),b=h.redMul(g);b=b.redIAdd(b).redISub(d);var m=c.redMul(a);e+1<t&&(u=u.redMul(d)),o=y,a=m,c=b}return this.curve.jpoint(o,c.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),h=this.x.redAdd(l).redSqr().redISub(f).redISub(d);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),t=y.redISub(h).redISub(h),e=p.redMul(h.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},f.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),y=(p=p.redIAdd(p)).redAdd(p);t=h.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=h.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},f.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=a.redMul(l).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,d,h)},f.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},f.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},60480:(t,e,r)=>{"use strict";var n,i=e,o=r(77952),s=r(894),a=r(47011).assert;function u(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(74011)}catch(t){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},57447:(t,e,r)=>{"use strict";var n=r(39404),i=r(32723),o=r(47011),s=r(60480),a=r(15037),u=o.assert,c=r(61200),f=r(28545);function l(t){if(!(this instanceof l))return new l(t);"string"==typeof t&&(u(Object.prototype.hasOwnProperty.call(s,t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=l,l.prototype.keyPair=function(t){return new c(this,t)},l.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},l.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},l.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(e.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},l.prototype.sign=function(t,e,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),u=t.toArray("be",s),c=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new n(1)),d=0;;d++){var h=o.k?o.k(d):new n(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(l)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var y=p.getX(),g=y.umod(this.n);if(0!==g.cmpn(0)){var b=h.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(b=b.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==y.cmp(g)?2:0);return o.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),m^=1),new f({r:g,s:b,recoveryParam:m})}}}}}},l.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new f(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),c=u.mul(t).umod(this.n),l=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(t,e,r,i){u((3&r)===r,"The recovery param is more than two bits"),e=new f(e,i);var o=this.n,s=new n(t),a=e.r,c=e.s,l=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),l):this.curve.pointFromX(a,l);var h=e.r.invm(o),p=o.sub(s).mul(h).umod(o),y=c.mul(h).umod(o);return this.g.mulAdd(p,a,y)},l.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new f(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},61200:(t,e,r)=>{"use strict";var n=r(39404),i=r(47011).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(t,e,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function u(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function c(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function f(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var o=u(t,r);if(!1===o)return!1;if(o+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var s=u(t,r);if(!1===s)return!1;var c=t.slice(r.place,s+r.place);if(r.place+=s,2!==t[r.place++])return!1;var f=u(t,r);if(!1===f)return!1;if(t.length!==f+r.place)return!1;var l=t.slice(r.place,f+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new n(c),this.s=new n(l),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=c(e),r=c(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,e.length),(n=n.concat(e)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,t)}},8650:(t,e,r)=>{"use strict";var n=r(77952),i=r(60480),o=r(47011),s=o.assert,a=o.parseBytes,u=r(46661),c=r(90220);function f(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof f))return new f(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=f,f.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},f.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},f.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},f.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},f.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},f.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=!!(128&t[e]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(t){return o.intFromLE(t)},f.prototype.isPoint=function(t){return t instanceof this.pointClass}},46661:(t,e,r)=>{"use strict";var n=r(47011),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},90220:(t,e,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},74011:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(t,e,r)=>{"use strict";var n=e,i=r(39404),o=r(43349),s=r(64367);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(t,e,r){var n,i=new Array(Math.max(t.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<e+1,s=t.clone();for(n=0;n<i.length;n++){var a,u=s.andln(o-1);s.isOdd()?(a=u>(o>>1)-1?(o>>1)-u:u,s.isubn(a)):a=0,i[n]=a,s.iushrn(1)}return i},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,c=e.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=1&u?3!==(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u:0,r[0].push(s),a=1&c?3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?c:-c:0,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},37007:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&y(t,"error",e,r)}(t,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,o,s,c;if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(t))>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=s.length,c=f,console&&console.warn&&console.warn(c)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function h(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function y(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var c=u.length,f=p(u,c);for(r=0;r<c;++r)n(f[r],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,l(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,l(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return d(this,t,!0)},o.prototype.rawListeners=function(t){return d(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},68078:(t,e,r)=>{var n=r(92861).Buffer,i=r(88276);t.exports=function(t,e,r,o){if(n.isBuffer(t)||(t=n.from(t,"binary")),e&&(n.isBuffer(e)||(e=n.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,a=n.alloc(s),u=n.alloc(o||0),c=n.alloc(0);s>0||o>0;){var f=new i;f.update(c),f.update(t),e&&f.update(e),c=f.digest();var l=0;if(s>0){var d=a.length-s;l=Math.min(s,c.length),c.copy(a,d,0,l),s-=l}if(l<c.length&&o>0){var h=u.length-o,p=Math.min(o,c.length-l);c.copy(u,h,l,l+p),o-=p}}return c.fill(0),{key:a,iv:u}}},77952:(t,e,r)=>{var n=e;n.utils=r(67426),n.common=r(66166),n.sha=r(46229),n.ripemd=r(46784),n.hmac=r(28948),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},66166:(t,e,r)=>{"use strict";var n=r(67426),i=r(43349);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},28948:(t,e,r)=>{"use strict";var n=r(67426),i=r(43349);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},46784:(t,e,r)=>{"use strict";var n=r(67426),i=r(66166),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function d(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function h(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(f,c),e.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],m=r,v=n,_=i,w=c,S=f,A=0;A<80;A++){var x=s(o(u(r,l(A,n,i,c),t[p[A]+e],d(A)),g[A]),f);r=f,f=c,c=o(i,10),i=n,n=x,x=s(o(u(m,l(79-A,v,_,w),t[y[A]+e],h(A)),b[A]),S),m=S,S=w,w=o(_,10),_=v,v=x}x=a(this.h[1],i,w),this.h[1]=a(this.h[2],c,S),this.h[2]=a(this.h[3],f,m),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,_),this.h[0]=x},f.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(t,e,r)=>{"use strict";e.sha1=r(43917),e.sha224=r(47714),e.sha256=r(2287),e.sha384=r(21911),e.sha512=r(57766)},43917:(t,e,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(66225),s=n.rotl32,a=n.sum32,u=n.sum32_5,c=o.ft_1,f=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,f),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],d=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),y=u(s(i,5),c(p,o,f,d),h,r[n],l[p]);h=d,d=f,f=s(o,30),o=i,i=y}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],h)},d.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},47714:(t,e,r)=>{"use strict";var n=r(67426),i=r(2287);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},2287:(t,e,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(66225),s=r(43349),a=n.sum32,u=n.sum32_4,c=n.sum32_5,f=o.ch32,l=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,y=o.g1_256,g=i.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}n.inherits(m,g),t.exports=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(y(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],g=this.h[2],b=this.h[3],m=this.h[4],v=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=c(w,h(m),f(m,v,_),this.k[n],r[n]),A=a(d(i),l(i,o,g));w=_,_=v,v=m,m=a(b,S),b=g,g=o,o=i,i=a(S,A)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],b),this.h[4]=a(this.h[4],m),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},m.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},21911:(t,e,r)=>{"use strict";var n=r(67426),i=r(57766);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},57766:(t,e,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(43349),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,f=n.sum64,l=n.sum64_hi,d=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,y=n.sum64_5_hi,g=n.sum64_5_lo,b=i.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}function _(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function w(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function S(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function A(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function x(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function E(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function k(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function T(t,e){var r=s(t,e,1)^s(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function O(t,e){var r=s(t,e,19)^s(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function P(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(v,b),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=O(r[n-4],r[n-3]),o=P(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=T(r[n-30],r[n-29]),c=C(r[n-30],r[n-29]),f=r[n-32],l=r[n-31];r[n]=h(i,o,s,a,u,c,f,l),r[n+1]=p(i,o,s,a,u,c,f,l)}},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],b=this.h[8],m=this.h[9],v=this.h[10],T=this.h[11],C=this.h[12],O=this.h[13],P=this.h[14],M=this.h[15];o(this.k.length===r.length);for(var B=0;B<r.length;B+=2){var R=P,j=M,D=k(b,m),L=I(b,m),U=_(b,m,v,T,C),N=w(b,m,v,T,C,O),H=this.k[B],F=this.k[B+1],z=r[B],K=r[B+1],q=y(R,j,D,L,U,N,H,F,z,K),W=g(R,j,D,L,U,N,H,F,z,K);R=x(n,i),j=E(n,i),D=S(n,i,s,a,u),L=A(n,i,s,a,u,c);var $=l(R,j,D,L),V=d(R,j,D,L);P=C,M=O,C=v,O=T,v=b,T=m,b=l(h,p,q,W),m=d(p,p,q,W),h=u,p=c,u=s,c=a,s=n,a=i,n=l(q,W,$,V),i=d(q,W,$,V)}f(this.h,0,n,i),f(this.h,2,s,a),f(this.h,4,u,c),f(this.h,6,h,p),f(this.h,8,b,m),f(this.h,10,v,T),f(this.h,12,C,O),f(this.h,14,P,M)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},66225:(t,e,r)=>{"use strict";var n=r(67426).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},67426:(t,e,r)=>{"use strict";var n=r(43349),i=r(56698);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=s(i)),r+=u(i.toString(16))}return r},e.zero2=a,e.zero8=u,e.join32=function(t,e,r,i){var o=r-e;n(o%4==0);for(var s=new Array(o/4),a=0,u=e;a<s.length;a++,u+=4){var c;c="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[a]=c>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,c){var f=0,l=e;return f+=(l=l+n>>>0)<e?1:0,f+=(l=l+o>>>0)<o?1:0,f+=(l=l+a>>>0)<a?1:0,t+r+i+s+u+(f+=(l=l+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,c){return e+n+o+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},32723:(t,e,r)=>{"use strict";var n=r(77952),i=r(64367),o=r(43349);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=s,s.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},s.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this._reseed++,i.encode(s,e)}},251:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,d=r?-1:1,h=t[e+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+h]=255&s,h+=p,s/=256,c-=8);t[r+h-p]|=128*y}},49568:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Collection:()=>E,Iterable:()=>Tn,List:()=>ur,Map:()=>Ue,OrderedMap:()=>Sr,OrderedSet:()=>fn,PairSorting:()=>yn,Range:()=>$r,Record:()=>gn,Repeat:()=>An,Seq:()=>Y,Set:()=>Nr,Stack:()=>Tr,default:()=>Cn,fromJS:()=>xn,get:()=>ue,getIn:()=>Vr,has:()=>ae,hasIn:()=>Qr,hash:()=>bt,is:()=>ht,isAssociative:()=>x,isCollection:()=>v,isImmutable:()=>B,isIndexed:()=>A,isKeyed:()=>w,isList:()=>ar,isMap:()=>ft,isOrdered:()=>j,isOrderedMap:()=>lt,isOrderedSet:()=>jr,isPlainObject:()=>ie,isRecord:()=>M,isSeq:()=>O,isSet:()=>Rr,isStack:()=>Ir,isValueObject:()=>dt,merge:()=>xe,mergeDeep:()=>ke,mergeDeepWith:()=>Ie,mergeWith:()=>Ee,remove:()=>fe,removeIn:()=>ge,set:()=>le,setIn:()=>pe,update:()=>me,updateIn:()=>de,version:()=>In});var n="delete",i=5,o=1<<i,s=o-1,a={};function u(t){t&&(t.value=!0)}function c(){}function f(t){return void 0===t.size&&(t.size=t.__iterate(d)),t.size}function l(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?f(t)+e:e}function d(){return!0}function h(t,e,r){return(0===t&&!b(t)||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function p(t,e){return g(t,e,0)}function y(t,e){return g(t,e,e)}function g(t,e,r){return void 0===t?r:b(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function b(t){return t<0||0===t&&1/t==-1/0}var m="@@__IMMUTABLE_ITERABLE__@@";function v(t){return Boolean(t&&t[m])}var _="@@__IMMUTABLE_KEYED__@@";function w(t){return Boolean(t&&t[_])}var S="@@__IMMUTABLE_INDEXED__@@";function A(t){return Boolean(t&&t[S])}function x(t){return w(t)||A(t)}var E=function(t){return v(t)?t:Y(t)},k=function(t){function e(t){return w(t)?t:J(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E),I=function(t){function e(t){return A(t)?t:Z(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E),T=function(t){function e(t){return v(t)&&!x(t)?t:tt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E);E.Keyed=k,E.Indexed=I,E.Set=T;var C="@@__IMMUTABLE_SEQ__@@";function O(t){return Boolean(t&&t[C])}var P="@@__IMMUTABLE_RECORD__@@";function M(t){return Boolean(t&&t[P])}function B(t){return v(t)||M(t)}var R="@@__IMMUTABLE_ORDERED__@@";function j(t){return Boolean(t&&t[R])}var D=0,L=1,U=2,N="function"==typeof Symbol&&Symbol.iterator,H="@@iterator",F=N||H,z=function(t){this.next=t};function K(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function q(){return{value:void 0,done:!0}}function W(t){return!!Array.isArray(t)||!!G(t)}function $(t){return t&&"function"==typeof t.next}function V(t){var e=G(t);return e&&e.call(t)}function G(t){var e=t&&(N&&t[N]||t[H]);if("function"==typeof e)return e}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=D,z.VALUES=L,z.ENTRIES=U,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[F]=function(){return this};var Q=Object.prototype.hasOwnProperty;function X(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var Y=function(t){function e(t){return null==t?ot():B(t)?t.toSeq():function(t){var e=ut(t);if(e)return(n=G(r=t))&&n===r.entries?e.fromEntrySeq():function(t){var e=G(t);return e&&e===t.keys}(t)?e.toSetSeq():e;var r,n;if("object"==typeof t)return new rt(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[e?n-++i:i++];if(!1===t(o[1],o[0],this))break}return i}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var r=this._cache;if(r){var n=r.length,i=0;return new z((function(){if(i===n)return{value:void 0,done:!0};var o=r[e?n-++i:i++];return K(t,o[0],o[1])}))}return this.__iteratorUncached(t,e)},e}(E),J=function(t){function e(t){return null==t?ot().toKeyedSeq():v(t)?w(t)?t.toSeq():t.fromEntrySeq():M(t)?t.toSeq():st(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Y),Z=function(t){function e(t){return null==t?ot():v(t)?w(t)?t.entrySeq():t.toIndexedSeq():M(t)?t.toSeq().entrySeq():at(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Y),tt=function(t){function e(t){return(v(t)&&!x(t)?t:Z(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Y);Y.isSeq=O,Y.Keyed=J,Y.Set=tt,Y.Indexed=Z,Y.prototype[C]=!0;var et=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[l(this,t)]:e},e.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length,i=0;i!==n;){var o=e?n-++i:i++;if(!1===t(r[o],o,this))break}return i},e.prototype.__iterator=function(t,e){var r=this._array,n=r.length,i=0;return new z((function(){if(i===n)return{value:void 0,done:!0};var o=e?n-++i:i++;return K(t,o,r[o])}))},e}(Z),rt=function(t){function e(t){var e=Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return Q.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var s=n[e?i-++o:o++];if(!1===t(r[s],s,this))break}return o},e.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length,o=0;return new z((function(){if(o===i)return{value:void 0,done:!0};var s=n[e?i-++o:o++];return K(t,s,r[s])}))},e}(J);rt.prototype[R]=!0;var nt,it=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=V(this._collection),n=0;if($(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=V(this._collection);if(!$(r))return new z(q);var n=0;return new z((function(){var e=r.next();return e.done?e:K(t,n++,e.value)}))},e}(Z);function ot(){return nt||(nt=new et([]))}function st(t){var e=ut(t);if(e)return e.fromEntrySeq();if("object"==typeof t)return new rt(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function at(t){var e=ut(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function ut(t){return X(t)?new et(t):W(t)?new it(t):void 0}var ct="@@__IMMUTABLE_MAP__@@";function ft(t){return Boolean(t&&t[ct])}function lt(t){return ft(t)&&j(t)}function dt(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function ht(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(dt(t)&&dt(e)&&t.equals(e))}var pt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function yt(t){return t>>>1&1073741824|3221225471&t}var gt=Object.prototype.valueOf;function bt(t){if(null==t)return mt(t);if("function"==typeof t.hashCode)return yt(t.hashCode(t));var e,r=(e=t).valueOf!==gt&&"function"==typeof e.valueOf?e.valueOf(e):e;if(null==r)return mt(r);switch(typeof r){case"boolean":return r?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return yt(e)}(r);case"string":return r.length>Tt?function(t){var e=Pt[t];void 0===e&&(e=vt(t),Ot===Ct&&(Ot=0,Pt={}),Ot++,Pt[t]=e);return e}(r):vt(r);case"object":case"function":return function(t){var e;if(xt&&void 0!==(e=At.get(t)))return e;if(e=t[It],void 0!==e)return e;if(!wt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[It]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=St(),xt)At.set(t,e);else{if(void 0!==_t&&!1===_t(t))throw new Error("Non-extensible objects are not allowed as keys.");if(wt)Object.defineProperty(t,It,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[It]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[It]=e}}return e}(r);case"symbol":return function(t){var e=Et[t];if(void 0!==e)return e;return e=St(),Et[t]=e,e}(r);default:if("function"==typeof r.toString)return vt(r.toString());throw new Error("Value type "+typeof r+" cannot be hashed.")}}function mt(t){return null===t?1108378658:1108378659}function vt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return yt(e)}var _t=Object.isExtensible,wt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function St(){var t=++kt;return 1073741824&kt&&(kt=0),t}var At,xt="function"==typeof WeakMap;xt&&(At=new WeakMap);var Et=Object.create(null),kt=0,It="__immutablehash__";"function"==typeof Symbol&&(It=Symbol(It));var Tt=16,Ct=255,Ot=0,Pt={},Mt=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Ut(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var r=this,n=Lt(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e,n){return t(e,n,r)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(J);Mt.prototype[R]=!0;var Bt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this,n=0;return e&&f(this),this._iter.__iterate((function(i){return t(i,e?r.size-++n:n++,r)}),e)},e.prototype.__iterator=function(t,e){var r=this,n=this._iter.__iterator(L,e),i=0;return e&&f(this),new z((function(){var o=n.next();return o.done?o:K(t,e?r.size-++i:i++,o.value,o)}))},e}(Z),Rt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){return t(e,e,r)}),e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(L,e);return new z((function(){var e=r.next();return e.done?e:K(t,e.value,e.value,e)}))},e}(tt),jt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){if(e){Gt(e);var n=v(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}}),e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(L,e);return new z((function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){Gt(n);var i=v(n);return K(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}}))},e}(J);function Dt(t){var e=Xt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Yt,e.__iterateUncached=function(e,r){var n=this;return t.__iterate((function(t,r){return!1!==e(r,t,n)}),r)},e.__iteratorUncached=function(e,r){if(e===U){var n=t.__iterator(e,r);return new z((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===L?D:L,r)},e}function Lt(t,e,r){var n=Xt(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,a);return o===a?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate((function(t,i,s){return!1!==n(e.call(r,t,i,s),i,o)}),i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(U,i);return new z((function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return K(n,a,e.call(r,s[1],a,t),i)}))},n}function Ut(t,e){var r=this,n=Xt(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Dt(t);return e.reverse=function(){return t.flip()},e}),n.get=function(r,n){return t.get(e?r:-1-r,n)},n.has=function(r){return t.has(e?r:-1-r)},n.includes=function(e){return t.includes(e)},n.cacheResult=Yt,n.__iterate=function(r,n){var i=this,o=0;return n&&f(t),t.__iterate((function(t,s){return r(t,e?s:n?i.size-++o:o++,i)}),!n)},n.__iterator=function(n,i){var o=0;i&&f(t);var s=t.__iterator(U,!i);return new z((function(){var t=s.next();if(t.done)return t;var a=t.value;return K(n,e?a[0]:i?r.size-++o:o++,a[1],t)}))},n}function Nt(t,e,r,n){var i=Xt(t);return n&&(i.has=function(n){var i=t.get(n,a);return i!==a&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,a);return o!==a&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return t.__iterate((function(t,o,u){if(e.call(r,t,o,u))return a++,i(t,n?o:a-1,s)}),o),a},i.__iteratorUncached=function(i,o){var s=t.__iterator(U,o),a=0;return new z((function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,c=u[0],f=u[1];if(e.call(r,f,c,t))return K(i,n?c:a++,f,o)}}))},i}function Ht(t,e,r,n){var i=t.size;if(h(e,r,i))return t;var o=p(e,i),s=y(r,i);if(o!=o||s!=s)return Ht(t.toSeq().cacheResult(),e,r,n);var a,u=s-o;u==u&&(a=u<0?0:u);var c=Xt(t);return c.size=0===a?a:t.size&&a||void 0,!n&&O(t)&&a>=0&&(c.get=function(e,r){return(e=l(this,e))>=0&&e<a?t.get(e+o,r):r}),c.__iterateUncached=function(e,r){var i=this;if(0===a)return 0;if(r)return this.cacheResult().__iterate(e,r);var s=0,u=!0,c=0;return t.__iterate((function(t,r){if(!u||!(u=s++<o))return c++,!1!==e(t,n?r:c-1,i)&&c!==a})),c},c.__iteratorUncached=function(e,r){if(0!==a&&r)return this.cacheResult().__iterator(e,r);if(0===a)return new z(q);var i=t.__iterator(e,r),s=0,u=0;return new z((function(){for(;s++<o;)i.next();if(++u>a)return{value:void 0,done:!0};var t=i.next();return n||e===L||t.done?t:K(e,u-1,e===D?void 0:t.value[1],t)}))},c}function Ft(t,e,r,n){var i=Xt(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,u=0;return t.__iterate((function(t,o,c){if(!a||!(a=e.call(r,t,o,c)))return u++,i(t,n?o:u-1,s)})),u},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(U,o),u=!0,c=0;return new z((function(){var t,o,f;do{if((t=a.next()).done)return n||i===L?t:K(i,c++,i===D?void 0:t.value[1],t);var l=t.value;o=l[0],f=l[1],u&&(u=e.call(r,f,o,s))}while(u);return i===U?t:K(i,o,f,t)}))},i}function zt(t,e,r){var n=Xt(t);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var s=0,a=!1;return function t(u,c){u.__iterate((function(o,u){return(!e||c<e)&&v(o)?t(o,c+1):(s++,!1===i(o,r?u:s-1,n)&&(a=!0)),!a}),o)}(t,0),s},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=t.__iterator(n,i),s=[],a=0;return new z((function(){for(;o;){var t=o.next();if(!1===t.done){var u=t.value;if(n===U&&(u=u[1]),e&&!(s.length<e)||!v(u))return r?t:K(n,a++,u,t);s.push(o),o=u.__iterator(n,i)}else o=s.pop()}return{value:void 0,done:!0}}))},n}function Kt(t,e,r){e||(e=Jt);var n=w(t),i=0,o=t.toSeq().map((function(e,n){return[n,e,i++,r?r(e,n,t):e]})).valueSeq().toArray();return o.sort((function(t,r){return e(t[3],r[3])||t[2]-r[2]})).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?J(o):A(t)?Z(o):tt(o)}function qt(t,e,r){if(e||(e=Jt),r){var n=t.toSeq().map((function(e,n){return[e,r(e,n,t)]})).reduce((function(t,r){return Wt(e,t[1],r[1])?r:t}));return n&&n[0]}return t.reduce((function(t,r){return Wt(e,t,r)?r:t}))}function Wt(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function $t(t,e,r,n){var i=Xt(t),o=new et(r).map((function(t){return t.size}));return i.size=n?o.max():o.min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(L,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=E(t),V(i?t.reverse():t)})),s=0,a=!1;return new z((function(){var r;return a||(r=o.map((function(t){return t.next()})),a=n?r.every((function(t){return t.done})):r.some((function(t){return t.done}))),a?{value:void 0,done:!0}:K(t,s++,e.apply(null,r.map((function(t){return t.value}))))}))},i}function Vt(t,e){return t===e?t:O(t)?e:t.constructor(e)}function Gt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Qt(t){return w(t)?k:A(t)?I:T}function Xt(t){return Object.create((w(t)?J:A(t)?Z:tt).prototype)}function Yt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function Jt(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Zt(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function te(t,e){if(!t)throw new Error(e)}function ee(t){te(t!==1/0,"Cannot perform this action with an infinite size.")}function re(t){if(X(t)&&"string"!=typeof t)return t;if(j(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}Bt.prototype.cacheResult=Mt.prototype.cacheResult=Rt.prototype.cacheResult=jt.prototype.cacheResult=Yt;var ne=Object.prototype.toString;function ie(t){if(!t||"object"!=typeof t||"[object Object]"!==ne.call(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var r=e,n=Object.getPrototypeOf(e);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===e}function oe(t){return"object"==typeof t&&(B(t)||Array.isArray(t)||ie(t))}function se(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function ae(t,e){return B(t)?t.has(e):oe(t)&&Q.call(t,e)}function ue(t,e,r){return B(t)?t.get(e,r):ae(t,e)?"function"==typeof t.get?t.get(e):t[e]:r}function ce(t){if(Array.isArray(t))return Zt(t);var e={};for(var r in t)Q.call(t,r)&&(e[r]=t[r]);return e}function fe(t,e){if(!oe(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(B(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Q.call(t,e))return t;var r=ce(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function le(t,e,r){if(!oe(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(B(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Q.call(t,e)&&r===t[e])return t;var n=ce(t);return n[e]=r,n}function de(t,e,r,n){n||(n=r,r=void 0);var i=he(B(t),t,re(e),0,r,n);return i===a?r:i}function he(t,e,r,n,i,o){var s=e===a;if(n===r.length){var u=s?i:e,c=o(u);return c===u?e:c}if(!s&&!oe(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(se)+"]: "+e);var f=r[n],l=s?a:ue(e,f,a),d=he(l===a?t:B(l),l,r,n+1,i,o);return d===l?e:d===a?fe(e,f):le(s?t?Xe():{}:e,f,d)}function pe(t,e,r){return de(t,e,a,(function(){return r}))}function ye(t,e){return pe(this,t,e)}function ge(t,e){return de(t,e,(function(){return a}))}function be(t){return ge(this,t)}function me(t,e,r,n){return de(t,[e],r,n)}function ve(t,e,r){return 1===arguments.length?t(this):me(this,t,e,r)}function _e(t,e,r){return de(this,t,e,r)}function we(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ae(this,t)}function Se(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return Ae(this,e,t)}function Ae(t,e,r){for(var n=[],i=0;i<e.length;i++){var o=k(e[i]);0!==o.size&&n.push(o)}return 0===n.length?t:0!==t.toSeq().size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var e=r?function(e,n){me(t,n,a,(function(t){return t===a?e:r(t,e,n)}))}:function(e,r){t.set(r,e)},i=0;i<n.length;i++)n[i].forEach(e)})):t.constructor(n[0])}function xe(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ce(t,e)}function Ee(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Ce(e,r,t)}function ke(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Te(t,e)}function Ie(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Te(e,r,t)}function Te(t,e,r){return Ce(t,e,function(t){function e(r,n,i){return oe(r)&&oe(n)&&(o=n,s=Y(r),a=Y(o),A(s)===A(a)&&w(s)===w(a))?Ce(r,[n],e):t?t(r,n,i):n;var o,s,a}return e}(r))}function Ce(t,e,r){if(!oe(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(B(t))return"function"==typeof r&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,o=n?I:k,s=n?function(e){i===t&&(i=ce(i)),i.push(e)}:function(e,n){var o=Q.call(i,n),s=o&&r?r(i[n],e,n):e;o&&s===i[n]||(i===t&&(i=ce(i)),i[n]=s)},a=0;a<e.length;a++)o(e[a]).forEach(s);return i}function Oe(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Te(this,t)}function Pe(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Te(this,e,t)}function Me(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return de(this,t,Xe(),(function(t){return Ce(t,e)}))}function Be(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return de(this,t,Xe(),(function(t){return Te(t,e)}))}function Re(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function je(){return this.__ownerID?this:this.__ensureOwner(new c)}function De(){return this.__ensureOwner()}function Le(){return this.__altered}var Ue=function(t){function e(e){return null==e?Xe():ft(e)&&!j(e)?e:Xe().withMutations((function(r){var n=t(e);ee(n.size),n.forEach((function(t,e){return r.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Xe().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return Ye(this,t,e)},e.prototype.remove=function(t){return Ye(this,t,a)},e.prototype.deleteAll=function(t){var e=E(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Xe()},e.prototype.sort=function(t){return Sr(Kt(this,t))},e.prototype.sortBy=function(t,e){return Sr(Kt(this,e,t))},e.prototype.map=function(t,e){var r=this;return this.withMutations((function(n){n.forEach((function(i,o){n.set(o,t.call(e,i,o,r))}))}))},e.prototype.__iterator=function(t,e){return new $e(this,t,e)},e.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],r)}),e),n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qe(this.size,this._root,t,this.__hash):0===this.size?Xe():(this.__ownerID=t,this.__altered=!1,this)},e}(k);Ue.isMap=ft;var Ne=Ue.prototype;Ne[ct]=!0,Ne[n]=Ne.remove,Ne.removeAll=Ne.deleteAll,Ne.setIn=ye,Ne.removeIn=Ne.deleteIn=be,Ne.update=ve,Ne.updateIn=_e,Ne.merge=Ne.concat=we,Ne.mergeWith=Se,Ne.mergeDeep=Oe,Ne.mergeDeepWith=Pe,Ne.mergeIn=Me,Ne.mergeDeepIn=Be,Ne.withMutations=Re,Ne.wasAltered=Le,Ne.asImmutable=De,Ne["@@transducer/init"]=Ne.asMutable=je,Ne["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},Ne["@@transducer/result"]=function(t){return t.asImmutable()};var He=function(t,e){this.ownerID=t,this.entries=e};He.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(ht(r,i[o][0]))return i[o][1];return n},He.prototype.update=function(t,e,r,n,i,o,s){for(var f=i===a,l=this.entries,d=0,h=l.length;d<h&&!ht(n,l[d][0]);d++);var p=d<h;if(p?l[d][1]===i:f)return this;if(u(s),(f||!p)&&u(o),!f||1!==l.length){if(!p&&!f&&l.length>=nr)return function(t,e,r,n){t||(t=new c);for(var i=new qe(t,bt(r),[r,n]),o=0;o<e.length;o++){var s=e[o];i=i.update(t,0,void 0,s[0],s[1])}return i}(t,l,n,i);var y=t&&t===this.ownerID,g=y?l:Zt(l);return p?f?d===h-1?g.pop():g[d]=g.pop():g[d]=[n,i]:g.push([n,i]),y?(this.entries=g,this):new He(t,g)}};var Fe=function(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r};Fe.prototype.get=function(t,e,r,n){void 0===e&&(e=bt(r));var o=1<<((0===t?e:e>>>t)&s),a=this.bitmap;return a&o?this.nodes[er(a&o-1)].get(t+i,e,r,n):n},Fe.prototype.update=function(t,e,r,n,u,c,f){void 0===r&&(r=bt(n));var l=(0===e?r:r>>>e)&s,d=1<<l,h=this.bitmap,p=!!(h&d);if(!p&&u===a)return this;var y=er(h&d-1),g=this.nodes,b=p?g[y]:void 0,m=Je(b,t,e+i,r,n,u,c,f);if(m===b)return this;if(!p&&m&&g.length>=ir)return function(t,e,r,n,i){for(var s=0,a=new Array(o),u=0;0!==r;u++,r>>>=1)a[u]=1&r?e[s++]:void 0;return a[n]=i,new ze(t,s+1,a)}(t,g,h,l,m);if(p&&!m&&2===g.length&&Ze(g[1^y]))return g[1^y];if(p&&m&&1===g.length&&Ze(m))return m;var v=t&&t===this.ownerID,_=p?m?h:h^d:h|d,w=p?m?rr(g,y,m,v):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,s=0;s<n;s++)s===e&&(o=1),i[s]=t[s+o];return i}(g,y,v):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),s=0,a=0;a<i;a++)a===e?(o[a]=r,s=-1):o[a]=t[a+s];return o}(g,y,m,v);return v?(this.bitmap=_,this.nodes=w,this):new Fe(t,_,w)};var ze=function(t,e,r){this.ownerID=t,this.count=e,this.nodes=r};ze.prototype.get=function(t,e,r,n){void 0===e&&(e=bt(r));var o=(0===t?e:e>>>t)&s,a=this.nodes[o];return a?a.get(t+i,e,r,n):n},ze.prototype.update=function(t,e,r,n,o,u,c){void 0===r&&(r=bt(n));var f=(0===e?r:r>>>e)&s,l=o===a,d=this.nodes,h=d[f];if(l&&!h)return this;var p=Je(h,t,e+i,r,n,o,u,c);if(p===h)return this;var y=this.count;if(h){if(!p&&--y<or)return function(t,e,r,n){for(var i=0,o=0,s=new Array(r),a=0,u=1,c=e.length;a<c;a++,u<<=1){var f=e[a];void 0!==f&&a!==n&&(i|=u,s[o++]=f)}return new Fe(t,i,s)}(t,d,y,f)}else y++;var g=t&&t===this.ownerID,b=rr(d,f,p,g);return g?(this.count=y,this.nodes=b,this):new ze(t,y,b)};var Ke=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r};Ke.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(ht(r,i[o][0]))return i[o][1];return n},Ke.prototype.update=function(t,e,r,n,i,o,s){void 0===r&&(r=bt(n));var c=i===a;if(r!==this.keyHash)return c?this:(u(s),u(o),tr(this,t,e,r,[n,i]));for(var f=this.entries,l=0,d=f.length;l<d&&!ht(n,f[l][0]);l++);var h=l<d;if(h?f[l][1]===i:c)return this;if(u(s),(c||!h)&&u(o),c&&2===d)return new qe(t,this.keyHash,f[1^l]);var p=t&&t===this.ownerID,y=p?f:Zt(f);return h?c?l===d-1?y.pop():y[l]=y.pop():y[l]=[n,i]:y.push([n,i]),p?(this.entries=y,this):new Ke(t,this.keyHash,y)};var qe=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r};qe.prototype.get=function(t,e,r,n){return ht(r,this.entry[0])?this.entry[1]:n},qe.prototype.update=function(t,e,r,n,i,o,s){var c=i===a,f=ht(n,this.entry[0]);return(f?i===this.entry[1]:c)?this:(u(s),c?void u(o):f?t&&t===this.ownerID?(this.entry[1]=i,this):new qe(t,this.keyHash,[n,i]):(u(o),tr(this,t,e,bt(n),[n,i])))},He.prototype.iterate=Ke.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},Fe.prototype.iterate=ze.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},qe.prototype.iterate=function(t,e){return t(this.entry)};var We,$e=function(t){function e(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Ge(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r=e.node,n=e.index++,i=void 0;if(r.entry){if(0===n)return Ve(t,r.entry)}else if(r.entries){if(n<=(i=r.entries.length-1))return Ve(t,r.entries[this._reverse?i-n:n])}else if(n<=(i=r.nodes.length-1)){var o=r.nodes[this._reverse?i-n:n];if(o){if(o.entry)return Ve(t,o.entry);e=this._stack=Ge(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(z);function Ve(t,e){return K(t,e[0],e[1])}function Ge(t,e){return{node:t,index:0,__prev:e}}function Qe(t,e,r,n){var i=Object.create(Ne);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Xe(){return We||(We=Qe(0))}function Ye(t,e,r){var n,i;if(t._root){var o={value:!1},s={value:!1};if(n=Je(t._root,t.__ownerID,0,void 0,e,r,o,s),!s.value)return t;i=t.size+(o.value?r===a?-1:1:0)}else{if(r===a)return t;i=1,n=new He(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Qe(i,n):Xe()}function Je(t,e,r,n,i,o,s,c){return t?t.update(e,r,n,i,o,s,c):o===a?t:(u(c),u(s),new qe(e,n,[i,o]))}function Ze(t){return t.constructor===qe||t.constructor===Ke}function tr(t,e,r,n,o){if(t.keyHash===n)return new Ke(e,n,[t.entry,o]);var a,u=(0===r?t.keyHash:t.keyHash>>>r)&s,c=(0===r?n:n>>>r)&s,f=u===c?[tr(t,e,r+i,n,o)]:(a=new qe(e,n,o),u<c?[t,a]:[a,t]);return new Fe(e,1<<u|1<<c,f)}function er(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function rr(t,e,r,n){var i=n?t:Zt(t);return i[e]=r,i}var nr=o/4,ir=o/2,or=o/4,sr="@@__IMMUTABLE_LIST__@@";function ar(t){return Boolean(t&&t[sr])}var ur=function(t){function e(e){var r=yr();if(null==e)return r;if(ar(e))return e;var n=t(e),s=n.size;return 0===s?r:(ee(s),s>0&&s<o?pr(0,s,i,null,new fr(n.toArray())):r.withMutations((function(t){t.setSize(s),n.forEach((function(e,r){return t.set(r,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=l(this,t))>=0&&t<this.size){var r=mr(this,t+=this._origin);return r&&r.array[t&s]}return e},e.prototype.set=function(t,e){return function(t,e,r){if(e=l(t,e),e!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?vr(t,e).set(0,r):vr(t,0,e+1).set(e,r)}));e+=t._origin;var n=t._tail,i=t._root,o={value:!1};e>=_r(t._capacity)?n=gr(n,t.__ownerID,0,e,r,o):i=gr(i,t.__ownerID,t._level,e,r,o);if(!o.value)return t;if(t.__ownerID)return t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t;return pr(t._origin,t._capacity,t._level,i,n)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=i,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):yr()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(r){vr(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])}))},e.prototype.pop=function(){return vr(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){vr(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])}))},e.prototype.shift=function(){return vr(this,1)},e.prototype.concat=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++){var i=e[n],o=t("string"!=typeof i&&W(i)?i:[i]);0!==o.size&&r.push(o)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(t){r.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(r[0])},e.prototype.setSize=function(t){return vr(this,0,t)},e.prototype.map=function(t,e){var r=this;return this.withMutations((function(n){for(var i=0;i<r.size;i++)n.set(i,t.call(e,n.get(i),i,r))}))},e.prototype.slice=function(t,e){var r=this.size;return h(t,e,r)?this:vr(this,p(t,r),y(e,r))},e.prototype.__iterator=function(t,e){var r=e?this.size:0,n=hr(this,e);return new z((function(){var i=n();return i===dr?{value:void 0,done:!0}:K(t,e?--r:r++,i)}))},e.prototype.__iterate=function(t,e){for(var r,n=e?this.size:0,i=hr(this,e);(r=i())!==dr&&!1!==t(r,e?--n:n++,this););return n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?pr(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?yr():(this.__ownerID=t,this.__altered=!1,this)},e}(I);ur.isList=ar;var cr=ur.prototype;cr[sr]=!0,cr[n]=cr.remove,cr.merge=cr.concat,cr.setIn=ye,cr.deleteIn=cr.removeIn=be,cr.update=ve,cr.updateIn=_e,cr.mergeIn=Me,cr.mergeDeepIn=Be,cr.withMutations=Re,cr.wasAltered=Le,cr.asImmutable=De,cr["@@transducer/init"]=cr.asMutable=je,cr["@@transducer/step"]=function(t,e){return t.push(e)},cr["@@transducer/result"]=function(t){return t.asImmutable()};var fr=function(t,e){this.array=t,this.ownerID=e};fr.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&s;if(n>=this.array.length)return new fr([],t);var o,a=0===n;if(e>0){var u=this.array[n];if((o=u&&u.removeBefore(t,e-i,r))===u&&a)return this}if(a&&!o)return this;var c=br(this,t);if(!a)for(var f=0;f<n;f++)c.array[f]=void 0;return o&&(c.array[n]=o),c},fr.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,o=r-1>>>e&s;if(o>=this.array.length)return this;if(e>0){var a=this.array[o];if((n=a&&a.removeAfter(t,e-i,r))===a&&o===this.array.length-1)return this}var u=br(this,t);return u.array.splice(o+1),n&&(u.array[o]=n),u};var lr,dr={};function hr(t,e){var r=t._origin,n=t._capacity,s=_r(n),a=t._tail;return u(t._root,t._level,0);function u(t,c,f){return 0===c?function(t,i){var u=i===s?a&&a.array:t&&t.array,c=i>r?0:r-i,f=n-i;f>o&&(f=o);return function(){if(c===f)return dr;var t=e?--f:c++;return u&&u[t]}}(t,f):function(t,s,a){var c,f=t&&t.array,l=a>r?0:r-a>>s,d=1+(n-a>>s);d>o&&(d=o);return function(){for(;;){if(c){var t=c();if(t!==dr)return t;c=null}if(l===d)return dr;var r=e?--d:l++;c=u(f&&f[r],s-i,a+(r<<s))}}}(t,c,f)}}function pr(t,e,r,n,i,o,s){var a=Object.create(cr);return a.size=e-t,a._origin=t,a._capacity=e,a._level=r,a._root=n,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function yr(){return lr||(lr=pr(0,0,i))}function gr(t,e,r,n,o,a){var c,f=n>>>r&s,l=t&&f<t.array.length;if(!l&&void 0===o)return t;if(r>0){var d=t&&t.array[f],h=gr(d,e,r-i,n,o,a);return h===d?t:((c=br(t,e)).array[f]=h,c)}return l&&t.array[f]===o?t:(a&&u(a),c=br(t,e),void 0===o&&f===c.array.length-1?c.array.pop():c.array[f]=o,c)}function br(t,e){return e&&t&&e===t.ownerID?t:new fr(t?t.array.slice():[],e)}function mr(t,e){if(e>=_r(t._capacity))return t._tail;if(e<1<<t._level+i){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&s],n-=i;return r}}function vr(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new c,o=t._origin,a=t._capacity,u=o+e,f=void 0===r?a:r<0?a+r:o+r;if(u===o&&f===a)return t;if(u>=f)return t.clear();for(var l=t._level,d=t._root,h=0;u+h<0;)d=new fr(d&&d.array.length?[void 0,d]:[],n),h+=1<<(l+=i);h&&(u+=h,o+=h,f+=h,a+=h);for(var p=_r(a),y=_r(f);y>=1<<l+i;)d=new fr(d&&d.array.length?[d]:[],n),l+=i;var g=t._tail,b=y<p?mr(t,f-1):y>p?new fr([],n):g;if(g&&y>p&&u<a&&g.array.length){for(var m=d=br(d,n),v=l;v>i;v-=i){var _=p>>>v&s;m=m.array[_]=br(m.array[_],n)}m.array[p>>>i&s]=g}if(f<a&&(b=b&&b.removeAfter(n,0,f)),u>=y)u-=y,f-=y,l=i,d=null,b=b&&b.removeBefore(n,0,u);else if(u>o||y<p){for(h=0;d;){var w=u>>>l&s;if(w!==y>>>l&s)break;w&&(h+=(1<<l)*w),l-=i,d=d.array[w]}d&&u>o&&(d=d.removeBefore(n,l,u-h)),d&&y<p&&(d=d.removeAfter(n,l,y-h)),h&&(u-=h,f-=h)}return t.__ownerID?(t.size=f-u,t._origin=u,t._capacity=f,t._level=l,t._root=d,t._tail=b,t.__hash=void 0,t.__altered=!0,t):pr(u,f,l,d,b)}function _r(t){return t<o?0:t-1>>>i<<i}var wr,Sr=function(t){function e(t){return null==t?xr():lt(t)?t:xr().withMutations((function(e){var r=k(t);ee(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):xr()},e.prototype.set=function(t,e){return Er(this,t,e)},e.prototype.remove=function(t){return Er(this,t,a)},e.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],r)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?Ar(e,r,t,this.__hash):0===this.size?xr():(this.__ownerID=t,this.__altered=!1,this._map=e,this._list=r,this)},e}(Ue);function Ar(t,e,r,n){var i=Object.create(Sr.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function xr(){return wr||(wr=Ar(Xe(),yr()))}function Er(t,e,r){var n,i,s=t._map,u=t._list,c=s.get(e),f=void 0!==c;if(r===a){if(!f)return t;u.size>=o&&u.size>=2*s.size?(n=(i=u.filter((function(t,e){return void 0!==t&&c!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=s.remove(e),i=c===u.size-1?u.pop():u.set(c,void 0))}else if(f){if(r===u.get(c)[1])return t;n=s,i=u.set(c,[e,r])}else n=s.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t.__altered=!0,t):Ar(n,i)}Sr.isOrderedMap=lt,Sr.prototype[R]=!0,Sr.prototype[n]=Sr.prototype.remove;var kr="@@__IMMUTABLE_STACK__@@";function Ir(t){return Boolean(t&&t[kr])}var Tr=function(t){function e(t){return null==t?Mr():Ir(t)?t:Mr().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var r=this._head;for(t=l(this,t);r&&t--;)r=r.next;return r?r.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:t[n],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Pr(e,r)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&Ir(e))return e;ee(e.size);var r=this.size,n=this._head;return e.__iterate((function(t){r++,n={value:t,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):Pr(r,n)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mr()},e.prototype.slice=function(e,r){if(h(e,r,this.size))return this;var n=p(e,this.size);if(y(r,this.size)!==this.size)return t.prototype.slice.call(this,e,r);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Pr(i,o)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Pr(this.size,this._head,t,this.__hash):0===this.size?Mr():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var r=this;if(e)return new et(this.toArray()).__iterate((function(e,n){return t(e,n,r)}),e);for(var n=0,i=this._head;i&&!1!==t(i.value,n++,this);)i=i.next;return n},e.prototype.__iterator=function(t,e){if(e)return new et(this.toArray()).__iterator(t,e);var r=0,n=this._head;return new z((function(){if(n){var e=n.value;return n=n.next,K(t,r++,e)}return{value:void 0,done:!0}}))},e}(I);Tr.isStack=Ir;var Cr,Or=Tr.prototype;function Pr(t,e,r,n){var i=Object.create(Or);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Mr(){return Cr||(Cr=Pr(0))}Or[kr]=!0,Or.shift=Or.pop,Or.unshift=Or.push,Or.unshiftAll=Or.pushAll,Or.withMutations=Re,Or.wasAltered=Le,Or.asImmutable=De,Or["@@transducer/init"]=Or.asMutable=je,Or["@@transducer/step"]=function(t,e){return t.unshift(e)},Or["@@transducer/result"]=function(t){return t.asImmutable()};var Br="@@__IMMUTABLE_SET__@@";function Rr(t){return Boolean(t&&t[Br])}function jr(t){return Rr(t)&&j(t)}function Dr(t,e){if(t===e)return!0;if(!v(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||w(t)!==w(e)||A(t)!==A(e)||j(t)!==j(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!x(t);if(j(t)){var n=t.entries();return e.every((function(t,e){var i=n.next().value;return i&&ht(i[1],t)&&(r||ht(i[0],e))}))&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var s=!0,u=e.__iterate((function(e,n){if(r?!t.has(e):i?!ht(e,t.get(n,a)):!ht(t.get(n,a),e))return s=!1,!1}));return s&&t.size===u}function Lr(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Ur(t){if(!t||"object"!=typeof t)return t;if(!v(t)){if(!oe(t))return t;t=Y(t)}if(w(t)){var e={};return t.__iterate((function(t,r){e[r]=Ur(t)})),e}var r=[];return t.__iterate((function(t){r.push(Ur(t))})),r}var Nr=function(t){function e(e){return null==e?qr():Rr(e)&&!j(e)?e:qr().withMutations((function(r){var n=t(e);ee(n.size),n.forEach((function(t){return r.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(k(t).keySeq())},e.intersect=function(t){return(t=E(t).toArray()).length?Fr.intersect.apply(e(t.pop()),t):qr()},e.union=function(t){return(t=E(t).toArray()).length?Fr.union.apply(e(t.pop()),t):qr()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return zr(this,this._map.set(t,t))},e.prototype.remove=function(t){return zr(this,this._map.remove(t))},e.prototype.clear=function(){return zr(this,this._map.clear())},e.prototype.map=function(t,e){var r=this,n=!1,i=zr(this,this._map.mapEntries((function(i){var o=i[1],s=t.call(e,o,o,r);return s!==o&&(n=!0),[s,s]}),e));return n?i:this},e.prototype.union=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(r){for(var n=0;n<e.length;n++)"string"==typeof e[n]?r.add(e[n]):t(e[n]).forEach((function(t){return r.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return fn(Kt(this,t))},e.prototype.sortBy=function(t,e){return fn(Kt(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate((function(e){return t(e,e,r)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(T);Nr.isSet=Rr;var Hr,Fr=Nr.prototype;function zr(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Kr(t,e){var r=Object.create(Fr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function qr(){return Hr||(Hr=Kr(Xe()))}Fr[Br]=!0,Fr[n]=Fr.remove,Fr.merge=Fr.concat=Fr.union,Fr.withMutations=Re,Fr.asImmutable=De,Fr["@@transducer/init"]=Fr.asMutable=je,Fr["@@transducer/step"]=function(t,e){return t.add(e)},Fr["@@transducer/result"]=function(t){return t.asImmutable()},Fr.__empty=qr,Fr.__make=Kr;var Wr,$r=function(t){function e(t,r,n){if(!(this instanceof e))return new e(t,r,n);if(te(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<t&&(n=-n),this._start=t,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-t)/n-1)+1),0===this.size){if(Wr)return Wr;Wr=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+l(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,r){return h(t,r,this.size)?this:(t=p(t,this.size),(r=y(r,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(r,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var r=this.size,n=this._step,i=e?this._start+(r-1)*n:this._start,o=0;o!==r&&!1!==t(i,e?r-++o:o++,this);)i+=e?-n:n;return o},e.prototype.__iterator=function(t,e){var r=this.size,n=this._step,i=e?this._start+(r-1)*n:this._start,o=0;return new z((function(){if(o===r)return{value:void 0,done:!0};var s=i;return i+=e?-n:n,K(t,e?r-++o:o++,s)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:Dr(this,t)},e}(Z);function Vr(t,e,r){for(var n=re(e),i=0;i!==n.length;)if((t=ue(t,n[i++],a))===a)return r;return t}function Gr(t,e){return Vr(this,t,e)}function Qr(t,e){return Vr(t,e,a)!==a}function Xr(){ee(this.size);var t={};return this.__iterate((function(e,r){t[r]=e})),t}E.isIterable=v,E.isKeyed=w,E.isIndexed=A,E.isAssociative=x,E.isOrdered=j,E.Iterator=z,Lr(E,{toArray:function(){ee(this.size);var t=new Array(this.size||0),e=w(this),r=0;return this.__iterate((function(n,i){t[r++]=e?[i,n]:n})),t},toIndexedSeq:function(){return new Bt(this)},toJS:function(){return Ur(this)},toKeyedSeq:function(){return new Mt(this,!0)},toMap:function(){return Ue(this.toKeyedSeq())},toObject:Xr,toOrderedMap:function(){return Sr(this.toKeyedSeq())},toOrderedSet:function(){return fn(w(this)?this.valueSeq():this)},toSet:function(){return Nr(w(this)?this.valueSeq():this)},toSetSeq:function(){return new Rt(this)},toSeq:function(){return A(this)?this.toIndexedSeq():w(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Tr(w(this)?this.valueSeq():this)},toList:function(){return ur(w(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Vt(this,function(t,e){var r=w(t),n=[t].concat(e).map((function(t){return v(t)?r&&(t=k(t)):t=r?st(t):at(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===n.length)return t;if(1===n.length){var i=n[0];if(i===t||r&&w(i)||A(t)&&A(i))return i}var o=new et(n);return r?o=o.toKeyedSeq():A(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce((function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}}),0),o}(this,t))},includes:function(t){return this.some((function(e){return ht(e,t)}))},entries:function(){return this.__iterator(U)},every:function(t,e){ee(this.size);var r=!0;return this.__iterate((function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1})),r},filter:function(t,e){return Vt(this,Nt(this,t,e,!0))},partition:function(t,e){return function(t,e,r){var n=w(t),i=[[],[]];t.__iterate((function(o,s){i[e.call(r,o,s,t)?1:0].push(n?[s,o]:o)}));var o=Qt(t);return i.map((function(e){return Vt(t,o(e))}))}(this,t,e)},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return ee(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ee(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate((function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""})),e},keys:function(){return this.__iterator(D)},map:function(t,e){return Vt(this,Lt(this,t,e))},reduce:function(t,e,r){return en(this,t,e,r,arguments.length<2,!1)},reduceRight:function(t,e,r){return en(this,t,e,r,arguments.length<2,!0)},reverse:function(){return Vt(this,Ut(this,!0))},slice:function(t,e){return Vt(this,Ht(this,t,e,!0))},some:function(t,e){ee(this.size);var r=!1;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=!0,!1})),r},sort:function(t){return Vt(this,Kt(this,t))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return f(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var n=Ue().asMutable();return t.__iterate((function(i,o){n.update(e.call(r,i,o,t),0,(function(t){return t+1}))})),n.asImmutable()}(this,t,e)},equals:function(t){return Dr(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(nn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(on(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate((function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1})),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(d,null,t)},flatMap:function(t,e){return Vt(this,function(t,e,r){var n=Qt(t);return t.toSeq().map((function(i,o){return n(e.call(r,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Vt(this,zt(this,t,!0))},fromEntrySeq:function(){return new jt(this)},get:function(t,e){return this.find((function(e,r){return ht(r,t)}),void 0,e)},getIn:Gr,groupBy:function(t,e){return function(t,e,r){var n=w(t),i=(j(t)?Sr():Ue()).asMutable();t.__iterate((function(o,s){i.update(e.call(r,o,s,t),(function(t){return(t=t||[]).push(n?[s,o]:o),t}))}));var o=Qt(t);return i.map((function(e){return Vt(t,o(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,a)!==a},hasIn:function(t){return Qr(this,t)},isSubset:function(t){return t="function"==typeof t.includes?t:E(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:E(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return ht(e,t)}))},keySeq:function(){return this.toSeq().map(rn).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return qt(this,t)},maxBy:function(t,e){return qt(this,e,t)},min:function(t){return qt(this,t?sn(t):un)},minBy:function(t,e){return qt(this,e?sn(e):un,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Vt(this,Ft(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(on(t),e)},sortBy:function(t,e){return Vt(this,Kt(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Vt(this,function(t,e,r){var n=Xt(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var s=0;return t.__iterate((function(t,i,a){return e.call(r,t,i,a)&&++s&&n(t,i,o)})),s},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var s=t.__iterator(U,i),a=!0;return new z((function(){if(!a)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(r,c,u,o)?n===U?t:K(n,u,c,t):(a=!1,{value:void 0,done:!0})}))},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(on(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=j(t),r=w(t),n=e?1:0;return function(t,e){return e=pt(e,3432918353),e=pt(e<<15|e>>>-15,461845907),e=pt(e<<13|e>>>-13,5),e=e+3864292196^t,e=pt(e^e>>>16,2246822507),e=pt(e^e>>>13,3266489909),e=yt(e^e>>>16),e}(t.__iterate(r?e?function(t,e){n=31*n+cn(bt(t),bt(e))|0}:function(t,e){n=n+cn(bt(t),bt(e))|0}:e?function(t){n=31*n+bt(t)|0}:function(t){n=n+bt(t)|0}),n)}(this))}});var Yr=E.prototype;Yr[m]=!0,Yr[F]=Yr.values,Yr.toJSON=Yr.toArray,Yr.__toStringMapper=se,Yr.inspect=Yr.toSource=function(){return this.toString()},Yr.chain=Yr.flatMap,Yr.contains=Yr.includes,Lr(k,{flip:function(){return Vt(this,Dt(this))},mapEntries:function(t,e){var r=this,n=0;return Vt(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],n++,r)})).fromEntrySeq())},mapKeys:function(t,e){var r=this;return Vt(this,this.toSeq().flip().map((function(n,i){return t.call(e,n,i,r)})).flip())}});var Jr=k.prototype;Jr[_]=!0,Jr[F]=Yr.entries,Jr.toJSON=Xr,Jr.__toStringMapper=function(t,e){return se(e)+": "+se(t)},Lr(I,{toKeyedSeq:function(){return new Mt(this,!1)},filter:function(t,e){return Vt(this,Nt(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Vt(this,Ut(this,!1))},slice:function(t,e){return Vt(this,Ht(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(e||0,0),0===r||2===r&&!e)return this;t=p(t,t<0?this.count():this.size);var n=this.slice(0,t);return Vt(this,1===r?n:n.concat(Zt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Vt(this,zt(this,t,!1))},get:function(t,e){return(t=l(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,r){return r===t}),void 0,e)},has:function(t){return(t=l(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Vt(this,function(t,e){var r=Xt(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate((function(t){return(!o||!1!==r(e,o++,i))&&!1!==r(t,o++,i)}),n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(L,n),s=0;return new z((function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?K(r,s++,e):K(r,s++,i.value,i)}))},r}(this,t))},interleave:function(){var t=[this].concat(Zt(arguments)),e=$t(this.toSeq(),Z.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Vt(this,r)},keySeq:function(){return $r(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return Vt(this,Ft(this,t,e,!1))},zip:function(){return Vt(this,$t(this,an,[this].concat(Zt(arguments))))},zipAll:function(){return Vt(this,$t(this,an,[this].concat(Zt(arguments)),!0))},zipWith:function(t){var e=Zt(arguments);return e[0]=this,Vt(this,$t(this,t,e))}});var Zr=I.prototype;Zr[S]=!0,Zr[R]=!0,Lr(T,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var tn=T.prototype;function en(t,e,r,n,i,o){return ee(t.size),t.__iterate((function(t,o,s){i?(i=!1,r=t):r=e.call(n,r,t,o,s)}),o),r}function rn(t,e){return e}function nn(t,e){return[e,t]}function on(t){return function(){return!t.apply(this,arguments)}}function sn(t){return function(){return-t.apply(this,arguments)}}function an(){return Zt(arguments)}function un(t,e){return t<e?1:t>e?-1:0}function cn(t,e){return t^e+2654435769+(t<<6)+(t>>2)}tn.has=Yr.includes,tn.contains=tn.includes,tn.keys=tn.values,Lr(J,Jr),Lr(Z,Zr),Lr(tt,tn);var fn=function(t){function e(t){return null==t?pn():jr(t)?t:pn().withMutations((function(e){var r=T(t);ee(r.size),r.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(k(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Nr);fn.isOrderedSet=jr;var ln,dn=fn.prototype;function hn(t,e){var r=Object.create(dn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function pn(){return ln||(ln=hn(xr()))}dn[R]=!0,dn.zip=Zr.zip,dn.zipWith=Zr.zipWith,dn.zipAll=Zr.zipAll,dn.__empty=pn,dn.__make=hn;var yn={LeftThenRight:-1,RightThenLeft:1};var gn=function(t,e){var r;!function(t){if(M(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(B(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===t||"object"!=typeof t)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(t);var n=function(o){var s=this;if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var a=Object.keys(t),u=i._indices={};i._name=e,i._keys=a,i._defaultValues=t;for(var c=0;c<a.length;c++){var f=a[c];u[f]=c,i[f]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+vn(this)+' with property "'+f+'" since that property name is part of the Record API.'):wn(i,f)}}return this.__ownerID=void 0,this._values=ur().withMutations((function(t){t.setSize(s._keys.length),k(o).forEach((function(e,r){t.set(s._indices[r],e===s._defaultValues[r]?void 0:e)}))})),this},i=n.prototype=Object.create(bn);return i.constructor=n,e&&(n.displayName=e),n};gn.prototype.toString=function(){for(var t,e=vn(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)e+=(n?", ":"")+(t=r[n])+": "+se(this.get(t));return e+" }"},gn.prototype.equals=function(t){return this===t||M(t)&&_n(this).equals(_n(t))},gn.prototype.hashCode=function(){return _n(this).hashCode()},gn.prototype.has=function(t){return this._indices.hasOwnProperty(t)},gn.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._indices[t],n=this._values.get(r);return void 0===n?this._defaultValues[t]:n},gn.prototype.set=function(t,e){if(this.has(t)){var r=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(r!==this._values&&!this.__ownerID)return mn(this,r)}return this},gn.prototype.remove=function(t){return this.set(t)},gn.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:mn(this,t)},gn.prototype.wasAltered=function(){return this._values.wasAltered()},gn.prototype.toSeq=function(){return _n(this)},gn.prototype.toJS=function(){return Ur(this)},gn.prototype.entries=function(){return this.__iterator(U)},gn.prototype.__iterator=function(t,e){return _n(this).__iterator(t,e)},gn.prototype.__iterate=function(t,e){return _n(this).__iterate(t,e)},gn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?mn(this,e,t):(this.__ownerID=t,this._values=e,this)},gn.isRecord=M,gn.getDescriptiveName=vn;var bn=gn.prototype;function mn(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function vn(t){return t.constructor.displayName||t.constructor.name||"Record"}function _n(t){return st(t._keys.map((function(e){return[e,t.get(e)]})))}function wn(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){te(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}bn[P]=!0,bn[n]=bn.remove,bn.deleteIn=bn.removeIn=be,bn.getIn=Gr,bn.hasIn=Yr.hasIn,bn.merge=we,bn.mergeWith=Se,bn.mergeIn=Me,bn.mergeDeep=Oe,bn.mergeDeepWith=Pe,bn.mergeDeepIn=Be,bn.setIn=ye,bn.update=ve,bn.updateIn=_e,bn.withMutations=Re,bn.asMutable=je,bn.asImmutable=De,bn[F]=bn.entries,bn.toJSON=bn.toObject=Yr.toObject,bn.inspect=bn.toSource=function(){return this.toString()};var Sn,An=function(t){function e(t,r){if(!(this instanceof e))return new e(t,r);if(this._value=t,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(Sn)return Sn;Sn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(t,e){return this.has(t)?this._value:e},e.prototype.includes=function(t){return ht(this._value,t)},e.prototype.slice=function(t,r){var n=this.size;return h(t,r,n)?this:new e(this._value,y(r,n)-p(t,n))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(t){return ht(this._value,t)?0:-1},e.prototype.lastIndexOf=function(t){return ht(this._value,t)?this.size:-1},e.prototype.__iterate=function(t,e){for(var r=this.size,n=0;n!==r&&!1!==t(this._value,e?r-++n:n++,this););return n},e.prototype.__iterator=function(t,e){var r=this,n=this.size,i=0;return new z((function(){return i===n?{value:void 0,done:!0}:K(t,e?n-++i:i++,r._value)}))},e.prototype.equals=function(t){return t instanceof e?ht(this._value,t._value):Dr(this,t)},e}(Z);function xn(t,e){return En([],e||kn,t,"",e&&e.length>2?[]:void 0,{"":t})}function En(t,e,r,n,i,o){if("string"!=typeof r&&!B(r)&&(X(r)||W(r)||ie(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&""!==n&&i.push(n);var s=e.call(o,n,Y(r).map((function(n,o){return En(t,e,n,o,i,r)})),i&&i.slice());return t.pop(),i&&i.pop(),s}return r}function kn(t,e){return A(e)?e.toList():w(e)?e.toMap():e.toSet()}var In="4.3.6",Tn=E;const Cn={version:In,Collection:E,Iterable:E,Seq:Y,Map:Ue,OrderedMap:Sr,List:ur,Stack:Tr,Set:Nr,OrderedSet:fn,PairSorting:yn,Record:gn,Range:$r,Repeat:An,is:ht,fromJS:xn,hash:bt,isImmutable:B,isCollection:v,isKeyed:w,isIndexed:A,isAssociative:x,isOrdered:j,isValueObject:dt,isPlainObject:ie,isSeq:O,isList:ar,isMap:ft,isOrderedMap:lt,isStack:Ir,isSet:Rr,isOrderedSet:jr,isRecord:M,get:ue,getIn:Vr,has:ae,hasIn:Qr,merge:xe,mergeDeep:ke,mergeWith:Ee,mergeDeepWith:Ie,remove:fe,removeIn:ge,set:le,setIn:pe,update:me,updateIn:de}},56698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},64634:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},71312:(t,e,r)=>{var n,i=r(65606);
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */
!function(){"use strict";var e="input is invalid type",o="object"==typeof window,s=o?window:{};s.JS_SHA256_NO_WINDOW&&(o=!1);var a=!o&&"object"==typeof self,u=!s.JS_SHA256_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node;u?s=r.g:a&&(s=self);var c=!s.JS_SHA256_NO_COMMON_JS&&t.exports,f=r.amdO,l=!s.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[-2147483648,8388608,32768,128],p=[24,16,8,0],y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],g=["hex","array","digest","arrayBuffer"],b=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!l||!s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var m=function(t,e){return function(r){return new A(e,!0).update(r)[t]()}},v=function(t){var e=m("hex",t);u&&(e=_(e,t)),e.create=function(){return new A(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<g.length;++r){var n=g[r];e[n]=m(n,t)}return e},_=function(t,n){var i,o=r(24394),a=r(91903).Buffer,u=n?"sha224":"sha256";i=a.from&&!s.JS_SHA256_NO_BUFFER_FROM?a.from:function(t){return new a(t)};return function(r){if("string"==typeof r)return o.createHash(u).update(r,"utf8").digest("hex");if(null==r)throw new Error(e);return r.constructor===ArrayBuffer&&(r=new Uint8Array(r)),Array.isArray(r)||ArrayBuffer.isView(r)||r.constructor===a?o.createHash(u).update(i(r)).digest("hex"):t(r)}},w=function(t,e){return function(r,n){return new x(r,e,!0).update(n)[t]()}},S=function(t){var e=w("hex",t);e.create=function(e){return new x(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<g.length;++r){var n=g[r];e[n]=w(n,t)}return e};function A(t,e){e?(b[0]=b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0,this.blocks=b):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function x(t,r,n){var i,o=typeof t;if("string"===o){var s,a=[],u=t.length,c=0;for(i=0;i<u;++i)(s=t.charCodeAt(i))<128?a[c++]=s:s<2048?(a[c++]=192|s>>>6,a[c++]=128|63&s):s<55296||s>=57344?(a[c++]=224|s>>>12,a[c++]=128|s>>>6&63,a[c++]=128|63&s):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++i)),a[c++]=240|s>>>18,a[c++]=128|s>>>12&63,a[c++]=128|s>>>6&63,a[c++]=128|63&s);t=a}else{if("object"!==o)throw new Error(e);if(null===t)throw new Error(e);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(e)}t.length>64&&(t=new A(r,!0).update(t).array());var f=[],d=[];for(i=0;i<64;++i){var h=t[i]||0;f[i]=92^h,d[i]=54^h}A.call(this,r,n),this.update(d),this.oKeyPad=f,this.inner=!0,this.sharedMemory=n}A.prototype.update=function(t){if(!this.finalized){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,o,s=0,a=t.length,u=this.blocks;s<a;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,this.block=u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),r)for(o=this.start;s<a&&o<64;++s)u[o>>>2]|=t[s]<<p[3&o++];else for(o=this.start;s<a&&o<64;++s)(i=t.charCodeAt(s))<128?u[o>>>2]|=i<<p[3&o++]:i<2048?(u[o>>>2]|=(192|i>>>6)<<p[3&o++],u[o>>>2]|=(128|63&i)<<p[3&o++]):i<55296||i>=57344?(u[o>>>2]|=(224|i>>>12)<<p[3&o++],u[o>>>2]|=(128|i>>>6&63)<<p[3&o++],u[o>>>2]|=(128|63&i)<<p[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++s)),u[o>>>2]|=(240|i>>>18)<<p[3&o++],u[o>>>2]|=(128|i>>>12&63)<<p[3&o++],u[o>>>2]|=(128|i>>>6&63)<<p[3&o++],u[o>>>2]|=(128|63&i)<<p[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=u[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},A.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=h[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},A.prototype.hash=function(){var t,e,r,n,i,o,s,a,u,c=this.h0,f=this.h1,l=this.h2,d=this.h3,h=this.h4,p=this.h5,g=this.h6,b=this.h7,m=this.blocks;for(t=16;t<64;++t)e=((i=m[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[t]=m[t-16]+e+m[t-7]+r|0;for(u=f&l,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,b=(i=m[0]-1413257819)-150054599|0,d=i+24177077|0):(o=704751109,b=(i=m[0]-210244248)-1521486534|0,d=i+143694565|0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(o=c&f)^c&l^u,b=d+(i=b+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&g)+y[t]+m[t])|0,d=i+(e+n)|0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(s=d&c)^d&f^o,g=l+(i=g+(r=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&h^~b&p)+y[t+1]+m[t+1])|0,e=((l=i+(e+n)|0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(a=l&d)^l&c^s,p=f+(i=p+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&b^~g&h)+y[t+2]+m[t+2])|0,e=((f=i+(e+n)|0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(u=f&l)^f&d^a,h=c+(i=h+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&b)+y[t+3]+m[t+3])|0,c=i+(e+n)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+c|0,this.h1=this.h1+f|0,this.h2=this.h2+l|0,this.h3=this.h3+d|0,this.h4=this.h4+h|0,this.h5=this.h5+p|0,this.h6=this.h6+g|0,this.h7=this.h7+b|0},A.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=d[t>>>28&15]+d[t>>>24&15]+d[t>>>20&15]+d[t>>>16&15]+d[t>>>12&15]+d[t>>>8&15]+d[t>>>4&15]+d[15&t]+d[e>>>28&15]+d[e>>>24&15]+d[e>>>20&15]+d[e>>>16&15]+d[e>>>12&15]+d[e>>>8&15]+d[e>>>4&15]+d[15&e]+d[r>>>28&15]+d[r>>>24&15]+d[r>>>20&15]+d[r>>>16&15]+d[r>>>12&15]+d[r>>>8&15]+d[r>>>4&15]+d[15&r]+d[n>>>28&15]+d[n>>>24&15]+d[n>>>20&15]+d[n>>>16&15]+d[n>>>12&15]+d[n>>>8&15]+d[n>>>4&15]+d[15&n]+d[i>>>28&15]+d[i>>>24&15]+d[i>>>20&15]+d[i>>>16&15]+d[i>>>12&15]+d[i>>>8&15]+d[i>>>4&15]+d[15&i]+d[o>>>28&15]+d[o>>>24&15]+d[o>>>20&15]+d[o>>>16&15]+d[o>>>12&15]+d[o>>>8&15]+d[o>>>4&15]+d[15&o]+d[s>>>28&15]+d[s>>>24&15]+d[s>>>20&15]+d[s>>>16&15]+d[s>>>12&15]+d[s>>>8&15]+d[s>>>4&15]+d[15&s];return this.is224||(u+=d[a>>>28&15]+d[a>>>24&15]+d[a>>>20&15]+d[a>>>16&15]+d[a>>>12&15]+d[a>>>8&15]+d[a>>>4&15]+d[15&a]),u},A.prototype.toString=A.prototype.hex,A.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s];return this.is224||u.push(a>>>24&255,a>>>16&255,a>>>8&255,255&a),u},A.prototype.array=A.prototype.digest,A.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},x.prototype=new A,x.prototype.finalize=function(){if(A.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();A.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),A.prototype.finalize.call(this)}};var E=v();E.sha256=E,E.sha224=v(!0),E.sha256.hmac=S(),E.sha224.hmac=S(!0),c?t.exports=E:(s.sha256=E.sha256,s.sha224=E.sha224,f&&(void 0===(n=function(){return E}.call(E,r,E,t))||(t.exports=n)))}()},52290:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(39769))},62778:(t,e)=>{"use strict";function r(t){const e=[];for(let r=0,n=t.length;r<n;++r){const n=t.charCodeAt(r);if(n<128)e.push(n);else if(n<2048)e.push(192|n>>6,128|63&n);else if(n<55296||n>=57344)e.push(224|n>>12,128|n>>6&63,128|63&n);else{let i=65536+((1023&n)<<10|1023&t.charCodeAt(++r));e.push(240|i>>18&7,128|i>>12&63,128|i>>6&63,128|63&i)}}return new Uint8Array(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8_1=function(t){const e=[],r=new Array(4),n=[0,192,224,240],i=[127,63,63,63],o=[0,128,128,128];for(const s of t){const t=r,a=s.codePointAt(0),u=0-(-(4294967168&a)>>31)-(-(4294965248&a)>>31)-(-(4294901760&a)>>31),c=i[u],f=o[u];t[3]=f|a&c,t[2]=f|a>>>6&c,t[1]=f|a>>>12&c,t[0]=f|a>>>18&c;const l=3-u;t[l]|=n[u],Array.prototype.push.apply(e,t.slice(l))}return new Uint8Array(e)},e.toUtf8_2=function(t){const e=[];for(const r of t){const t=r.codePointAt(0);t<128?e.push(t):t<2048?e.push(192|t>>6&31,128|63&t):t<65536?e.push(224|t>>12&15,128|t>>6&63,128|63&t):e.push(240|t>>18&7,128|t>>12&63,128|t>>6&63,128|63&t)}return new Uint8Array(e)},e.toUtf8_3=r,e.toUtf8=r,e.default=e.toUtf8},39769:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(62778),i=2654435761,o=2246822519,s=3266489917,a=668265263,u=374761393;e.xxHash32=function(t,e=0){const r=t="string"==typeof t?n.default(t):t;let c=e+u&4294967295,f=0;if(r.length>=16){const r=[e+i+o&4294967295,e+o&4294967295,e+0&4294967295,e-i&4294967295],n=t,s=n.length-16;let a=0;for(f=0;(4294967280&f)<=s;f+=4){const t=f,e=n[t+0]+(n[t+1]<<8),s=n[t+2]+(n[t+3]<<8),u=e*o+(s*o<<16);let c=r[a]+u&4294967295;c=c<<13|c>>>19;const l=65535&c,d=c>>>16;r[a]=l*i+(d*i<<16)&4294967295,a=a+1&3}c=(r[0]<<1|r[0]>>>31)+(r[1]<<7|r[1]>>>25)+(r[2]<<12|r[2]>>>20)+(r[3]<<18|r[3]>>>14)&4294967295}c=c+t.length&4294967295;let l=t.length-4;for(;f<=l;f+=4){const t=f,e=r[t+0]+(r[t+1]<<8),n=r[t+2]+(r[t+3]<<8);c=c+(e*s+(n*s<<16))&4294967295,c=c<<17|c>>>15,c=(65535&c)*a+((c>>>16)*a<<16)&4294967295}for(;f<r.length;++f){c+=r[f]*u,c=c<<11|c>>>21,c=(65535&c)*i+((c>>>16)*i<<16)&4294967295}return c^=c>>>15,c=((65535&c)*o&4294967295)+((c>>>16)*o<<16),c^=c>>>13,c=((65535&c)*s&4294967295)+((c>>>16)*s<<16),c^=c>>>16,c<0?c+4294967296:c}},75951:function(t){t.exports=function(){"use strict";var t=Math.imul,e=Math.clz32;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r,n=0;n<e.length;n++)(r=e[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}function o(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(){return f=c()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&u(i,r.prototype),i},f.apply(null,arguments)}function l(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function d(t){var e="function"==typeof Map?new Map:void 0;return d=function(t){function r(){return f(t,arguments,a(this).constructor)}if(null===t||!l(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)},d(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function y(t){var e=c();return function(){var r,n=a(t);if(e){var i=a(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function g(t,e){return b(t)||m(t,e)||v(t,e)||w()}function b(t){if(Array.isArray(t))return t}function m(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw i}}return o}}function v(t,e){if(t){if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=v(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}var A=function(t){var e=Math.abs,i=Math.max,a=Math.floor;function u(t,e){var r;if(n(this,u),(r=c.call(this,t)).sign=e,Object.setPrototypeOf(h(r),u.prototype),t>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}s(u,t);var c=y(u);return o(u,[{key:"toDebugString",value:function(){var t,e=["BigInt["],r=S(this);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push((n?(n>>>0).toString(16):n)+", ")}}catch(t){r.e(t)}finally{r.f()}return e.push("]"),e.join("")}},{key:"toString",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":t&t-1?u.__toStringGeneric(this,t,!1):u.__toStringBasePowerOfTwo(this,t)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var t=new u(this.length,this.sign),e=0;e<this.length;e++)t[e]=this[e];return t}},{key:"__trim",value:function(){for(var t=this.length,e=this[t-1];0===e;)e=this[--t-1],this.pop();return 0===t&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var t=0;t<this.length;t++)this[t]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(t,e,r){r>this.length&&(r=this.length);for(var n=32767&t,i=t>>>15,o=0,s=e,a=0;a<r;a++){var c=this.__digit(a),f=32767&c,l=c>>>15,d=u.__imul(f,n),h=u.__imul(f,i),p=u.__imul(l,n),y=s+d+o;o=y>>>30,y&=1073741823,o+=(y+=((32767&h)<<15)+((32767&p)<<15))>>>30,s=u.__imul(l,i)+(h>>>15)+(p>>>15),this.__setDigit(a,1073741823&y)}if(0!==o||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(t,e,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(e+o)+t.__halfDigit(o)+i)>>>15,this.__setHalfDigit(e+o,32767&n);return i}},{key:"__inplaceSub",value:function(t,e,r){var n=0;if(1&e){e>>=1;for(var i=this.__digit(e),o=32767&i,s=0;s<r-1>>>1;s++){var a=t.__digit(s),u=(i>>>15)-(32767&a)-n;n=1&u>>>15,this.__setDigit(e+s,(32767&u)<<15|32767&o),n=1&(o=(32767&(i=this.__digit(e+s+1)))-(a>>>15)-n)>>>15}var c=t.__digit(s),f=(i>>>15)-(32767&c)-n;if(n=1&f>>>15,this.__setDigit(e+s,(32767&f)<<15|32767&o),e+s+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(32767&(i=this.__digit(e+s+1)))-(c>>>15)-n)>>>15,this.__setDigit(e+t.length,1073709056&i|32767&o))}else{e>>=1;for(var l=0;l<t.length-1;l++){var d=this.__digit(e+l),h=t.__digit(l),p=(32767&d)-(32767&h)-n,y=(d>>>15)-(h>>>15)-(n=1&p>>>15);n=1&y>>>15,this.__setDigit(e+l,(32767&y)<<15|32767&p)}var g=this.__digit(e+l),b=t.__digit(l),m=(32767&g)-(32767&b)-n;n=1&m>>>15;var v=0;!(1&r)&&(n=1&(v=(g>>>15)-(b>>>15)-n)>>>15),this.__setDigit(e+l,(32767&v)<<15|32767&m)}return n}},{key:"__inplaceRightShift",value:function(t){if(0!==t){for(var e,r=this.__digit(0)>>>t,n=this.length-1,i=0;i<n;i++)e=this.__digit(i+1),this.__setDigit(i,1073741823&e<<30-t|r),r=e>>>t;this.__setDigit(n,r)}}},{key:"__digit",value:function(t){return this[t]}},{key:"__unsignedDigit",value:function(t){return this[t]>>>0}},{key:"__setDigit",value:function(t,e){this[t]=0|e}},{key:"__setDigitGrow",value:function(t,e){this[t]=0|e}},{key:"__halfDigitLength",value:function(){var t=this.length;return 32767>=this.__unsignedDigit(t-1)?2*t-1:2*t}},{key:"__halfDigit",value:function(t){return 32767&this[t>>>1]>>>15*(1&t)}},{key:"__setHalfDigit",value:function(t,e){var r=t>>>1,n=this.__digit(r),i=1&t?32767&n|e<<15:1073709056&n|32767&e;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(t){var e=Number.isFinite;if("number"==typeof t){if(0===t)return u.__zero();if(u.__isOneDigitInt(t))return 0>t?u.__oneDigit(-t,!0):u.__oneDigit(t,!1);if(!e(t)||a(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(t)}if("string"==typeof t){var n=u.__fromString(t);if(null===n)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return n}if("boolean"==typeof t)return!0===t?u.__oneDigit(1,!1):u.__zero();if("object"===r(t)){if(t.constructor===u)return t;var i=u.__toPrimitive(t);return u.BigInt(i)}throw new TypeError("Cannot convert "+t+" to a BigInt")}},{key:"toNumber",value:function(t){var e=t.length;if(0===e)return 0;if(1===e){var r=t.__unsignedDigit(0);return t.sign?-r:r}var n=t.__digit(e-1),i=u.__clz30(n),o=30*e-i;if(1024<o)return t.sign?-1/0:1/0;var s=o-1,a=n,c=e-1,f=i+3,l=32===f?0:a<<f;l>>>=12;var d=f-12,h=12<=f?0:a<<20+f,p=20+f;for(0<d&&0<c&&(c--,l|=(a=t.__digit(c))>>>30-d,h=a<<d+2,p=d+2);0<p&&0<c;)c--,a=t.__digit(c),h|=30<=p?a<<p-30:a>>>30-p,p-=30;var y=u.__decideRounding(t,p,c,a);if((1===y||0===y&&!(1&~h))&&0==(h=h+1>>>0)&&0!=++l>>>20&&(l=0,1023<++s))return t.sign?-1/0:1/0;var g=t.sign?-2147483648:0;return s=s+1023<<20,u.__kBitConversionInts[1]=g|s|l,u.__kBitConversionInts[0]=h,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(t){if(0===t.length)return t;var e=t.__copy();return e.sign=!t.sign,e}},{key:"bitwiseNot",value:function(t){return t.sign?u.__absoluteSubOne(t).__trim():u.__absoluteAddOne(t,!0)}},{key:"exponentiate",value:function(t,e){if(e.sign)throw new RangeError("Exponent must be positive");if(0===e.length)return u.__oneDigit(1,!1);if(0===t.length)return t;if(1===t.length&&1===t.__digit(0))return!t.sign||1&e.__digit(0)?t:u.unaryMinus(t);if(1<e.length)throw new RangeError("BigInt too big");var r=e.__unsignedDigit(0);if(1===r)return t;if(r>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===t.length&&2===t.__digit(0)){var n=1+(0|r/30),i=new u(n,t.sign&&!!(1&r));i.__initializeDigits();var o=1<<r%30;return i.__setDigit(n-1,o),i}var s=null,a=t;for(!!(1&r)&&(s=t),r>>=1;0!==r;r>>=1)a=u.multiply(a,a),1&r&&(s=null===s?a:u.multiply(s,a));return s}},{key:"multiply",value:function(t,e){if(0===t.length)return t;if(0===e.length)return e;var r=t.length+e.length;30<=t.__clzmsd()+e.__clzmsd()&&r--;var n=new u(r,t.sign!==e.sign);n.__initializeDigits();for(var i=0;i<t.length;i++)u.__multiplyAccumulate(e,t.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(t,e))return u.__zero();var r,n=t.sign!==e.sign,i=e.__unsignedDigit(0);if(1===e.length&&32767>=i){if(1===i)return n===t.sign?t:u.unaryMinus(t);r=u.__absoluteDivSmall(t,i,null)}else r=u.__absoluteDivLarge(t,e,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(t,e))return t;var r=e.__unsignedDigit(0);if(1===e.length&&32767>=r){if(1===r)return u.__zero();var n=u.__absoluteModSmall(t,r);return 0===n?u.__zero():u.__oneDigit(n,t.sign)}var i=u.__absoluteDivLarge(t,e,!1,!0);return i.sign=t.sign,i.__trim()}},{key:"add",value:function(t,e){var r=t.sign;return r===e.sign?u.__absoluteAdd(t,e,r):0<=u.__absoluteCompare(t,e)?u.__absoluteSub(t,e,r):u.__absoluteSub(e,t,!r)}},{key:"subtract",value:function(t,e){var r=t.sign;return r===e.sign?0<=u.__absoluteCompare(t,e)?u.__absoluteSub(t,e,r):u.__absoluteSub(e,t,!r):u.__absoluteAdd(t,e,r)}},{key:"leftShift",value:function(t,e){return 0===e.length||0===t.length?t:e.sign?u.__rightShiftByAbsolute(t,e):u.__leftShiftByAbsolute(t,e)}},{key:"signedRightShift",value:function(t,e){return 0===e.length||0===t.length?t:e.sign?u.__leftShiftByAbsolute(t,e):u.__rightShiftByAbsolute(t,e)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(t,e){return 0>u.__compareToBigInt(t,e)}},{key:"lessThanOrEqual",value:function(t,e){return 0>=u.__compareToBigInt(t,e)}},{key:"greaterThan",value:function(t,e){return 0<u.__compareToBigInt(t,e)}},{key:"greaterThanOrEqual",value:function(t,e){return 0<=u.__compareToBigInt(t,e)}},{key:"equal",value:function(t,e){if(t.sign!==e.sign)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t.__digit(r)!==e.__digit(r))return!1;return!0}},{key:"notEqual",value:function(t,e){return!u.equal(t,e)}},{key:"bitwiseAnd",value:function(t,e){if(!t.sign&&!e.sign)return u.__absoluteAnd(t,e).__trim();if(t.sign&&e.sign){var r=i(t.length,e.length)+1,n=u.__absoluteSubOne(t,r),o=u.__absoluteSubOne(e);return n=u.__absoluteOr(n,o,n),u.__absoluteAddOne(n,!0,n).__trim()}if(t.sign){var s=[e,t];t=s[0],e=s[1]}return u.__absoluteAndNot(t,u.__absoluteSubOne(e)).__trim()}},{key:"bitwiseXor",value:function(t,e){if(!t.sign&&!e.sign)return u.__absoluteXor(t,e).__trim();if(t.sign&&e.sign){var r=i(t.length,e.length),n=u.__absoluteSubOne(t,r),o=u.__absoluteSubOne(e);return u.__absoluteXor(n,o,n).__trim()}var s=i(t.length,e.length)+1;if(t.sign){var a=[e,t];t=a[0],e=a[1]}var c=u.__absoluteSubOne(e,s);return c=u.__absoluteXor(c,t,c),u.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(t,e){var r=i(t.length,e.length);if(!t.sign&&!e.sign)return u.__absoluteOr(t,e).__trim();if(t.sign&&e.sign){var n=u.__absoluteSubOne(t,r),o=u.__absoluteSubOne(e);return n=u.__absoluteAnd(n,o,n),u.__absoluteAddOne(n,!0,n).__trim()}if(t.sign){var s=[e,t];t=s[0],e=s[1]}var a=u.__absoluteSubOne(e,r);return a=u.__absoluteAndNot(a,t,a),u.__absoluteAddOne(a,!0,a).__trim()}},{key:"asIntN",value:function(t,e){if(0===e.length)return e;if(0>(t=a(t)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===t)return u.__zero();if(t>=u.__kMaxLengthBits)return e;var r=0|(t+29)/30;if(e.length<r)return e;var n=e.__unsignedDigit(r-1),i=1<<(t-1)%30;if(e.length===r&&n<i)return e;if((n&i)!==i)return u.__truncateToNBits(t,e);if(!e.sign)return u.__truncateAndSubFromPowerOfTwo(t,e,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==e.__digit(o))return u.__truncateAndSubFromPowerOfTwo(t,e,!1);return e.length===r&&n===i?e:u.__truncateToNBits(t,e)}return u.__truncateAndSubFromPowerOfTwo(t,e,!1)}},{key:"asUintN",value:function(t,e){if(0===e.length)return e;if(0>(t=a(t)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===t)return u.__zero();if(e.sign){if(t>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(t,e,!1)}if(t>=u.__kMaxLengthBits)return e;var r=0|(t+29)/30;if(e.length<r)return e;var n=t%30;if(e.length==r){if(0===n)return e;if(0==e.__digit(r-1)>>>n)return e}return u.__truncateToNBits(t,e)}},{key:"ADD",value:function(t,e){if(t=u.__toPrimitive(t),e=u.__toPrimitive(e),"string"==typeof t)return"string"!=typeof e&&(e=e.toString()),t+e;if("string"==typeof e)return t.toString()+e;if(t=u.__toNumeric(t),e=u.__toNumeric(e),u.__isBigInt(t)&&u.__isBigInt(e))return u.add(t,e);if("number"==typeof t&&"number"==typeof e)return t+e;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(t,e){return u.__compare(t,e,0)}},{key:"LE",value:function(t,e){return u.__compare(t,e,1)}},{key:"GT",value:function(t,e){return u.__compare(t,e,2)}},{key:"GE",value:function(t,e){return u.__compare(t,e,3)}},{key:"EQ",value:function(t,e){for(;;){if(u.__isBigInt(t))return u.__isBigInt(e)?u.equal(t,e):u.EQ(e,t);if("number"==typeof t){if(u.__isBigInt(e))return u.__equalToNumber(e,t);if("object"!==r(e))return t==e;e=u.__toPrimitive(e)}else if("string"==typeof t){if(u.__isBigInt(e))return null!==(t=u.__fromString(t))&&u.equal(t,e);if("object"!==r(e))return t==e;e=u.__toPrimitive(e)}else if("boolean"==typeof t){if(u.__isBigInt(e))return u.__equalToNumber(e,+t);if("object"!==r(e))return t==e;e=u.__toPrimitive(e)}else if("symbol"===r(t)){if(u.__isBigInt(e))return!1;if("object"!==r(e))return t==e;e=u.__toPrimitive(e)}else{if("object"!==r(t))return t==e;if("object"===r(e)&&e.constructor!==u)return t==e;t=u.__toPrimitive(t)}}}},{key:"NE",value:function(t,e){return!u.EQ(t,e)}},{key:"DataViewGetBigInt64",value:function(t,e){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(t,e,r))}},{key:"DataViewGetBigUint64",value:function(t,e){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=g(r?[4,0]:[0,4],2),i=n[0],o=n[1],s=t.getUint32(e+i,r),a=t.getUint32(e+o,r),c=new u(3,!1);return c.__setDigit(0,1073741823&a),c.__setDigit(1,(268435455&s)<<2|a>>>30),c.__setDigit(2,s>>>28),c.__trim()}},{key:"DataViewSetBigInt64",value:function(t,e,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];u.DataViewSetBigUint64(t,e,r,n)}},{key:"DataViewSetBigUint64",value:function(t,e,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(r=u.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var s=r.__digit(1);o|=s<<30,i=s>>>2,2<r.length&&(i|=r.__digit(2)<<28)}var a=g(n?[4,0]:[0,4],2),c=a[0],f=a[1];t.setUint32(e+c,i,n),t.setUint32(e+f,o,n)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(t,e){var r=new u(1,e);return r.__setDigit(0,t),r}},{key:"__decideRounding",value:function(t,e,r,n){if(0<e)return-1;var i;if(0>e)i=-e-1;else{if(0===r)return-1;r--,n=t.__digit(r),i=29}var o=1<<i;if(!(n&o))return-1;if(n&(o-=1))return 1;for(;0<r;)if(r--,0!==t.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(t){u.__kBitConversionDouble[0]=t;var e,r=(2047&u.__kBitConversionInts[1]>>>20)-1023,n=1+(0|r/30),i=new u(n,0>t),o=1048575&u.__kBitConversionInts[1]|1048576,s=u.__kBitConversionInts[0],a=20,c=r%30,f=0;if(c<a){var l=a-c;f=l+32,e=o>>>l,o=o<<32-l|s>>>l,s<<=32-l}else if(c===a)f=32,e=o,o=s,s=0;else{var d=c-a;f=32-d,e=o<<d|s>>>32-d,o=s<<d,s=0}i.__setDigit(n-1,e);for(var h=n-2;0<=h;h--)0<f?(f-=30,e=o>>>2,o=o<<30|s>>>2,s<<=30):e=0,i.__setDigit(h,e);return i.__trim()}},{key:"__isWhitespace",value:function(t){return!!(13>=t&&9<=t)||(159>=t?32==t:131071>=t?160==t||5760==t:196607>=t?10>=(t&=131071)||40==t||41==t||47==t||95==t||4096==t:65279==t)}},{key:"__fromString",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=t.length,i=0;if(i===n)return u.__zero();for(var o=t.charCodeAt(i);u.__isWhitespace(o);){if(++i===n)return u.__zero();o=t.charCodeAt(i)}if(43===o){if(++i===n)return null;o=t.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=t.charCodeAt(i),r=-1}if(0===e){if(e=10,48===o){if(++i===n)return u.__zero();if(88===(o=t.charCodeAt(i))||120===o){if(e=16,++i===n)return null;o=t.charCodeAt(i)}else if(79===o||111===o){if(e=8,++i===n)return null;o=t.charCodeAt(i)}else if(66===o||98===o){if(e=2,++i===n)return null;o=t.charCodeAt(i)}}}else if(16===e&&48===o){if(++i===n)return u.__zero();if(88===(o=t.charCodeAt(i))||120===o){if(++i===n)return null;o=t.charCodeAt(i)}}if(0!==r&&10!==e)return null;for(;48===o;){if(++i===n)return u.__zero();o=t.charCodeAt(i)}var s=n-i,a=u.__kMaxBitsPerChar[e],c=u.__kBitsPerCharTableMultiplier-1;if(s>1073741824/a)return null;var f=new u(0|(29+(a*s+c>>>u.__kBitsPerCharTableShift))/30,!1),l=10>e?e:10,d=10<e?e-10:0;if(e&e-1){f.__initializeDigits();var h=!1,p=0;do{for(var y,g=0,b=1;;){if(y=void 0,o-48>>>0<l)y=o-48;else{if(!((32|o)-97>>>0<d)){h=!0;break}y=(32|o)-87}var m=b*e;if(1073741823<m)break;if(b=m,g=g*e+y,p++,++i===n){h=!0;break}o=t.charCodeAt(i)}var v=0|(a*p+(c=30*u.__kBitsPerCharTableMultiplier-1)>>>u.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(b,g,v)}while(!h)}else{a>>=u.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var A,x=0,E=0;;){if(A=void 0,o-48>>>0<l)A=o-48;else{if(!((32|o)-97>>>0<d)){S=!0;break}A=(32|o)-87}if(E+=a,x=x<<a|A,++i===n){S=!0;break}if(o=t.charCodeAt(i),30<E+a)break}_.push(x),w.push(E)}while(!S);u.__fillFromParts(f,_,w)}if(i!==n){if(!u.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=t.charCodeAt(i),!u.__isWhitespace(o))return null}return f.sign=-1===r,f.__trim()}},{key:"__fillFromParts",value:function(t,e,r){for(var n=0,i=0,o=0,s=e.length-1;0<=s;s--){var a=e[s],u=r[s];i|=a<<o,30===(o+=u)?(t.__setDigit(n++,i),o=0,i=0):30<o&&(t.__setDigit(n++,1073741823&i),i=a>>>u-(o-=30))}if(0!==i){if(n>=t.length)throw new Error("implementation bug");t.__setDigit(n++,i)}for(;n<t.length;n++)t.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(t,e){var r=t.length,n=e-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=e-1,s=t.__digit(r-1),a=0|(30*r-u.__clz30(s)+i-1)/i;if(t.sign&&a++,268435456<a)throw new Error("string too long");for(var c=Array(a),f=a-1,l=0,d=0,h=0;h<r-1;h++){var p=t.__digit(h),y=(l|p<<d)&o;c[f--]=u.__kConversionChars[y];var g=i-d;for(l=p>>>g,d=30-g;d>=i;)c[f--]=u.__kConversionChars[l&o],l>>>=i,d-=i}var b=(l|s<<d)&o;for(c[f--]=u.__kConversionChars[b],l=s>>>i-d;0!==l;)c[f--]=u.__kConversionChars[l&o],l>>>=i;if(t.sign&&(c[f--]="-"),-1!==f)throw new Error("implementation bug");return c.join("")}},{key:"__toStringGeneric",value:function(t,e,r){var n=t.length;if(0===n)return"";if(1===n){var i=t.__unsignedDigit(0).toString(e);return!1===r&&t.sign&&(i="-"+i),i}var o,s,a=30*n-u.__clz30(t.__digit(n-1)),c=u.__kMaxBitsPerChar[e]-1,f=a*u.__kBitsPerCharTableMultiplier,l=1+(f=0|(f+=c-1)/c)>>1,d=u.exponentiate(u.__oneDigit(e,!1),u.__oneDigit(l,!1)),h=d.__unsignedDigit(0);if(1===d.length&&32767>=h){(o=new u(t.length,!1)).__initializeDigits();for(var p,y=0,g=2*t.length-1;0<=g;g--)p=y<<15|t.__halfDigit(g),o.__setHalfDigit(g,0|p/h),y=0|p%h;s=y.toString(e)}else{var b=u.__absoluteDivLarge(t,d,!0,!0);o=b.quotient;var m=b.remainder.__trim();s=u.__toStringGeneric(m,e,!0)}o.__trim();for(var v=u.__toStringGeneric(o,e,!0);s.length<l;)s="0"+s;return!1===r&&t.sign&&(v="-"+v),v+s}},{key:"__unequalSign",value:function(t){return t?-1:1}},{key:"__absoluteGreater",value:function(t){return t?-1:1}},{key:"__absoluteLess",value:function(t){return t?1:-1}},{key:"__compareToBigInt",value:function(t,e){var r=t.sign;if(r!==e.sign)return u.__unequalSign(r);var n=u.__absoluteCompare(t,e);return 0<n?u.__absoluteGreater(r):0>n?u.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(t,r){if(u.__isOneDigitInt(r)){var n=t.sign,i=0>r;if(n!==i)return u.__unequalSign(n);if(0===t.length){if(i)throw new Error("implementation bug");return 0===r?0:-1}if(1<t.length)return u.__absoluteGreater(n);var o=e(r),s=t.__unsignedDigit(0);return s>o?u.__absoluteGreater(n):s<o?u.__absoluteLess(n):0}return u.__compareToDouble(t,r)}},{key:"__compareToDouble",value:function(t,e){if(e!=e)return e;if(e===1/0)return-1;if(e===-1/0)return 1;var r=t.sign;if(r!==0>e)return u.__unequalSign(r);if(0===e)throw new Error("implementation bug: should be handled elsewhere");if(0===t.length)return-1;u.__kBitConversionDouble[0]=e;var n=2047&u.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return u.__absoluteGreater(r);var o=t.length,s=t.__digit(o-1),a=u.__clz30(s),c=30*o-a,f=i+1;if(c<f)return u.__absoluteLess(r);if(c>f)return u.__absoluteGreater(r);var l=1048576|1048575&u.__kBitConversionInts[1],d=u.__kBitConversionInts[0],h=20,p=29-a;if(p!==(0|(c-1)%30))throw new Error("implementation bug");var y,g=0;if(p<h){var b=h-p;g=b+32,y=l>>>b,l=l<<32-b|d>>>b,d<<=32-b}else if(p===h)g=32,y=l,l=d,d=0;else{var m=p-h;g=32-m,y=l<<m|d>>>32-m,l=d<<m,d=0}if((s>>>=0)>(y>>>=0))return u.__absoluteGreater(r);if(s<y)return u.__absoluteLess(r);for(var v=o-2;0<=v;v--){0<g?(g-=30,y=l>>>2,l=l<<30|d>>>2,d<<=30):y=0;var _=t.__unsignedDigit(v);if(_>y)return u.__absoluteGreater(r);if(_<y)return u.__absoluteLess(r)}if(0!==l||0!==d){if(0===g)throw new Error("implementation bug");return u.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(t,r){return u.__isOneDigitInt(r)?0===r?0===t.length:1===t.length&&t.sign===0>r&&t.__unsignedDigit(0)===e(r):0===u.__compareToDouble(t,r)}},{key:"__comparisonResultToBool",value:function(t,e){return 0===e?0>t:1===e?0>=t:2===e?0<t:3===e?0<=t:void 0}},{key:"__compare",value:function(t,e,r){if(t=u.__toPrimitive(t),e=u.__toPrimitive(e),"string"==typeof t&&"string"==typeof e)switch(r){case 0:return t<e;case 1:return t<=e;case 2:return t>e;case 3:return t>=e}if(u.__isBigInt(t)&&"string"==typeof e)return null!==(e=u.__fromString(e))&&u.__comparisonResultToBool(u.__compareToBigInt(t,e),r);if("string"==typeof t&&u.__isBigInt(e))return null!==(t=u.__fromString(t))&&u.__comparisonResultToBool(u.__compareToBigInt(t,e),r);if(t=u.__toNumeric(t),e=u.__toNumeric(e),u.__isBigInt(t)){if(u.__isBigInt(e))return u.__comparisonResultToBool(u.__compareToBigInt(t,e),r);if("number"!=typeof e)throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(t,e),r)}if("number"!=typeof t)throw new Error("implementation bug");if(u.__isBigInt(e))return u.__comparisonResultToBool(u.__compareToNumber(e,t),2^r);if("number"!=typeof e)throw new Error("implementation bug");return 0===r?t<e:1===r?t<=e:2===r?t>e:3===r?t>=e:void 0}},{key:"__absoluteAdd",value:function(t,e,r){if(t.length<e.length)return u.__absoluteAdd(e,t,r);if(0===t.length)return t;if(0===e.length)return t.sign===r?t:u.unaryMinus(t);var n=t.length;(0===t.__clzmsd()||e.length===t.length&&0===e.__clzmsd())&&n++;for(var i,o=new u(n,r),s=0,a=0;a<e.length;a++)s=(i=t.__digit(a)+e.__digit(a)+s)>>>30,o.__setDigit(a,1073741823&i);for(;a<t.length;a++){var c=t.__digit(a)+s;s=c>>>30,o.__setDigit(a,1073741823&c)}return a<o.length&&o.__setDigit(a,s),o.__trim()}},{key:"__absoluteSub",value:function(t,e,r){if(0===t.length)return t;if(0===e.length)return t.sign===r?t:u.unaryMinus(t);for(var n,i=new u(t.length,r),o=0,s=0;s<e.length;s++)o=1&(n=t.__digit(s)-e.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&n);for(;s<t.length;s++){var a=t.__digit(s)-o;o=1&a>>>30,i.__setDigit(s,1073741823&a)}return i.__trim()}},{key:"__absoluteAddOne",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length;null===r?r=new u(n,e):r.sign=e;for(var i,o=1,s=0;s<n;s++)o=(i=t.__digit(s)+o)>>>30,r.__setDigit(s,1073741823&i);return 0!==o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(t,e){for(var r,n=t.length,i=new u(e=e||n,!1),o=1,s=0;s<n;s++)o=1&(r=t.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&r);if(0!==o)throw new Error("implementation bug");for(var a=n;a<e;a++)i.__setDigit(a,0);return i}},{key:"__absoluteAnd",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,i=e.length,o=i;if(n<i){o=n;var s=t,a=n;t=e,n=i,e=s,i=a}var c=o;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,t.__digit(f)&e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteAndNot",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,i=e.length,o=i;n<i&&(o=n);var s=n;null===r?r=new u(s,!1):s=r.length;for(var a=0;a<o;a++)r.__setDigit(a,t.__digit(a)&~e.__digit(a));for(;a<n;a++)r.__setDigit(a,t.__digit(a));for(;a<s;a++)r.__setDigit(a,0);return r}},{key:"__absoluteOr",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,i=e.length,o=i;if(n<i){o=n;var s=t,a=n;t=e,n=i,e=s,i=a}var c=n;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,t.__digit(f)|e.__digit(f));for(;f<n;f++)r.__setDigit(f,t.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteXor",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,i=e.length,o=i;if(n<i){o=n;var s=t,a=n;t=e,n=i,e=s,i=a}var c=n;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,t.__digit(f)^e.__digit(f));for(;f<n;f++)r.__setDigit(f,t.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteCompare",value:function(t,e){var r=t.length-e.length;if(0!=r)return r;for(var n=t.length-1;0<=n&&t.__digit(n)===e.__digit(n);)n--;return 0>n?0:t.__unsignedDigit(n)>e.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(t,e,r,n){if(0!==e){for(var i=32767&e,o=e>>>15,s=0,a=0,c=0;c<t.length;c++,n++){var f=r.__digit(n),l=t.__digit(c),d=32767&l,h=l>>>15,p=u.__imul(d,i),y=u.__imul(d,o),g=u.__imul(h,i);s=(f+=a+p+s)>>>30,f&=1073741823,s+=(f+=((32767&y)<<15)+((32767&g)<<15))>>>30,a=u.__imul(h,o)+(y>>>15)+(g>>>15),r.__setDigit(n,1073741823&f)}for(;0!==s||0!==a;n++){var b=r.__digit(n);b+=s+a,a=0,s=b>>>30,r.__setDigit(n,1073741823&b)}}}},{key:"__internalMultiplyAdd",value:function(t,e,r,n,i){for(var o=r,s=0,a=0;a<n;a++){var c=t.__digit(a),f=u.__imul(32767&c,e),l=u.__imul(c>>>15,e),d=f+((32767&l)<<15)+s+o;o=d>>>30,s=l>>>15,i.__setDigit(a,1073741823&d)}if(i.length>n)for(i.__setDigit(n++,o+s);n<i.length;)i.__setDigit(n++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new u(t.length,!1));for(var n=0,i=2*t.length-1;0<=i;i-=2){var o=(n<<15|t.__halfDigit(i))>>>0,s=0|o/e,a=0|(o=((n=0|o%e)<<15|t.__halfDigit(i-1))>>>0)/e;n=0|o%e,r.__setDigit(i>>>1,s<<15|a)}return r}},{key:"__absoluteModSmall",value:function(t,e){for(var r=0,n=2*t.length-1;0<=n;n--)r=0|((r<<15|t.__halfDigit(n))>>>0)%e;return r}},{key:"__absoluteDivLarge",value:function(t,e,r,n){var i=e.__halfDigitLength(),o=e.length,s=t.__halfDigitLength()-i,a=null;r&&(a=new u(s+2>>>1,!1)).__initializeDigits();var c=new u(i+2>>>1,!1);c.__initializeDigits();var f=u.__clz15(e.__halfDigit(i-1));0<f&&(e=u.__specialLeftShift(e,f,0));for(var l=u.__specialLeftShift(t,f,1),d=e.__halfDigit(i-1),h=0,p=s;0<=p;p--){var y=32767,g=l.__halfDigit(p+i);if(g!==d){var b=(g<<15|l.__halfDigit(p+i-1))>>>0;y=0|b/d;for(var m=0|b%d,v=e.__halfDigit(i-2),_=l.__halfDigit(p+i-2);u.__imul(y,v)>>>0>(m<<16|_)>>>0&&(y--,!(32767<(m+=d))););}u.__internalMultiplyAdd(e,y,0,o,c);var w=l.__inplaceSub(c,p,i+1);0!==w&&(w=l.__inplaceAdd(e,p,i),l.__setHalfDigit(p+i,32767&l.__halfDigit(p+i)+w),y--),r&&(1&p?h=y<<15:a.__setDigit(p>>>1,h|y))}if(n)return l.__inplaceRightShift(f),r?{quotient:a,remainder:l}:l;if(r)return a;throw new Error("unreachable")}},{key:"__clz15",value:function(t){return u.__clz30(t)-15}},{key:"__specialLeftShift",value:function(t,e,r){var n=t.length,i=new u(n+r,!1);if(0===e){for(var o=0;o<n;o++)i.__setDigit(o,t.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var s,a=0,c=0;c<n;c++)s=t.__digit(c),i.__setDigit(c,1073741823&s<<e|a),a=s>>>30-e;return 0<r&&i.__setDigit(n,a),i}},{key:"__leftShiftByAbsolute",value:function(t,e){var r=u.__toShiftAmount(e);if(0>r)throw new RangeError("BigInt too big");var n=0|r/30,i=r%30,o=t.length,s=0!==i&&0!=t.__digit(o-1)>>>30-i,a=o+n+(s?1:0),c=new u(a,t.sign);if(0===i){for(var f=0;f<n;f++)c.__setDigit(f,0);for(;f<a;f++)c.__setDigit(f,t.__digit(f-n))}else{for(var l=0,d=0;d<n;d++)c.__setDigit(d,0);for(var h,p=0;p<o;p++)h=t.__digit(p),c.__setDigit(p+n,1073741823&h<<i|l),l=h>>>30-i;if(s)c.__setDigit(o+n,l);else if(0!==l)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(t,e){var r=t.length,n=t.sign,i=u.__toShiftAmount(e);if(0>i)return u.__rightShiftByMaximum(n);var o=0|i/30,s=i%30,a=r-o;if(0>=a)return u.__rightShiftByMaximum(n);var c=!1;if(n)if(t.__digit(o)&(1<<s)-1)c=!0;else for(var f=0;f<o;f++)if(0!==t.__digit(f)){c=!0;break}c&&0===s&&0==~t.__digit(r-1)&&a++;var l=new u(a,n);if(0===s){l.__setDigit(a-1,0);for(var d=o;d<r;d++)l.__setDigit(d-o,t.__digit(d))}else{for(var h,p=t.__digit(o)>>>s,y=r-o-1,g=0;g<y;g++)h=t.__digit(g+o+1),l.__setDigit(g,1073741823&h<<30-s|p),p=h>>>s;l.__setDigit(y,p)}return c&&(l=u.__absoluteAddOne(l,!0,l)),l.__trim()}},{key:"__rightShiftByMaximum",value:function(t){return t?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(t){if(1<t.length)return-1;var e=t.__unsignedDigit(0);return e>u.__kMaxLengthBits?-1:e}},{key:"__toPrimitive",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(t))return t;if(t.constructor===u)return t;if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var n=t[Symbol.toPrimitive];if(n){var i=n(e);if("object"!==r(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=t.valueOf;if(o){var s=o.call(t);if("object"!==r(s))return s}var a=t.toString;if(a){var c=a.call(t);if("object"!==r(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(t){return u.__isBigInt(t)?t:+t}},{key:"__isBigInt",value:function(t){return"object"===r(t)&&null!==t&&t.constructor===u}},{key:"__truncateToNBits",value:function(t,e){for(var r=0|(t+29)/30,n=new u(r,e.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,e.__digit(o));var s=e.__digit(i);if(0!=t%30){var a=32-t%30;s=s<<a>>>a}return n.__setDigit(i,s),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(t,e,r){for(var n,i=Math.min,o=0|(t+29)/30,s=new u(o,r),a=0,c=o-1,f=0,l=i(c,e.length);a<l;a++)f=1&(n=0-e.__digit(a)-f)>>>30,s.__setDigit(a,1073741823&n);for(;a<c;a++)s.__setDigit(a,1073741823&-f);var d,h=c<e.length?e.__digit(c):0,p=t%30;if(0===p)d=0-h-f,d&=1073741823;else{var y=32-p,g=1<<32-y;d=g-(h=h<<y>>>y)-f,d&=g-1}return s.__setDigit(c,d),s.__trim()}},{key:"__digitPow",value:function(t,e){for(var r=1;0<e;)1&e&&(r*=t),e>>>=1,t*=t;return r}},{key:"__isOneDigitInt",value:function(t){return(1073741823&t)===t}}]),u}(d(Array));return A.__kMaxLength=33554432,A.__kMaxLengthBits=A.__kMaxLength<<5,A.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],A.__kBitsPerCharTableShift=5,A.__kBitsPerCharTableMultiplier=1<<A.__kBitsPerCharTableShift,A.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],A.__kBitConversionBuffer=new ArrayBuffer(8),A.__kBitConversionDouble=new Float64Array(A.__kBitConversionBuffer),A.__kBitConversionInts=new Int32Array(A.__kBitConversionBuffer),A.__clz30=e?function(t){return e(t)-2}:function(t){var e=Math.LN2,r=Math.log;return 0===t?30:0|29-(0|r(t>>>0)/e)},A.__imul=t||function(t,e){return 0|t*e},A}()},8142:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",l="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",y="[object Map]",g="[object Number]",b="[object Null]",m="[object Object]",v="[object Promise]",_="[object Proxy]",w="[object RegExp]",S="[object Set]",A="[object String]",x="[object Symbol]",E="[object Undefined]",k="[object WeakMap]",I="[object ArrayBuffer]",T="[object DataView]",C=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[a]=P[u]=P[I]=P[f]=P[T]=P[l]=P[d]=P[h]=P[y]=P[g]=P[m]=P[w]=P[S]=P[A]=P[k]=!1;var M="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,B="object"==typeof self&&self&&self.Object===Object&&self,R=M||B||Function("return this")(),j=e&&!e.nodeType&&e,D=j&&t&&!t.nodeType&&t,L=D&&D.exports===j,U=L&&M.process,N=function(){try{return U&&U.binding&&U.binding("util")}catch(t){}}(),H=N&&N.isTypedArray;function F(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function K(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var q,W,$,V=Array.prototype,G=Function.prototype,Q=Object.prototype,X=R["__core-js_shared__"],Y=G.toString,J=Q.hasOwnProperty,Z=(q=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",tt=Q.toString,et=RegExp("^"+Y.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=L?R.Buffer:void 0,nt=R.Symbol,it=R.Uint8Array,ot=Q.propertyIsEnumerable,st=V.splice,at=nt?nt.toStringTag:void 0,ut=Object.getOwnPropertySymbols,ct=rt?rt.isBuffer:void 0,ft=(W=Object.keys,$=Object,function(t){return W($(t))}),lt=Nt(R,"DataView"),dt=Nt(R,"Map"),ht=Nt(R,"Promise"),pt=Nt(R,"Set"),yt=Nt(R,"WeakMap"),gt=Nt(Object,"create"),bt=Kt(lt),mt=Kt(dt),vt=Kt(ht),_t=Kt(pt),wt=Kt(yt),St=nt?nt.prototype:void 0,At=St?St.valueOf:void 0;function xt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new kt;++e<r;)this.add(t[e])}function Tt(t){var e=this.__data__=new Et(t);this.size=e.size}function Ct(t,e){var r=$t(t),n=!r&&Wt(t),i=!r&&!n&&Vt(t),o=!r&&!n&&!i&&Jt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!J.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zt(c,u))||a.push(c);return a}function Ot(t,e){for(var r=t.length;r--;)if(qt(t[r][0],e))return r;return-1}function Pt(t){return null==t?void 0===t?E:b:at&&at in Object(t)?function(t){var e=J.call(t,at),r=t[at];try{t[at]=void 0;var n=!0}catch(t){}var i=tt.call(t);n&&(e?t[at]=r:delete t[at]);return i}(t):function(t){return tt.call(t)}(t)}function Mt(t){return Yt(t)&&Pt(t)==a}function Bt(t,e,r,n,s){return t===e||(null==t||null==e||!Yt(t)&&!Yt(e)?t!=t&&e!=e:function(t,e,r,n,s,c){var h=$t(t),p=$t(e),b=h?u:Ft(t),v=p?u:Ft(e),_=(b=b==a?m:b)==m,E=(v=v==a?m:v)==m,k=b==v;if(k&&Vt(t)){if(!Vt(e))return!1;h=!0,_=!1}if(k&&!_)return c||(c=new Tt),h||Jt(t)?Dt(t,e,r,n,s,c):function(t,e,r,n,s,a,u){switch(r){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!a(new it(t),new it(e)));case f:case l:case g:return qt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case A:return t==e+"";case y:var c=z;case S:var h=n&i;if(c||(c=K),t.size!=e.size&&!h)return!1;var p=u.get(t);if(p)return p==e;n|=o,u.set(t,e);var b=Dt(c(t),c(e),n,s,a,u);return u.delete(t),b;case x:if(At)return At.call(t)==At.call(e)}return!1}(t,e,b,r,n,s,c);if(!(r&i)){var C=_&&J.call(t,"__wrapped__"),O=E&&J.call(e,"__wrapped__");if(C||O){var P=C?t.value():t,M=O?e.value():e;return c||(c=new Tt),s(P,M,r,n,c)}}if(!k)return!1;return c||(c=new Tt),function(t,e,r,n,o,s){var a=r&i,u=Lt(t),c=u.length,f=Lt(e),l=f.length;if(c!=l&&!a)return!1;var d=c;for(;d--;){var h=u[d];if(!(a?h in e:J.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var y=!0;s.set(t,e),s.set(e,t);var g=a;for(;++d<c;){var b=t[h=u[d]],m=e[h];if(n)var v=a?n(m,b,h,e,t,s):n(b,m,h,t,e,s);if(!(void 0===v?b===m||o(b,m,r,n,s):v)){y=!1;break}g||(g="constructor"==h)}if(y&&!g){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(y=!1)}return s.delete(t),s.delete(e),y}(t,e,r,n,s,c)}(t,e,r,n,Bt,s))}function Rt(t){return!(!Xt(t)||function(t){return!!Z&&Z in t}(t))&&(Gt(t)?et:C).test(Kt(t))}function jt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||Q,e!==n)return ft(t);var e,r,n,i=[];for(var o in Object(t))J.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Dt(t,e,r,n,s,a){var u=r&i,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var d=-1,h=!0,p=r&o?new It:void 0;for(a.set(t,e),a.set(e,t);++d<c;){var y=t[d],g=e[d];if(n)var b=u?n(g,y,d,e,t,a):n(y,g,d,t,e,a);if(void 0!==b){if(b)continue;h=!1;break}if(p){if(!F(e,(function(t,e){if(i=e,!p.has(i)&&(y===t||s(y,t,r,n,a)))return p.push(e);var i}))){h=!1;break}}else if(y!==g&&!s(y,g,r,n,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function Lt(t){return function(t,e,r){var n=e(t);return $t(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Zt,Ht)}function Ut(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Nt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(r)?r:void 0}xt.prototype.clear=function(){this.__data__=gt?gt(null):{},this.size=0},xt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xt.prototype.get=function(t){var e=this.__data__;if(gt){var r=e[t];return r===n?void 0:r}return J.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:J.call(e,t)},xt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=gt&&void 0===e?n:e,this},Et.prototype.clear=function(){this.__data__=[],this.size=0},Et.prototype.delete=function(t){var e=this.__data__,r=Ot(e,t);return!(r<0)&&(r==e.length-1?e.pop():st.call(e,r,1),--this.size,!0)},Et.prototype.get=function(t){var e=this.__data__,r=Ot(e,t);return r<0?void 0:e[r][1]},Et.prototype.has=function(t){return Ot(this.__data__,t)>-1},Et.prototype.set=function(t,e){var r=this.__data__,n=Ot(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},kt.prototype.clear=function(){this.size=0,this.__data__={hash:new xt,map:new(dt||Et),string:new xt}},kt.prototype.delete=function(t){var e=Ut(this,t).delete(t);return this.size-=e?1:0,e},kt.prototype.get=function(t){return Ut(this,t).get(t)},kt.prototype.has=function(t){return Ut(this,t).has(t)},kt.prototype.set=function(t,e){var r=Ut(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,n),this},It.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.clear=function(){this.__data__=new Et,this.size=0},Tt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Et){var n=r.__data__;if(!dt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new kt(n)}return r.set(t,e),this.size=r.size,this};var Ht=ut?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}(ut(t),(function(e){return ot.call(t,e)})))}:function(){return[]},Ft=Pt;function zt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||O.test(t))&&t>-1&&t%1==0&&t<e}function Kt(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function qt(t,e){return t===e||t!=t&&e!=e}(lt&&Ft(new lt(new ArrayBuffer(1)))!=T||dt&&Ft(new dt)!=y||ht&&Ft(ht.resolve())!=v||pt&&Ft(new pt)!=S||yt&&Ft(new yt)!=k)&&(Ft=function(t){var e=Pt(t),r=e==m?t.constructor:void 0,n=r?Kt(r):"";if(n)switch(n){case bt:return T;case mt:return y;case vt:return v;case _t:return S;case wt:return k}return e});var Wt=Mt(function(){return arguments}())?Mt:function(t){return Yt(t)&&J.call(t,"callee")&&!ot.call(t,"callee")},$t=Array.isArray;var Vt=ct||function(){return!1};function Gt(t){if(!Xt(t))return!1;var e=Pt(t);return e==h||e==p||e==c||e==_}function Qt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Xt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Yt(t){return null!=t&&"object"==typeof t}var Jt=H?function(t){return function(e){return t(e)}}(H):function(t){return Yt(t)&&Qt(t.length)&&!!P[Pt(t)]};function Zt(t){return null!=(e=t)&&Qt(e.length)&&!Gt(e)?Ct(t):jt(t);var e}t.exports=function(t,e){return Bt(t,e)}},55580:(t,e,r)=>{var n=r(56110)(r(9325),"DataView");t.exports=n},21549:(t,e,r)=>{var n=r(22032),i=r(63862),o=r(66721),s=r(12749),a=r(35749);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},80079:(t,e,r)=>{var n=r(63702),i=r(70080),o=r(24739),s=r(48655),a=r(31175);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},68223:(t,e,r)=>{var n=r(56110)(r(9325),"Map");t.exports=n},53661:(t,e,r)=>{var n=r(63040),i=r(17670),o=r(90289),s=r(4509),a=r(72949);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},32804:(t,e,r)=>{var n=r(56110)(r(9325),"Promise");t.exports=n},76545:(t,e,r)=>{var n=r(56110)(r(9325),"Set");t.exports=n},38859:(t,e,r)=>{var n=r(53661),i=r(31380),o=r(51459);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},37217:(t,e,r)=>{var n=r(80079),i=r(51420),o=r(90938),s=r(63605),a=r(29817),u=r(80945);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,t.exports=c},51873:(t,e,r)=>{var n=r(9325).Symbol;t.exports=n},37828:(t,e,r)=>{var n=r(9325).Uint8Array;t.exports=n},28303:(t,e,r)=>{var n=r(56110)(r(9325),"WeakMap");t.exports=n},83729:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},79770:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}},70695:(t,e,r)=>{var n=r(78096),i=r(72428),o=r(56449),s=r(3656),a=r(30361),u=r(37167),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),f=!r&&i(t),l=!r&&!f&&s(t),d=!r&&!f&&!l&&u(t),h=r||f||l||d,p=h?n(t.length,String):[],y=p.length;for(var g in t)!e&&!c.call(t,g)||h&&("length"==g||l&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,y))||p.push(g);return p}},34932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},14528:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},14248:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},16547:(t,e,r)=>{var n=r(43360),i=r(75288),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];o.call(t,e)&&i(s,r)&&(void 0!==r||e in t)||n(t,e,r)}},26025:(t,e,r)=>{var n=r(75288);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},74733:(t,e,r)=>{var n=r(21791),i=r(95950);t.exports=function(t,e){return t&&n(e,i(e),t)}},43838:(t,e,r)=>{var n=r(21791),i=r(37241);t.exports=function(t,e){return t&&n(e,i(e),t)}},43360:(t,e,r)=>{var n=r(93243);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},9999:(t,e,r)=>{var n=r(37217),i=r(83729),o=r(16547),s=r(74733),a=r(43838),u=r(93290),c=r(23007),f=r(92271),l=r(48948),d=r(50002),h=r(83349),p=r(5861),y=r(76189),g=r(77199),b=r(35529),m=r(56449),v=r(3656),_=r(87730),w=r(23805),S=r(38440),A=r(95950),x=r(37241),E="[object Arguments]",k="[object Function]",I="[object Object]",T={};T[E]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[I]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[k]=T["[object WeakMap]"]=!1,t.exports=function t(e,r,C,O,P,M){var B,R=1&r,j=2&r,D=4&r;if(C&&(B=P?C(e,O,P,M):C(e)),void 0!==B)return B;if(!w(e))return e;var L=m(e);if(L){if(B=y(e),!R)return c(e,B)}else{var U=p(e),N=U==k||"[object GeneratorFunction]"==U;if(v(e))return u(e,R);if(U==I||U==E||N&&!P){if(B=j||N?{}:b(e),!R)return j?l(e,a(B,e)):f(e,s(B,e))}else{if(!T[U])return P?e:{};B=g(e,U,R)}}M||(M=new n);var H=M.get(e);if(H)return H;M.set(e,B),S(e)?e.forEach((function(n){B.add(t(n,r,C,n,e,M))})):_(e)&&e.forEach((function(n,i){B.set(i,t(n,r,C,i,e,M))}));var F=L?void 0:(D?j?h:d:j?x:A)(e);return i(F||e,(function(n,i){F&&(n=e[i=n]),o(B,i,t(n,r,C,i,e,M))})),B}},39344:(t,e,r)=>{var n=r(23805),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},47422:(t,e,r)=>{var n=r(31769),i=r(77797);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},82199:(t,e,r)=>{var n=r(14528),i=r(56449);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},72552:(t,e,r)=>{var n=r(51873),i=r(659),o=r(59350),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},28077:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},27534:(t,e,r)=>{var n=r(72552),i=r(40346);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},60270:(t,e,r)=>{var n=r(87068),i=r(40346);t.exports=function t(e,r,o,s,a){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,o,s,t,a))}},87068:(t,e,r)=>{var n=r(37217),i=r(25911),o=r(21986),s=r(50689),a=r(5861),u=r(56449),c=r(3656),f=r(37167),l="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,y,g,b){var m=u(t),v=u(e),_=m?d:a(t),w=v?d:a(e),S=(_=_==l?h:_)==h,A=(w=w==l?h:w)==h,x=_==w;if(x&&c(t)){if(!c(e))return!1;m=!0,S=!1}if(x&&!S)return b||(b=new n),m||f(t)?i(t,e,r,y,g,b):o(t,e,_,r,y,g,b);if(!(1&r)){var E=S&&p.call(t,"__wrapped__"),k=A&&p.call(e,"__wrapped__");if(E||k){var I=E?t.value():t,T=k?e.value():e;return b||(b=new n),g(I,T,r,y,b)}}return!!x&&(b||(b=new n),s(t,e,r,y,g,b))}},29172:(t,e,r)=>{var n=r(5861),i=r(40346);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},41799:(t,e,r)=>{var n=r(37217),i=r(60270);t.exports=function(t,e,r,o){var s=r.length,a=s,u=!o;if(null==t)return!a;for(t=Object(t);s--;){var c=r[s];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<a;){var f=(c=r[s])[0],l=t[f],d=c[1];if(u&&c[2]){if(void 0===l&&!(f in t))return!1}else{var h=new n;if(o)var p=o(l,d,f,t,e,h);if(!(void 0===p?i(d,l,3,o,h):p))return!1}}return!0}},45083:(t,e,r)=>{var n=r(1882),i=r(87296),o=r(23805),s=r(47473),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,d=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?d:a).test(s(t))}},16038:(t,e,r)=>{var n=r(5861),i=r(40346);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},4901:(t,e,r)=>{var n=r(72552),i=r(30294),o=r(40346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[n(t)]}},15389:(t,e,r)=>{var n=r(93663),i=r(87978),o=r(83488),s=r(56449),a=r(50583);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):n(t):a(t)}},88984:(t,e,r)=>{var n=r(55527),i=r(3650),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},72903:(t,e,r)=>{var n=r(23805),i=r(55527),o=r(90181),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&r.push(a);return r}},93663:(t,e,r)=>{var n=r(41799),i=r(10776),o=r(67197);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},87978:(t,e,r)=>{var n=r(60270),i=r(58156),o=r(80631),s=r(28586),a=r(30756),u=r(67197),c=r(77797);t.exports=function(t,e){return s(t)&&a(e)?u(c(t),e):function(r){var s=i(r,t);return void 0===s&&s===e?o(r,t):n(e,s,3)}}},97420:(t,e,r)=>{var n=r(47422),i=r(73170),o=r(31769);t.exports=function(t,e,r){for(var s=-1,a=e.length,u={};++s<a;){var c=e[s],f=n(t,c);r(f,c)&&i(u,o(c,t),f)}return u}},47237:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},17255:(t,e,r)=>{var n=r(47422);t.exports=function(t){return function(e){return n(e,t)}}},73170:(t,e,r)=>{var n=r(16547),i=r(31769),o=r(30361),s=r(23805),a=r(77797);t.exports=function(t,e,r,u){if(!s(t))return t;for(var c=-1,f=(e=i(e,t)).length,l=f-1,d=t;null!=d&&++c<f;){var h=a(e[c]),p=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(c!=l){var y=d[h];void 0===(p=u?u(y,h,d):void 0)&&(p=s(y)?y:o(e[c+1])?[]:{})}n(d,h,p),d=d[h]}return t}},78096:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},77556:(t,e,r)=>{var n=r(51873),i=r(34932),o=r(56449),s=r(44394),a=n?n.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},27301:t=>{t.exports=function(t){return function(e){return t(e)}}},19219:t=>{t.exports=function(t,e){return t.has(e)}},31769:(t,e,r)=>{var n=r(56449),i=r(28586),o=r(61802),s=r(13222);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(s(t))}},49653:(t,e,r)=>{var n=r(37828);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},93290:(t,e,r)=>{t=r.nmd(t);var n=r(9325),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}},76169:(t,e,r)=>{var n=r(49653);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},73201:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},93736:(t,e,r)=>{var n=r(51873),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},71961:(t,e,r)=>{var n=r(49653);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},23007:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},21791:(t,e,r)=>{var n=r(16547),i=r(43360);t.exports=function(t,e,r,o){var s=!r;r||(r={});for(var a=-1,u=e.length;++a<u;){var c=e[a],f=o?o(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),s?i(r,c,f):n(r,c,f)}return r}},92271:(t,e,r)=>{var n=r(21791),i=r(4664);t.exports=function(t,e){return n(t,i(t),e)}},48948:(t,e,r)=>{var n=r(21791),i=r(86375);t.exports=function(t,e){return n(t,i(t),e)}},55481:(t,e,r)=>{var n=r(9325)["__core-js_shared__"];t.exports=n},93243:(t,e,r)=>{var n=r(56110),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},25911:(t,e,r)=>{var n=r(38859),i=r(14248),o=r(19219);t.exports=function(t,e,r,s,a,u){var c=1&r,f=t.length,l=e.length;if(f!=l&&!(c&&l>f))return!1;var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var p=-1,y=!0,g=2&r?new n:void 0;for(u.set(t,e),u.set(e,t);++p<f;){var b=t[p],m=e[p];if(s)var v=c?s(m,b,p,e,t,u):s(b,m,p,t,e,u);if(void 0!==v){if(v)continue;y=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(b===t||a(b,t,r,s,u)))return g.push(e)}))){y=!1;break}}else if(b!==m&&!a(b,m,r,s,u)){y=!1;break}}return u.delete(t),u.delete(e),y}},21986:(t,e,r)=>{var n=r(51873),i=r(37828),o=r(75288),s=r(25911),a=r(20317),u=r(84247),c=n?n.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,l,d){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!l(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=a;case"[object Set]":var p=1&n;if(h||(h=u),t.size!=e.size&&!p)return!1;var y=d.get(t);if(y)return y==e;n|=2,d.set(t,e);var g=s(h(t),h(e),n,c,l,d);return d.delete(t),g;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},50689:(t,e,r)=>{var n=r(50002),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,s,a){var u=1&r,c=n(t),f=c.length;if(f!=n(e).length&&!u)return!1;for(var l=f;l--;){var d=c[l];if(!(u?d in e:i.call(e,d)))return!1}var h=a.get(t),p=a.get(e);if(h&&p)return h==e&&p==t;var y=!0;a.set(t,e),a.set(e,t);for(var g=u;++l<f;){var b=t[d=c[l]],m=e[d];if(o)var v=u?o(m,b,d,e,t,a):o(b,m,d,t,e,a);if(!(void 0===v?b===m||s(b,m,r,o,a):v)){y=!1;break}g||(g="constructor"==d)}if(y&&!g){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(y=!1)}return a.delete(t),a.delete(e),y}},34840:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},50002:(t,e,r)=>{var n=r(82199),i=r(4664),o=r(95950);t.exports=function(t){return n(t,o,i)}},83349:(t,e,r)=>{var n=r(82199),i=r(86375),o=r(37241);t.exports=function(t){return n(t,o,i)}},12651:(t,e,r)=>{var n=r(74218);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},10776:(t,e,r)=>{var n=r(30756),i=r(95950);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var o=e[r],s=t[o];e[r]=[o,s,n(s)]}return e}},56110:(t,e,r)=>{var n=r(45083),i=r(10392);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},28879:(t,e,r)=>{var n=r(74335)(Object.getPrototypeOf,Object);t.exports=n},659:(t,e,r)=>{var n=r(51873),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}},4664:(t,e,r)=>{var n=r(79770),i=r(63345),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},86375:(t,e,r)=>{var n=r(14528),i=r(28879),o=r(4664),s=r(63345),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}:s;t.exports=a},5861:(t,e,r)=>{var n=r(55580),i=r(68223),o=r(32804),s=r(76545),a=r(28303),u=r(72552),c=r(47473),f="[object Map]",l="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",y=c(n),g=c(i),b=c(o),m=c(s),v=c(a),_=u;(n&&_(new n(new ArrayBuffer(1)))!=p||i&&_(new i)!=f||o&&_(o.resolve())!=l||s&&_(new s)!=d||a&&_(new a)!=h)&&(_=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return p;case g:return f;case b:return l;case m:return d;case v:return h}return e}),t.exports=_},10392:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},49326:(t,e,r)=>{var n=r(31769),i=r(72428),o=r(56449),s=r(30361),a=r(30294),u=r(77797);t.exports=function(t,e,r){for(var c=-1,f=(e=n(e,t)).length,l=!1;++c<f;){var d=u(e[c]);if(!(l=null!=t&&r(t,d)))break;t=t[d]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&a(f)&&s(d,f)&&(o(t)||i(t))}},22032:(t,e,r)=>{var n=r(81042);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},63862:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},66721:(t,e,r)=>{var n=r(81042),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},12749:(t,e,r)=>{var n=r(81042),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},35749:(t,e,r)=>{var n=r(81042);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},76189:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},77199:(t,e,r)=>{var n=r(49653),i=r(76169),o=r(73201),s=r(93736),a=r(71961);t.exports=function(t,e,r){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Symbol]":return s(t)}}},35529:(t,e,r)=>{var n=r(39344),i=r(28879),o=r(55527);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(i(t))}},30361:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},28586:(t,e,r)=>{var n=r(56449),i=r(44394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}},74218:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},87296:(t,e,r)=>{var n,i=r(55481),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},55527:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},30756:(t,e,r)=>{var n=r(23805);t.exports=function(t){return t==t&&!n(t)}},63702:t=>{t.exports=function(){this.__data__=[],this.size=0}},70080:(t,e,r)=>{var n=r(26025),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}},24739:(t,e,r)=>{var n=r(26025);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},48655:(t,e,r)=>{var n=r(26025);t.exports=function(t){return n(this.__data__,t)>-1}},31175:(t,e,r)=>{var n=r(26025);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},63040:(t,e,r)=>{var n=r(21549),i=r(80079),o=r(68223);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},17670:(t,e,r)=>{var n=r(12651);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},90289:(t,e,r)=>{var n=r(12651);t.exports=function(t){return n(this,t).get(t)}},4509:(t,e,r)=>{var n=r(12651);t.exports=function(t){return n(this,t).has(t)}},72949:(t,e,r)=>{var n=r(12651);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},20317:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},67197:t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},62224:(t,e,r)=>{var n=r(50104);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},81042:(t,e,r)=>{var n=r(56110)(Object,"create");t.exports=n},3650:(t,e,r)=>{var n=r(74335)(Object.keys,Object);t.exports=n},90181:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},86009:(t,e,r)=>{t=r.nmd(t);var n=r(34840),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i&&n.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a},59350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},74335:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},9325:(t,e,r)=>{var n=r(34840),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},31380:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},51459:t=>{t.exports=function(t){return this.__data__.has(t)}},84247:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},51420:(t,e,r)=>{var n=r(80079);t.exports=function(){this.__data__=new n,this.size=0}},90938:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},63605:t=>{t.exports=function(t){return this.__data__.get(t)}},29817:t=>{t.exports=function(t){return this.__data__.has(t)}},80945:(t,e,r)=>{var n=r(80079),i=r(68223),o=r(53661);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(t,e),this.size=r.size,this}},61802:(t,e,r)=>{var n=r(62224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=s},77797:(t,e,r)=>{var n=r(44394);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},47473:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},88055:(t,e,r)=>{var n=r(9999);t.exports=function(t){return n(t,5)}},75288:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},58156:(t,e,r)=>{var n=r(47422);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},80631:(t,e,r)=>{var n=r(28077),i=r(49326);t.exports=function(t,e){return null!=t&&i(t,e,n)}},83488:t=>{t.exports=function(t){return t}},72428:(t,e,r)=>{var n=r(27534),i=r(40346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},56449:t=>{var e=Array.isArray;t.exports=e},64894:(t,e,r)=>{var n=r(1882),i=r(30294);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},3656:(t,e,r)=>{t=r.nmd(t);var n=r(9325),i=r(89935),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u},1882:(t,e,r)=>{var n=r(72552),i=r(23805);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},30294:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},87730:(t,e,r)=>{var n=r(29172),i=r(27301),o=r(86009),s=o&&o.isMap,a=s?i(s):n;t.exports=a},23805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},40346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},38440:(t,e,r)=>{var n=r(16038),i=r(27301),o=r(86009),s=o&&o.isSet,a=s?i(s):n;t.exports=a},44394:(t,e,r)=>{var n=r(72552),i=r(40346);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},37167:(t,e,r)=>{var n=r(4901),i=r(27301),o=r(86009),s=o&&o.isTypedArray,a=s?i(s):n;t.exports=a},95950:(t,e,r)=>{var n=r(70695),i=r(88984),o=r(64894);t.exports=function(t){return o(t)?n(t):i(t)}},37241:(t,e,r)=>{var n=r(70695),i=r(72903),o=r(64894);t.exports=function(t){return o(t)?n(t,!0):i(t)}},2543:function(t,e,r){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */t=r.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,c=32,f=64,l=128,d=256,h=1/0,p=9007199254740991,y=NaN,g=4294967295,b=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",f],["rearg",d]],m="[object Arguments]",v="[object Array]",_="[object Boolean]",w="[object Date]",S="[object Error]",A="[object Function]",x="[object GeneratorFunction]",E="[object Map]",k="[object Number]",I="[object Object]",T="[object Promise]",C="[object RegExp]",O="[object Set]",P="[object String]",M="[object Symbol]",B="[object WeakMap]",R="[object ArrayBuffer]",j="[object DataView]",D="[object Float32Array]",L="[object Float64Array]",U="[object Int8Array]",N="[object Int16Array]",H="[object Int32Array]",F="[object Uint8Array]",z="[object Uint8ClampedArray]",K="[object Uint16Array]",q="[object Uint32Array]",W=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,X=RegExp(G.source),Y=RegExp(Q.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),st=/^\s+/,at=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,bt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,At=/['\n\r\u2028\u2029\\]/g,xt="\\ud800-\\udfff",Et="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",It="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pt="[']",Mt="["+xt+"]",Bt="["+Ot+"]",Rt="["+Et+"]",jt="\\d+",Dt="["+kt+"]",Lt="["+It+"]",Ut="[^"+xt+Ot+jt+kt+It+Tt+"]",Nt="\\ud83c[\\udffb-\\udfff]",Ht="[^"+xt+"]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Kt="["+Tt+"]",qt="\\u200d",Wt="(?:"+Lt+"|"+Ut+")",$t="(?:"+Kt+"|"+Ut+")",Vt="(?:['](?:d|ll|m|re|s|t|ve))?",Gt="(?:['](?:D|LL|M|RE|S|T|VE))?",Qt="(?:"+Rt+"|"+Nt+")"+"?",Xt="["+Ct+"]?",Yt=Xt+Qt+("(?:"+qt+"(?:"+[Ht,Ft,zt].join("|")+")"+Xt+Qt+")*"),Jt="(?:"+[Dt,Ft,zt].join("|")+")"+Yt,Zt="(?:"+[Ht+Rt+"?",Rt,Ft,zt,Mt].join("|")+")",te=RegExp(Pt,"g"),ee=RegExp(Rt,"g"),re=RegExp(Nt+"(?="+Nt+")|"+Zt+Yt,"g"),ne=RegExp([Kt+"?"+Lt+"+"+Vt+"(?="+[Bt,Kt,"$"].join("|")+")",$t+"+"+Gt+"(?="+[Bt,Kt+Wt,"$"].join("|")+")",Kt+"?"+Wt+"+"+Vt,Kt+"+"+Gt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jt,Jt].join("|"),"g"),ie=RegExp("["+qt+xt+Et+Ct+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,ue={};ue[D]=ue[L]=ue[U]=ue[N]=ue[H]=ue[F]=ue[z]=ue[K]=ue[q]=!0,ue[m]=ue[v]=ue[R]=ue[_]=ue[j]=ue[w]=ue[S]=ue[A]=ue[E]=ue[k]=ue[I]=ue[C]=ue[O]=ue[P]=ue[B]=!1;var ce={};ce[m]=ce[v]=ce[R]=ce[j]=ce[_]=ce[w]=ce[D]=ce[L]=ce[U]=ce[N]=ce[H]=ce[E]=ce[k]=ce[I]=ce[C]=ce[O]=ce[P]=ce[M]=ce[F]=ce[z]=ce[K]=ce[q]=!0,ce[S]=ce[A]=ce[B]=!1;var fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},le=parseFloat,de=parseInt,he="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ye=he||pe||Function("return this")(),ge=e&&!e.nodeType&&e,be=ge&&t&&!t.nodeType&&t,me=be&&be.exports===ge,ve=me&&he.process,_e=function(){try{var t=be&&be.require&&be.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),we=_e&&_e.isArrayBuffer,Se=_e&&_e.isDate,Ae=_e&&_e.isMap,xe=_e&&_e.isRegExp,Ee=_e&&_e.isSet,ke=_e&&_e.isTypedArray;function Ie(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Te(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function Ce(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Oe(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Pe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Me(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Be(t,e){return!!(null==t?0:t.length)&&Ke(t,e,0)>-1}function Re(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function je(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function De(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Le(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Ue(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Ne(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var He=Ve("length");function Fe(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function ze(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ke(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):ze(t,We,r)}function qe(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function We(t){return t!=t}function $e(t,e){var r=null==t?0:t.length;return r?Xe(t,e)/r:y}function Ve(t){return function(e){return null==e?i:e[t]}}function Ge(t){return function(e){return null==t?i:t[e]}}function Qe(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function Xe(t,e){for(var r,n=-1,o=t.length;++n<o;){var s=e(t[n]);s!==i&&(r=r===i?s:r+s)}return r}function Ye(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Je(t){return t?t.slice(0,yr(t)+1).replace(st,""):t}function Ze(t){return function(e){return t(e)}}function tr(t,e){return je(e,(function(e){return t[e]}))}function er(t,e){return t.has(e)}function rr(t,e){for(var r=-1,n=t.length;++r<n&&Ke(e,t[r],0)>-1;);return r}function nr(t,e){for(var r=t.length;r--&&Ke(e,t[r],0)>-1;);return r}var ir=Ge({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),or=Ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sr(t){return"\\"+fe[t]}function ar(t){return ie.test(t)}function ur(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function cr(t,e){return function(r){return t(e(r))}}function fr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==a||(t[r]=a,o[i++]=r)}return o}function lr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function dr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function hr(t){return ar(t)?function(t){var e=re.lastIndex=0;for(;re.test(t);)++e;return e}(t):He(t)}function pr(t){return ar(t)?function(t){return t.match(re)||[]}(t):function(t){return t.split("")}(t)}function yr(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var gr=Ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var br=function t(e){var r,n=(e=null==e?ye:br.defaults(ye.Object(),e,br.pick(ye,se))).Array,at=e.Date,xt=e.Error,Et=e.Function,kt=e.Math,It=e.Object,Tt=e.RegExp,Ct=e.String,Ot=e.TypeError,Pt=n.prototype,Mt=Et.prototype,Bt=It.prototype,Rt=e["__core-js_shared__"],jt=Mt.toString,Dt=Bt.hasOwnProperty,Lt=0,Ut=(r=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Nt=Bt.toString,Ht=jt.call(It),Ft=ye._,zt=Tt("^"+jt.call(Dt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=me?e.Buffer:i,qt=e.Symbol,Wt=e.Uint8Array,$t=Kt?Kt.allocUnsafe:i,Vt=cr(It.getPrototypeOf,It),Gt=It.create,Qt=Bt.propertyIsEnumerable,Xt=Pt.splice,Yt=qt?qt.isConcatSpreadable:i,Jt=qt?qt.iterator:i,Zt=qt?qt.toStringTag:i,re=function(){try{var t=ho(It,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=e.clearTimeout!==ye.clearTimeout&&e.clearTimeout,fe=at&&at.now!==ye.Date.now&&at.now,he=e.setTimeout!==ye.setTimeout&&e.setTimeout,pe=kt.ceil,ge=kt.floor,be=It.getOwnPropertySymbols,ve=Kt?Kt.isBuffer:i,_e=e.isFinite,He=Pt.join,Ge=cr(It.keys,It),mr=kt.max,vr=kt.min,_r=at.now,wr=e.parseInt,Sr=kt.random,Ar=Pt.reverse,xr=ho(e,"DataView"),Er=ho(e,"Map"),kr=ho(e,"Promise"),Ir=ho(e,"Set"),Tr=ho(e,"WeakMap"),Cr=ho(It,"create"),Or=Tr&&new Tr,Pr={},Mr=No(xr),Br=No(Er),Rr=No(kr),jr=No(Ir),Dr=No(Tr),Lr=qt?qt.prototype:i,Ur=Lr?Lr.valueOf:i,Nr=Lr?Lr.toString:i;function Hr(t){if(ra(t)&&!Ws(t)&&!(t instanceof qr)){if(t instanceof Kr)return t;if(Dt.call(t,"__wrapped__"))return Ho(t)}return new Kr(t)}var Fr=function(){function t(){}return function(e){if(!ea(e))return{};if(Gt)return Gt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function zr(){}function Kr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function qr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $r(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Vr;++e<r;)this.add(t[e])}function Qr(t){var e=this.__data__=new $r(t);this.size=e.size}function Xr(t,e){var r=Ws(t),n=!r&&qs(t),i=!r&&!n&&Qs(t),o=!r&&!n&&!i&&fa(t),s=r||n||i||o,a=s?Ye(t.length,Ct):[],u=a.length;for(var c in t)!e&&!Dt.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_o(c,u))||a.push(c);return a}function Yr(t){var e=t.length;return e?t[Qn(0,e-1)]:i}function Jr(t,e){return Do(Oi(t),un(e,0,t.length))}function Zr(t){return Do(Oi(t))}function tn(t,e,r){(r!==i&&!Fs(t[e],r)||r===i&&!(e in t))&&sn(t,e,r)}function en(t,e,r){var n=t[e];Dt.call(t,e)&&Fs(n,r)&&(r!==i||e in t)||sn(t,e,r)}function rn(t,e){for(var r=t.length;r--;)if(Fs(t[r][0],e))return r;return-1}function nn(t,e,r,n){return hn(t,(function(t,i,o){e(n,t,r(t),o)})),n}function on(t,e){return t&&Pi(e,Ma(e),t)}function sn(t,e,r){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function an(t,e){for(var r=-1,o=e.length,s=n(o),a=null==t;++r<o;)s[r]=a?i:Ia(t,e[r]);return s}function un(t,e,r){return t==t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function cn(t,e,r,n,o,s){var a,u=1&e,c=2&e,f=4&e;if(r&&(a=o?r(t,n,o,s):r(t)),a!==i)return a;if(!ea(t))return t;var l=Ws(t);if(l){if(a=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!u)return Oi(t,a)}else{var d=go(t),h=d==A||d==x;if(Qs(t))return xi(t,u);if(d==I||d==m||h&&!o){if(a=c||h?{}:mo(t),!u)return c?function(t,e){return Pi(t,yo(t),e)}(t,function(t,e){return t&&Pi(e,Ba(e),t)}(a,t)):function(t,e){return Pi(t,po(t),e)}(t,on(a,t))}else{if(!ce[d])return o?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case R:return Ei(t);case _:case w:return new n(+t);case j:return function(t,e){var r=e?Ei(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case D:case L:case U:case N:case H:case F:case z:case K:case q:return ki(t,r);case E:return new n;case k:case P:return new n(t);case C:return function(t){var e=new t.constructor(t.source,yt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new n;case M:return i=t,Ur?It(Ur.call(i)):{}}var i}(t,d,u)}}s||(s=new Qr);var p=s.get(t);if(p)return p;s.set(t,a),aa(t)?t.forEach((function(n){a.add(cn(n,e,r,n,t,s))})):na(t)&&t.forEach((function(n,i){a.set(i,cn(n,e,r,i,t,s))}));var y=l?i:(f?c?oo:io:c?Ba:Ma)(t);return Ce(y||t,(function(n,i){y&&(n=t[i=n]),en(a,i,cn(n,e,r,i,t,s))})),a}function fn(t,e,r){var n=r.length;if(null==t)return!n;for(t=It(t);n--;){var o=r[n],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function ln(t,e,r){if("function"!=typeof t)throw new Ot(o);return Mo((function(){t.apply(i,r)}),e)}function dn(t,e,r,n){var i=-1,o=Be,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;r&&(e=je(e,Ze(r))),n?(o=Re,s=!1):e.length>=200&&(o=er,s=!1,e=new Gr(e));t:for(;++i<a;){var f=t[i],l=null==r?f:r(f);if(f=n||0!==f?f:0,s&&l==l){for(var d=c;d--;)if(e[d]===l)continue t;u.push(f)}else o(e,l,n)||u.push(f)}return u}Hr.templateSettings={escape:J,evaluate:Z,interpolate:tt,variable:"",imports:{_:Hr}},Hr.prototype=zr.prototype,Hr.prototype.constructor=Hr,Kr.prototype=Fr(zr.prototype),Kr.prototype.constructor=Kr,qr.prototype=Fr(zr.prototype),qr.prototype.constructor=qr,Wr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Wr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wr.prototype.get=function(t){var e=this.__data__;if(Cr){var r=e[t];return r===s?i:r}return Dt.call(e,t)?e[t]:i},Wr.prototype.has=function(t){var e=this.__data__;return Cr?e[t]!==i:Dt.call(e,t)},Wr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Cr&&e===i?s:e,this},$r.prototype.clear=function(){this.__data__=[],this.size=0},$r.prototype.delete=function(t){var e=this.__data__,r=rn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Xt.call(e,r,1),--this.size,!0)},$r.prototype.get=function(t){var e=this.__data__,r=rn(e,t);return r<0?i:e[r][1]},$r.prototype.has=function(t){return rn(this.__data__,t)>-1},$r.prototype.set=function(t,e){var r=this.__data__,n=rn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Vr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Er||$r),string:new Wr}},Vr.prototype.delete=function(t){var e=fo(this,t).delete(t);return this.size-=e?1:0,e},Vr.prototype.get=function(t){return fo(this,t).get(t)},Vr.prototype.has=function(t){return fo(this,t).has(t)},Vr.prototype.set=function(t,e){var r=fo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Gr.prototype.add=Gr.prototype.push=function(t){return this.__data__.set(t,s),this},Gr.prototype.has=function(t){return this.__data__.has(t)},Qr.prototype.clear=function(){this.__data__=new $r,this.size=0},Qr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Qr.prototype.get=function(t){return this.__data__.get(t)},Qr.prototype.has=function(t){return this.__data__.has(t)},Qr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof $r){var n=r.__data__;if(!Er||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Vr(n)}return r.set(t,e),this.size=r.size,this};var hn=Ri(wn),pn=Ri(Sn,!0);function yn(t,e){var r=!0;return hn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function gn(t,e,r){for(var n=-1,o=t.length;++n<o;){var s=t[n],a=e(s);if(null!=a&&(u===i?a==a&&!ca(a):r(a,u)))var u=a,c=s}return c}function bn(t,e){var r=[];return hn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function mn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=vo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?mn(a,e-1,r,n,i):De(i,a):n||(i[i.length]=a)}return i}var vn=ji(),_n=ji(!0);function wn(t,e){return t&&vn(t,e,Ma)}function Sn(t,e){return t&&_n(t,e,Ma)}function An(t,e){return Me(e,(function(e){return Js(t[e])}))}function xn(t,e){for(var r=0,n=(e=_i(e,t)).length;null!=t&&r<n;)t=t[Uo(e[r++])];return r&&r==n?t:i}function En(t,e,r){var n=e(t);return Ws(t)?n:De(n,r(t))}function kn(t){return null==t?t===i?"[object Undefined]":"[object Null]":Zt&&Zt in It(t)?function(t){var e=Dt.call(t,Zt),r=t[Zt];try{t[Zt]=i;var n=!0}catch(t){}var o=Nt.call(t);n&&(e?t[Zt]=r:delete t[Zt]);return o}(t):function(t){return Nt.call(t)}(t)}function In(t,e){return t>e}function Tn(t,e){return null!=t&&Dt.call(t,e)}function Cn(t,e){return null!=t&&e in It(t)}function On(t,e,r){for(var o=r?Re:Be,s=t[0].length,a=t.length,u=a,c=n(a),f=1/0,l=[];u--;){var d=t[u];u&&e&&(d=je(d,Ze(e))),f=vr(d.length,f),c[u]=!r&&(e||s>=120&&d.length>=120)?new Gr(u&&d):i}d=t[0];var h=-1,p=c[0];t:for(;++h<s&&l.length<f;){var y=d[h],g=e?e(y):y;if(y=r||0!==y?y:0,!(p?er(p,g):o(l,g,r))){for(u=a;--u;){var b=c[u];if(!(b?er(b,g):o(t[u],g,r)))continue t}p&&p.push(g),l.push(y)}}return l}function Pn(t,e,r){var n=null==(t=Co(t,e=_i(e,t)))?t:t[Uo(Yo(e))];return null==n?i:Ie(n,t,r)}function Mn(t){return ra(t)&&kn(t)==m}function Bn(t,e,r,n,o){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,r,n,o,s){var a=Ws(t),u=Ws(e),c=a?v:go(t),f=u?v:go(e),l=(c=c==m?I:c)==I,d=(f=f==m?I:f)==I,h=c==f;if(h&&Qs(t)){if(!Qs(e))return!1;a=!0,l=!1}if(h&&!l)return s||(s=new Qr),a||fa(t)?ro(t,e,r,n,o,s):function(t,e,r,n,i,o,s){switch(r){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!o(new Wt(t),new Wt(e)));case _:case w:case k:return Fs(+t,+e);case S:return t.name==e.name&&t.message==e.message;case C:case P:return t==e+"";case E:var a=ur;case O:var u=1&n;if(a||(a=lr),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;n|=2,s.set(t,e);var f=ro(a(t),a(e),n,i,o,s);return s.delete(t),f;case M:if(Ur)return Ur.call(t)==Ur.call(e)}return!1}(t,e,c,r,n,o,s);if(!(1&r)){var p=l&&Dt.call(t,"__wrapped__"),y=d&&Dt.call(e,"__wrapped__");if(p||y){var g=p?t.value():t,b=y?e.value():e;return s||(s=new Qr),o(g,b,r,n,s)}}if(!h)return!1;return s||(s=new Qr),function(t,e,r,n,o,s){var a=1&r,u=io(t),c=u.length,f=io(e),l=f.length;if(c!=l&&!a)return!1;var d=c;for(;d--;){var h=u[d];if(!(a?h in e:Dt.call(e,h)))return!1}var p=s.get(t),y=s.get(e);if(p&&y)return p==e&&y==t;var g=!0;s.set(t,e),s.set(e,t);var b=a;for(;++d<c;){var m=t[h=u[d]],v=e[h];if(n)var _=a?n(v,m,h,e,t,s):n(m,v,h,t,e,s);if(!(_===i?m===v||o(m,v,r,n,s):_)){g=!1;break}b||(b="constructor"==h)}if(g&&!b){var w=t.constructor,S=e.constructor;w==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(g=!1)}return s.delete(t),s.delete(e),g}(t,e,r,n,o,s)}(t,e,r,n,Bn,o))}function Rn(t,e,r,n){var o=r.length,s=o,a=!n;if(null==t)return!s;for(t=It(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var c=(u=r[o])[0],f=t[c],l=u[1];if(a&&u[2]){if(f===i&&!(c in t))return!1}else{var d=new Qr;if(n)var h=n(f,l,c,t,e,d);if(!(h===i?Bn(l,f,3,n,d):h))return!1}}return!0}function jn(t){return!(!ea(t)||(e=t,Ut&&Ut in e))&&(Js(t)?zt:mt).test(No(t));var e}function Dn(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Ws(t)?zn(t[0],t[1]):Fn(t):hu(t)}function Ln(t){if(!Eo(t))return Ge(t);var e=[];for(var r in It(t))Dt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Un(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var r in It(t))e.push(r);return e}(t);var e=Eo(t),r=[];for(var n in t)("constructor"!=n||!e&&Dt.call(t,n))&&r.push(n);return r}function Nn(t,e){return t<e}function Hn(t,e){var r=-1,i=Vs(t)?n(t.length):[];return hn(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Fn(t){var e=lo(t);return 1==e.length&&e[0][2]?Io(e[0][0],e[0][1]):function(r){return r===t||Rn(r,t,e)}}function zn(t,e){return So(t)&&ko(e)?Io(Uo(t),e):function(r){var n=Ia(r,t);return n===i&&n===e?Ta(r,t):Bn(e,n,3)}}function Kn(t,e,r,n,o){t!==e&&vn(e,(function(s,a){if(o||(o=new Qr),ea(s))!function(t,e,r,n,o,s,a){var u=Oo(t,r),c=Oo(e,r),f=a.get(c);if(f)return void tn(t,r,f);var l=s?s(u,c,r+"",t,e,a):i,d=l===i;if(d){var h=Ws(c),p=!h&&Qs(c),y=!h&&!p&&fa(c);l=c,h||p||y?Ws(u)?l=u:Gs(u)?l=Oi(u):p?(d=!1,l=xi(c,!0)):y?(d=!1,l=ki(c,!0)):l=[]:oa(c)||qs(c)?(l=u,qs(u)?l=ma(u):ea(u)&&!Js(u)||(l=mo(c))):d=!1}d&&(a.set(c,l),o(l,c,n,s,a),a.delete(c));tn(t,r,l)}(t,e,a,r,Kn,n,o);else{var u=n?n(Oo(t,a),s,a+"",t,e,o):i;u===i&&(u=s),tn(t,a,u)}}),Ba)}function qn(t,e){var r=t.length;if(r)return _o(e+=e<0?r:0,r)?t[e]:i}function Wn(t,e,r){e=e.length?je(e,(function(t){return Ws(t)?function(e){return xn(e,1===t.length?t[0]:t)}:t})):[iu];var n=-1;e=je(e,Ze(co()));var i=Hn(t,(function(t,r,i){var o=je(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(i,(function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;for(;++n<s;){var u=Ii(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function $n(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=xn(t,s);r(a,s)&&ti(o,_i(s,t),a)}return o}function Vn(t,e,r,n){var i=n?qe:Ke,o=-1,s=e.length,a=t;for(t===e&&(e=Oi(e)),r&&(a=je(t,Ze(r)));++o<s;)for(var u=0,c=e[o],f=r?r(c):c;(u=i(a,f,u,n))>-1;)a!==t&&Xt.call(a,u,1),Xt.call(t,u,1);return t}function Gn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;_o(i)?Xt.call(t,i,1):di(t,i)}}return t}function Qn(t,e){return t+ge(Sr()*(e-t+1))}function Xn(t,e){var r="";if(!t||e<1||e>p)return r;do{e%2&&(r+=t),(e=ge(e/2))&&(t+=t)}while(e);return r}function Yn(t,e){return Bo(To(t,e,iu),t+"")}function Jn(t){return Yr(Fa(t))}function Zn(t,e){var r=Fa(t);return Do(r,un(e,0,r.length))}function ti(t,e,r,n){if(!ea(t))return t;for(var o=-1,s=(e=_i(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var c=Uo(e[o]),f=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var l=u[c];(f=n?n(l,c,u):i)===i&&(f=ea(l)?l:_o(e[o+1])?[]:{})}en(u,c,f),u=u[c]}return t}var ei=Or?function(t,e){return Or.set(t,e),t}:iu,ri=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ni(t){return Do(Fa(t))}function ii(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function oi(t,e){var r;return hn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function si(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!ca(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return ai(t,e,iu,r)}function ai(t,e,r,n){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=r(e))!=e,u=null===e,c=ca(e),f=e===i;o<s;){var l=ge((o+s)/2),d=r(t[l]),h=d!==i,p=null===d,y=d==d,g=ca(d);if(a)var b=n||y;else b=f?y&&(n||h):u?y&&h&&(n||!p):c?y&&h&&!p&&(n||!g):!p&&!g&&(n?d<=e:d<e);b?o=l+1:s=l}return vr(s,4294967294)}function ui(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!Fs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ci(t){return"number"==typeof t?t:ca(t)?y:+t}function fi(t){if("string"==typeof t)return t;if(Ws(t))return je(t,fi)+"";if(ca(t))return Nr?Nr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function li(t,e,r){var n=-1,i=Be,o=t.length,s=!0,a=[],u=a;if(r)s=!1,i=Re;else if(o>=200){var c=e?null:Xi(t);if(c)return lr(c);s=!1,i=er,u=new Gr}else u=e?[]:a;t:for(;++n<o;){var f=t[n],l=e?e(f):f;if(f=r||0!==f?f:0,s&&l==l){for(var d=u.length;d--;)if(u[d]===l)continue t;e&&u.push(l),a.push(f)}else i(u,l,r)||(u!==a&&u.push(l),a.push(f))}return a}function di(t,e){return null==(t=Co(t,e=_i(e,t)))||delete t[Uo(Yo(e))]}function hi(t,e,r,n){return ti(t,e,r(xn(t,e)),n)}function pi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?ii(t,n?0:o,n?o+1:i):ii(t,n?o+1:0,n?i:o)}function yi(t,e){var r=t;return r instanceof qr&&(r=r.value()),Le(e,(function(t,e){return e.func.apply(e.thisArg,De([t],e.args))}),r)}function gi(t,e,r){var i=t.length;if(i<2)return i?li(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=dn(s[o]||a,t[u],e,r));return li(mn(s,1),e,r)}function bi(t,e,r){for(var n=-1,o=t.length,s=e.length,a={};++n<o;){var u=n<s?e[n]:i;r(a,t[n],u)}return a}function mi(t){return Gs(t)?t:[]}function vi(t){return"function"==typeof t?t:iu}function _i(t,e){return Ws(t)?t:So(t,e)?[t]:Lo(va(t))}var wi=Yn;function Si(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:ii(t,e,r)}var Ai=ie||function(t){return ye.clearTimeout(t)};function xi(t,e){if(e)return t.slice();var r=t.length,n=$t?$t(r):new t.constructor(r);return t.copy(n),n}function Ei(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function ki(t,e){var r=e?Ei(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ii(t,e){if(t!==e){var r=t!==i,n=null===t,o=t==t,s=ca(t),a=e!==i,u=null===e,c=e==e,f=ca(e);if(!u&&!f&&!s&&t>e||s&&a&&c&&!u&&!f||n&&a&&c||!r&&c||!o)return 1;if(!n&&!s&&!f&&t<e||f&&r&&o&&!n&&!s||u&&r&&o||!a&&o||!c)return-1}return 0}function Ti(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,c=e.length,f=mr(s-a,0),l=n(c+f),d=!i;++u<c;)l[u]=e[u];for(;++o<a;)(d||o<s)&&(l[r[o]]=t[o]);for(;f--;)l[u++]=t[o++];return l}function Ci(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,c=-1,f=e.length,l=mr(s-u,0),d=n(l+f),h=!i;++o<l;)d[o]=t[o];for(var p=o;++c<f;)d[p+c]=e[c];for(;++a<u;)(h||o<s)&&(d[p+r[a]]=t[o++]);return d}function Oi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Pi(t,e,r,n){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=n?n(r[u],t[u],u,r,t):i;c===i&&(c=t[u]),o?sn(r,u,c):en(r,u,c)}return r}function Mi(t,e){return function(r,n){var i=Ws(r)?Te:nn,o=e?e():{};return i(r,t,co(n,2),o)}}function Bi(t){return Yn((function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&wo(r[0],r[1],a)&&(s=o<3?i:s,o=1),e=It(e);++n<o;){var u=r[n];u&&t(e,u,n,s)}return e}))}function Ri(t,e){return function(r,n){if(null==r)return r;if(!Vs(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=It(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function ji(t){return function(e,r,n){for(var i=-1,o=It(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function Di(t){return function(e){var r=ar(e=va(e))?pr(e):i,n=r?r[0]:e.charAt(0),o=r?Si(r,1).join(""):e.slice(1);return n[t]()+o}}function Li(t){return function(e){return Le(Ja(qa(e).replace(te,"")),t,"")}}function Ui(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Fr(t.prototype),n=t.apply(r,e);return ea(n)?n:r}}function Ni(t){return function(e,r,n){var o=It(e);if(!Vs(e)){var s=co(r,3);e=Ma(e),r=function(t){return s(o[t],t,o)}}var a=t(e,r,n);return a>-1?o[s?e[a]:a]:i}}function Hi(t){return no((function(e){var r=e.length,n=r,s=Kr.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new Ot(o);if(s&&!u&&"wrapper"==ao(a))var u=new Kr([],!0)}for(n=u?n:r;++n<r;){var c=ao(a=e[n]),f="wrapper"==c?so(a):i;u=f&&Ao(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?u[ao(f[0])].apply(u,f[3]):1==a.length&&Ao(a)?u[c]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Ws(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function Fi(t,e,r,o,s,a,u,c,f,d){var h=e&l,p=1&e,y=2&e,g=24&e,b=512&e,m=y?i:Ui(t);return function l(){for(var v=arguments.length,_=n(v),w=v;w--;)_[w]=arguments[w];if(g)var S=uo(l),A=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(_,S);if(o&&(_=Ti(_,o,s,g)),a&&(_=Ci(_,a,u,g)),v-=A,g&&v<d){var x=fr(_,S);return Gi(t,e,Fi,l.placeholder,r,_,x,c,f,d-v)}var E=p?r:this,k=y?E[t]:t;return v=_.length,c?_=function(t,e){var r=t.length,n=vr(e.length,r),o=Oi(t);for(;n--;){var s=e[n];t[n]=_o(s,r)?o[s]:i}return t}(_,c):b&&v>1&&_.reverse(),h&&f<v&&(_.length=f),this&&this!==ye&&this instanceof l&&(k=m||Ui(k)),k.apply(E,_)}}function zi(t,e){return function(r,n){return function(t,e,r,n){return wn(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function Ki(t,e){return function(r,n){var o;if(r===i&&n===i)return e;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=fi(r),n=fi(n)):(r=ci(r),n=ci(n)),o=t(r,n)}return o}}function qi(t){return no((function(e){return e=je(e,Ze(co())),Yn((function(r){var n=this;return t(e,(function(t){return Ie(t,n,r)}))}))}))}function Wi(t,e){var r=(e=e===i?" ":fi(e)).length;if(r<2)return r?Xn(e,t):e;var n=Xn(e,pe(t/hr(e)));return ar(e)?Si(pr(n),0,t).join(""):n.slice(0,t)}function $i(t){return function(e,r,o){return o&&"number"!=typeof o&&wo(e,r,o)&&(r=o=i),e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r,i){for(var o=-1,s=mr(pe((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,o=o===i?e<r?1:-1:pa(o),t)}}function Vi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ba(e),r=ba(r)),t(e,r)}}function Gi(t,e,r,n,o,s,a,u,l,d){var h=8&e;e|=h?c:f,4&(e&=~(h?f:c))||(e&=-4);var p=[t,e,o,h?s:i,h?a:i,h?i:s,h?i:a,u,l,d],y=r.apply(i,p);return Ao(t)&&Po(y,p),y.placeholder=n,Ro(y,t,e)}function Qi(t){var e=kt[t];return function(t,r){if(t=ba(t),(r=null==r?0:vr(ya(r),292))&&_e(t)){var n=(va(t)+"e").split("e");return+((n=(va(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Xi=Ir&&1/lr(new Ir([,-0]))[1]==h?function(t){return new Ir(t)}:cu;function Yi(t){return function(e){var r=go(e);return r==E?ur(e):r==O?dr(e):function(t,e){return je(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ji(t,e,r,s,h,p,y,g){var b=2&e;if(!b&&"function"!=typeof t)throw new Ot(o);var m=s?s.length:0;if(m||(e&=-97,s=h=i),y=y===i?y:mr(ya(y),0),g=g===i?g:ya(g),m-=h?h.length:0,e&f){var v=s,_=h;s=h=i}var w=b?i:so(t),S=[t,e,r,s,h,v,_,p,y,g];if(w&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,s=n==l&&8==r||n==l&&r==d&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!s)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Ti(c,u,e[4]):u,t[4]=c?fr(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Ci(c,u,e[6]):u,t[6]=c?fr(t[5],a):e[6]);(u=e[7])&&(t[7]=u);n&l&&(t[8]=null==t[8]?e[8]:vr(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(S,w),t=S[0],e=S[1],r=S[2],s=S[3],h=S[4],!(g=S[9]=S[9]===i?b?0:t.length:mr(S[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)A=8==e||e==u?function(t,e,r){var o=Ui(t);return function s(){for(var a=arguments.length,u=n(a),c=a,f=uo(s);c--;)u[c]=arguments[c];var l=a<3&&u[0]!==f&&u[a-1]!==f?[]:fr(u,f);return(a-=l.length)<r?Gi(t,e,Fi,s.placeholder,i,u,l,i,i,r-a):Ie(this&&this!==ye&&this instanceof s?o:t,this,u)}}(t,e,g):e!=c&&33!=e||h.length?Fi.apply(i,S):function(t,e,r,i){var o=1&e,s=Ui(t);return function e(){for(var a=-1,u=arguments.length,c=-1,f=i.length,l=n(f+u),d=this&&this!==ye&&this instanceof e?s:t;++c<f;)l[c]=i[c];for(;u--;)l[c++]=arguments[++a];return Ie(d,o?r:this,l)}}(t,e,r,s);else var A=function(t,e,r){var n=1&e,i=Ui(t);return function e(){return(this&&this!==ye&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return Ro((w?ei:Po)(A,S),t,e)}function Zi(t,e,r,n){return t===i||Fs(t,Bt[r])&&!Dt.call(n,r)?e:t}function to(t,e,r,n,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Kn(t,e,i,to,s),s.delete(e)),t}function eo(t){return oa(t)?i:t}function ro(t,e,r,n,o,s){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var f=s.get(t),l=s.get(e);if(f&&l)return f==e&&l==t;var d=-1,h=!0,p=2&r?new Gr:i;for(s.set(t,e),s.set(e,t);++d<u;){var y=t[d],g=e[d];if(n)var b=a?n(g,y,d,e,t,s):n(y,g,d,t,e,s);if(b!==i){if(b)continue;h=!1;break}if(p){if(!Ne(e,(function(t,e){if(!er(p,e)&&(y===t||o(y,t,r,n,s)))return p.push(e)}))){h=!1;break}}else if(y!==g&&!o(y,g,r,n,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function no(t){return Bo(To(t,i,$o),t+"")}function io(t){return En(t,Ma,po)}function oo(t){return En(t,Ba,yo)}var so=Or?function(t){return Or.get(t)}:cu;function ao(t){for(var e=t.name+"",r=Pr[e],n=Dt.call(Pr,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Dt.call(Hr,"placeholder")?Hr:t).placeholder}function co(){var t=Hr.iteratee||ou;return t=t===ou?Dn:t,arguments.length?t(arguments[0],arguments[1]):t}function fo(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function lo(t){for(var e=Ma(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ko(i)]}return e}function ho(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return jn(r)?r:i}var po=be?function(t){return null==t?[]:(t=It(t),Me(be(t),(function(e){return Qt.call(t,e)})))}:gu,yo=be?function(t){for(var e=[];t;)De(e,po(t)),t=Vt(t);return e}:gu,go=kn;function bo(t,e,r){for(var n=-1,i=(e=_i(e,t)).length,o=!1;++n<i;){var s=Uo(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&_o(s,i)&&(Ws(t)||qs(t))}function mo(t){return"function"!=typeof t.constructor||Eo(t)?{}:Fr(Vt(t))}function vo(t){return Ws(t)||qs(t)||!!(Yt&&t&&t[Yt])}function _o(t,e){var r=typeof t;return!!(e=null==e?p:e)&&("number"==r||"symbol"!=r&&_t.test(t))&&t>-1&&t%1==0&&t<e}function wo(t,e,r){if(!ea(r))return!1;var n=typeof e;return!!("number"==n?Vs(r)&&_o(e,r.length):"string"==n&&e in r)&&Fs(r[e],t)}function So(t,e){if(Ws(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ca(t))||(rt.test(t)||!et.test(t)||null!=e&&t in It(e))}function Ao(t){var e=ao(t),r=Hr[e];if("function"!=typeof r||!(e in qr.prototype))return!1;if(t===r)return!0;var n=so(r);return!!n&&t===n[0]}(xr&&go(new xr(new ArrayBuffer(1)))!=j||Er&&go(new Er)!=E||kr&&go(kr.resolve())!=T||Ir&&go(new Ir)!=O||Tr&&go(new Tr)!=B)&&(go=function(t){var e=kn(t),r=e==I?t.constructor:i,n=r?No(r):"";if(n)switch(n){case Mr:return j;case Br:return E;case Rr:return T;case jr:return O;case Dr:return B}return e});var xo=Rt?Js:bu;function Eo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)}function ko(t){return t==t&&!ea(t)}function Io(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==i||t in It(r)))}}function To(t,e,r){return e=mr(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=mr(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),Ie(t,this,u)}}function Co(t,e){return e.length<2?t:xn(t,ii(e,0,-1))}function Oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Po=jo(ei),Mo=he||function(t,e){return ye.setTimeout(t,e)},Bo=jo(ri);function Ro(t,e,r){var n=e+"";return Bo(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Ce(b,(function(r){var n="_."+r[0];e&r[1]&&!Be(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ft):[]}(n),r)))}function jo(t){var e=0,r=0;return function(){var n=_r(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Do(t,e){var r=-1,n=t.length,o=n-1;for(e=e===i?n:e;++r<e;){var s=Qn(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var Lo=function(t){var e=js(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,r,n,i){e.push(n?i.replace(ht,"$1"):r||t)})),e}));function Uo(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function No(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ho(t){if(t instanceof qr)return t.clone();var e=new Kr(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Fo=Yn((function(t,e){return Gs(t)?dn(t,mn(e,1,Gs,!0)):[]})),zo=Yn((function(t,e){var r=Yo(e);return Gs(r)&&(r=i),Gs(t)?dn(t,mn(e,1,Gs,!0),co(r,2)):[]})),Ko=Yn((function(t,e){var r=Yo(e);return Gs(r)&&(r=i),Gs(t)?dn(t,mn(e,1,Gs,!0),i,r):[]}));function qo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ya(r);return i<0&&(i=mr(n+i,0)),ze(t,co(e,3),i)}function Wo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return r!==i&&(o=ya(r),o=r<0?mr(n+o,0):vr(o,n-1)),ze(t,co(e,3),o,!0)}function $o(t){return(null==t?0:t.length)?mn(t,1):[]}function Vo(t){return t&&t.length?t[0]:i}var Go=Yn((function(t){var e=je(t,mi);return e.length&&e[0]===t[0]?On(e):[]})),Qo=Yn((function(t){var e=Yo(t),r=je(t,mi);return e===Yo(r)?e=i:r.pop(),r.length&&r[0]===t[0]?On(r,co(e,2)):[]})),Xo=Yn((function(t){var e=Yo(t),r=je(t,mi);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?On(r,i,e):[]}));function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Jo=Yn(Zo);function Zo(t,e){return t&&t.length&&e&&e.length?Vn(t,e):t}var ts=no((function(t,e){var r=null==t?0:t.length,n=an(t,e);return Gn(t,je(e,(function(t){return _o(t,r)?+t:t})).sort(Ii)),n}));function es(t){return null==t?t:Ar.call(t)}var rs=Yn((function(t){return li(mn(t,1,Gs,!0))})),ns=Yn((function(t){var e=Yo(t);return Gs(e)&&(e=i),li(mn(t,1,Gs,!0),co(e,2))})),is=Yn((function(t){var e=Yo(t);return e="function"==typeof e?e:i,li(mn(t,1,Gs,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=Me(t,(function(t){if(Gs(t))return e=mr(t.length,e),!0})),Ye(e,(function(e){return je(t,Ve(e))}))}function ss(t,e){if(!t||!t.length)return[];var r=os(t);return null==e?r:je(r,(function(t){return Ie(e,i,t)}))}var as=Yn((function(t,e){return Gs(t)?dn(t,e):[]})),us=Yn((function(t){return gi(Me(t,Gs))})),cs=Yn((function(t){var e=Yo(t);return Gs(e)&&(e=i),gi(Me(t,Gs),co(e,2))})),fs=Yn((function(t){var e=Yo(t);return e="function"==typeof e?e:i,gi(Me(t,Gs),i,e)})),ls=Yn(os);var ds=Yn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,ss(t,r)}));function hs(t){var e=Hr(t);return e.__chain__=!0,e}function ps(t,e){return e(t)}var ys=no((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return an(e,t)};return!(e>1||this.__actions__.length)&&n instanceof qr&&_o(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Kr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var gs=Mi((function(t,e,r){Dt.call(t,r)?++t[r]:sn(t,r,1)}));var bs=Ni(qo),ms=Ni(Wo);function vs(t,e){return(Ws(t)?Ce:hn)(t,co(e,3))}function _s(t,e){return(Ws(t)?Oe:pn)(t,co(e,3))}var ws=Mi((function(t,e,r){Dt.call(t,r)?t[r].push(e):sn(t,r,[e])}));var Ss=Yn((function(t,e,r){var i=-1,o="function"==typeof e,s=Vs(t)?n(t.length):[];return hn(t,(function(t){s[++i]=o?Ie(e,t,r):Pn(t,e,r)})),s})),As=Mi((function(t,e,r){sn(t,r,e)}));function xs(t,e){return(Ws(t)?je:Hn)(t,co(e,3))}var Es=Mi((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var ks=Yn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&wo(t,e[0],e[1])?e=[]:r>2&&wo(e[0],e[1],e[2])&&(e=[e[0]]),Wn(t,mn(e,1),[])})),Is=fe||function(){return ye.Date.now()};function Ts(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,Ji(t,l,i,i,i,i,e)}function Cs(t,e){var r;if("function"!=typeof e)throw new Ot(o);return t=ya(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var Os=Yn((function(t,e,r){var n=1;if(r.length){var i=fr(r,uo(Os));n|=c}return Ji(t,n,e,r,i)})),Ps=Yn((function(t,e,r){var n=3;if(r.length){var i=fr(r,uo(Ps));n|=c}return Ji(e,n,t,r,i)}));function Ms(t,e,r){var n,s,a,u,c,f,l=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new Ot(o);function y(e){var r=n,o=s;return n=s=i,l=e,u=t.apply(o,r)}function g(t){var r=t-f;return f===i||r>=e||r<0||h&&t-l>=a}function b(){var t=Is();if(g(t))return m(t);c=Mo(b,function(t){var r=e-(t-f);return h?vr(r,a-(t-l)):r}(t))}function m(t){return c=i,p&&n?y(t):(n=s=i,u)}function v(){var t=Is(),r=g(t);if(n=arguments,s=this,f=t,r){if(c===i)return function(t){return l=t,c=Mo(b,e),d?y(t):u}(f);if(h)return Ai(c),c=Mo(b,e),y(f)}return c===i&&(c=Mo(b,e)),u}return e=ba(e)||0,ea(r)&&(d=!!r.leading,a=(h="maxWait"in r)?mr(ba(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),v.cancel=function(){c!==i&&Ai(c),l=0,n=f=s=c=i},v.flush=function(){return c===i?u:m(Is())},v}var Bs=Yn((function(t,e){return ln(t,1,e)})),Rs=Yn((function(t,e,r){return ln(t,ba(e)||0,r)}));function js(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(js.Cache||Vr),r}function Ds(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}js.Cache=Vr;var Ls=wi((function(t,e){var r=(e=1==e.length&&Ws(e[0])?je(e[0],Ze(co())):je(mn(e,1),Ze(co()))).length;return Yn((function(n){for(var i=-1,o=vr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return Ie(t,this,n)}))})),Us=Yn((function(t,e){var r=fr(e,uo(Us));return Ji(t,c,i,e,r)})),Ns=Yn((function(t,e){var r=fr(e,uo(Ns));return Ji(t,f,i,e,r)})),Hs=no((function(t,e){return Ji(t,d,i,i,i,e)}));function Fs(t,e){return t===e||t!=t&&e!=e}var zs=Vi(In),Ks=Vi((function(t,e){return t>=e})),qs=Mn(function(){return arguments}())?Mn:function(t){return ra(t)&&Dt.call(t,"callee")&&!Qt.call(t,"callee")},Ws=n.isArray,$s=we?Ze(we):function(t){return ra(t)&&kn(t)==R};function Vs(t){return null!=t&&ta(t.length)&&!Js(t)}function Gs(t){return ra(t)&&Vs(t)}var Qs=ve||bu,Xs=Se?Ze(Se):function(t){return ra(t)&&kn(t)==w};function Ys(t){if(!ra(t))return!1;var e=kn(t);return e==S||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Js(t){if(!ea(t))return!1;var e=kn(t);return e==A||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zs(t){return"number"==typeof t&&t==ya(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var na=Ae?Ze(Ae):function(t){return ra(t)&&go(t)==E};function ia(t){return"number"==typeof t||ra(t)&&kn(t)==k}function oa(t){if(!ra(t)||kn(t)!=I)return!1;var e=Vt(t);if(null===e)return!0;var r=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&jt.call(r)==Ht}var sa=xe?Ze(xe):function(t){return ra(t)&&kn(t)==C};var aa=Ee?Ze(Ee):function(t){return ra(t)&&go(t)==O};function ua(t){return"string"==typeof t||!Ws(t)&&ra(t)&&kn(t)==P}function ca(t){return"symbol"==typeof t||ra(t)&&kn(t)==M}var fa=ke?Ze(ke):function(t){return ra(t)&&ta(t.length)&&!!ue[kn(t)]};var la=Vi(Nn),da=Vi((function(t,e){return t<=e}));function ha(t){if(!t)return[];if(Vs(t))return ua(t)?pr(t):Oi(t);if(Jt&&t[Jt])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Jt]());var e=go(t);return(e==E?ur:e==O?lr:Fa)(t)}function pa(t){return t?(t=ba(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ya(t){var e=pa(t),r=e%1;return e==e?r?e-r:e:0}function ga(t){return t?un(ya(t),0,g):0}function ba(t){if("number"==typeof t)return t;if(ca(t))return y;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var r=bt.test(t);return r||vt.test(t)?de(t.slice(2),r?2:8):gt.test(t)?y:+t}function ma(t){return Pi(t,Ba(t))}function va(t){return null==t?"":fi(t)}var _a=Bi((function(t,e){if(Eo(e)||Vs(e))Pi(e,Ma(e),t);else for(var r in e)Dt.call(e,r)&&en(t,r,e[r])})),wa=Bi((function(t,e){Pi(e,Ba(e),t)})),Sa=Bi((function(t,e,r,n){Pi(e,Ba(e),t,n)})),Aa=Bi((function(t,e,r,n){Pi(e,Ma(e),t,n)})),xa=no(an);var Ea=Yn((function(t,e){t=It(t);var r=-1,n=e.length,o=n>2?e[2]:i;for(o&&wo(e[0],e[1],o)&&(n=1);++r<n;)for(var s=e[r],a=Ba(s),u=-1,c=a.length;++u<c;){var f=a[u],l=t[f];(l===i||Fs(l,Bt[f])&&!Dt.call(t,f))&&(t[f]=s[f])}return t})),ka=Yn((function(t){return t.push(i,to),Ie(ja,i,t)}));function Ia(t,e,r){var n=null==t?i:xn(t,e);return n===i?r:n}function Ta(t,e){return null!=t&&bo(t,e,Cn)}var Ca=zi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),t[e]=r}),eu(iu)),Oa=zi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),Dt.call(t,e)?t[e].push(r):t[e]=[r]}),co),Pa=Yn(Pn);function Ma(t){return Vs(t)?Xr(t):Ln(t)}function Ba(t){return Vs(t)?Xr(t,!0):Un(t)}var Ra=Bi((function(t,e,r){Kn(t,e,r)})),ja=Bi((function(t,e,r,n){Kn(t,e,r,n)})),Da=no((function(t,e){var r={};if(null==t)return r;var n=!1;e=je(e,(function(e){return e=_i(e,t),n||(n=e.length>1),e})),Pi(t,oo(t),r),n&&(r=cn(r,7,eo));for(var i=e.length;i--;)di(r,e[i]);return r}));var La=no((function(t,e){return null==t?{}:function(t,e){return $n(t,e,(function(e,r){return Ta(t,r)}))}(t,e)}));function Ua(t,e){if(null==t)return{};var r=je(oo(t),(function(t){return[t]}));return e=co(e),$n(t,r,(function(t,r){return e(t,r[0])}))}var Na=Yi(Ma),Ha=Yi(Ba);function Fa(t){return null==t?[]:tr(t,Ma(t))}var za=Li((function(t,e,r){return e=e.toLowerCase(),t+(r?Ka(e):e)}));function Ka(t){return Ya(va(t).toLowerCase())}function qa(t){return(t=va(t))&&t.replace(wt,ir).replace(ee,"")}var Wa=Li((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),$a=Li((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Va=Di("toLowerCase");var Ga=Li((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Qa=Li((function(t,e,r){return t+(r?" ":"")+Ya(e)}));var Xa=Li((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ya=Di("toUpperCase");function Ja(t,e,r){return t=va(t),(e=r?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Za=Yn((function(t,e){try{return Ie(t,i,e)}catch(t){return Ys(t)?t:new xt(t)}})),tu=no((function(t,e){return Ce(e,(function(e){e=Uo(e),sn(t,e,Os(t[e],t))})),t}));function eu(t){return function(){return t}}var ru=Hi(),nu=Hi(!0);function iu(t){return t}function ou(t){return Dn("function"==typeof t?t:cn(t,1))}var su=Yn((function(t,e){return function(r){return Pn(r,t,e)}})),au=Yn((function(t,e){return function(r){return Pn(t,r,e)}}));function uu(t,e,r){var n=Ma(e),i=An(e,n);null!=r||ea(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=An(e,Ma(e)));var o=!(ea(r)&&"chain"in r&&!r.chain),s=Js(t);return Ce(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__);return(r.__actions__=Oi(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,De([this.value()],arguments))})})),t}function cu(){}var fu=qi(je),lu=qi(Pe),du=qi(Ne);function hu(t){return So(t)?Ve(Uo(t)):function(t){return function(e){return xn(e,t)}}(t)}var pu=$i(),yu=$i(!0);function gu(){return[]}function bu(){return!1}var mu=Ki((function(t,e){return t+e}),0),vu=Qi("ceil"),_u=Ki((function(t,e){return t/e}),1),wu=Qi("floor");var Su,Au=Ki((function(t,e){return t*e}),1),xu=Qi("round"),Eu=Ki((function(t,e){return t-e}),0);return Hr.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=ya(t),function(){if(--t<1)return e.apply(this,arguments)}},Hr.ary=Ts,Hr.assign=_a,Hr.assignIn=wa,Hr.assignInWith=Sa,Hr.assignWith=Aa,Hr.at=xa,Hr.before=Cs,Hr.bind=Os,Hr.bindAll=tu,Hr.bindKey=Ps,Hr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ws(t)?t:[t]},Hr.chain=hs,Hr.chunk=function(t,e,r){e=(r?wo(t,e,r):e===i)?1:mr(ya(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=n(pe(o/e));s<o;)u[a++]=ii(t,s,s+=e);return u},Hr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},Hr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return De(Ws(r)?Oi(r):[r],mn(e,1))},Hr.cond=function(t){var e=null==t?0:t.length,r=co();return t=e?je(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[r(t[0]),t[1]]})):[],Yn((function(r){for(var n=-1;++n<e;){var i=t[n];if(Ie(i[0],this,r))return Ie(i[1],this,r)}}))},Hr.conforms=function(t){return function(t){var e=Ma(t);return function(r){return fn(r,t,e)}}(cn(t,1))},Hr.constant=eu,Hr.countBy=gs,Hr.create=function(t,e){var r=Fr(t);return null==e?r:on(r,e)},Hr.curry=function t(e,r,n){var o=Ji(e,8,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Hr.curryRight=function t(e,r,n){var o=Ji(e,u,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Hr.debounce=Ms,Hr.defaults=Ea,Hr.defaultsDeep=ka,Hr.defer=Bs,Hr.delay=Rs,Hr.difference=Fo,Hr.differenceBy=zo,Hr.differenceWith=Ko,Hr.drop=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,(e=r||e===i?1:ya(e))<0?0:e,n):[]},Hr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,0,(e=n-(e=r||e===i?1:ya(e)))<0?0:e):[]},Hr.dropRightWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!0,!0):[]},Hr.dropWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!0):[]},Hr.fill=function(t,e,r,n){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&wo(t,e,r)&&(r=0,n=o),function(t,e,r,n){var o=t.length;for((r=ya(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:ya(n))<0&&(n+=o),n=r>n?0:ga(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Hr.filter=function(t,e){return(Ws(t)?Me:bn)(t,co(e,3))},Hr.flatMap=function(t,e){return mn(xs(t,e),1)},Hr.flatMapDeep=function(t,e){return mn(xs(t,e),h)},Hr.flatMapDepth=function(t,e,r){return r=r===i?1:ya(r),mn(xs(t,e),r)},Hr.flatten=$o,Hr.flattenDeep=function(t){return(null==t?0:t.length)?mn(t,h):[]},Hr.flattenDepth=function(t,e){return(null==t?0:t.length)?mn(t,e=e===i?1:ya(e)):[]},Hr.flip=function(t){return Ji(t,512)},Hr.flow=ru,Hr.flowRight=nu,Hr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Hr.functions=function(t){return null==t?[]:An(t,Ma(t))},Hr.functionsIn=function(t){return null==t?[]:An(t,Ba(t))},Hr.groupBy=ws,Hr.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},Hr.intersection=Go,Hr.intersectionBy=Qo,Hr.intersectionWith=Xo,Hr.invert=Ca,Hr.invertBy=Oa,Hr.invokeMap=Ss,Hr.iteratee=ou,Hr.keyBy=As,Hr.keys=Ma,Hr.keysIn=Ba,Hr.map=xs,Hr.mapKeys=function(t,e){var r={};return e=co(e,3),wn(t,(function(t,n,i){sn(r,e(t,n,i),t)})),r},Hr.mapValues=function(t,e){var r={};return e=co(e,3),wn(t,(function(t,n,i){sn(r,n,e(t,n,i))})),r},Hr.matches=function(t){return Fn(cn(t,1))},Hr.matchesProperty=function(t,e){return zn(t,cn(e,1))},Hr.memoize=js,Hr.merge=Ra,Hr.mergeWith=ja,Hr.method=su,Hr.methodOf=au,Hr.mixin=uu,Hr.negate=Ds,Hr.nthArg=function(t){return t=ya(t),Yn((function(e){return qn(e,t)}))},Hr.omit=Da,Hr.omitBy=function(t,e){return Ua(t,Ds(co(e)))},Hr.once=function(t){return Cs(2,t)},Hr.orderBy=function(t,e,r,n){return null==t?[]:(Ws(e)||(e=null==e?[]:[e]),Ws(r=n?i:r)||(r=null==r?[]:[r]),Wn(t,e,r))},Hr.over=fu,Hr.overArgs=Ls,Hr.overEvery=lu,Hr.overSome=du,Hr.partial=Us,Hr.partialRight=Ns,Hr.partition=Es,Hr.pick=La,Hr.pickBy=Ua,Hr.property=hu,Hr.propertyOf=function(t){return function(e){return null==t?i:xn(t,e)}},Hr.pull=Jo,Hr.pullAll=Zo,Hr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Vn(t,e,co(r,2)):t},Hr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Vn(t,e,i,r):t},Hr.pullAt=ts,Hr.range=pu,Hr.rangeRight=yu,Hr.rearg=Hs,Hr.reject=function(t,e){return(Ws(t)?Me:bn)(t,Ds(co(e,3)))},Hr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=co(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Gn(t,i),r},Hr.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return Yn(t,e=e===i?e:ya(e))},Hr.reverse=es,Hr.sampleSize=function(t,e,r){return e=(r?wo(t,e,r):e===i)?1:ya(e),(Ws(t)?Jr:Zn)(t,e)},Hr.set=function(t,e,r){return null==t?t:ti(t,e,r)},Hr.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:ti(t,e,r,n)},Hr.shuffle=function(t){return(Ws(t)?Zr:ni)(t)},Hr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&wo(t,e,r)?(e=0,r=n):(e=null==e?0:ya(e),r=r===i?n:ya(r)),ii(t,e,r)):[]},Hr.sortBy=ks,Hr.sortedUniq=function(t){return t&&t.length?ui(t):[]},Hr.sortedUniqBy=function(t,e){return t&&t.length?ui(t,co(e,2)):[]},Hr.split=function(t,e,r){return r&&"number"!=typeof r&&wo(t,e,r)&&(e=r=i),(r=r===i?g:r>>>0)?(t=va(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=fi(e))&&ar(t)?Si(pr(t),0,r):t.split(e,r):[]},Hr.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:mr(ya(e),0),Yn((function(r){var n=r[e],i=Si(r,0,e);return n&&De(i,n),Ie(t,this,i)}))},Hr.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},Hr.take=function(t,e,r){return t&&t.length?ii(t,0,(e=r||e===i?1:ya(e))<0?0:e):[]},Hr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,(e=n-(e=r||e===i?1:ya(e)))<0?0:e,n):[]},Hr.takeRightWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!1,!0):[]},Hr.takeWhile=function(t,e){return t&&t.length?pi(t,co(e,3)):[]},Hr.tap=function(t,e){return e(t),t},Hr.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Ot(o);return ea(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ms(t,e,{leading:n,maxWait:e,trailing:i})},Hr.thru=ps,Hr.toArray=ha,Hr.toPairs=Na,Hr.toPairsIn=Ha,Hr.toPath=function(t){return Ws(t)?je(t,Uo):ca(t)?[t]:Oi(Lo(va(t)))},Hr.toPlainObject=ma,Hr.transform=function(t,e,r){var n=Ws(t),i=n||Qs(t)||fa(t);if(e=co(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:ea(t)&&Js(o)?Fr(Vt(t)):{}}return(i?Ce:wn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Hr.unary=function(t){return Ts(t,1)},Hr.union=rs,Hr.unionBy=ns,Hr.unionWith=is,Hr.uniq=function(t){return t&&t.length?li(t):[]},Hr.uniqBy=function(t,e){return t&&t.length?li(t,co(e,2)):[]},Hr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?li(t,i,e):[]},Hr.unset=function(t,e){return null==t||di(t,e)},Hr.unzip=os,Hr.unzipWith=ss,Hr.update=function(t,e,r){return null==t?t:hi(t,e,vi(r))},Hr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:hi(t,e,vi(r),n)},Hr.values=Fa,Hr.valuesIn=function(t){return null==t?[]:tr(t,Ba(t))},Hr.without=as,Hr.words=Ja,Hr.wrap=function(t,e){return Us(vi(e),t)},Hr.xor=us,Hr.xorBy=cs,Hr.xorWith=fs,Hr.zip=ls,Hr.zipObject=function(t,e){return bi(t||[],e||[],en)},Hr.zipObjectDeep=function(t,e){return bi(t||[],e||[],ti)},Hr.zipWith=ds,Hr.entries=Na,Hr.entriesIn=Ha,Hr.extend=wa,Hr.extendWith=Sa,uu(Hr,Hr),Hr.add=mu,Hr.attempt=Za,Hr.camelCase=za,Hr.capitalize=Ka,Hr.ceil=vu,Hr.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=ba(r))==r?r:0),e!==i&&(e=(e=ba(e))==e?e:0),un(ba(t),e,r)},Hr.clone=function(t){return cn(t,4)},Hr.cloneDeep=function(t){return cn(t,5)},Hr.cloneDeepWith=function(t,e){return cn(t,5,e="function"==typeof e?e:i)},Hr.cloneWith=function(t,e){return cn(t,4,e="function"==typeof e?e:i)},Hr.conformsTo=function(t,e){return null==e||fn(t,e,Ma(e))},Hr.deburr=qa,Hr.defaultTo=function(t,e){return null==t||t!=t?e:t},Hr.divide=_u,Hr.endsWith=function(t,e,r){t=va(t),e=fi(e);var n=t.length,o=r=r===i?n:un(ya(r),0,n);return(r-=e.length)>=0&&t.slice(r,o)==e},Hr.eq=Fs,Hr.escape=function(t){return(t=va(t))&&Y.test(t)?t.replace(Q,or):t},Hr.escapeRegExp=function(t){return(t=va(t))&&ot.test(t)?t.replace(it,"\\$&"):t},Hr.every=function(t,e,r){var n=Ws(t)?Pe:yn;return r&&wo(t,e,r)&&(e=i),n(t,co(e,3))},Hr.find=bs,Hr.findIndex=qo,Hr.findKey=function(t,e){return Fe(t,co(e,3),wn)},Hr.findLast=ms,Hr.findLastIndex=Wo,Hr.findLastKey=function(t,e){return Fe(t,co(e,3),Sn)},Hr.floor=wu,Hr.forEach=vs,Hr.forEachRight=_s,Hr.forIn=function(t,e){return null==t?t:vn(t,co(e,3),Ba)},Hr.forInRight=function(t,e){return null==t?t:_n(t,co(e,3),Ba)},Hr.forOwn=function(t,e){return t&&wn(t,co(e,3))},Hr.forOwnRight=function(t,e){return t&&Sn(t,co(e,3))},Hr.get=Ia,Hr.gt=zs,Hr.gte=Ks,Hr.has=function(t,e){return null!=t&&bo(t,e,Tn)},Hr.hasIn=Ta,Hr.head=Vo,Hr.identity=iu,Hr.includes=function(t,e,r,n){t=Vs(t)?t:Fa(t),r=r&&!n?ya(r):0;var i=t.length;return r<0&&(r=mr(i+r,0)),ua(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Ke(t,e,r)>-1},Hr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ya(r);return i<0&&(i=mr(n+i,0)),Ke(t,e,i)},Hr.inRange=function(t,e,r){return e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r){return t>=vr(e,r)&&t<mr(e,r)}(t=ba(t),e,r)},Hr.invoke=Pa,Hr.isArguments=qs,Hr.isArray=Ws,Hr.isArrayBuffer=$s,Hr.isArrayLike=Vs,Hr.isArrayLikeObject=Gs,Hr.isBoolean=function(t){return!0===t||!1===t||ra(t)&&kn(t)==_},Hr.isBuffer=Qs,Hr.isDate=Xs,Hr.isElement=function(t){return ra(t)&&1===t.nodeType&&!oa(t)},Hr.isEmpty=function(t){if(null==t)return!0;if(Vs(t)&&(Ws(t)||"string"==typeof t||"function"==typeof t.splice||Qs(t)||fa(t)||qs(t)))return!t.length;var e=go(t);if(e==E||e==O)return!t.size;if(Eo(t))return!Ln(t).length;for(var r in t)if(Dt.call(t,r))return!1;return!0},Hr.isEqual=function(t,e){return Bn(t,e)},Hr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?Bn(t,e,i,r):!!n},Hr.isError=Ys,Hr.isFinite=function(t){return"number"==typeof t&&_e(t)},Hr.isFunction=Js,Hr.isInteger=Zs,Hr.isLength=ta,Hr.isMap=na,Hr.isMatch=function(t,e){return t===e||Rn(t,e,lo(e))},Hr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Rn(t,e,lo(e),r)},Hr.isNaN=function(t){return ia(t)&&t!=+t},Hr.isNative=function(t){if(xo(t))throw new xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jn(t)},Hr.isNil=function(t){return null==t},Hr.isNull=function(t){return null===t},Hr.isNumber=ia,Hr.isObject=ea,Hr.isObjectLike=ra,Hr.isPlainObject=oa,Hr.isRegExp=sa,Hr.isSafeInteger=function(t){return Zs(t)&&t>=-9007199254740991&&t<=p},Hr.isSet=aa,Hr.isString=ua,Hr.isSymbol=ca,Hr.isTypedArray=fa,Hr.isUndefined=function(t){return t===i},Hr.isWeakMap=function(t){return ra(t)&&go(t)==B},Hr.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==kn(t)},Hr.join=function(t,e){return null==t?"":He.call(t,e)},Hr.kebabCase=Wa,Hr.last=Yo,Hr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=ya(r))<0?mr(n+o,0):vr(o,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):ze(t,We,o,!0)},Hr.lowerCase=$a,Hr.lowerFirst=Va,Hr.lt=la,Hr.lte=da,Hr.max=function(t){return t&&t.length?gn(t,iu,In):i},Hr.maxBy=function(t,e){return t&&t.length?gn(t,co(e,2),In):i},Hr.mean=function(t){return $e(t,iu)},Hr.meanBy=function(t,e){return $e(t,co(e,2))},Hr.min=function(t){return t&&t.length?gn(t,iu,Nn):i},Hr.minBy=function(t,e){return t&&t.length?gn(t,co(e,2),Nn):i},Hr.stubArray=gu,Hr.stubFalse=bu,Hr.stubObject=function(){return{}},Hr.stubString=function(){return""},Hr.stubTrue=function(){return!0},Hr.multiply=Au,Hr.nth=function(t,e){return t&&t.length?qn(t,ya(e)):i},Hr.noConflict=function(){return ye._===this&&(ye._=Ft),this},Hr.noop=cu,Hr.now=Is,Hr.pad=function(t,e,r){t=va(t);var n=(e=ya(e))?hr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Wi(ge(i),r)+t+Wi(pe(i),r)},Hr.padEnd=function(t,e,r){t=va(t);var n=(e=ya(e))?hr(t):0;return e&&n<e?t+Wi(e-n,r):t},Hr.padStart=function(t,e,r){t=va(t);var n=(e=ya(e))?hr(t):0;return e&&n<e?Wi(e-n,r)+t:t},Hr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),wr(va(t).replace(st,""),e||0)},Hr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&wo(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=Sr();return vr(t+o*(e-t+le("1e-"+((o+"").length-1))),e)}return Qn(t,e)},Hr.reduce=function(t,e,r){var n=Ws(t)?Le:Qe,i=arguments.length<3;return n(t,co(e,4),r,i,hn)},Hr.reduceRight=function(t,e,r){var n=Ws(t)?Ue:Qe,i=arguments.length<3;return n(t,co(e,4),r,i,pn)},Hr.repeat=function(t,e,r){return e=(r?wo(t,e,r):e===i)?1:ya(e),Xn(va(t),e)},Hr.replace=function(){var t=arguments,e=va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Hr.result=function(t,e,r){var n=-1,o=(e=_i(e,t)).length;for(o||(o=1,t=i);++n<o;){var s=null==t?i:t[Uo(e[n])];s===i&&(n=o,s=r),t=Js(s)?s.call(t):s}return t},Hr.round=xu,Hr.runInContext=t,Hr.sample=function(t){return(Ws(t)?Yr:Jn)(t)},Hr.size=function(t){if(null==t)return 0;if(Vs(t))return ua(t)?hr(t):t.length;var e=go(t);return e==E||e==O?t.size:Ln(t).length},Hr.snakeCase=Ga,Hr.some=function(t,e,r){var n=Ws(t)?Ne:oi;return r&&wo(t,e,r)&&(e=i),n(t,co(e,3))},Hr.sortedIndex=function(t,e){return si(t,e)},Hr.sortedIndexBy=function(t,e,r){return ai(t,e,co(r,2))},Hr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=si(t,e);if(n<r&&Fs(t[n],e))return n}return-1},Hr.sortedLastIndex=function(t,e){return si(t,e,!0)},Hr.sortedLastIndexBy=function(t,e,r){return ai(t,e,co(r,2),!0)},Hr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=si(t,e,!0)-1;if(Fs(t[r],e))return r}return-1},Hr.startCase=Qa,Hr.startsWith=function(t,e,r){return t=va(t),r=null==r?0:un(ya(r),0,t.length),e=fi(e),t.slice(r,r+e.length)==e},Hr.subtract=Eu,Hr.sum=function(t){return t&&t.length?Xe(t,iu):0},Hr.sumBy=function(t,e){return t&&t.length?Xe(t,co(e,2)):0},Hr.template=function(t,e,r){var n=Hr.templateSettings;r&&wo(t,e,r)&&(e=i),t=va(t),e=Sa({},e,n,Zi);var o,s,a=Sa({},e.imports,n.imports,Zi),u=Ma(a),c=tr(a,u),f=0,l=e.interpolate||St,d="__p += '",h=Tt((e.escape||St).source+"|"+l.source+"|"+(l===tt?pt:St).source+"|"+(e.evaluate||St).source+"|$","g"),p="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(h,(function(e,r,n,i,a,u){return n||(n=i),d+=t.slice(f,u).replace(At,sr),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=u+e.length,e})),d+="';\n";var y=Dt.call(e,"variable")&&e.variable;if(y){if(dt.test(y))throw new xt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(W,""):d).replace($,"$1").replace(V,"$1;"),d="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Za((function(){return Et(u,p+"return "+d).apply(i,c)}));if(g.source=d,Ys(g))throw g;return g},Hr.times=function(t,e){if((t=ya(t))<1||t>p)return[];var r=g,n=vr(t,g);e=co(e),t-=g;for(var i=Ye(n,e);++r<t;)e(r);return i},Hr.toFinite=pa,Hr.toInteger=ya,Hr.toLength=ga,Hr.toLower=function(t){return va(t).toLowerCase()},Hr.toNumber=ba,Hr.toSafeInteger=function(t){return t?un(ya(t),-9007199254740991,p):0===t?t:0},Hr.toString=va,Hr.toUpper=function(t){return va(t).toUpperCase()},Hr.trim=function(t,e,r){if((t=va(t))&&(r||e===i))return Je(t);if(!t||!(e=fi(e)))return t;var n=pr(t),o=pr(e);return Si(n,rr(n,o),nr(n,o)+1).join("")},Hr.trimEnd=function(t,e,r){if((t=va(t))&&(r||e===i))return t.slice(0,yr(t)+1);if(!t||!(e=fi(e)))return t;var n=pr(t);return Si(n,0,nr(n,pr(e))+1).join("")},Hr.trimStart=function(t,e,r){if((t=va(t))&&(r||e===i))return t.replace(st,"");if(!t||!(e=fi(e)))return t;var n=pr(t);return Si(n,rr(n,pr(e))).join("")},Hr.truncate=function(t,e){var r=30,n="...";if(ea(e)){var o="separator"in e?e.separator:o;r="length"in e?ya(e.length):r,n="omission"in e?fi(e.omission):n}var s=(t=va(t)).length;if(ar(t)){var a=pr(t);s=a.length}if(r>=s)return t;var u=r-hr(n);if(u<1)return n;var c=a?Si(a,0,u).join(""):t.slice(0,u);if(o===i)return c+n;if(a&&(u+=c.length-u),sa(o)){if(t.slice(u).search(o)){var f,l=c;for(o.global||(o=Tt(o.source,va(yt.exec(o))+"g")),o.lastIndex=0;f=o.exec(l);)var d=f.index;c=c.slice(0,d===i?u:d)}}else if(t.indexOf(fi(o),u)!=u){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+n},Hr.unescape=function(t){return(t=va(t))&&X.test(t)?t.replace(G,gr):t},Hr.uniqueId=function(t){var e=++Lt;return va(t)+e},Hr.upperCase=Xa,Hr.upperFirst=Ya,Hr.each=vs,Hr.eachRight=_s,Hr.first=Vo,uu(Hr,(Su={},wn(Hr,(function(t,e){Dt.call(Hr.prototype,e)||(Su[e]=t)})),Su),{chain:!1}),Hr.VERSION="4.17.21",Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Hr[t].placeholder=Hr})),Ce(["drop","take"],(function(t,e){qr.prototype[t]=function(r){r=r===i?1:mr(ya(r),0);var n=this.__filtered__&&!e?new qr(this):this.clone();return n.__filtered__?n.__takeCount__=vr(r,n.__takeCount__):n.__views__.push({size:vr(r,g),type:t+(n.__dir__<0?"Right":"")}),n},qr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ce(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;qr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:co(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Ce(["head","last"],(function(t,e){var r="take"+(e?"Right":"");qr.prototype[t]=function(){return this[r](1).value()[0]}})),Ce(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");qr.prototype[t]=function(){return this.__filtered__?new qr(this):this[r](1)}})),qr.prototype.compact=function(){return this.filter(iu)},qr.prototype.find=function(t){return this.filter(t).head()},qr.prototype.findLast=function(t){return this.reverse().find(t)},qr.prototype.invokeMap=Yn((function(t,e){return"function"==typeof t?new qr(this):this.map((function(r){return Pn(r,t,e)}))})),qr.prototype.reject=function(t){return this.filter(Ds(co(t)))},qr.prototype.slice=function(t,e){t=ya(t);var r=this;return r.__filtered__&&(t>0||e<0)?new qr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=ya(e))<0?r.dropRight(-e):r.take(e-t)),r)},qr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qr.prototype.toArray=function(){return this.take(g)},wn(qr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=Hr[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);o&&(Hr.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,u=e instanceof qr,c=a[0],f=u||Ws(e),l=function(t){var e=o.apply(Hr,De([t],a));return n&&d?e[0]:e};f&&r&&"function"==typeof c&&1!=c.length&&(u=f=!1);var d=this.__chain__,h=!!this.__actions__.length,p=s&&!d,y=u&&!h;if(!s&&f){e=y?e:new qr(this);var g=t.apply(e,a);return g.__actions__.push({func:ps,args:[l],thisArg:i}),new Kr(g,d)}return p&&y?t.apply(this,a):(g=this.thru(l),p?n?g.value()[0]:g.value():g)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Pt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Hr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Ws(i)?i:[],t)}return this[r]((function(r){return e.apply(Ws(r)?r:[],t)}))}})),wn(qr.prototype,(function(t,e){var r=Hr[e];if(r){var n=r.name+"";Dt.call(Pr,n)||(Pr[n]=[]),Pr[n].push({name:e,func:r})}})),Pr[Fi(i,2).name]=[{name:"wrapper",func:i}],qr.prototype.clone=function(){var t=new qr(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},qr.prototype.reverse=function(){if(this.__filtered__){var t=new qr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ws(t),n=e<0,i=r?t.length:0,o=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=vr(e,t+s);break;case"takeRight":t=mr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,f=this.__iteratees__,l=f.length,d=0,h=vr(u,this.__takeCount__);if(!r||!n&&i==u&&h==u)return yi(t,this.__actions__);var p=[];t:for(;u--&&d<h;){for(var y=-1,g=t[c+=e];++y<l;){var b=f[y],m=b.iteratee,v=b.type,_=m(g);if(2==v)g=_;else if(!_){if(1==v)continue t;break t}}p[d++]=g}return p},Hr.prototype.at=ys,Hr.prototype.chain=function(){return hs(this)},Hr.prototype.commit=function(){return new Kr(this.value(),this.__chain__)},Hr.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Hr.prototype.plant=function(t){for(var e,r=this;r instanceof zr;){var n=Ho(r);n.__index__=0,n.__values__=i,e?o.__wrapped__=n:e=n;var o=n;r=r.__wrapped__}return o.__wrapped__=t,e},Hr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qr){var e=t;return this.__actions__.length&&(e=new qr(this)),(e=e.reverse()).__actions__.push({func:ps,args:[es],thisArg:i}),new Kr(e,this.__chain__)}return this.thru(es)},Hr.prototype.toJSON=Hr.prototype.valueOf=Hr.prototype.value=function(){return yi(this.__wrapped__,this.__actions__)},Hr.prototype.first=Hr.prototype.head,Jt&&(Hr.prototype[Jt]=function(){return this}),Hr}();ye._=br,(n=function(){return br}.call(e,r,e,t))===i||(t.exports=n)}.call(this)},50104:(t,e,r)=>{var n=r(53661);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},71086:(t,e,r)=>{var n=r(34932),i=r(15389),o=r(97420),s=r(83349);t.exports=function(t,e){if(null==t)return{};var r=n(s(t),(function(t){return[t]}));return e=i(e),o(t,r,(function(t,r){return e(t,r[0])}))}},50583:(t,e,r)=>{var n=r(47237),i=r(17255),o=r(28586),s=r(77797);t.exports=function(t){return o(t)?n(s(t)):i(t)}},63345:t=>{t.exports=function(){return[]}},89935:t=>{t.exports=function(){return!1}},13222:(t,e,r)=>{var n=r(77556);t.exports=function(t){return null==t?"":n(t)}},48089:t=>{"use strict";const e=t=>"object"==typeof t&&null!==t,r=Symbol("skip"),n=t=>e(t)&&!(t instanceof RegExp)&&!(t instanceof Error)&&!(t instanceof Date),i=(t,e,o,s=new WeakMap)=>{if(o={deep:!1,target:{},...o},s.has(t))return s.get(t);s.set(t,o.target);const{target:a}=o;delete o.target;const u=t=>t.map((t=>n(t)?i(t,e,o,s):t));if(Array.isArray(t))return u(t);for(const[c,f]of Object.entries(t)){const l=e(c,f,t);if(l===r)continue;let[d,h,{shouldRecurse:p=!0}={}]=l;"__proto__"!==d&&(o.deep&&p&&n(h)&&(h=Array.isArray(h)?u(h):i(h,e,o,s)),a[d]=h)}return a};t.exports=(t,r,n)=>{if(!e(t))throw new TypeError(`Expected an object, got \`${t}\` (${typeof t})`);return i(t,r,n)},t.exports.mapObjectSkip=r},88276:(t,e,r)=>{"use strict";var n=r(56698),i=r(73726),o=r(92861).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function c(t,e,r,n,i,o,s){return u(t+(e&r|~e&n)+i+o|0,s)+e|0}function f(t,e,r,n,i,o,s){return u(t+(e&n|r&~n)+i+o|0,s)+e|0}function l(t,e,r,n,i,o,s){return u(t+(e^r^n)+i+o|0,s)+e|0}function d(t,e,r,n,i,o,s){return u(t+(r^(e|~n))+i+o|0,s)+e|0}n(a,i),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d;r=c(r,n,i,o,t[0],3614090360,7),o=c(o,r,n,i,t[1],3905402710,12),i=c(i,o,r,n,t[2],606105819,17),n=c(n,i,o,r,t[3],3250441966,22),r=c(r,n,i,o,t[4],4118548399,7),o=c(o,r,n,i,t[5],1200080426,12),i=c(i,o,r,n,t[6],2821735955,17),n=c(n,i,o,r,t[7],4249261313,22),r=c(r,n,i,o,t[8],1770035416,7),o=c(o,r,n,i,t[9],2336552879,12),i=c(i,o,r,n,t[10],4294925233,17),n=c(n,i,o,r,t[11],2304563134,22),r=c(r,n,i,o,t[12],1804603682,7),o=c(o,r,n,i,t[13],4254626195,12),i=c(i,o,r,n,t[14],2792965006,17),r=f(r,n=c(n,i,o,r,t[15],1236535329,22),i,o,t[1],4129170786,5),o=f(o,r,n,i,t[6],3225465664,9),i=f(i,o,r,n,t[11],643717713,14),n=f(n,i,o,r,t[0],3921069994,20),r=f(r,n,i,o,t[5],3593408605,5),o=f(o,r,n,i,t[10],38016083,9),i=f(i,o,r,n,t[15],3634488961,14),n=f(n,i,o,r,t[4],3889429448,20),r=f(r,n,i,o,t[9],568446438,5),o=f(o,r,n,i,t[14],3275163606,9),i=f(i,o,r,n,t[3],4107603335,14),n=f(n,i,o,r,t[8],1163531501,20),r=f(r,n,i,o,t[13],2850285829,5),o=f(o,r,n,i,t[2],4243563512,9),i=f(i,o,r,n,t[7],1735328473,14),r=l(r,n=f(n,i,o,r,t[12],2368359562,20),i,o,t[5],4294588738,4),o=l(o,r,n,i,t[8],2272392833,11),i=l(i,o,r,n,t[11],1839030562,16),n=l(n,i,o,r,t[14],4259657740,23),r=l(r,n,i,o,t[1],2763975236,4),o=l(o,r,n,i,t[4],1272893353,11),i=l(i,o,r,n,t[7],4139469664,16),n=l(n,i,o,r,t[10],3200236656,23),r=l(r,n,i,o,t[13],681279174,4),o=l(o,r,n,i,t[0],3936430074,11),i=l(i,o,r,n,t[3],3572445317,16),n=l(n,i,o,r,t[6],76029189,23),r=l(r,n,i,o,t[9],3654602809,4),o=l(o,r,n,i,t[12],3873151461,11),i=l(i,o,r,n,t[15],530742520,16),r=d(r,n=l(n,i,o,r,t[2],3299628645,23),i,o,t[0],4096336452,6),o=d(o,r,n,i,t[7],1126891415,10),i=d(i,o,r,n,t[14],2878612391,15),n=d(n,i,o,r,t[5],4237533241,21),r=d(r,n,i,o,t[12],1700485571,6),o=d(o,r,n,i,t[3],2399980690,10),i=d(i,o,r,n,t[10],4293915773,15),n=d(n,i,o,r,t[1],2240044497,21),r=d(r,n,i,o,t[8],1873313359,6),o=d(o,r,n,i,t[15],4264355552,10),i=d(i,o,r,n,t[6],2734768916,15),n=d(n,i,o,r,t[13],1309151649,21),r=d(r,n,i,o,t[4],4149444226,6),o=d(o,r,n,i,t[11],3174756917,10),i=d(i,o,r,n,t[2],718787259,15),n=d(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},73726:(t,e,r)=>{"use strict";var n=r(92861).Buffer,i=r(28399).Transform;function o(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(56698)(o,i),o.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},52244:(t,e,r)=>{var n=r(39404),i=r(15037);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},o.prototype.test=function(t,e,r){var i=t.bitLength(),o=n.mont(t),s=new n(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),u=0;!a.testn(u);u++);for(var c=t.shrn(u),f=a.toRed(o);e>0;e--){var l=this._randrange(new n(2),a);r&&r(l);var d=l.toRed(o).redPow(c);if(0!==d.cmp(s)&&0!==d.cmp(f)){for(var h=1;h<u;h++){if(0===(d=d.redSqr()).cmp(s))return!1;if(0===d.cmp(f))break}if(h===u)return!1}}return!0},o.prototype.getDivisor=function(t,e){var r=t.bitLength(),i=n.mont(t),o=new n(1).toRed(i);e||(e=Math.max(1,r/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var u=t.shrn(a),c=s.toRed(i);e>0;e--){var f=this._randrange(new n(2),s),l=t.gcd(f);if(0!==l.cmpn(1))return l;var d=f.toRed(i).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(c)){for(var h=1;h<a;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(t);if(0===d.cmp(c))break}if(h===a)return(d=d.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},43349:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},64367:(t,e)=>{"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},86889:t=>{t.exports=function t(r,n){if(!r){var i=new e(n);throw Error.captureStackTrace&&Error.captureStackTrace(i,t),i}};class e extends Error{}e.prototype.name="AssertionError"},90165:(t,e,r)=>{"use strict";const n=r(4693);t.exports=t=>{if(!Number.isInteger(t)&&t!==1/0||!(t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const e=new n;let r=0;const i=async(t,n,...i)=>{r++;const o=(async()=>t(...i))();n(o);try{await o}catch{}r--,e.size>0&&e.dequeue()()},o=(n,...o)=>new Promise((s=>{((n,o,...s)=>{e.enqueue(i.bind(null,n,o,...s)),(async()=>{await Promise.resolve(),r<t&&e.size>0&&e.dequeue()()})()})(n,s,...o)}));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),o}},21137:(t,e,r)=>{"use strict";var n=r(87568);e.certificate=r(36413);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var o=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=o;var s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));e.PublicKey=a;var u=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=u;var c=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=c;var f=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=f,e.DSAparam=n.define("DSAparam",(function(){this.int()}));var l=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})})),d=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=d,e.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},36413:(t,e,r)=>{"use strict";var n=r(87568),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),u=n.define("RelativeDistinguishedName",(function(){this.setof(o)})),c=n.define("RDNSequence",(function(){this.seqof(u)})),f=n.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),l=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(f),this.key("validity").use(l),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));t.exports=p},24101:(t,e,r)=>{"use strict";var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=r(68078),a=r(1241),u=r(92861).Buffer;t.exports=function(t,e){var r,c=t.toString(),f=c.match(n);if(f){var l="aes"+f[1],d=u.from(f[2],"hex"),h=u.from(f[3].replace(/[\r\n]/g,""),"base64"),p=s(e,d.slice(0,8),parseInt(f[1],10)).key,y=[],g=a.createDecipheriv(l,p,d);y.push(g.update(h)),y.push(g.final()),r=u.concat(y)}else{var b=c.match(o);r=u.from(b[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:r}}},78170:(t,e,r)=>{"use strict";var n=r(21137),i=r(15579),o=r(24101),s=r(1241),a=r(78396),u=r(92861).Buffer;function c(t){var e;"object"!=typeof t||u.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=u.from(t));var r,c,f=o(t,e),l=f.tag,d=f.data;switch(l){case"CERTIFICATE":c=n.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=n.PublicKey.decode(d,"der")),r=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=n.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":d=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[t.algorithm.decrypt.cipher.algo.join(".")],c=t.algorithm.decrypt.cipher.iv,f=t.subjectPrivateKey,l=parseInt(o.split("-")[1],10)/8,d=a.pbkdf2Sync(e,r,n,l,"sha1"),h=s.createDecipheriv(o,d,c),p=[];return p.push(h.update(f)),p.push(h.final()),u.concat(p)}(d=n.EncryptedPrivateKey.decode(d,"der"),e);case"PRIVATE KEY":switch(r=(c=n.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:n.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=n.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=n.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+l)}}c.signature=n.signature,t.exports=c},78396:(t,e,r)=>{e.pbkdf2=r(43832),e.pbkdf2Sync=r(21352)},43832:(t,e,r)=>{var n,i,o=r(92861).Buffer,s=r(64196),a=r(2455),u=r(21352),c=r(93382),f=r.g.crypto&&r.g.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function h(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(t,e,r,n,i){return f.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return f.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},t,n<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,e,i,y,g,b){"function"==typeof g&&(b=g,g=void 0);var m=l[(g=g||"sha1").toLowerCase()];if(m&&"function"==typeof r.g.Promise){if(s(i,y),t=c(t,a,"Password"),e=c(e,a,"Salt"),"function"!=typeof b)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){h()((function(){e(null,t)}))}),(function(t){h()((function(){e(t)}))}))}(function(t){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==d[t])return d[t];var e=p(n=n||o.alloc(8),n,10,128,t).then((function(){return!0})).catch((function(){return!1}));return d[t]=e,e}(m).then((function(r){return r?p(t,e,i,y,m):u(t,e,i,y,g)})),b)}else h()((function(){var r;try{r=u(t,e,i,y,g)}catch(t){return b(t)}b(null,r)}))}},2455:(t,e,r)=>{var n,i=r(65606);if(r.g.process&&r.g.process.browser)n="utf-8";else if(r.g.process&&r.g.process.version){n=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";t.exports=n},64196:t=>{var e=Math.pow(2,30)-1;t.exports=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}},21352:(t,e,r)=>{var n=r(20320),i=r(66011),o=r(62802),s=r(92861).Buffer,a=r(64196),u=r(2455),c=r(93382),f=s.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(t,e,r){var a=function(t){function e(e){return o(t).update(e).digest()}function r(t){return(new i).update(t).digest()}return"rmd160"===t||"ripemd160"===t?r:"md5"===t?n:e}(t),u="sha512"===t||"sha384"===t?128:64;e.length>u?e=a(e):e.length<u&&(e=s.concat([e,f],u));for(var c=s.allocUnsafe(u+l[t]),d=s.allocUnsafe(u+l[t]),h=0;h<u;h++)c[h]=54^e[h],d[h]=92^e[h];var p=s.allocUnsafe(u+r+4);c.copy(p,0,0,u),this.ipad1=p,this.ipad2=c,this.opad=d,this.alg=t,this.blocksize=u,this.hash=a,this.size=l[t]}d.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,n,i){a(r,n);var o=new d(i=i||"sha1",t=c(t,u,"Password"),(e=c(e,u,"Salt")).length),f=s.allocUnsafe(n),h=s.allocUnsafe(e.length+4);e.copy(h,0,0,e.length);for(var p=0,y=l[i],g=Math.ceil(n/y),b=1;b<=g;b++){h.writeUInt32BE(b,e.length);for(var m=o.run(h,o.ipad1),v=m,_=1;_<r;_++){v=o.run(v,o.ipad2);for(var w=0;w<y;w++)m[w]^=v[w]}m.copy(f,p),p+=y}return f}},93382:(t,e,r)=>{var n=r(92861).Buffer;t.exports=function(t,e,r){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,e);if(ArrayBuffer.isView(t))return n.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},33225:(t,e,r)=>{"use strict";var n=r(65606);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return n.nextTick(t);case 2:return n.nextTick((function(){t.call(null,e)}));case 3:return n.nextTick((function(){t.call(null,e,r)}));case 4:return n.nextTick((function(){t.call(null,e,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return n.nextTick((function(){t.apply(null,o)}))}}}:t.exports=n},65606:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,u=[],c=!1,f=-1;function l(){c&&a&&(c=!1,a.length?u=a.concat(u):f=-1,u.length&&d())}function d(){if(!c){var t=s(l);c=!0;for(var e=u.length;e;){for(a=u,u=[];++f<e;)a&&a[f].run();f=-1,e=u.length}a=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new h(t,e)),1!==u.length||c||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},97168:(t,e,r)=>{e.publicEncrypt=r(28902),e.privateDecrypt=r(77362),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},48206:(t,e,r)=>{var n=r(47108),i=r(92861).Buffer;function o(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,s=i.alloc(0),a=0;s.length<e;)r=o(a++),s=i.concat([s,n("sha1").update(t).update(r).digest()]);return s.slice(0,e)}},77362:(t,e,r)=>{var n=r(78170),i=r(48206),o=r(52061),s=r(39404),a=r(67332),u=r(47108),c=r(99247),f=r(92861).Buffer;t.exports=function(t,e,r){var l;l=t.padding?t.padding:r?1:4;var d,h=n(t),p=h.modulus.byteLength();if(e.length>p||new s(e).cmp(h.modulus)>=0)throw new Error("decryption error");d=r?c(new s(e),h):a(e,h);var y=f.alloc(p-d.length);if(d=f.concat([y,d],p),4===l)return function(t,e){var r=t.modulus.byteLength(),n=u("sha1").update(f.alloc(0)).digest(),s=n.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,s+1),c=e.slice(s+1),l=o(a,i(c,s)),d=o(c,i(l,r-s-1));if(function(t,e){t=f.from(t),e=f.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));var i=-1;for(;++i<n;)r+=t[i]^e[i];return r}(n,d.slice(0,s)))throw new Error("decryption error");var h=s;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===l)return function(t,e,r){var n=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var s=e.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++;s.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,d,r);if(3===l)return d;throw new Error("unknown padding")}},28902:(t,e,r)=>{var n=r(78170),i=r(53209),o=r(47108),s=r(48206),a=r(52061),u=r(39404),c=r(99247),f=r(67332),l=r(92861).Buffer;t.exports=function(t,e,r){var d;d=t.padding?t.padding:r?1:4;var h,p=n(t);if(4===d)h=function(t,e){var r=t.modulus.byteLength(),n=e.length,c=o("sha1").update(l.alloc(0)).digest(),f=c.length,d=2*f;if(n>r-d-2)throw new Error("message too long");var h=l.alloc(r-n-d-2),p=r-f-1,y=i(f),g=a(l.concat([c,h,l.alloc(1,1),e],p),s(y,p)),b=a(y,s(g,f));return new u(l.concat([l.alloc(1),b,g],r))}(p,e);else if(1===d)h=function(t,e,r){var n,o=e.length,s=t.modulus.byteLength();if(o>s-11)throw new Error("message too long");n=r?l.alloc(s-o-3,255):function(t){var e,r=l.allocUnsafe(t),n=0,o=i(2*t),s=0;for(;n<t;)s===o.length&&(o=i(2*t),s=0),(e=o[s++])&&(r[n++]=e);return r}(s-o-3);return new u(l.concat([l.from([0,r?1:2]),n,l.alloc(1),e],s))}(p,e,r);else{if(3!==d)throw new Error("unknown padding");if((h=new u(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?f(h,p):c(h,p)}},99247:(t,e,r)=>{var n=r(39404),i=r(92861).Buffer;t.exports=function(t,e){return i.from(t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed().toArray())}},52061:t=>{t.exports=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t}},87392:t=>{"use strict";class e{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,e){if(this.cache.set(t,e),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(const[t,e]of this.oldCache.entries())this.onEviction(t,e);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const e=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,e),e}}set(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){return this.cache.has(t)?this.cache.get(t):this.oldCache.has(t)?this.oldCache.get(t):void 0}delete(t){const e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[e]=t;this.cache.has(e)||(yield t)}}get size(){let t=0;for(const e of this.oldCache.keys())this.cache.has(e)||t++;return Math.min(this._size+t,this.maxSize)}}t.exports=e},53209:(t,e,r)=>{"use strict";var n=r(65606),i=65536,o=4294967295;var s=r(92861).Buffer,a=r.g.crypto||r.g.msCrypto;a&&a.getRandomValues?t.exports=function(t,e){if(t>o)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(t);if(t>0)if(t>i)for(var u=0;u<t;u+=i)a.getRandomValues(r.slice(u,u+i));else a.getRandomValues(r);if("function"==typeof e)return n.nextTick((function(){e(null,r)}));return r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},76983:(t,e,r)=>{"use strict";var n=r(65606);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(92861),s=r(53209),a=o.Buffer,u=o.kMaxLength,c=r.g.crypto||r.g.msCrypto,f=Math.pow(2,32)-1;function l(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>f||t<0)throw new TypeError("offset must be a uint32");if(t>u||t>e)throw new RangeError("offset out of range")}function d(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>f||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>u)throw new RangeError("buffer too small")}function h(t,e,r,i){if(n.browser){var o=t.buffer,a=new Uint8Array(o,e,r);return c.getRandomValues(a),i?void n.nextTick((function(){i(null,t)})):t}if(!i)return s(r).copy(t,e),t;s(r,(function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)}))}c&&c.getRandomValues||!n.browser?(e.randomFill=function(t,e,n,i){if(!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return l(e,t.length),d(n,e,t.length),h(t,e,n,i)},e.randomFillSync=function(t,e,n){void 0===e&&(e=0);if(!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');l(e,t.length),void 0===n&&(n=t.length-e);return d(n,e,t.length),h(t,e,n)}):(e.randomFill=i,e.randomFillSync=i)},86048:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,o,s,a;if("string"==typeof e&&(o="not ",e.substr(!s||s<0?0:+s,o.length)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var u=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(u," ").concat(i," ").concat(n(e,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.F=e},25382:(t,e,r)=>{"use strict";var n=r(65606),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=f;var o=r(45412),s=r(16708);r(56698)(f,o);for(var a=i(s.prototype),u=0;u<a.length;u++){var c=a[u];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(t){if(!(this instanceof f))return new f(t);o.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},63600:(t,e,r)=>{"use strict";t.exports=i;var n=r(74610);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(56698)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},45412:(t,e,r)=>{"use strict";var n,i=r(65606);t.exports=E,E.ReadableState=x;r(37007).EventEmitter;var o=function(t,e){return t.listeners(e).length},s=r(40345),a=r(48287).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,f=r(79838);c=f&&f.debuglog?f.debuglog("stream"):function(){};var l,d,h,p=r(80345),y=r(75896),g=r(65291).getHighWaterMark,b=r(86048).F,m=b.ERR_INVALID_ARG_TYPE,v=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,w=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(56698)(E,s);var S=y.errorOrDestroy,A=["error","close","destroy","pause","resume"];function x(t,e,i){n=n||r(25382),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=r(83141).I),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function E(t){if(n=n||r(25382),!(this instanceof E))return new E(t);var e=this instanceof n;this._readableState=new x(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function k(t,e,r,n,i){c("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(c("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?O(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,P(t)))}(t,s);else if(i||(o=function(t,e){var r;n=e,a.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(s,e)),o)S(t,o);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)s.endEmitted?S(t,new w):I(t,s,e,!0);else if(s.ended)S(t,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?I(t,s,e,!1):M(t,s)):I(t,s,e,!1)}else n||(s.reading=!1,M(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function I(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&O(t)),M(t,e)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),E.prototype.destroy=y.destroy,E.prototype._undestroy=y.undestroy,E.prototype._destroy=function(t,e){e(t)},E.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),k(this,t,e,!1,r)},E.prototype.unshift=function(t){return k(this,t,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){l||(l=r(83141).I);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function C(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;c("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(c("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(P,t))}function P(t){var e=t._readableState;c("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function M(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(B,t,e))}function B(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(c("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function R(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function j(t){c("readable nexttick read 0"),t.read(0)}function D(t,e){c("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(c("flow",e.flowing);e.flowing&&null!==t.read(););}function U(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function N(t){var e=t._readableState;c("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(H,e,t))}function H(t,e){if(c("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function F(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}E.prototype.read=function(t){c("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?N(this):O(this),null;if(0===(t=C(t,e))&&e.ended)return 0===e.length&&N(this),null;var n,i=e.needReadable;return c("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",i=!0),e.ended||e.reading?c("reading or ended",i=!1):i&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=C(r,e))),null===(n=t>0?U(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&N(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(t){S(this,new _("_read()"))},E.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,e);var s=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?u:g;function a(e,i){c("onunpipe"),e===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),t.removeListener("close",p),t.removeListener("finish",y),t.removeListener("drain",f),t.removeListener("error",h),t.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",d),l=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function u(){c("onend"),t.end()}n.endEmitted?i.nextTick(s):r.once("end",s),t.on("unpipe",a);var f=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,L(t))}}(r);t.on("drain",f);var l=!1;function d(e){c("ondata");var i=t.write(e);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==F(n.pipes,t))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){c("onerror",e),g(),t.removeListener("error",h),0===o(t,"error")&&S(t,e)}function p(){t.removeListener("finish",y),g()}function y(){c("onfinish"),t.removeListener("close",p),g()}function g(){c("unpipe"),r.unpipe(t)}return r.on("data",d),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",h),t.once("close",p),t.once("finish",y),t.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),t},E.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},E.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?O(this):n.reading||i.nextTick(j,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(R,this),r},E.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(R,this),e},E.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(D,t,e))}(this,t)),t.paused=!1,this},E.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<A.length;o++)t.on(A[o],this.emit.bind(this,A[o]));return this._read=function(e){c("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(2955)),d(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),E._fromList=U,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,e){return void 0===h&&(h=r(55157)),h(E,t,e)})},74610:(t,e,r)=>{"use strict";t.exports=f;var n=r(86048).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(25382);function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(t){if(!(this instanceof f))return new f(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function l(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,r){d(t,e,r)}))}function d(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}r(56698)(f,u),f.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},f.prototype._transform=function(t,e,r){r(new i("_transform()"))},f.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},f.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},16708:(t,e,r)=>{"use strict";var n,i=r(65606);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=E,E.WritableState=x;var s={deprecate:r(94643)},a=r(40345),u=r(48287).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var f,l=r(75896),d=r(65291).getHighWaterMark,h=r(86048).F,p=h.ERR_INVALID_ARG_TYPE,y=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;function A(){}function x(t,e,s){n=n||r(25382),t=t||{},"boolean"!=typeof s&&(s=e instanceof n),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,o){--e.pendingcb,r?(i.nextTick(o,n),i.nextTick(P,t,e),t._writableState.errorEmitted=!0,S(t,n)):(o(n),t._writableState.errorEmitted=!0,S(t,n),P(t,e))}(t,r,n,e,o);else{var s=C(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||T(t,r),n?i.nextTick(I,t,r,s,o):I(t,r,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function E(t){var e=this instanceof(n=n||r(25382));if(!e&&!f.call(E,this))return new E(t);this._writableState=new x(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function k(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function I(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),P(t,e)}function T(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,k(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(k(t,e,!1,e.objectMode?1:c.length,c,f,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(r){e.pendingcb--,r&&S(t,r),e.prefinished=!0,t.emit("prefinish"),P(t,e)}))}function P(t,e){var r=C(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(56698)(E,a),x.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(x.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===E&&(t&&t._writableState instanceof x)}})):f=function(t){return t instanceof this},E.prototype.pipe=function(){S(this,new b)},E.prototype.write=function(t,e,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=t,u.isBuffer(n)||n instanceof c);return a&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=A),o.ending?function(t,e){var r=new _;S(t,r),i.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var o;return null===r?o=new v:"string"==typeof r||e.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(t,o),i.nextTick(n,o),!1)}(this,o,t,r))&&(o.pendingcb++,s=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var f=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k(t,e,!1,a,n,i,o);return c}(this,o,a,t,e,r)),s},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},E.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(t,e,r){r(new y("_write()"))},E.prototype._writev=null,E.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,P(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(t,e){e(t)}},2955:(t,e,r)=>{"use strict";var n,i=r(65606);function o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(86238),a=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(t,e){return{value:t,done:e}}function y(t){var e=t[a];if(null!==e){var r=t[h].read();null!==r&&(t[l]=null,t[a]=null,t[u]=null,e(p(r,!1)))}}function g(t){i.nextTick(y,t)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[f])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(e,r){i.nextTick((function(){t[c]?r(t[c]):e(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[f]?r(p(void 0,!0)):e[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var t=this;return new Promise((function(e,r){t[h].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),n),b);t.exports=function(t){var e,r=Object.create(m,(o(e={},h,{value:t,writable:!0}),o(e,a,{value:null,writable:!0}),o(e,u,{value:null,writable:!0}),o(e,c,{value:null,writable:!0}),o(e,f,{value:t._readableState.endEmitted,writable:!0}),o(e,d,{value:function(t,e){var n=r[h].read();n?(r[l]=null,r[a]=null,r[u]=null,t(p(n,!1))):(r[a]=t,r[u]=e)},writable:!0}),e));return r[l]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[u];return null!==e&&(r[l]=null,r[a]=null,r[u]=null,e(t)),void(r[c]=t)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[f]=!0})),t.on("readable",g.bind(null,r)),r}},80345:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var u=r(48287).Buffer,c=r(15340).inspect,f=c&&c.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,n;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return u.alloc(0);for(var e,r,n,i=u.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,r=i,n=s,u.prototype.copy.call(e,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=u.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:f,value:function(t,e){return c(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},75896:(t,e,r)=>{"use strict";var n=r(65606);function i(t,e){s(t,e),o(t)}function o(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,t)):n.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,t)):n.nextTick(i,r,t):e?(n.nextTick(o,r),e(t)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},86238:(t,e,r)=>{"use strict";var n=r(86048).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||f()},c=e._writableState&&e._writableState.finished,f=function(){a=!1,c=!0,s||o.call(e)},l=e._readableState&&e._readableState.endEmitted,d=function(){s=!1,l=!0,a||o.call(e)},h=function(t){o.call(e,t)},p=function(){var t;return s&&!l?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},y=function(){e.req.on("finish",f)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",u),e.on("close",u)):(e.on("complete",f),e.on("abort",p),e.req?y():e.on("request",y)),e.on("end",d),e.on("finish",f),!1!==r.error&&e.on("error",h),e.on("close",p),function(){e.removeListener("complete",f),e.removeListener("abort",p),e.removeListener("request",y),e.req&&e.req.removeListener("finish",f),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",f),e.removeListener("end",d),e.removeListener("error",h),e.removeListener("close",p)}}},55157:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},57758:(t,e,r)=>{"use strict";var n;var i=r(86048).F,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(t){t()}function c(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var f,l=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var d=e.map((function(t,i){var o=i<e.length-1;return function(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r(86238)),n(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}(t,o,i>0,(function(t){f||(f=t),t&&d.forEach(u),o||(d.forEach(u),l(f))}))}));return e.reduce(c)}},65291:(t,e,r)=>{"use strict";var n=r(86048).F.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},40345:(t,e,r)=>{t.exports=r(37007).EventEmitter},28399:(t,e,r)=>{(e=t.exports=r(45412)).Stream=e,e.Readable=e,e.Writable=r(16708),e.Duplex=r(25382),e.Transform=r(74610),e.PassThrough=r(63600),e.finished=r(86238),e.pipeline=r(57758)},30096:(t,e,r)=>{"use strict";e.X9=e.PE=e.qS=e.zW=void 0;var n=r(41256);var i=r(90375);Object.defineProperty(e,"zW",{enumerable:!0,get:function(){return i.BtcAssetsApi}});var o=r(61611);Object.defineProperty(e,"qS",{enumerable:!0,get:function(){return o.DataSource}}),Object.defineProperty(e,"PE",{enumerable:!0,get:function(){return o.sendRgbppUtxos}});var s=r(6397);Object.defineProperty(e,"X9",{enumerable:!0,get:function(){return s.buildRgbppTransferTx}})},6397:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.buildRgbppTransferTx=void 0;const i=r(41256),o=r(60720),s=r(61611);e.buildRgbppTransferTx=t=>n(void 0,[t],void 0,(function*({ckb:{collector:t,xudtTypeArgs:e,rgbppLockArgsList:r,transferAmount:n,feeRate:a},btc:u,isMainnet:c}){const f=Object.assign(Object.assign({},(0,i.getXudtTypeScript)(c)),{args:e}),l=yield(0,i.genBtcTransferCkbVirtualTx)({collector:t,rgbppLockArgsList:r,xudtTypeBytes:(0,o.serializeScript)(f),transferAmount:n,isMainnet:c,ckbFeeRate:a,btcTestnetType:u.testnetType}),{commitment:d,ckbRawTx:h}=l;return{ckbVirtualTxResult:l,btcPsbtHex:(yield(0,s.sendRgbppUtxos)({ckbVirtualTx:h,commitment:d,tos:[u.toAddress],ckbCollector:t,from:u.fromAddress,fromPubkey:u.fromPubkey,source:u.dataSource,feeRate:u.feeRate})).toHex()}}))},66011:(t,e,r)=>{"use strict";var n=r(48287).Buffer,i=r(56698),o=r(51147),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function y(t,e,r,n,i,o,s,a){return p(t+(e^r^n)+o+s|0,a)+i|0}function g(t,e,r,n,i,o,s,a){return p(t+(e&r|~e&n)+o+s|0,a)+i|0}function b(t,e,r,n,i,o,s,a){return p(t+((e|~r)^n)+o+s|0,a)+i|0}function m(t,e,r,n,i,o,s,a){return p(t+(e&n|r&~n)+o+s|0,a)+i|0}function v(t,e,r,n,i,o,s,a){return p(t+(e^(r|~n))+o+s|0,a)+i|0}i(h,o),h.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,_=0|this._a,w=0|this._b,S=0|this._c,A=0|this._d,x=0|this._e,E=0;E<80;E+=1){var k,I;E<16?(k=y(r,n,i,o,h,t[a[E]],l[0],c[E]),I=v(_,w,S,A,x,t[u[E]],d[0],f[E])):E<32?(k=g(r,n,i,o,h,t[a[E]],l[1],c[E]),I=m(_,w,S,A,x,t[u[E]],d[1],f[E])):E<48?(k=b(r,n,i,o,h,t[a[E]],l[2],c[E]),I=b(_,w,S,A,x,t[u[E]],d[2],f[E])):E<64?(k=m(r,n,i,o,h,t[a[E]],l[3],c[E]),I=g(_,w,S,A,x,t[u[E]],d[3],f[E])):(k=v(r,n,i,o,h,t[a[E]],l[4],c[E]),I=y(_,w,S,A,x,t[u[E]],d[4],f[E])),r=h,h=o,o=p(i,10),i=n,n=k,_=x,x=A,A=p(S,10),S=w,w=I}var T=this._b+i+A|0;this._b=this._c+o+x|0,this._c=this._d+h+_|0,this._d=this._e+r+w|0,this._e=this._a+n+S|0,this._a=T},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=h},51147:(t,e,r)=>{"use strict";var n=r(92861).Buffer,i=r(28399).Transform;function o(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(56698)(o,i),o.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},92861:(t,e,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(48287),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},9983:function(t){"use strict";!function(){const e=2147483647;function r(t){const e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,u=528734635,c=1541459225;const f=new Uint32Array(64);function l(t){let l=0,d=t.length;for(;d>=64;){let h,p,y,g,b,m=r,v=n,_=i,w=o,S=s,A=a,x=u,E=c;for(p=0;p<16;p++)y=l+4*p,f[p]=(255&t[y])<<24|(255&t[y+1])<<16|(255&t[y+2])<<8|255&t[y+3];for(p=16;p<64;p++)h=f[p-2],g=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,h=f[p-15],b=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,f[p]=(g+f[p-7]|0)+(b+f[p-16]|0)|0;for(p=0;p<64;p++)g=(((S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&A^~S&x)|0)+(E+(e[p]+f[p]|0)|0)|0,b=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&v^m&_^v&_)|0,E=x,x=A,A=S,S=w+g|0,w=_,_=v,v=m,m=g+b|0;r=r+m|0,n=n+v|0,i=i+_|0,o=o+w|0,s=s+S|0,a=a+A|0,u=u+x|0,c=c+E|0,l+=64,d-=64}}l(t);let d,h=t.length%64,p=t.length/536870912|0,y=t.length<<3,g=h<56?56:120,b=t.slice(t.length-h,t.length);for(b.push(128),d=h+1;d<g;d++)b.push(0);return b.push(p>>>24&255),b.push(p>>>16&255),b.push(p>>>8&255),b.push(p>>>0&255),b.push(y>>>24&255),b.push(y>>>16&255),b.push(y>>>8&255),b.push(y>>>0&255),l(b),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function n(t,e,n){t=t.length<=64?t:r(t);const i=64+e.length+4,o=new Array(i),s=new Array(64);let a,u=[];for(a=0;a<64;a++)o[a]=54;for(a=0;a<t.length;a++)o[a]^=t[a];for(a=0;a<e.length;a++)o[64+a]=e[a];for(a=i-4;a<i;a++)o[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<t.length;a++)s[a]^=t[a];function c(){for(let t=i-1;t>=i-4;t--){if(o[t]++,o[t]<=255)return;o[t]=0}}for(;n>=32;)c(),u=u.concat(r(s.concat(r(o)))),n-=32;return n>0&&(c(),u=u.concat(r(s.concat(r(o))).slice(0,n))),u}function i(t,e,r,n,i){let o;for(u(t,16*(2*r-1),i,0,16),o=0;o<2*r;o++)a(t,16*o,i,16),s(i,n),u(i,0,t,e+16*o,16);for(o=0;o<r;o++)u(t,e+2*o*16,t,16*o,16);for(o=0;o<r;o++)u(t,e+16*(2*o+1),t,16*(o+r),16)}function o(t,e){return t<<e|t>>>32-e}function s(t,e){u(t,0,e,0,16);for(let t=8;t>0;t-=2)e[4]^=o(e[0]+e[12],7),e[8]^=o(e[4]+e[0],9),e[12]^=o(e[8]+e[4],13),e[0]^=o(e[12]+e[8],18),e[9]^=o(e[5]+e[1],7),e[13]^=o(e[9]+e[5],9),e[1]^=o(e[13]+e[9],13),e[5]^=o(e[1]+e[13],18),e[14]^=o(e[10]+e[6],7),e[2]^=o(e[14]+e[10],9),e[6]^=o(e[2]+e[14],13),e[10]^=o(e[6]+e[2],18),e[3]^=o(e[15]+e[11],7),e[7]^=o(e[3]+e[15],9),e[11]^=o(e[7]+e[3],13),e[15]^=o(e[11]+e[7],18),e[1]^=o(e[0]+e[3],7),e[2]^=o(e[1]+e[0],9),e[3]^=o(e[2]+e[1],13),e[0]^=o(e[3]+e[2],18),e[6]^=o(e[5]+e[4],7),e[7]^=o(e[6]+e[5],9),e[4]^=o(e[7]+e[6],13),e[5]^=o(e[4]+e[7],18),e[11]^=o(e[10]+e[9],7),e[8]^=o(e[11]+e[10],9),e[9]^=o(e[8]+e[11],13),e[10]^=o(e[9]+e[8],18),e[12]^=o(e[15]+e[14],7),e[13]^=o(e[12]+e[15],9),e[14]^=o(e[13]+e[12],13),e[15]^=o(e[14]+e[13],18);for(let r=0;r<16;++r)t[r]+=e[r]}function a(t,e,r,n){for(let i=0;i<n;i++)r[i]^=t[e+i]}function u(t,e,r,n,i){for(;i--;)r[n++]=t[e++]}function c(t){if(!t||"number"!=typeof t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function f(t,e){if("number"!=typeof t||t%1)throw new Error("invalid "+e);return t}function l(t,r,o,s,l,d,h){if(o=f(o,"N"),s=f(s,"r"),l=f(l,"p"),d=f(d,"dkLen"),0===o||o&o-1)throw new Error("N must be power of 2");if(o>e/128/s)throw new Error("N too large");if(s>e/128/l)throw new Error("r too large");if(!c(t))throw new Error("password must be an array or buffer");if(t=Array.prototype.slice.call(t),!c(r))throw new Error("salt must be an array or buffer");r=Array.prototype.slice.call(r);let p=n(t,r,128*l*s);const y=new Uint32Array(32*l*s);for(let t=0;t<y.length;t++){const e=4*t;y[t]=(255&p[e+3])<<24|(255&p[e+2])<<16|(255&p[e+1])<<8|255&p[e+0]}const g=new Uint32Array(64*s),b=new Uint32Array(32*s*o),m=32*s,v=new Uint32Array(16),_=new Uint32Array(16),w=l*o*2;let S,A,x=0,E=null,k=!1,I=0,T=0;const C=h?parseInt(1e3/s):4294967295,O="undefined"!=typeof setImmediate?setImmediate:setTimeout,P=function(){if(k)return h(new Error("cancelled"),x/w);let e;switch(I){case 0:A=32*T*s,u(y,A,g,0,m),I=1,S=0;case 1:e=o-S,e>C&&(e=C);for(let t=0;t<e;t++)u(g,0,b,(S+t)*m,m),i(g,m,s,v,_);if(S+=e,x+=e,h){const t=parseInt(1e3*x/w);if(t!==E){if(k=h(null,x/w),k)break;E=t}}if(S<o)break;S=0,I=2;case 2:e=o-S,e>C&&(e=C);for(let t=0;t<e;t++){const t=g[16*(2*s-1)]&o-1;a(b,t*m,g,m),i(g,m,s,v,_)}if(S+=e,x+=e,h){const t=parseInt(1e3*x/w);if(t!==E){if(k=h(null,x/w),k)break;E=t}}if(S<o)break;if(u(g,0,y,A,m),T++,T<l){I=0;break}p=[];for(let t=0;t<y.length;t++)p.push(255&y[t]),p.push(y[t]>>8&255),p.push(y[t]>>16&255),p.push(y[t]>>24&255);const r=n(t,p,d);return h&&h(null,1,r),r}h&&O(P)};if(!h)for(;;){const t=P();if(null!=t)return t}P()}const d={scrypt:function(t,e,r,n,i,o,s){return new Promise((function(a,u){let c=0;s&&s(0),l(t,e,r,n,i,o,(function(t,e,r){if(t)u(t);else if(r)s&&1!==c&&s(1),a(new Uint8Array(r));else if(s&&e!==c)return c=e,s(e)}))}))},syncScrypt:function(t,e,r,n,i,o){return new Uint8Array(l(t,e,r,n,i,o))}};t.exports=d}()},90392:(t,e,r)=>{var n=r(92861).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),f=0;f<c;f++)r[u+f]=t[a+f];a+=c,(s+=c)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},62802:(t,e,r)=>{var n=t.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha=r(27816),n.sha1=r(63737),n.sha224=r(26710),n.sha256=r(24107),n.sha384=r(32827),n.sha512=r(82890)},27816:(t,e,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<30|t>>>2}function f(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,l=0;l<16;++l)r[l]=t.readInt32BE(4*l);for(;l<80;++l)r[l]=r[l-3]^r[l-8]^r[l-14]^r[l-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((e=n)<<5|e>>>27)+f(h,i,o,a)+u+r[d]+s[h];u=a,a=o,o=c(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},63737:(t,e,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function f(t){return t<<30|t>>>2}function l(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,d=0;d<16;++d)r[d]=t.readInt32BE(4*d);for(;d<80;++d)r[d]=(e=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|e>>>31;for(var h=0;h<80;++h){var p=~~(h/20),y=c(n)+l(p,i,o,a)+u+r[h]+s[p]|0;u=a,a=o,o=f(i),i=n,n=y}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},26710:(t,e,r)=>{var n=r(56698),i=r(24107),o=r(90392),s=r(92861).Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},24107:(t,e,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t,e,r){return r^t&(e^r)}function f(t,e,r){return t&e|r&(t|e)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function h(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,p=0|this._f,y=0|this._g,g=0|this._h,b=0;b<16;++b)r[b]=t.readInt32BE(4*b);for(;b<64;++b)r[b]=0|(((e=r[b-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[b-7]+h(r[b-15])+r[b-16];for(var m=0;m<64;++m){var v=g+d(u)+c(u,p,y)+s[m]+r[m]|0,_=l(n)+f(n,i,o)|0;g=y,y=p,p=u,u=a+v|0,a=o,o=i,i=n,n=v+_|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},32827:(t,e,r)=>{var n=r(56698),i=r(82890),o=r(90392),s=r(92861).Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},82890:(t,e,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(t,e,r){return r^t&(e^r)}function f(t,e,r){return t&e|r&(t|e)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function h(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function b(t,e){return t>>>0<e>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,m=0|this._gh,v=0|this._hh,_=0|this._al,w=0|this._bl,S=0|this._cl,A=0|this._dl,x=0|this._el,E=0|this._fl,k=0|this._gl,I=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var C=e[T-30],O=e[T-30+1],P=h(C,O),M=p(O,C),B=y(C=e[T-4],O=e[T-4+1]),R=g(O,C),j=e[T-14],D=e[T-14+1],L=e[T-32],U=e[T-32+1],N=M+D|0,H=P+j+b(N,M)|0;H=(H=H+B+b(N=N+R|0,R)|0)+L+b(N=N+U|0,U)|0,e[T]=H,e[T+1]=N}for(var F=0;F<160;F+=2){H=e[F],N=e[F+1];var z=f(r,n,i),K=f(_,w,S),q=l(r,_),W=l(_,r),$=d(a,x),V=d(x,a),G=s[F],Q=s[F+1],X=c(a,u,m),Y=c(x,E,k),J=I+V|0,Z=v+$+b(J,I)|0;Z=(Z=(Z=Z+X+b(J=J+Y|0,Y)|0)+G+b(J=J+Q|0,Q)|0)+H+b(J=J+N|0,N)|0;var tt=W+K|0,et=q+z+b(tt,W)|0;v=m,I=k,m=u,k=E,u=a,E=x,a=o+Z+b(x=A+J|0,A)|0,o=i,A=S,i=n,S=w,n=r,w=_,r=Z+et+b(_=J+tt|0,J)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+A|0,this._el=this._el+x|0,this._fl=this._fl+E|0,this._gl=this._gl+k|0,this._hl=this._hl+I|0,this._ah=this._ah+r+b(this._al,_)|0,this._bh=this._bh+n+b(this._bl,w)|0,this._ch=this._ch+i+b(this._cl,S)|0,this._dh=this._dh+o+b(this._dl,A)|0,this._eh=this._eh+a+b(this._el,x)|0,this._fh=this._fh+u+b(this._fl,E)|0,this._gh=this._gh+m+b(this._gl,k)|0,this._hh=this._hh+v+b(this._hl,I)|0},u.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},18190:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SHAKE=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var n,i=r(48287),o=(n=r(23417))&&n.__esModule?n:{default:n};var s=function(t){var e=t.allowedSizes,r=t.defaultSize,n=t.padding;return function t(){var s=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(!this||this.constructor!==t)return new t(a);if(e&&!e.includes(a))throw new Error("Unsupported hash length");var u=new o.default({capacity:a});return this.update=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(i.Buffer.isBuffer(t))return u.absorb(t),s;if("string"==typeof t)return s.update(i.Buffer.from(t,e));throw new TypeError("Not a string or buffer")},this.digest=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",e="string"==typeof t?{format:t}:t,r=u.squeeze({buffer:e.buffer,padding:e.padding||n});return e.format&&"binary"!==e.format?r.toString(e.format):r},this.reset=function(){return u.reset(),s},this}},a=s({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});e.Keccak=a;var u=s({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});e.SHA3=u;var c=s({allowedSizes:[128,256],defaultSize:256,padding:31});e.SHAKE=c;var f=a;e.SHA3Hash=f,u.SHA3Hash=f;var l=u;e.default=l},23417:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r(48287),o=(n=r(98096))&&n.__esModule?n:{default:n};var s=function(t,e){for(var r=0;r<t.length;r+=8){var n=r/4;e[n]^=t[r+7]<<24|t[r+6]<<16|t[r+5]<<8|t[r+4],e[n+1]^=t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]}return e},a=function(t,e){for(var r=0;r<e.length;r+=8){var n=r/4;e[r]=t[n+1],e[r+1]=t[n+1]>>>8,e[r+2]=t[n+1]>>>16,e[r+3]=t[n+1]>>>24,e[r+4]=t[n],e[r+5]=t[n]>>>8,e[r+6]=t[n]>>>16,e[r+7]=t[n]>>>24}return e},u=function(t){var e=this,r=t.capacity,n=t.padding,u=(0,o.default)(),c=r/8,f=200-r/4,l=0,d=new Uint32Array(50),h=i.Buffer.allocUnsafe(f);return this.absorb=function(t){for(var r=0;r<t.length;r++)h[l]=t[r],(l+=1)>=f&&(s(h,d),u(d),l=0);return e},this.squeeze=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={buffer:t.buffer||i.Buffer.allocUnsafe(c),padding:t.padding||n,queue:i.Buffer.allocUnsafe(h.length),state:new Uint32Array(d.length)};h.copy(e.queue);for(var r=0;r<d.length;r++)e.state[r]=d[r];e.queue.fill(0,l),e.queue[l]|=e.padding,e.queue[f-1]|=128,s(e.queue,e.state);for(var o=0;o<e.buffer.length;o+=f)u(e.state),a(e.state,e.buffer.slice(o,o+f));return e.buffer},this.reset=function(){return h.fill(0),d.fill(0),l=0,e},this};e.default=u},56317:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(11196))&&n.__esModule?n:{default:n};var o=function(t){for(var e=t.A,r=t.C,n=0;n<25;n+=5){for(var o=0;o<5;o++)(0,i.default)(e,n+o)(r,o);for(var s=0;s<5;s++){var a=2*(n+s),u=(s+1)%5*2,c=(s+2)%5*2;e[a]^=~r[u]&r[c],e[a+1]^=~r[u+1]&r[c+1]}}};e.default=o},11196:t=>{"use strict";t.exports=function(t,e){return function(r,n){var i=2*n,o=2*e;r[i]=t[o],r[i+1]=t[o+1]}}},98096:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(56317)),i=a(r(33126)),o=a(r(12700)),s=a(r(23671));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=new Uint32Array(10),e=new Uint32Array(10),r=new Uint32Array(2);return function(a){for(var u=0;u<24;u++)(0,s.default)({A:a,C:t,D:e,W:r}),(0,o.default)({A:a,C:t,W:r}),(0,n.default)({A:a,C:t}),(0,i.default)({A:a,roundIndex:u});t.fill(0),e.fill(0),r.fill(0)}};e.default=u},33126:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(1165))&&n.__esModule?n:{default:n};var o=function(t){var e=t.A,r=2*t.roundIndex;e[0]^=i.default[r],e[1]^=i.default[r+1]};e.default=o},1165:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);e.default=r},12700:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(16351)),i=s(r(55841)),o=s(r(11196));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=t.A,r=t.C,s=t.W;(0,o.default)(e,1)(s,0);for(var a=0,u=0,c=0,f=32,l=0;l<24;l++){var d=n.default[l],h=i.default[l];(0,o.default)(e,d)(r,0),a=s[0],u=s[1],f=32-h,s[c=h<32?0:1]=a<<h|u>>>f,s[(c+1)%2]=u<<h|a>>>f,(0,o.default)(s,0)(e,d),(0,o.default)(r,0)(s,0)}};e.default=a},16351:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];e.default=r},55841:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];e.default=r},23671:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(11196))&&n.__esModule?n:{default:n};var o=function(t){for(var e=t.A,r=t.C,n=t.D,o=t.W,s=0,a=0,u=0;u<5;u++){var c=2*u,f=2*(u+5),l=2*(u+10),d=2*(u+15),h=2*(u+20);r[c]=e[c]^e[f]^e[l]^e[d]^e[h],r[c+1]=e[c+1]^e[f+1]^e[l+1]^e[d+1]^e[h+1]}for(var p=0;p<5;p++){(0,i.default)(r,(p+1)%5)(o,0),s=o[0],a=o[1],o[0]=s<<1|a>>>31,o[1]=a<<1|s>>>31,n[2*p]=r[(p+4)%5*2]^o[0],n[2*p+1]=r[(p+4)%5*2+1]^o[1];for(var y=0;y<25;y+=5)e[2*(y+p)]^=n[2*p],e[2*(y+p)+1]^=n[2*p+1]}};e.default=o},88310:(t,e,r)=>{t.exports=i;var n=r(37007).EventEmitter;function i(){n.call(this)}r(56698)(i,n),i.Readable=r(45412),i.Writable=r(16708),i.Duplex=r(25382),i.Transform=r(74610),i.PassThrough=r(63600),i.finished=r(86238),i.pipeline=r(57758),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(f(),0===n.listenerCount(this,"error"))throw t}function f(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),t.removeListener("close",f)}return r.on("error",c),t.on("error",c),r.on("end",f),r.on("close",f),t.on("close",f),t.emit("pipe",r),t}},83141:(t,e,r)=>{"use strict";var n=r(92861).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=l,e=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.I=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=s(e[n]),i>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=s(e[n]),i>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},1061:(t,e,r)=>{var n=r(12113);function i(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function o(t){return n.Nil(t)?"":i(t.constructor)}function s(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function a(t){return n.Function(t)?t.toJSON?t.toJSON():i(t):n.Array(t)?"Array":t&&n.Object(t)?"Object":void 0!==t?t:""}function u(t,e,r){var i=function(t){return n.Function(t)?"":n.String(t)?JSON.stringify(t):t&&n.Object(t)?"":t}(e);return"Expected "+a(t)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function c(t,e,r){r=r||o(e),this.message=u(t,e,r),s(this,c),this.__type=t,this.__value=e,this.__valueTypeName=r}function f(t,e,r,n,i){t?(i=i||o(n),this.message=function(t,e,r,n,i){var o='" of type ';return"key"===e&&(o='" with key type '),u('property "'+a(r)+o+a(t),n,i)}(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',s(this,c),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,f.prototype=Object.create(Error.prototype),f.prototype.constructor=c,t.exports={TfTypeError:c,TfPropertyTypeError:f,tfCustomError:function(t,e){return new c(t,{},e)},tfSubError:function(t,e,r){return t instanceof f?(e=e+"."+t.__property,t=new f(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof c&&(t=new f(t.__type,e,r,t.__value,t.__valueTypeName)),s(t),t},tfJSON:a,getValueTypeName:o}},69542:(t,e,r)=>{var n=r(48287).Buffer,i=r(12113),o=r(1061);function s(t){return n.isBuffer(t)}function a(t){return"string"==typeof t&&/^([0-9a-f]{2})+$/i.test(t)}function u(t,e){var r=t.toJSON();function n(n){if(!t(n))return!1;if(n.length===e)return!0;throw o.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var c=u.bind(null,i.Array),f=u.bind(null,s),l=u.bind(null,a),d=u.bind(null,i.String);var h=Math.pow(2,53)-1;var p={ArrayN:c,Buffer:s,BufferN:f,Finite:function(t){return"number"==typeof t&&isFinite(t)},Hex:a,HexN:l,Int8:function(t){return t<<24>>24===t},Int16:function(t){return t<<16>>16===t},Int32:function(t){return(0|t)===t},Int53:function(t){return"number"==typeof t&&t>=-h&&t<=h&&Math.floor(t)===t},Range:function(t,e,r){function n(n,i){return r(n,i)&&n>t&&n<e}return r=r||i.Number,n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n},StringN:d,UInt8:function(t){return(255&t)===t},UInt16:function(t){return(65535&t)===t},UInt32:function(t){return t>>>0===t},UInt53:function(t){return"number"==typeof t&&t>=0&&t<=h&&Math.floor(t)===t}};for(var y in p)p[y].toJSON=function(t){return t}.bind(null,y);t.exports=p},8676:(t,e,r)=>{var n=r(1061),i=r(12113),o=n.tfJSON,s=n.TfTypeError,a=n.TfPropertyTypeError,u=n.tfSubError,c=n.getValueTypeName,f={arrayOf:function(t,e){function r(r,n){return!!i.Array(r)&&(!i.Nil(r)&&(!(void 0!==e.minLength&&r.length<e.minLength)&&(!(void 0!==e.maxLength&&r.length>e.maxLength)&&((void 0===e.length||r.length===e.length)&&r.every((function(e,r){try{return d(t,e,n)}catch(t){throw u(t,r)}}))))))}return t=l(t),e=e||{},r.toJSON=function(){var r="["+o(t)+"]";return void 0!==e.length?r+="{"+e.length+"}":void 0===e.minLength&&void 0===e.maxLength||(r+="{"+(void 0===e.minLength?0:e.minLength)+","+(void 0===e.maxLength?1/0:e.maxLength)+"}"),r},r},maybe:function t(e){function r(r,n){return i.Nil(r)||e(r,n,t)}return e=l(e),r.toJSON=function(){return"?"+o(e)},r},map:function(t,e){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var o in r){try{e&&d(e,o,n)}catch(t){throw u(t,o,"key")}try{var s=r[o];d(t,s,n)}catch(t){throw u(t,o)}}return!0}return t=l(t),e&&(e=l(e)),r.toJSON=e?function(){return"{"+o(e)+": "+o(t)+"}"}:function(){return"{"+o(t)+"}"},r},object:function(t){var e={};for(var r in t)e[r]=l(t[r]);function n(t,r){if(!i.Object(t))return!1;if(i.Nil(t))return!1;var n;try{for(n in e){d(e[n],t[n],r)}}catch(t){throw u(t,n)}if(r)for(n in t)if(!e[n])throw new a(void 0,n);return!0}return n.toJSON=function(){return o(e)},n},anyOf:function(){var t=[].slice.call(arguments).map(l);function e(e,r){return t.some((function(t){try{return d(t,e,r)}catch(t){return!1}}))}return e.toJSON=function(){return t.map(o).join("|")},e},allOf:function(){var t=[].slice.call(arguments).map(l);function e(e,r){return t.every((function(t){try{return d(t,e,r)}catch(t){return!1}}))}return e.toJSON=function(){return t.map(o).join(" & ")},e},quacksLike:function(t){function e(e){return t===c(e)}return e.toJSON=function(){return t},e},tuple:function(){var t=[].slice.call(arguments).map(l);function e(e,r){return!i.Nil(e)&&(!i.Nil(e.length)&&((!r||e.length===t.length)&&t.every((function(t,n){try{return d(t,e[n],r)}catch(t){throw u(t,n)}}))))}return e.toJSON=function(){return"("+t.map(o).join(", ")+")"},e},value:function(t){function e(e){return e===t}return e.toJSON=function(){return t},e}};function l(t){if(i.String(t))return"?"===t[0]?f.maybe(t.slice(1)):i[t]||f.quacksLike(t);if(t&&i.Object(t)){if(i.Array(t)){if(1!==t.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return f.arrayOf(t[0])}return f.object(t)}return i.Function(t)?t:f.value(t)}function d(t,e,r,n){if(i.Function(t)){if(t(e,r))return!0;throw new s(n||t,e)}return d(l(t),e,r)}for(var h in f.oneOf=f.anyOf,i)d[h]=i[h];for(h in f)d[h]=f[h];var p=r(69542);for(h in p)d[h]=p[h];d.compile=l,d.TfTypeError=s,d.TfPropertyTypeError=a,t.exports=d},12113:t=>{var e={Array:function(t){return null!=t&&t.constructor===Array},Boolean:function(t){return"boolean"==typeof t},Function:function(t){return"function"==typeof t},Nil:function(t){return null==t},Number:function(t){return"number"==typeof t},Object:function(t){return"object"==typeof t},String:function(t){return"string"==typeof t},"":function(){return!0}};for(var r in e.Null=e.Nil,e)e[r].toJSON=function(t){return t}.bind(null,r);t.exports=e},94643:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},10611:(t,e,r)=>{"use strict";var n;r.r(e),r.d(e,{NIL:()=>M,parse:()=>g,stringify:()=>f,v1:()=>y,v3:()=>k,v4:()=>I,v5:()=>P,validate:()=>a,version:()=>B});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"==typeof t&&s.test(t)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};var l,d,h=0,p=0;const y=function(t,e,r){var n=e&&r||0,i=e||new Array(16),s=(t=t||{}).node||l,a=void 0!==t.clockseq?t.clockseq:d;if(null==s||null==a){var u=t.random||(t.rng||o)();null==s&&(s=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=d=16383&(u[6]<<8|u[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),y=void 0!==t.nsecs?t.nsecs:p+1,g=c-h+(y-p)/1e4;if(g<0&&void 0===t.clockseq&&(a=a+1&16383),(g<0||c>h)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,p=y,d=a;var b=(1e4*(268435455&(c+=122192928e5))+y)%4294967296;i[n++]=b>>>24&255,i[n++]=b>>>16&255,i[n++]=b>>>8&255,i[n++]=255&b;var m=c/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=255&m,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var v=0;v<6;++v)i[n+v]=s[v];return e||f(i)};const g=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};function b(t,e,r){function n(t,n,i,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"==typeof n&&(n=g(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(n),s.set(t,n.length),(s=r(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return f(s)}try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function m(t){return 14+(t+64>>>9<<4)+1}function v(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function _(t,e,r,n,i,o){return v((s=v(v(e,t),v(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function w(t,e,r,n,i,o,s){return _(e&r|~e&n,t,e,i,o,s)}function S(t,e,r,n,i,o,s){return _(e&n|r&~n,t,e,i,o,s)}function A(t,e,r,n,i,o,s){return _(e^r^n,t,e,i,o,s)}function x(t,e,r,n,i,o,s){return _(r^(e|~n),t,e,i,o,s)}const E=function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[m(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=r,u=n,c=i,f=o;r=w(r,n,i,o,t[s],7,-680876936),o=w(o,r,n,i,t[s+1],12,-389564586),i=w(i,o,r,n,t[s+2],17,606105819),n=w(n,i,o,r,t[s+3],22,-1044525330),r=w(r,n,i,o,t[s+4],7,-176418897),o=w(o,r,n,i,t[s+5],12,1200080426),i=w(i,o,r,n,t[s+6],17,-1473231341),n=w(n,i,o,r,t[s+7],22,-45705983),r=w(r,n,i,o,t[s+8],7,1770035416),o=w(o,r,n,i,t[s+9],12,-1958414417),i=w(i,o,r,n,t[s+10],17,-42063),n=w(n,i,o,r,t[s+11],22,-1990404162),r=w(r,n,i,o,t[s+12],7,1804603682),o=w(o,r,n,i,t[s+13],12,-40341101),i=w(i,o,r,n,t[s+14],17,-1502002290),r=S(r,n=w(n,i,o,r,t[s+15],22,1236535329),i,o,t[s+1],5,-165796510),o=S(o,r,n,i,t[s+6],9,-1069501632),i=S(i,o,r,n,t[s+11],14,643717713),n=S(n,i,o,r,t[s],20,-373897302),r=S(r,n,i,o,t[s+5],5,-701558691),o=S(o,r,n,i,t[s+10],9,38016083),i=S(i,o,r,n,t[s+15],14,-660478335),n=S(n,i,o,r,t[s+4],20,-405537848),r=S(r,n,i,o,t[s+9],5,568446438),o=S(o,r,n,i,t[s+14],9,-1019803690),i=S(i,o,r,n,t[s+3],14,-187363961),n=S(n,i,o,r,t[s+8],20,1163531501),r=S(r,n,i,o,t[s+13],5,-1444681467),o=S(o,r,n,i,t[s+2],9,-51403784),i=S(i,o,r,n,t[s+7],14,1735328473),r=A(r,n=S(n,i,o,r,t[s+12],20,-1926607734),i,o,t[s+5],4,-378558),o=A(o,r,n,i,t[s+8],11,-2022574463),i=A(i,o,r,n,t[s+11],16,1839030562),n=A(n,i,o,r,t[s+14],23,-35309556),r=A(r,n,i,o,t[s+1],4,-1530992060),o=A(o,r,n,i,t[s+4],11,1272893353),i=A(i,o,r,n,t[s+7],16,-155497632),n=A(n,i,o,r,t[s+10],23,-1094730640),r=A(r,n,i,o,t[s+13],4,681279174),o=A(o,r,n,i,t[s],11,-358537222),i=A(i,o,r,n,t[s+3],16,-722521979),n=A(n,i,o,r,t[s+6],23,76029189),r=A(r,n,i,o,t[s+9],4,-640364487),o=A(o,r,n,i,t[s+12],11,-421815835),i=A(i,o,r,n,t[s+15],16,530742520),r=x(r,n=A(n,i,o,r,t[s+2],23,-995338651),i,o,t[s],6,-198630844),o=x(o,r,n,i,t[s+7],10,1126891415),i=x(i,o,r,n,t[s+14],15,-1416354905),n=x(n,i,o,r,t[s+5],21,-57434055),r=x(r,n,i,o,t[s+12],6,1700485571),o=x(o,r,n,i,t[s+3],10,-1894986606),i=x(i,o,r,n,t[s+10],15,-1051523),n=x(n,i,o,r,t[s+1],21,-2054922799),r=x(r,n,i,o,t[s+8],6,1873313359),o=x(o,r,n,i,t[s+15],10,-30611744),i=x(i,o,r,n,t[s+6],15,-1560198380),n=x(n,i,o,r,t[s+13],21,1309151649),r=x(r,n,i,o,t[s+4],6,-145523070),o=x(o,r,n,i,t[s+11],10,-1120210379),i=x(i,o,r,n,t[s+2],15,718787259),n=x(n,i,o,r,t[s+9],21,-343485551),r=v(r,a),n=v(n,u),i=v(i,c),o=v(o,f)}return[r,n,i,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(m(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))};const k=b("v3",48,E);const I=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return f(n)};function T(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function C(t,e){return t<<e|t>>>32-e}const O=function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),u=0;u<s;++u){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=t[64*u+4*f]<<24|t[64*u+4*f+1]<<16|t[64*u+4*f+2]<<8|t[64*u+4*f+3];a[u]=c}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<s;++l){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=a[l][h];for(var p=16;p<80;++p)d[p]=C(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var y=r[0],g=r[1],b=r[2],m=r[3],v=r[4],_=0;_<80;++_){var w=Math.floor(_/20),S=C(y,5)+T(w,g,b,m)+v+e[w]+d[_]>>>0;v=m,m=b,b=C(g,30)>>>0,g=y,y=S}r[0]=r[0]+y>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+m>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};const P=b("v5",80,O),M="00000000-0000-0000-0000-000000000000";const B=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},68469:(t,e,r)=>{"use strict";var n=r(92861).Buffer,i=9007199254740991;function o(t){if(t<0||t>i||t%1!=0)throw new RangeError("value out of range")}function s(t){return o(t),t<253?1:t<=65535?3:t<=4294967295?5:9}t.exports={encode:function t(e,r,i){if(o(e),r||(r=n.allocUnsafe(s(e))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),e<253?(r.writeUInt8(e,i),t.bytes=1):e<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(e,i+1),t.bytes=3):e<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(e,i+1),t.bytes=5):(r.writeUInt8(255,i),r.writeUInt32LE(e>>>0,i+1),r.writeUInt32LE(e/4294967296|0,i+5),t.bytes=9),r},decode:function t(e,r){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var i=e.readUInt8(r);if(i<253)return t.bytes=1,i;if(253===i)return t.bytes=3,e.readUInt16LE(r+1);if(254===i)return t.bytes=5,e.readUInt32LE(r+1);t.bytes=9;var s=e.readUInt32LE(r+1),a=4294967296*e.readUInt32LE(r+5)+s;return o(a),a},encodingLength:s}},68961:(__unused_webpack_module,exports)=>{var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(t){return function(t,e,r){t[e]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(t),(function(e){r[e]=t[e]})),forEach(globals,(function(e){t[e]&&(r[e]=t[e])}));var o=Object_keys(r),s=n.call(r,this.code);return forEach(Object_keys(r),(function(e){(e in t||-1===indexOf(o,e))&&(t[e]=r[e])})),forEach(globals,(function(e){e in t||defineProp(t,e,r[e])})),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),r=this.runInContext(e);return t&&forEach(Object_keys(e),(function(r){t[r]=e[r]})),r},forEach(Object_keys(Script.prototype),(function(t){exports[t]=Script[t]=function(e){var r=Script(e);return r[t].apply(r,[].slice.call(arguments,1))}})),exports.isContext=function(t){return t instanceof Context},exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),(function(r){e[r]=t[r]})),e}},57513:(t,e,r)=>{var n=r(48287).Buffer,i=r(87701);function o(t,e){if(void 0!==e&&t[0]!==e)throw new Error("Invalid network version");if(33===t.length)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(34!==t.length)throw new Error("Invalid WIF length");if(1!==t[33])throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function s(t,e,r){var i=new n(r?34:33);return i.writeUInt8(t,0),e.copy(i,1),r&&(i[33]=1),i}t.exports={decode:function(t,e){return o(i.decode(t),e)},decodeRaw:o,encode:function(t,e,r){return"number"==typeof t?i.encode(s(t,e,r)):i.encode(s(t.version,t.privateKey,t.compressed))},encodeRaw:s}},68016:(t,e,r)=>{"use strict";var n=r(16763),i=r(92861).Buffer;t.exports=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(e){var r=t(e);return n.encode(i.concat([e,r],e.length+4))},decode:function(t){var r=e(n.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=n.decodeUnsafe(t);if(r)return e(r)}}}},87701:(t,e,r)=>{"use strict";var n=r(47108),i=r(68016);t.exports=i((function(t){var e=n("sha256").update(t).digest();return n("sha256").update(e).digest()}))},4693:t=>{class e{constructor(t){this.value=t,this.next=void 0}}class r{constructor(){this.clear()}enqueue(t){const r=new e(t);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){const t=this._head;if(t)return this._head=this._head.next,this._size--,t.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let t=this._head;for(;t;)yield t.value,t=t.next}}t.exports=r},33470:t=>{"use strict";t.exports=__WEBPACK_EXTERNAL_MODULE__33470__},84102:()=>{},14923:()=>{},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},91903:()=>{},24394:()=>{},15340:()=>{},79838:()=>{},56750:t=>{"use strict";var e,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((t,e)=>{for(var n in e)r(t,n,{get:e[n],enumerable:!0})})(s,{boundaryMatchRegex:()=>u,boundaryRegex:()=>a,default:()=>S,encodeMultipartMessage:()=>y,parseMessage:()=>_,parseMultipartMessage:()=>S}),t.exports=(e=s,((t,e,s,a)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let u of i(e))!o.call(t,u)&&u!==s&&r(t,u,{get:()=>e[u],enumerable:!(a=n(e,u))||a.enumerable});return t})(r({},"__esModule",{value:!0}),e));var a=/^[0-9a-zA-Z'()+_,\-./:=? ]{0,69}[0-9a-zA-Z'()+_,\-./:=?]$/,u=/;\s*boundary=(?:"([0-9a-zA-Z'()+_,\-./:=? ]{0,69}[0-9a-zA-Z'()+_,\-./:=?])"|([0-9a-zA-Z'+_\-.]{0,69}[0-9a-zA-Z'+_\-.]))/,c=t=>new ReadableStream({pull(e){if(ArrayBuffer.isView(t))e.enqueue(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else{if(!(t instanceof ArrayBuffer))throw new TypeError("Expected ArrayBuffer or an ArrayBuffer view.");e.enqueue(t)}e.close()}}),f=/;\s*boundary=(?:"([^"]+)"|([^;",]+))/,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+_-.",d=()=>{let t=new Uint8Array(24);return globalThis.crypto.getRandomValues(t),Array.from(t).map((t=>l[t%66])).join("")},h={preventClose:!0};async function*p(t,e,r){let n=new TextEncoder,i=n.encode(`\r\n--${t}`);if(Array.isArray(e)&&e.length<1)return void await r.abort(Error("At least one part is required"));let o=0;for await(let t of e){let e,s;if(o++,!t.body&&t.parts)if(s=t.headers.get("content-type"),s){if(!s.startsWith("multipart/")||!f.test(s))return void await r.abort(Error("Invalid multipart content type: "+s));{let t=s.match(u);(!t||!(e=t[1]||t[2]))&&(e=d(),s=s.replace(f,`; boundary="${e}"`))}}else e=d(),s=`multipart/mixed; boundary="${e}"`;await c(i).pipeTo(r,h),yield;{let e=[""];if(s){let r=!1;t.headers.forEach(((t,n)=>{"content-type"!==n?e.push(`${n}: ${t}`):(r=!0,e.push(`${n}: ${s}`))})),r||e.push(`content-type: ${s}`)}else t.headers.forEach(((t,r)=>{e.push(`${r}: ${t}`)}));t.parts||!t.body?e.push(""):e.push("","");let i=n.encode(e.join("\r\n"));e.length=0,await c(i).pipeTo(r,h),yield}if(t.body){if(t.body instanceof ArrayBuffer||ArrayBuffer.isView(t.body))await c(t.body).pipeTo(r,h);else if(t.body instanceof Blob)await t.body.stream().pipeTo(r,h);else{if(!(t.body instanceof ReadableStream))return void await r.abort(Error("Invalid body type"));await t.body.pipeTo(r,h)}yield}else if(t.parts){if(!e)return void await r.abort(Error("Runtime exception: undefined part boundary"));yield*p(e,t.parts,r),yield}}if(!o)return void await r.abort(Error("At least one part is required"));let s=n.encode(`\r\n--${t}--`);await c(s).pipeTo(r,h)}var y=(t,e)=>{let r=new TransformStream,n=p(t,e,r.writable),i=!1,o=r.readable.getReader();return new ReadableStream({start(t){(async()=>{for(;;)try{let e=await o.read();if(e.done){let e=new Uint8Array([13,10]);return t.enqueue(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)),void t.close()}t.enqueue(e.value)}catch(e){return void t.error(e)}})().catch((()=>{}))},async pull(){i||(await n.next()).done&&(i=!0,await r.writable.close())}})},g=(t,e)=>{t:for(let r=0;r<=t.length-e.length;r++){for(let n=0;n<e.length;n++)if(t[r+n]!==e[n])continue t;return r}return-1},b=new TextDecoder,m=(new TextEncoder).encode("\r\n"),v=[9,32],_=t=>{let e=0,r=[];for(;-1!==(e=g(t,m))&&0!==e;){let n=t.indexOf(58);if(-1===n)throw new Error("Invalid header");let i=b.decode(t.subarray(0,n));for(;v.includes(t[e+2]);){let r=g(t.subarray(e+2),m);if(r<1)break;e+=2+r}let o=b.decode(t.subarray(n+1,e)).replace(/\r\n/g,"");r.push([i,o]),t=t.subarray(e+m.length)}let n=new Headers(r);return n.has("content-transfer-encoding")||n.set("content-transfer-encoding","7bit"),n.has("content-type")||n.set("content-type","text/plain; charset=us-ascii"),{headers:n,body:-1===e?null:t.subarray(e+m.length)}},w=(t,...e)=>{let r=e.reduce(((t,e)=>t+e.byteLength),t.length),n=new(Object(e[0]).constructor)(r);n.set(t);let i=t.length;return e.forEach((t=>{n.set(t,i),i+=t.byteLength})),n};var S=async function*t(e,r){var n;if(!a.test(r))throw new Error("Invalid boundary delimiter");let i=new TextEncoder,o=[9,32],s=new Uint8Array([13,10]),f=i.encode(`\r\n--${r}`),l=new Uint8Array,d=0,h=!1,p=e.getReader();try{for(;3!==d;){let{done:e,value:i}=await p.read();if(e){if(0===l.length||h)throw new Error("Invalid message");h=!0}else l=w(l,ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i));for(;l.length>0;){let i=NaN;if(0===d&&(i=g(l,f.slice(2))-2,-3===i)||(-2!==i&&(i=g(l,f)),-1===i))break;let a=i+f.length,h=e?0:g(l.subarray(a,a+32),s);if(-1===h&&l.length-a<32)break;if(-1===h||!Array.from(l.subarray(a+Math.min(2,h),a+h)).every((t=>o.includes(t))))throw new Error(`Invalid boundary at index ${i}`);if(e||h>=2)if([1,2].includes(d)&&l[a+0]===l[a+1]&&45===l[a+0])d=3;else if(!o.includes(l[a+0])||!o.includes(l[a+1]))throw new Error(`Invalid boundary at index ${i} (${r}): ${null==(n=l[a+1])?void 0:n.toString(16)}`);switch(d){case 0:d=1;break;case 1:d=2;case 2:case 3:if(l.subarray(i,a).length>0){let e,r=l.subarray(0,i),n=_(r),o=n.headers.get("content-type");if(n.body&&null!=o&&o.startsWith("multipart/")){let r=o.match(u);if(r){let i=r[1]||r[2];e=t(c(n.body),i)}else e=null}yield{headers:n.headers,body:n.body,...void 0!==e&&{parts:e}}}}if(3===d){l=l.subarray(l.length);break}l=l.subarray(h+a+2)}}}finally{p.releaseLock()}}},7188:(t,e,r)=>{"use strict";var n=r(48287).Buffer;function i(t,e){return function(){return t.apply(e,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:s}=Object,a=(u=Object.create(null),t=>{const e=o.call(t);return u[e]||(u[e]=e.slice(8,-1).toLowerCase())});var u;const c=t=>(t=t.toLowerCase(),e=>a(e)===t),f=t=>e=>typeof e===t,{isArray:l}=Array,d=f("undefined");const h=c("ArrayBuffer");const p=f("string"),y=f("function"),g=f("number"),b=t=>null!==t&&"object"==typeof t,m=t=>{if("object"!==a(t))return!1;const e=s(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},v=c("Date"),_=c("File"),w=c("Blob"),S=c("FileList"),A=c("URLSearchParams");function x(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,i;if("object"!=typeof t&&(t=[t]),l(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(n=0;n<o;n++)s=i[n],e.call(null,t[s],s,t)}}function E(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,I=t=>!d(t)&&t!==k;const T=(C="undefined"!=typeof Uint8Array&&s(Uint8Array),t=>C&&t instanceof C);var C;const O=c("HTMLFormElement"),P=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),M=c("RegExp"),B=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};x(r,((r,i)=>{let o;!1!==(o=e(r,i,t))&&(n[i]=o||r)})),Object.defineProperties(t,n)},R="abcdefghijklmnopqrstuvwxyz",j="0123456789",D={DIGIT:j,ALPHA:R,ALPHA_DIGIT:R+R.toUpperCase()+j};const L=c("AsyncFunction");var U={isArray:l,isArrayBuffer:h,isBuffer:function(t){return null!==t&&!d(t)&&null!==t.constructor&&!d(t.constructor)&&y(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||y(t.append)&&("formdata"===(e=a(t))||"object"===e&&y(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&h(t.buffer),e},isString:p,isNumber:g,isBoolean:t=>!0===t||!1===t,isObject:b,isPlainObject:m,isUndefined:d,isDate:v,isFile:_,isBlob:w,isRegExp:M,isFunction:y,isStream:t=>b(t)&&y(t.pipe),isURLSearchParams:A,isTypedArray:T,isFileList:S,forEach:x,merge:function t(){const{caseless:e}=I(this)&&this||{},r={},n=(n,i)=>{const o=e&&E(r,i)||i;m(r[o])&&m(n)?r[o]=t(r[o],n):m(n)?r[o]=t({},n):l(n)?r[o]=n.slice():r[o]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&x(arguments[t],n);return r},extend:(t,e,r,{allOwnKeys:n}={})=>(x(e,((e,n)=>{r&&y(e)?t[n]=i(e,r):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let i,o,a;const u={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],n&&!n(a,t,e)||u[a]||(e[a]=t[a],u[a]=!0);t=!1!==r&&s(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:c,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(l(t))return t;let e=t.length;if(!g(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:O,hasOwnProperty:P,hasOwnProp:P,reduceDescriptors:B,freezeMethods:t=>{B(t,((e,r)=>{if(y(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];y(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return l(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:E,global:k,isContextDefined:I,ALPHABET:D,generateString:(t=16,e=D.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r},isSpecCompliantForm:function(t){return!!(t&&y(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(b(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const i=l(t)?[]:{};return x(t,((t,e)=>{const o=r(t,n+1);!d(o)&&(i[e]=o)})),e[n]=void 0,i}}return t};return r(t,0)},isAsyncFn:L,isThenable:t=>t&&(b(t)||y(t))&&y(t.then)&&y(t.catch)};function N(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}U.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const H=N.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{F[t]={value:t}})),Object.defineProperties(N,F),Object.defineProperty(H,"isAxiosError",{value:!0}),N.from=(t,e,r,n,i,o)=>{const s=Object.create(H);return U.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),N.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function z(t){return U.isPlainObject(t)||U.isArray(t)}function K(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function q(t,e,r){return t?t.concat(e).map((function(t,e){return t=K(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const W=U.toFlatObject(U,{},null,(function(t){return/^is[A-Z]/.test(t)}));function $(t,e,r){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(r=U.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!U.isUndefined(e[t])}))).metaTokens,o=r.visitor||f,s=r.dots,a=r.indexes,u=(r.Blob||"undefined"!=typeof Blob&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(o))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(U.isDate(t))return t.toISOString();if(!u&&U.isBlob(t))throw new N("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(t)||U.isTypedArray(t)?u&&"function"==typeof Blob?new Blob([t]):n.from(t):t}function f(t,r,n){let o=t;if(t&&!n&&"object"==typeof t)if(U.endsWith(r,"{}"))r=i?r:r.slice(0,-2),t=JSON.stringify(t);else if(U.isArray(t)&&function(t){return U.isArray(t)&&!t.some(z)}(t)||(U.isFileList(t)||U.endsWith(r,"[]"))&&(o=U.toArray(t)))return r=K(r),o.forEach((function(t,n){!U.isUndefined(t)&&null!==t&&e.append(!0===a?q([r],n,s):null===a?r:r+"[]",c(t))})),!1;return!!z(t)||(e.append(q(n,r,s),c(t)),!1)}const l=[],d=Object.assign(W,{defaultVisitor:f,convertValue:c,isVisitable:z});if(!U.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!U.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),U.forEach(r,(function(r,i){!0===(!(U.isUndefined(r)||null===r)&&o.call(e,r,U.isString(i)?i.trim():i,n,d))&&t(r,n?n.concat(i):[i])})),l.pop()}}(t),e}function V(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function G(t,e){this._pairs=[],t&&$(t,this,e)}const Q=G.prototype;function X(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y(t,e,r){if(!e)return t;const n=r&&r.encode||X,i=r&&r.serialize;let o;if(o=i?i(e,r):U.isURLSearchParams(e)?e.toString():new G(e,r).toString(n),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}Q.append=function(t,e){this._pairs.push([t,e])},Q.toString=function(t){const e=t?function(e){return t.call(this,e,V)}:V;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var J=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Z={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:G,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const et="undefined"!=typeof window&&"undefined"!=typeof document,rt=(nt="undefined"!=typeof navigator&&navigator.product,et&&["ReactNative","NativeScript","NS"].indexOf(nt)<0);var nt;const it="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ot={...Object.freeze({__proto__:null,hasBrowserEnv:et,hasStandardBrowserWebWorkerEnv:it,hasStandardBrowserEnv:rt}),...tt};function st(t){function e(t,r,n,i){let o=t[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=t.length;if(o=!o&&U.isArray(n)?n.length:o,a)return U.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&U.isObject(n[o])||(n[o]=[]);return e(t,r,n[o],i)&&U.isArray(n[o])&&(n[o]=function(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}(n[o])),!s}if(U.isFormData(t)&&U.isFunction(t.entries)){const r={};return U.forEachEntry(t,((t,n)=>{e(function(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null}const at={transitional:Z,adapter:["xhr","http"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,i=U.isObject(t);i&&U.isHTMLForm(t)&&(t=new FormData(t));if(U.isFormData(t))return n?JSON.stringify(st(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return $(t,new ot.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return ot.isNode&&U.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=U.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return $(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),function(t,e,r){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||at.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(t&&U.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw N.from(t,N.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],(t=>{at.headers[t]={}}));var ut=at;const ct=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const ft=Symbol("internals");function lt(t){return t&&String(t).trim().toLowerCase()}function dt(t){return!1===t||null==t?t:U.isArray(t)?t.map(dt):String(t)}function ht(t,e,r,n,i){return U.isFunction(n)?n.call(this,e,r):(i&&(e=r),U.isString(e)?U.isString(n)?-1!==e.indexOf(n):U.isRegExp(n)?n.test(e):void 0:void 0)}class pt{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function i(t,e,r){const i=lt(e);if(!i)throw new Error("header name must be a non-empty string");const o=U.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||e]=dt(t))}const o=(t,e)=>U.forEach(t,((t,r)=>i(t,r,e)));return U.isPlainObject(t)||t instanceof this.constructor?o(t,e):U.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?o((t=>{const e={};let r,n,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),r=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!r||e[r]&&ct[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e):null!=t&&i(e,t,r),this}get(t,e){if(t=lt(t)){const r=U.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(U.isFunction(e))return e.call(this,t,r);if(U.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=lt(t)){const r=U.findKey(this,t);return!(!r||void 0===this[r]||e&&!ht(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function i(t){if(t=lt(t)){const i=U.findKey(r,t);!i||e&&!ht(0,r[i],i,e)||(delete r[i],n=!0)}}return U.isArray(t)?t.forEach(i):i(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const i=e[r];t&&!ht(0,this[i],i,t,!0)||(delete this[i],n=!0)}return n}normalize(t){const e=this,r={};return U.forEach(this,((n,i)=>{const o=U.findKey(r,i);if(o)return e[o]=dt(n),void delete e[i];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete e[i],e[s]=dt(n),r[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return U.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&U.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[ft]=this[ft]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=lt(t);e[n]||(!function(t,e){const r=U.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})}))}(r,t),e[n]=!0)}return U.isArray(t)?t.forEach(n):n(t),this}}pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),U.reduceDescriptors(pt.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),U.freezeMethods(pt);var yt=pt;function gt(t,e){const r=this||ut,n=e||r,i=yt.from(n.headers);let o=n.data;return U.forEach(t,(function(t){o=t.call(r,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function bt(t){return!(!t||!t.__CANCEL__)}function mt(t,e,r){N.call(this,null==t?"canceled":t,N.ERR_CANCELED,e,r),this.name="CanceledError"}U.inherits(mt,N,{__CANCEL__:!0});var vt=ot.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const s=[t+"="+encodeURIComponent(e)];U.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),U.isString(n)&&s.push("path="+n),U.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function _t(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var wt=ot.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function n(r){let n=r;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=n(window.location.href),function(t){const e=U.isString(t)?n(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0};function St(t,e){let r=0;const n=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),c=n[s];i||(i=u),r[o]=a,n[o]=u;let f=s,l=0;for(;f!==o;)l+=r[f++],f%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),u-i<e)return;const d=c&&u-c;return d?Math.round(1e3*l/d):void 0}}(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-r,u=n(a);r=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&o<=s?(s-o)/u:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const At={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){let n=t.data;const i=yt.from(t.headers).normalize();let o,s,{responseType:a,withXSRFToken:u}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}if(U.isFormData(n))if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[t,...e]=s?s.split(";").map((t=>t.trim())).filter(Boolean):[];i.setContentType([t||"multipart/form-data",...e].join("; "))}let f=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",r=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+r))}const l=_t(t.baseURL,t.url);function d(){if(!f)return;const n=yt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());!function(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new N("Request failed with status code "+r.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}((function(t){e(t),c()}),(function(t){r(t),c()}),{data:a&&"text"!==a&&"json"!==a?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:t,request:f}),f=null}if(f.open(t.method.toUpperCase(),Y(l,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,"onloadend"in f?f.onloadend=d:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(d)},f.onabort=function(){f&&(r(new N("Request aborted",N.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new N("Network Error",N.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const n=t.transitional||Z;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new N(e,n.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,t,f)),f=null},ot.hasStandardBrowserEnv&&(u&&U.isFunction(u)&&(u=u(t)),u||!1!==u&&wt(l))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&vt.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===n&&i.setContentType(null),"setRequestHeader"in f&&U.forEach(i.toJSON(),(function(t,e){f.setRequestHeader(e,t)})),U.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),a&&"json"!==a&&(f.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",St(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",St(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=e=>{f&&(r(!e||e.type?new mt(null,t,f):e),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const h=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(l);h&&-1===ot.protocols.indexOf(h)?r(new N("Unsupported protocol "+h+":",N.ERR_BAD_REQUEST,t)):f.send(n||null)}))}};U.forEach(At,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const xt=t=>`- ${t}`,Et=t=>U.isFunction(t)||null===t||!1===t;var kt=t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){let e;if(r=t[o],n=r,!Et(r)&&(n=At[(e=String(r)).toLowerCase()],void 0===n))throw new N(`Unknown adapter '${e}'`);if(n)break;i[e||"#"+o]=n}if(!n){const t=Object.entries(i).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new N("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map(xt).join("\n"):" "+xt(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function It(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mt(null,t)}function Tt(t){It(t),t.headers=yt.from(t.headers),t.data=gt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return kt(t.adapter||ut.adapter)(t).then((function(e){return It(t),e.data=gt.call(t,t.transformResponse,e),e.headers=yt.from(e.headers),e}),(function(e){return bt(e)||(It(t),e&&e.response&&(e.response.data=gt.call(t,t.transformResponse,e.response),e.response.headers=yt.from(e.response.headers))),Promise.reject(e)}))}const Ct=t=>t instanceof yt?t.toJSON():t;function Ot(t,e){e=e||{};const r={};function n(t,e,r){return U.isPlainObject(t)&&U.isPlainObject(e)?U.merge.call({caseless:r},t,e):U.isPlainObject(e)?U.merge({},e):U.isArray(e)?e.slice():e}function i(t,e,r){return U.isUndefined(e)?U.isUndefined(t)?void 0:n(void 0,t,r):n(t,e,r)}function o(t,e){if(!U.isUndefined(e))return n(void 0,e)}function s(t,e){return U.isUndefined(e)?U.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,i,o){return o in e?n(r,i):o in t?n(void 0,r):void 0}const u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>i(Ct(t),Ct(e),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),(function(n){const o=u[n]||i,s=o(t[n],e[n],n);U.isUndefined(s)&&o!==a||(r[n]=s)})),r}const Pt="1.6.7",Mt={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Mt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const Bt={};Mt.transitional=function(t,e,r){function n(t,e){return"[Axios v1.6.7] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,o)=>{if(!1===t)throw new N(n(i," has been removed"+(e?" in "+e:"")),N.ERR_DEPRECATED);return e&&!Bt[i]&&(Bt[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,o)}};var Rt={assertOptions:function(t,e,r){if("object"!=typeof t)throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const e=t[o],r=void 0===e||s(e,o,t);if(!0!==r)throw new N("option "+o+" must be "+r,N.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new N("Unknown option "+o,N.ERR_BAD_OPTION)}},validators:Mt};const jt=Rt.validators;class Dt{constructor(t){this.defaults=t,this.interceptors={request:new J,response:new J}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const r=e.stack?e.stack.replace(/^.+\n/,""):"";t.stack?r&&!String(t.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+r):t.stack=r}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Ot(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:i}=e;void 0!==r&&Rt.assertOptions(r,{silentJSONParsing:jt.transitional(jt.boolean),forcedJSONParsing:jt.transitional(jt.boolean),clarifyTimeoutError:jt.transitional(jt.boolean)},!1),null!=n&&(U.isFunction(n)?e.paramsSerializer={serialize:n}:Rt.assertOptions(n,{encode:jt.function,serialize:jt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&U.merge(i.common,i[e.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=yt.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let f,l=0;if(!a){const t=[Tt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,u),f=t.length,c=Promise.resolve(e);l<f;)c=c.then(t[l++],t[l++]);return c}f=s.length;let d=e;for(l=0;l<f;){const t=s[l++],e=s[l++];try{d=t(d)}catch(t){e.call(this,t);break}}try{c=Tt.call(this,d)}catch(t){return Promise.reject(t)}for(l=0,f=u.length;l<f;)c=c.then(u[l++],u[l++]);return c}getUri(t){return Y(_t((t=Ot(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}U.forEach(["delete","get","head","options"],(function(t){Dt.prototype[t]=function(e,r){return this.request(Ot(r||{},{method:t,url:e,data:(r||{}).data}))}})),U.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(Ot(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Dt.prototype[t]=e(),Dt.prototype[t+"Form"]=e(!0)}));var Lt=Dt;class Ut{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new mt(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Ut((function(e){t=e})),cancel:t}}}var Nt=Ut;const Ht={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ht).forEach((([t,e])=>{Ht[e]=t}));var Ft=Ht;const zt=function t(e){const r=new Lt(e),n=i(Lt.prototype.request,r);return U.extend(n,Lt.prototype,r,{allOwnKeys:!0}),U.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return t(Ot(e,r))},n}(ut);zt.Axios=Lt,zt.CanceledError=mt,zt.CancelToken=Nt,zt.isCancel=bt,zt.VERSION=Pt,zt.toFormData=$,zt.AxiosError=N,zt.Cancel=zt.CanceledError,zt.all=function(t){return Promise.all(t)},zt.spread=function(t){return function(e){return t.apply(null,e)}},zt.isAxiosError=function(t){return U.isObject(t)&&!0===t.isAxiosError},zt.mergeConfig=Ot,zt.AxiosHeaders=yt,zt.formToJSON=t=>st(U.isHTMLForm(t)?new FormData(t):t),zt.getAdapter=kt,zt.HttpStatusCode=Ft,zt.default=zt,t.exports=zt},86425:(t,e,r)=>{"use strict";var n=r(48287).Buffer;function i(t,e){return function(){return t.apply(e,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:s}=Object,a=(u=Object.create(null),t=>{const e=o.call(t);return u[e]||(u[e]=e.slice(8,-1).toLowerCase())});var u;const c=t=>(t=t.toLowerCase(),e=>a(e)===t),f=t=>e=>typeof e===t,{isArray:l}=Array,d=f("undefined");const h=c("ArrayBuffer");const p=f("string"),y=f("function"),g=f("number"),b=t=>null!==t&&"object"==typeof t,m=t=>{if("object"!==a(t))return!1;const e=s(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},v=c("Date"),_=c("File"),w=c("Blob"),S=c("FileList"),A=c("URLSearchParams"),[x,E,k,I]=["ReadableStream","Request","Response","Headers"].map(c);function T(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,i;if("object"!=typeof t&&(t=[t]),l(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(n=0;n<o;n++)s=i[n],e.call(null,t[s],s,t)}}function C(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,P=t=>!d(t)&&t!==O;const M=(B="undefined"!=typeof Uint8Array&&s(Uint8Array),t=>B&&t instanceof B);var B;const R=c("HTMLFormElement"),j=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),D=c("RegExp"),L=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};T(r,((r,i)=>{let o;!1!==(o=e(r,i,t))&&(n[i]=o||r)})),Object.defineProperties(t,n)},U="abcdefghijklmnopqrstuvwxyz",N="0123456789",H={DIGIT:N,ALPHA:U,ALPHA_DIGIT:U+U.toUpperCase()+N};const F=c("AsyncFunction");var z={isArray:l,isArrayBuffer:h,isBuffer:function(t){return null!==t&&!d(t)&&null!==t.constructor&&!d(t.constructor)&&y(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||y(t.append)&&("formdata"===(e=a(t))||"object"===e&&y(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&h(t.buffer),e},isString:p,isNumber:g,isBoolean:t=>!0===t||!1===t,isObject:b,isPlainObject:m,isReadableStream:x,isRequest:E,isResponse:k,isHeaders:I,isUndefined:d,isDate:v,isFile:_,isBlob:w,isRegExp:D,isFunction:y,isStream:t=>b(t)&&y(t.pipe),isURLSearchParams:A,isTypedArray:M,isFileList:S,forEach:T,merge:function t(){const{caseless:e}=P(this)&&this||{},r={},n=(n,i)=>{const o=e&&C(r,i)||i;m(r[o])&&m(n)?r[o]=t(r[o],n):m(n)?r[o]=t({},n):l(n)?r[o]=n.slice():r[o]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&T(arguments[t],n);return r},extend:(t,e,r,{allOwnKeys:n}={})=>(T(e,((e,n)=>{r&&y(e)?t[n]=i(e,r):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let i,o,a;const u={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],n&&!n(a,t,e)||u[a]||(e[a]=t[a],u[a]=!0);t=!1!==r&&s(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:c,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(l(t))return t;let e=t.length;if(!g(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:R,hasOwnProperty:j,hasOwnProp:j,reduceDescriptors:L,freezeMethods:t=>{L(t,((e,r)=>{if(y(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];y(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return l(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:C,global:O,isContextDefined:P,ALPHABET:H,generateString:(t=16,e=H.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r},isSpecCompliantForm:function(t){return!!(t&&y(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(b(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const i=l(t)?[]:{};return T(t,((t,e)=>{const o=r(t,n+1);!d(o)&&(i[e]=o)})),e[n]=void 0,i}}return t};return r(t,0)},isAsyncFn:F,isThenable:t=>t&&(b(t)||y(t))&&y(t.then)&&y(t.catch)};function K(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}z.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const q=K.prototype,W={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{W[t]={value:t}})),Object.defineProperties(K,W),Object.defineProperty(q,"isAxiosError",{value:!0}),K.from=(t,e,r,n,i,o)=>{const s=Object.create(q);return z.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),K.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function $(t){return z.isPlainObject(t)||z.isArray(t)}function V(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function G(t,e,r){return t?t.concat(e).map((function(t,e){return t=V(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const Q=z.toFlatObject(z,{},null,(function(t){return/^is[A-Z]/.test(t)}));function X(t,e,r){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!z.isUndefined(e[t])}))).metaTokens,o=r.visitor||f,s=r.dots,a=r.indexes,u=(r.Blob||"undefined"!=typeof Blob&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(o))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(z.isDate(t))return t.toISOString();if(!u&&z.isBlob(t))throw new K("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(t)||z.isTypedArray(t)?u&&"function"==typeof Blob?new Blob([t]):n.from(t):t}function f(t,r,n){let o=t;if(t&&!n&&"object"==typeof t)if(z.endsWith(r,"{}"))r=i?r:r.slice(0,-2),t=JSON.stringify(t);else if(z.isArray(t)&&function(t){return z.isArray(t)&&!t.some($)}(t)||(z.isFileList(t)||z.endsWith(r,"[]"))&&(o=z.toArray(t)))return r=V(r),o.forEach((function(t,n){!z.isUndefined(t)&&null!==t&&e.append(!0===a?G([r],n,s):null===a?r:r+"[]",c(t))})),!1;return!!$(t)||(e.append(G(n,r,s),c(t)),!1)}const l=[],d=Object.assign(Q,{defaultVisitor:f,convertValue:c,isVisitable:$});if(!z.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!z.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),z.forEach(r,(function(r,i){!0===(!(z.isUndefined(r)||null===r)&&o.call(e,r,z.isString(i)?i.trim():i,n,d))&&t(r,n?n.concat(i):[i])})),l.pop()}}(t),e}function Y(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function J(t,e){this._pairs=[],t&&X(t,this,e)}const Z=J.prototype;function tt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function et(t,e,r){if(!e)return t;const n=r&&r.encode||tt,i=r&&r.serialize;let o;if(o=i?i(e,r):z.isURLSearchParams(e)?e.toString():new J(e,r).toString(n),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}Z.append=function(t,e){this._pairs.push([t,e])},Z.toString=function(t){const e=t?function(e){return t.call(this,e,Y)}:Y;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var rt=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},nt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},it={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:J,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ot="undefined"!=typeof window&&"undefined"!=typeof document,st=(at="undefined"!=typeof navigator&&navigator.product,ot&&["ReactNative","NativeScript","NS"].indexOf(at)<0);var at;const ut="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ct=ot&&window.location.href||"http://localhost";var ft={...Object.freeze({__proto__:null,hasBrowserEnv:ot,hasStandardBrowserWebWorkerEnv:ut,hasStandardBrowserEnv:st,origin:ct}),...it};function lt(t){function e(t,r,n,i){let o=t[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=t.length;if(o=!o&&z.isArray(n)?n.length:o,a)return z.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&z.isObject(n[o])||(n[o]=[]);return e(t,r,n[o],i)&&z.isArray(n[o])&&(n[o]=function(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}(n[o])),!s}if(z.isFormData(t)&&z.isFunction(t.entries)){const r={};return z.forEachEntry(t,((t,n)=>{e(function(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null}const dt={transitional:nt,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,i=z.isObject(t);i&&z.isHTMLForm(t)&&(t=new FormData(t));if(z.isFormData(t))return n?JSON.stringify(lt(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return X(t,new ft.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return ft.isNode&&z.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return X(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),function(t,e,r){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||dt.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw K.from(t,K.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],(t=>{dt.headers[t]={}}));var ht=dt;const pt=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const yt=Symbol("internals");function gt(t){return t&&String(t).trim().toLowerCase()}function bt(t){return!1===t||null==t?t:z.isArray(t)?t.map(bt):String(t)}function mt(t,e,r,n,i){return z.isFunction(n)?n.call(this,e,r):(i&&(e=r),z.isString(e)?z.isString(n)?-1!==e.indexOf(n):z.isRegExp(n)?n.test(e):void 0:void 0)}class vt{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function i(t,e,r){const i=gt(e);if(!i)throw new Error("header name must be a non-empty string");const o=z.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||e]=bt(t))}const o=(t,e)=>z.forEach(t,((t,r)=>i(t,r,e)));if(z.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(z.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o((t=>{const e={};let r,n,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),r=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!r||e[r]&&pt[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e);else if(z.isHeaders(t))for(const[e,n]of t.entries())i(n,e,r);else null!=t&&i(e,t,r);return this}get(t,e){if(t=gt(t)){const r=z.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(z.isFunction(e))return e.call(this,t,r);if(z.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=gt(t)){const r=z.findKey(this,t);return!(!r||void 0===this[r]||e&&!mt(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function i(t){if(t=gt(t)){const i=z.findKey(r,t);!i||e&&!mt(0,r[i],i,e)||(delete r[i],n=!0)}}return z.isArray(t)?t.forEach(i):i(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const i=e[r];t&&!mt(0,this[i],i,t,!0)||(delete this[i],n=!0)}return n}normalize(t){const e=this,r={};return z.forEach(this,((n,i)=>{const o=z.findKey(r,i);if(o)return e[o]=bt(n),void delete e[i];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete e[i],e[s]=bt(n),r[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return z.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&z.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[yt]=this[yt]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=gt(t);e[n]||(!function(t,e){const r=z.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})}))}(r,t),e[n]=!0)}return z.isArray(t)?t.forEach(n):n(t),this}}vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),z.reduceDescriptors(vt.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),z.freezeMethods(vt);var _t=vt;function wt(t,e){const r=this||ht,n=e||r,i=_t.from(n.headers);let o=n.data;return z.forEach(t,(function(t){o=t.call(r,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function St(t){return!(!t||!t.__CANCEL__)}function At(t,e,r){K.call(this,null==t?"canceled":t,K.ERR_CANCELED,e,r),this.name="CanceledError"}function xt(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new K("Request failed with status code "+r.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}z.inherits(At,K,{__CANCEL__:!0});var Et=(t,e,r=3)=>{let n=0;const i=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),c=n[s];i||(i=u),r[o]=a,n[o]=u;let f=s,l=0;for(;f!==o;)l+=r[f++],f%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),u-i<e)return;const d=c&&u-c;return d?Math.round(1e3*l/d):void 0}}(50,250);return function(t,e){let r=0;const n=1e3/e;let i=null;return function(){const e=!0===this,o=Date.now();if(e||o-r>n)return i&&(clearTimeout(i),i=null),r=o,t.apply(null,arguments);i||(i=setTimeout((()=>(i=null,r=Date.now(),t.apply(null,arguments))),n-(o-r)))}}((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,u=i(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&o<=s?(s-o)/u:void 0,event:r,lengthComputable:null!=s};c[e?"download":"upload"]=!0,t(c)}),r)},kt=ft.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function n(r){let n=r;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=n(window.location.href),function(t){const e=z.isString(t)?n(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0},It=ft.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const s=[t+"="+encodeURIComponent(e)];z.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),z.isString(n)&&s.push("path="+n),z.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Tt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Ct=t=>t instanceof _t?{...t}:t;function Ot(t,e){e=e||{};const r={};function n(t,e,r){return z.isPlainObject(t)&&z.isPlainObject(e)?z.merge.call({caseless:r},t,e):z.isPlainObject(e)?z.merge({},e):z.isArray(e)?e.slice():e}function i(t,e,r){return z.isUndefined(e)?z.isUndefined(t)?void 0:n(void 0,t,r):n(t,e,r)}function o(t,e){if(!z.isUndefined(e))return n(void 0,e)}function s(t,e){return z.isUndefined(e)?z.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,i,o){return o in e?n(r,i):o in t?n(void 0,r):void 0}const u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>i(Ct(t),Ct(e),!0)};return z.forEach(Object.keys(Object.assign({},t,e)),(function(n){const o=u[n]||i,s=o(t[n],e[n],n);z.isUndefined(s)&&o!==a||(r[n]=s)})),r}var Pt=t=>{const e=Ot({},t);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:u}=e;if(e.headers=a=_t.from(a),e.url=et(Tt(e.baseURL,e.url),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),z.isFormData(n))if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[t,...e]=r?r.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(ft.hasStandardBrowserEnv&&(i&&z.isFunction(i)&&(i=i(e)),i||!1!==i&&kt(e.url))){const t=o&&s&&It.read(s);t&&a.set(o,t)}return e};var Mt="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){const n=Pt(t);let i=n.data;const o=_t.from(n.headers).normalize();let s,{responseType:a}=n;function u(){n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let c=new XMLHttpRequest;function f(){if(!c)return;const n=_t.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());xt((function(t){e(t),u()}),(function(t){r(t),u()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:t,request:c}),c=null}c.open(n.method.toUpperCase(),n.url,!0),c.timeout=n.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(r(new K("Request aborted",K.ECONNABORTED,n,c)),c=null)},c.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const e=n.transitional||nt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new K(t,e.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,n,c)),c=null},void 0===i&&o.setContentType(null),"setRequestHeader"in c&&z.forEach(o.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),z.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),a&&"json"!==a&&(c.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&c.addEventListener("progress",Et(n.onDownloadProgress,!0)),"function"==typeof n.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Et(n.onUploadProgress)),(n.cancelToken||n.signal)&&(s=e=>{c&&(r(!e||e.type?new At(null,t,c):e),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const l=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(n.url);l&&-1===ft.protocols.indexOf(l)?r(new K("Unsupported protocol "+l+":",K.ERR_BAD_REQUEST,t)):c.send(i||null)}))};var Bt=(t,e)=>{let r,n=new AbortController;const i=function(t){if(!r){r=!0,s();const e=t instanceof Error?t:this.reason;n.abort(e instanceof K?e:new At(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{i(new K(`timeout ${e} of ms exceeded`,K.ETIMEDOUT))}),e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",i):t.unsubscribe(i))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]};const Rt=function*(t,e){let r=t.byteLength;if(!e||r<e)return void(yield t);let n,i=0;for(;i<r;)n=i+e,yield t.slice(i,n),i=n},jt=(t,e,r,n,i)=>{const o=async function*(t,e,r){for await(const n of t)yield*Rt(ArrayBuffer.isView(n)?n:await r(String(n)),e)}(t,e,i);let s=0;return new ReadableStream({type:"bytes",async pull(t){const{done:e,value:i}=await o.next();if(e)return t.close(),void n();let a=i.byteLength;r&&r(s+=a),t.enqueue(new Uint8Array(i))},cancel:t=>(n(t),o.return())},{highWaterMark:2})},Dt=(t,e)=>{const r=null!=t;return n=>setTimeout((()=>e({lengthComputable:r,total:t,loaded:n})))},Lt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ut=Lt&&"function"==typeof ReadableStream,Nt=Lt&&("function"==typeof TextEncoder?(Ht=new TextEncoder,t=>Ht.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var Ht;const Ft=Ut&&(()=>{let t=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),zt=Ut&&!!(()=>{try{return z.isReadableStream(new Response("").body)}catch(t){}})(),Kt={stream:zt&&(t=>t.body)};var qt;Lt&&(qt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Kt[t]&&(Kt[t]=z.isFunction(qt[t])?e=>e[t]():(e,r)=>{throw new K(`Response type '${t}' is not supported`,K.ERR_NOT_SUPPORT,r)})})));const Wt=async(t,e)=>{const r=z.toFiniteNumber(t.getContentLength());return null==r?(async t=>null==t?0:z.isBlob(t)?t.size:z.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:z.isArrayBufferView(t)?t.byteLength:(z.isURLSearchParams(t)&&(t+=""),z.isString(t)?(await Nt(t)).byteLength:void 0))(e):r};const $t={http:null,xhr:Mt,fetch:Lt&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:f,withCredentials:l="same-origin",fetchOptions:d}=Pt(t);c=c?(c+"").toLowerCase():"text";let h,p,[y,g]=i||o||s?Bt([i,o],s):[];const b=()=>{!h&&setTimeout((()=>{y&&y.unsubscribe()})),h=!0};let m;try{if(u&&Ft&&"get"!==r&&"head"!==r&&0!==(m=await Wt(f,n))){let t,r=new Request(e,{method:"POST",body:n,duplex:"half"});z.isFormData(n)&&(t=r.headers.get("content-type"))&&f.setContentType(t),r.body&&(n=jt(r.body,65536,Dt(m,Et(u)),null,Nt))}z.isString(l)||(l=l?"cors":"omit"),p=new Request(e,{...d,signal:y,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",withCredentials:l});let i=await fetch(p);const o=zt&&("stream"===c||"response"===c);if(zt&&(a||o)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=i[e]}));const e=z.toFiniteNumber(i.headers.get("content-length"));i=new Response(jt(i.body,65536,a&&Dt(e,Et(a,!0)),o&&b,Nt),t)}c=c||"text";let s=await Kt[z.findKey(Kt,c)||"text"](i,t);return!o&&b(),g&&g(),await new Promise(((e,r)=>{xt(e,r,{data:s,headers:_t.from(i.headers),status:i.status,statusText:i.statusText,config:t,request:p})}))}catch(e){if(b(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new K("Network Error",K.ERR_NETWORK,t,p),{cause:e.cause||e});throw K.from(e,e&&e.code,t,p)}})};z.forEach($t,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const Vt=t=>`- ${t}`,Gt=t=>z.isFunction(t)||null===t||!1===t;var Qt=t=>{t=z.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){let e;if(r=t[o],n=r,!Gt(r)&&(n=$t[(e=String(r)).toLowerCase()],void 0===n))throw new K(`Unknown adapter '${e}'`);if(n)break;i[e||"#"+o]=n}if(!n){const t=Object.entries(i).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new K("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map(Vt).join("\n"):" "+Vt(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Xt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new At(null,t)}function Yt(t){Xt(t),t.headers=_t.from(t.headers),t.data=wt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Qt(t.adapter||ht.adapter)(t).then((function(e){return Xt(t),e.data=wt.call(t,t.transformResponse,e),e.headers=_t.from(e.headers),e}),(function(e){return St(e)||(Xt(t),e&&e.response&&(e.response.data=wt.call(t,t.transformResponse,e.response),e.response.headers=_t.from(e.response.headers))),Promise.reject(e)}))}const Jt="1.7.2",Zt={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Zt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const te={};Zt.transitional=function(t,e,r){function n(t,e){return"[Axios v1.7.2] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,o)=>{if(!1===t)throw new K(n(i," has been removed"+(e?" in "+e:"")),K.ERR_DEPRECATED);return e&&!te[i]&&(te[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,o)}};var ee={assertOptions:function(t,e,r){if("object"!=typeof t)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const e=t[o],r=void 0===e||s(e,o,t);if(!0!==r)throw new K("option "+o+" must be "+r,K.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new K("Unknown option "+o,K.ERR_BAD_OPTION)}},validators:Zt};const re=ee.validators;class ne{constructor(t){this.defaults=t,this.interceptors={request:new rt,response:new rt}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const r=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?r&&!String(t.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+r):t.stack=r}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Ot(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:i}=e;void 0!==r&&ee.assertOptions(r,{silentJSONParsing:re.transitional(re.boolean),forcedJSONParsing:re.transitional(re.boolean),clarifyTimeoutError:re.transitional(re.boolean)},!1),null!=n&&(z.isFunction(n)?e.paramsSerializer={serialize:n}:ee.assertOptions(n,{encode:re.function,serialize:re.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&z.merge(i.common,i[e.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=_t.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let f,l=0;if(!a){const t=[Yt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,u),f=t.length,c=Promise.resolve(e);l<f;)c=c.then(t[l++],t[l++]);return c}f=s.length;let d=e;for(l=0;l<f;){const t=s[l++],e=s[l++];try{d=t(d)}catch(t){e.call(this,t);break}}try{c=Yt.call(this,d)}catch(t){return Promise.reject(t)}for(l=0,f=u.length;l<f;)c=c.then(u[l++],u[l++]);return c}getUri(t){return et(Tt((t=Ot(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],(function(t){ne.prototype[t]=function(e,r){return this.request(Ot(r||{},{method:t,url:e,data:(r||{}).data}))}})),z.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(Ot(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}ne.prototype[t]=e(),ne.prototype[t+"Form"]=e(!0)}));var ie=ne;class oe{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new At(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new oe((function(e){t=e})),cancel:t}}}var se=oe;const ae={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ae).forEach((([t,e])=>{ae[e]=t}));var ue=ae;const ce=function t(e){const r=new ie(e),n=i(ie.prototype.request,r);return z.extend(n,ie.prototype,r,{allOwnKeys:!0}),z.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return t(Ot(e,r))},n}(ht);ce.Axios=ie,ce.CanceledError=At,ce.CancelToken=se,ce.isCancel=St,ce.VERSION=Jt,ce.toFormData=X,ce.AxiosError=K,ce.Cancel=ce.CanceledError,ce.all=function(t){return Promise.all(t)},ce.spread=function(t){return function(e){return t.apply(null,e)}},ce.isAxiosError=function(t){return z.isObject(t)&&!0===t.isAxiosError},ce.mergeConfig=Ot,ce.AxiosHeaders=_t,ce.formToJSON=t=>lt(z.isHTMLForm(t)?new FormData(t):t),ce.getAdapter=Qt,ce.HttpStatusCode=ue,ce.default=ce,t.exports=ce},17089:t=>{"use strict";t.exports={rE:"6.5.4"}},3219:t=>{"use strict";t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:t=>{"use strict";t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:t=>{"use strict";t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:t=>{"use strict";t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:t=>{"use strict";t.exports={rE:"6.5.5"}},15579:t=>{"use strict";t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BtcHelper:()=>sn,CkbHelper:()=>on,convertToTxSkeleton:()=>rn,createBurnXudtTransaction:()=>hn,createIssueXudtTransaction:()=>pn,createMergeXudtTransaction:()=>gn,createTransferXudtTransaction:()=>bn,distributeCombined:()=>_n,launchCombined:()=>wn,leapFromBtcToCKB:()=>Sn,leapFromCkbToBtc:()=>yn,transferCombined:()=>An});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{OG:()=>Ke,My:()=>Re,Ph:()=>Le,lX:()=>Ue,Id:()=>ze,fg:()=>$e,qj:()=>Fe,aT:()=>De,lq:()=>Ne,z:()=>He,Q5:()=>Ge});var e=__webpack_require__(60720),r=__webpack_require__(41256),n=(__webpack_require__(22343),__webpack_require__(48287));function i(...t){return new Uint8Array(t.reduce(((t,e)=>(t.push(...o(e)),t)),[]))}function o(t,e){if(t instanceof Uint8Array)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(Array.isArray(t)){if(t.some((t=>t<0||255<t)))throw new Error(`Invalid bytes ${JSON.stringify(t)}`);return new Uint8Array(t)}if(void 0!==e)return n.Buffer.from(t,e);const r=t.startsWith("0x")?t.slice(2):t,i=r.length%2==0?r:`0${r}`,o=n.Buffer.from(i,"hex");if(2*o.length!==i.length)throw new Error(`Invalid bytes ${t}`);return o}function s(t){return`0x${e=o(t),r="hex",n.Buffer.from(o(e)).toString(r)}`;var e,r}function a(t,e){throw new Error(`Invalid data length! Required: ${e}, actual: ${t}`)}function u(t,e){t!==e&&a(t,e)}function c(t){if(t instanceof Object&&t.toArrayBuffer instanceof Function&&(t=t.toArrayBuffer()),t instanceof Uint8Array)return t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset);if(!(t instanceof ArrayBuffer))throw new Error("Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!");return t}function f(t,e,r){t.byteLength<4&&a(t.byteLength,">4");const n=t.getUint32(0,!0);if(u(t.byteLength,n),4===n)return[n];n<8&&a(t.byteLength,">8");const i=t.getUint32(4,!0);if(i%4!=0||i<8)throw new Error(`Invalid first offset: ${i}`);const o=i/4-1;if(o<e)throw new Error(`Item count not enough! Required: ${e}, actual: ${o}`);if(!r&&o>e)throw new Error(`Item count is more than required! Required: ${e}, actual: ${o}`);if(n<i)throw new Error(`First offset is larger than byte length: ${i}`);const s=[];for(let e=0;e<o;e++){const r=4+4*e;s.push(t.getUint32(r,!0))}s.push(n);for(let t=0;t<s.length-1;t++)if(s[t]>s[t+1])throw new Error(`Offset index ${t}: ${s[t]} is larger than offset index ${t+1}: ${s[t+1]}`);return s}function l(t){const e=t.length;let r=4*(e+1);const n=[];for(let i=0;i<e;i++)n.push(r),r+=t[i].byteLength;const i=new ArrayBuffer(r),o=new Uint8Array(i),s=new DataView(i);s.setUint32(0,r,!0);for(let r=0;r<e;r++)s.setUint32(4+4*r,n[r],!0),o.set(new Uint8Array(t[r]),n[r]);return i}class d{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){u(this.view.byteLength,4)}indexAt(t){return this.view.getUint8(t)}raw(){return this.view.buffer}toBigEndianUint32(){return this.view.getUint32(0,!1)}toLittleEndianUint32(){return this.view.getUint32(0,!0)}static size(){return 4}}function h(t){const e=c(t);return u(e.byteLength,4),e}class p{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){u(this.view.byteLength,8)}indexAt(t){return this.view.getUint8(t)}raw(){return this.view.buffer}static size(){return 8}}function y(t){const e=c(t);return u(e.byteLength,8),e}class g{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){u(this.view.byteLength,32)}indexAt(t){return this.view.getUint8(t)}raw(){return this.view.buffer}static size(){return 32}}function b(t){const e=c(t);return u(e.byteLength,32),e}class m{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){this.view.byteLength<4&&a(this.view.byteLength,">4");const e=this.length()+4;u(this.view.byteLength,e)}raw(){return this.view.buffer.slice(4)}indexAt(t){return this.view.getUint8(4+t)}length(){return this.view.getUint32(0,!0)}}function v(t){const e=c(t),r=new Uint8Array(4+e.byteLength);return new DataView(r.buffer).setUint32(0,e.byteLength,!0),r.set(new Uint8Array(e),4),r.buffer}class _{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){this.hasValue()&&this.value().validate(t)}value(){return new m(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function w(t){return t?v(t):new ArrayBuffer(0)}function S(t){return l(t.map((t=>v(t))))}class A{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){this.hasValue()&&this.value().validate(t)}value(){return new x(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}class x{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){const e=f(this.view,0,!0);if(new g(this.view.buffer.slice(e[0],e[1]),{validate:!1}).validate(),e[2]-e[1]!=1)throw new Error(`Invalid offset for hashType: ${e[1]} - ${e[2]}`);new m(this.view.buffer.slice(e[2],e[3]),{validate:!1}).validate()}getCodeHash(){const t=this.view.getUint32(4,!0),e=this.view.getUint32(8,!0);return new g(this.view.buffer.slice(t,e),{validate:!1})}getHashType(){const t=this.view.getUint32(8,!0),e=this.view.getUint32(12,!0);return new DataView(this.view.buffer.slice(t,e)).getUint8(0)}getArgs(){const t=this.view.getUint32(12,!0),e=this.view.byteLength;return new m(this.view.buffer.slice(t,e),{validate:!1})}}function E(t){const e=[];e.push(b(t.codeHash));const r=new DataView(new ArrayBuffer(1));return r.setUint8(0,t.hashType),e.push(r.buffer),e.push(v(t.args)),l(e)}class k{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}getTxHash(){return new g(this.view.buffer.slice(0,0+g.size()),{validate:!1})}getIndex(){return new d(this.view.buffer.slice(0+g.size(),0+g.size()+d.size()),{validate:!1})}validate(t=!1){u(this.view.byteLength,k.size()),this.getTxHash().validate(t),this.getIndex().validate(t)}static size(){return 0+g.size()+d.size()}}function I(t){const e=new Uint8Array(0+g.size()+d.size());new DataView(e.buffer);return e.set(new Uint8Array(b(t.txHash)),0),e.set(new Uint8Array(h(t.index)),0+g.size()),e.buffer}class T{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}getSince(){return new p(this.view.buffer.slice(0,0+p.size()),{validate:!1})}getPreviousOutput(){return new k(this.view.buffer.slice(0+p.size(),0+p.size()+k.size()),{validate:!1})}validate(t=!1){u(this.view.byteLength,T.size()),this.getSince().validate(t),this.getPreviousOutput().validate(t)}static size(){return 0+p.size()+k.size()}}function C(t){const e=new Uint8Array(0+p.size()+k.size());new DataView(e.buffer);return e.set(new Uint8Array(y(t.since)),0),e.set(new Uint8Array(I(t.previousOutput)),0+p.size()),e.buffer}class O{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){const e=f(this.view,0,!0);new p(this.view.buffer.slice(e[0],e[1]),{validate:!1}).validate(),new x(this.view.buffer.slice(e[1],e[2]),{validate:!1}).validate(),new A(this.view.buffer.slice(e[2],e[3]),{validate:!1}).validate()}getCapacity(){const t=this.view.getUint32(4,!0),e=this.view.getUint32(8,!0);return new p(this.view.buffer.slice(t,e),{validate:!1})}getLock(){const t=this.view.getUint32(8,!0),e=this.view.getUint32(12,!0);return new x(this.view.buffer.slice(t,e),{validate:!1})}getType(){const t=this.view.getUint32(12,!0),e=this.view.byteLength;return new A(this.view.buffer.slice(t,e),{validate:!1})}}function P(t){const e=[];return e.push(y(t.capacity)),e.push(E(t.lock)),e.push(function(t){return t?E(t):new ArrayBuffer(0)}(t.type)),l(e)}class M{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}getOutPoint(){return new k(this.view.buffer.slice(0,0+k.size()),{validate:!1})}getDepType(){return this.view.getUint8(0+k.size())}validate(t=!1){u(this.view.byteLength,M.size()),this.getOutPoint().validate(t)}static size(){return 0+k.size()+1}}function B(t){const e=new Uint8Array(0+k.size()+1),r=new DataView(e.buffer);return e.set(new Uint8Array(I(t.outPoint)),0),r.setUint8(0+k.size(),t.depType),e.buffer}function R(t){const e=[];return e.push(h(t.version)),e.push(function(t){const e=new Uint8Array(4+M.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=B(t[r]);e.set(new Uint8Array(n),4+r*M.size())}return e.buffer}(t.cellDeps)),e.push(function(t){const e=new Uint8Array(4+g.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=b(t[r]);e.set(new Uint8Array(n),4+r*g.size())}return e.buffer}(t.headerDeps)),e.push(function(t){const e=new Uint8Array(4+T.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=C(t[r]);e.set(new Uint8Array(n),4+r*T.size())}return e.buffer}(t.inputs)),e.push(function(t){return l(t.map((t=>P(t))))}(t.outputs)),e.push(S(t.outputsData)),l(e)}class j{constructor(t,{validate:e=!0}={}){this.view=new DataView(c(t)),e&&this.validate()}validate(t=!1){const e=f(this.view,0,!0);new _(this.view.buffer.slice(e[0],e[1]),{validate:!1}).validate(),new _(this.view.buffer.slice(e[1],e[2]),{validate:!1}).validate(),new _(this.view.buffer.slice(e[2],e[3]),{validate:!1}).validate()}getLock(){const t=this.view.getUint32(4,!0),e=this.view.getUint32(8,!0);return new _(this.view.buffer.slice(t,e),{validate:!1})}getInputType(){const t=this.view.getUint32(8,!0),e=this.view.getUint32(12,!0);return new _(this.view.buffer.slice(t,e),{validate:!1})}getOutputType(){const t=this.view.getUint32(12,!0),e=this.view.byteLength;return new _(this.view.buffer.slice(t,e),{validate:!1})}}const D={type:1,data:0,data1:2,data2:4},L={1:"type",0:"data",2:"data1",4:"data2"},U=Object.keys(D);function N(t){const e="number"==typeof t?L[t]:"bigint"==typeof t?L[Number(t)]:U.includes(t)?t:void 0;if(void 0===e)throw new Error(`Invalid hash type ${t}`);return e}function H(t){return o([D[N(t)]])}function F(t){return L[o(t)[0]]}class z{constructor(t,e,r){this.codeHash=t,this.hashType=e,this.args=r}static from(t){return t instanceof z?t:new z(s(t.codeHash),N(t.hashType),s(t.args))}_toMolData(){return{codeHash:o(this.codeHash),hashType:H(this.hashType),args:o(this.args)}}toBytes(){return o(E(this._toMolData()))}static fromBytes(t){const e=t instanceof x?t:new x(o(t));return new z(s(e.getCodeHash().raw()),F([e.getHashType()]),s(e.getArgs().raw()))}eq(t){const e=z.from(t);return this.codeHash===e.codeHash&&this.args===e.args&&this.hashType===e.hashType}}var K=__webpack_require__(72206),q=__webpack_require__.n(K);class W{constructor(t=32,e="ckb-default-hash"){this.hasher=q()(t,void 0,void 0,o(e,"utf8"))}update(t){return this.hasher.update(o(t)),this}digest(){return`0x${this.hasher.digest("hex")}`}}function $(t){return"bigint"==typeof t?t:"string"==typeof t||"number"==typeof t?BigInt(t):BigInt(s(t))}function V(t){return`0x${$(t).toString(16)}`}function G(t,e){return function(t,e){return function(t,e){const r=o($(t).toString(16));if(null==e)return r;return i(Array.from(Array(e-r.length),(()=>0)),r)}(t,e).reverse()}(t,e)}function Q(t){return function(t){return function(t){return $(o(t))}(o(t).reverse())}(t)}function X(t,e){return null==e?e:t(e)}function Y(t){if(t.hasValue())return t.value()}const J={code:0,depGroup:1},Z={0:"code",1:"depGroup"};Object.keys(J);function tt(t){const e="number"==typeof t?Z[t]:"bigint"==typeof t?Z[Number(t)]:t;if(void 0===e)throw new Error(`Invalid dep type ${t}`);return e}class et{constructor(t,e){this.txHash=t,this.index=e}static from(t){return t instanceof et?t:new et(s(t.txHash),$(t.index))}_toMolData(){return{txHash:o(this.txHash),index:G(this.index,4)}}encode(){return o(I(this._toMolData()))}static fromBytes(t){const e=t instanceof k?t:new k(o(t));return new et(s(e.getTxHash().raw()),Q(e.getIndex().raw()))}}class rt{constructor(t,e,r){this.capacity=t,this.lock=e,this.type=r}static from(t){return t instanceof rt?t:new rt($(t.capacity),z.from(t.lock),X(z.from,t.type))}_toMolData(){return{capacity:G(this.capacity,8),lock:this.lock._toMolData(),type:this.type?._toMolData()}}toBytes(){return o(P(this._toMolData()))}static fromBytes(t){const e=t instanceof O?t:new O(o(t));return new rt(Q(e.getCapacity().raw()),z.fromBytes(e.getLock()),X(z.fromBytes,Y(e.getType())))}}class nt{constructor(t,e,r,n,i){this.previousOutput=t,this.since=e,this.cellOutput=r,this.outputData=n,this.blockNumber=i}static from(t){return t instanceof nt?t:new nt(et.from(t.previousOutput),$(t.since),X(rt.from,t.cellOutput),X(s,t.outputData),X($,t.blockNumber))}async completeExtraInfos(t){if(this.cellOutput&&this.outputData&&this.blockNumber)return this;const e=await t.getCell(this.previousOutput);return e&&(this.cellOutput=e.cellOutput,this.outputData=e.outputData,this.blockNumber=e.blockNumber),this}_toMolData(){return{previousOutput:this.previousOutput._toMolData(),since:G(this.since,8)}}toBytes(){return o(C(this._toMolData()))}static fromBytes(t){const e=t instanceof T?t:new T(o(t));return new nt(et.fromBytes(e.getPreviousOutput()),Q(e.getSince().raw()))}}class it{constructor(t,e){this.outPoint=t,this.depType=e}static from(t){return t instanceof it?t:new it(et.from(t.outPoint),tt(t.depType))}_toMolData(){return{outPoint:this.outPoint._toMolData(),depType:(t=this.depType,o([J[tt(t)]]))};var t}toBytes(){return o(B(this._toMolData()))}fromBytes(t){const e=t instanceof M?t:new M(o(t));return new it(et.fromBytes(e.getOutPoint()),function(t){return Z[o(t)[0]]}([e.getDepType()]))}}class ot{constructor(t,e,r){this.lock=t,this.inputType=e,this.outputType=r}static from(t){return t instanceof ot?t:new ot(X(s,t.lock),X(s,t.inputType),X(s,t.outputType))}_toMolData(){return{lock:X(o,this.lock),inputType:X(o,this.inputType),outputType:X(o,this.outputType)}}toBytes(){return o(function(t){const e=[];return e.push(w(t.lock)),e.push(w(t.inputType)),e.push(w(t.outputType)),l(e)}(this._toMolData()))}static fromBytes(t){const e=t instanceof j?t:new j(o(t));return new ot(X(s,Y(e.getLock())?.raw()),X(s,Y(e.getInputType())?.raw()),X(s,Y(e.getOutputType())?.raw()))}}class st{constructor(t,e,r,n,i,o,s){this.version=t,this.cellDeps=e,this.headerDeps=r,this.inputs=n,this.outputs=i,this.outputsData=o,this.witnesses=s}static default(){return new st(0n,[],[],[],[],[],[])}static from(t){return t instanceof st?t:new st($(t.version),t.cellDeps.map((t=>it.from(t))),t.headerDeps.map(s),t.inputs.map((t=>nt.from(t))),t.outputs.map((t=>rt.from(t))),t.outputsData.map(s),t.witnesses.map(s))}static fromLumosSkeleton(t){return st.from({version:0n,cellDeps:t.cellDeps.toArray(),headerDeps:t.headerDeps.toArray(),inputs:t.inputs.toArray().map(((e,r)=>{if(!e.outPoint)throw new Error("outPoint is required in input");return nt.from({previousOutput:e.outPoint,since:t.inputSinces.get(r,"0x0"),cellOutput:e.cellOutput,outputData:e.data})})),outputs:t.outputs.toArray().map((t=>t.cellOutput)),outputsData:t.outputs.toArray().map((t=>t.data)),witnesses:t.witnesses.toArray()})}stringify(){return JSON.stringify(this,((t,e)=>"bigint"==typeof e?V(e):e))}rawToBytes(){return o(R({version:G(this.version,4),cellDeps:this.cellDeps.map((t=>t._toMolData())),headerDeps:this.headerDeps.map((t=>o(t))),inputs:this.inputs.map((t=>t._toMolData())),outputs:this.outputs.map((t=>t._toMolData())),outputsData:this.outputsData.map((t=>o(t)))}))}hash(){return t=this.rawToBytes(),(new W).update(t).digest();var t}static hashWitnessToHasher(t,e){const r=o(s(t));e.update(G(r.length,8)),e.update(r)}async getSignHashInfo(t,e){const r=z.from(t);let n=-1;const i=new W;i.update(this.hash());for(let t=0;t<this.witnesses.length;t+=1){if(this.inputs[t]){const i=await this.inputs[t].completeExtraInfos(e);if(!i.cellOutput)throw Error("Unable to resolve inputs info");if(!r.eq(i.cellOutput.lock))continue;-1===n&&(n=t)}if(-1===n)return;st.hashWitnessToHasher(this.witnesses[t],i)}if(-1!==n)return{message:i.digest(),position:n}}async findInputIndexByLock(t,e){const r=z.from(t);for(let t=0;t<this.inputs.length;t+=1){const n=await this.inputs[t].completeExtraInfos(e);if(!n.cellOutput)throw Error("Unable to resolve inputs info");if(r.eq(n.cellOutput.lock))return t}}getWitnessArgsAt(t){const e=this.witnesses[t];return"0x"!==(e??"0x")?ot.fromBytes(e):void 0}setWitnessArgsAt(t,e){return this.witnesses.length<t&&this.witnesses.push(...Array.from(new Array(t-this.witnesses.length),(()=>"0x"))),this.witnesses[t]=s(e.toBytes()),this}async prepareSighashAllWitness(t,e,r){const n=await this.findInputIndexByLock(t,r);if(void 0===n)return this;const i=this.getWitnessArgsAt(n)??ot.from({});return i.lock=s(Array.from(new Array(e),(()=>0))),this.setWitnessArgsAt(n,i)}}function at(t,e=8){if("bigint"==typeof t)return t;const[r,n]=("number"==typeof t?t.toFixed(e):t.toString()).split("."),i=BigInt(r.padEnd(r.length+e,"0"));return void 0===n?i:i+BigInt(n.slice(0,e).padEnd(e,"0"))}at("1");var ut;!function(t){t[t.Secp256k1Blake160=0]="Secp256k1Blake160",t[t.Secp256k1Multisig=1]="Secp256k1Multisig",t[t.AnyoneCanPay=2]="AnyoneCanPay",t[t.JoyId=3]="JoyId",t[t.COTA=4]="COTA",t[t.OmniLock=5]="OmniLock"}(ut||(ut={}));ut.Secp256k1Blake160,ut.Secp256k1Multisig,ut.AnyoneCanPay,ut.JoyId,ut.COTA,ut.OmniLock;__webpack_require__(59819);ut.Secp256k1Blake160,ut.Secp256k1Multisig,ut.AnyoneCanPay,ut.JoyId,ut.COTA,ut.OmniLock;var ct;!function(t){t[t.Full=0]="Full",t[t.Short=1]="Short",t[t.FullData=2]="FullData",t[t.FullType=4]="FullType"}(ct||(ct={}));new Uint8Array(new Uint32Array([287454020]).buffer)[0];const ft=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),lt=new Uint8Array(new Array(16).fill(0).map(((t,e)=>e)));let dt=[lt],ht=[lt.map((t=>(9*t+5)%16))];for(let t=0;t<4;t++)for(let e of[dt,ht])e.push(e[t].map((t=>ft[t])));__webpack_require__(59045);const pt=globalThis.crypto;pt.subtle;var yt=class extends Error{constructor(t,e="Invalid Params",r=void 0){super(t),this.name="User Rejected"===t?t:e,this.rawError=r}};function gt(t){if(!t)return"";const e=decodeURIComponent(t);return"false"!==e&&("true"===e||(0*+e==0&&""+ +e===e?+e:e))}var bt;bt=JSON.parse,function(t,e){function r(r){if("object"==typeof r&&null!==r)try{return t(r)}catch(t){}else if("string"==typeof r&&"function"==typeof e)try{return e(r),t(r)}catch(t){}return r}}(JSON.stringify,JSON.parse);Error,Error;function mt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function vt(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function _t(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wt(t,e){vt(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const St=BigInt(2**32-1),At=BigInt(32);function xt(t,e=!1){return e?{h:Number(t&St),l:Number(t>>At&St)}:{h:0|Number(t>>At&St),l:0|Number(t&St)}}function Et(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=xt(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}const kt=(t,e,r)=>t<<r|e>>>32-r,It=(t,e,r)=>e<<r|t>>>32-r,Tt=(t,e,r)=>e<<r-32|t>>>64-r,Ct=(t,e,r)=>t<<r-32|e>>>64-r;const Ot=t=>t instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Pt(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!Ot(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class Mt{clone(){return this._cloneInto()}}const[Bt,Rt,jt]=[[],[],[]],Dt=BigInt(0),Lt=BigInt(1),Ut=BigInt(2),Nt=BigInt(7),Ht=BigInt(256),Ft=BigInt(113);for(let t=0,e=Lt,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Bt.push(2*(5*n+r)),Rt.push((t+1)*(t+2)/2%64);let i=Dt;for(let t=0;t<7;t++)e=(e<<Lt^(e>>Nt)*Ft)%Ht,e&Ut&&(i^=Lt<<(Lt<<BigInt(t))-Lt);jt.push(i)}const[zt,Kt]=Et(jt,!0),qt=(t,e,r)=>r>32?Tt(t,e,r):kt(t,e,r),Wt=(t,e,r)=>r>32?Ct(t,e,r):It(t,e,r);class $t extends Mt{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,mt(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,i=(e+2)%10,o=r[i],s=r[i+1],a=qt(o,s,1)^r[n],u=Wt(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=Rt[r],o=qt(e,i,n),s=Wt(e,i,n),a=Bt[r];e=t[a],i=t[a+1],t[a]=o,t[a+1]=s}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=zt[n],t[1]^=Kt[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){_t(this);const{blockLen:e,state:r}=this,n=(t=Pt(t)).length;for(let i=0;i<n;){const o=Math.min(e-this.pos,n-i);for(let e=0;e<o;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){_t(this,!1),vt(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return mt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(wt(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return t||(t=new $t(e,r,n,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Vt=(t,e,r)=>function(t){const e=e=>t().update(Pt(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}((()=>new $t(e,t,r))),Gt=Vt(1,136,32),Qt="6.13.1";function Xt(t,e,r){const n=e.split("|").map((t=>t.trim()));for(let r=0;r<n.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}function Yt(t,e,r){for(let n in e){let i=e[n];const o=r?r[n]:null;o&&Xt(i,o,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Jt(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(Jt).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[15&t[n]];return r}if("object"==typeof t&&"function"==typeof t.toJSON)return Jt(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${Jt(e)}: ${Jt(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Zt(t,e,r,n){if(!t)throw function(t,e,r){let n,i=t;{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Jt(r)}`);for(const t in r){if("shortMessage"===t)continue;const e=r[t];n.push(t+"="+Jt(e))}}n.push(`code=${e}`),n.push(`version=${Qt}`),n.length&&(t+=" ("+n.join(", ")+")")}switch(e){case"INVALID_ARGUMENT":n=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(t);break;default:n=new Error(t)}return Yt(n,{code:e}),r&&Object.assign(n,r),null==n.shortMessage&&Yt(n,{shortMessage:i}),n}(e,r,n)}function te(t,e,r,n){Zt(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(t){}return t}),[]);function ee(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}te(!1,"invalid BytesLike value",e||"value",t)}function re(t,e){return ee(t,e,!1)}const ne="0123456789abcdef";function ie(t){const e=re(t);let r="0x";for(let t=0;t<e.length;t++){const n=e[t];r+=ne[(240&n)>>4]+ne[15&n]}return r}let oe=!1;const se=function(t){return Gt(t)};let ae=se;function ue(t){const e=re(t,"data");return ie(ae(e))}ue._=se,ue.lock=function(){oe=!0},ue.register=function(t){if(oe)throw new TypeError("keccak256 is locked");ae=t},Object.freeze(ue);BigInt(0),BigInt(36);const ce={};for(let t=0;t<10;t++)ce[String(t)]=String(t);for(let t=0;t<26;t++)ce[String.fromCharCode(65+t)]=String(10+t);!function(){const t={};for(let e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}}();function fe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function le(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function de(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");fe(t.outputLen),fe(t.blockLen)}function he(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pe(t,e){le(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const ye="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ge=t=>t instanceof Uint8Array,be=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),me=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function ve(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!ge(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class _e{clone(){return this._cloneInto()}}function we(t){const e=e=>t().update(ve(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Se(t=32){if(ye&&"function"==typeof ye.getRandomValues)return ye.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class Ae extends _e{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=be(this.buffer)}update(t){he(this);const{view:e,buffer:r,blockLen:n}=this,i=(t=ve(t)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=be(t);for(;n<=i-o;o+=n)this.process(e,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){he(this),pe(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let t=o;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=be(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)s.setUint32(4*t,c[t],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}const xe=(t,e,r)=>t&e^t&r^e&r,Ee=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ke=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ie=new Uint32Array(64);class Te extends Ae{constructor(){super(64,32,8,!1),this.A=0|ke[0],this.B=0|ke[1],this.C=0|ke[2],this.D=0|ke[3],this.E=0|ke[4],this.F=0|ke[5],this.G=0|ke[6],this.H=0|ke[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)Ie[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=Ie[t-15],r=Ie[t-2],n=me(e,7)^me(e,18)^e>>>3,i=me(r,17)^me(r,19)^r>>>10;Ie[t]=i+Ie[t-7]+n+Ie[t-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let t=0;t<64;t++){const e=c+(me(s,6)^me(s,11)^me(s,25))+((f=s)&a^~f&u)+Ee[t]+Ie[t]|0,l=(me(r,2)^me(r,13)^me(r,22))+xe(r,n,i)|0;c=u,u=a,a=s,s=o+e|0,o=i,i=n,n=r,r=e+l|0}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,u,c)}roundClean(){Ie.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ce=we((()=>new Te)),Oe=(BigInt(0),BigInt(1)),Pe=BigInt(2),Me=t=>t instanceof Uint8Array,Be=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Re(t){if(!Me(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Be[t[r]];return e}function je(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function De(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){const n=2*e,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[e]=o}return r}function Le(t){return je(Re(t))}function Ue(t){if(!Me(t))throw new Error("Uint8Array expected");return je(Re(Uint8Array.from(t).reverse()))}function Ne(t,e){return De(t.toString(16).padStart(2*e,"0"))}function He(t,e){return Ne(t,e).reverse()}function Fe(t,e,r){let n;if("string"==typeof e)try{n=De(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!Me(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function ze(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!Me(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}const Ke=t=>(Pe<<BigInt(t-1))-Oe,qe=t=>new Uint8Array(t),We=t=>Uint8Array.from(t);function $e(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=qe(t),i=qe(t),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...t)=>r(i,n,...t),u=(t=qe())=>{i=a(We([0]),t),n=a(),0!==t.length&&(i=a(We([1]),t),n=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return ze(...r)};return(t,e)=>{let r;for(s(),u(t);!(r=e(c()));)u();return s(),r}}const Ve={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function Ge(t,e,r={}){const n=(e,r,n)=>{const i=Ve[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=t[e];if(!(n&&void 0===o||i(o,t)))throw new Error(`Invalid param ${String(e)}=${o} (${typeof o}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Qe=BigInt(0),Xe=BigInt(1),Ye=BigInt(2),Je=BigInt(3),Ze=BigInt(4),tr=BigInt(5),er=BigInt(8);BigInt(9),BigInt(16);function rr(t,e){const r=t%e;return r>=Qe?r:e+r}function nr(t,e,r){if(r<=Qe||e<Qe)throw new Error("Expected power/modulo > 0");if(r===Xe)return Qe;let n=Xe;for(;e>Qe;)e&Xe&&(n=n*t%r),t=t*t%r,e>>=Xe;return n}function ir(t,e,r){let n=t;for(;e-- >Qe;)n*=n,n%=r;return n}function or(t,e){if(t===Qe||e<=Qe)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=rr(t,e),n=e,i=Qe,o=Xe,s=Xe,a=Qe;for(;r!==Qe;){const t=n/r,e=n%r,u=i-s*t,c=o-a*t;n=r,r=e,i=s,o=a,s=u,a=c}if(n!==Xe)throw new Error("invert: does not exist");return rr(i,e)}function sr(t){if(t%Ze===Je){const e=(t+Xe)/Ze;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%er===tr){const e=(t-tr)/er;return function(t,r){const n=t.mul(r,Ye),i=t.pow(n,e),o=t.mul(r,i),s=t.mul(t.mul(o,Ye),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-Xe)/Ye;let r,n,i;for(r=t-Xe,n=0;r%Ye===Qe;r/=Ye,n++);for(i=Ye;i<t&&nr(i,e,t)!==t-Xe;i++);if(1===n){const e=(t+Xe)/Ze;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+Xe)/Ye;return function(t,s){if(t.pow(s,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=n,u=t.pow(t.mul(t.ONE,i),r),c=t.pow(s,o),f=t.pow(s,r);for(;!t.eql(f,t.ONE);){if(t.eql(f,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(f);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(u,Xe<<BigInt(a-e-1));u=t.sqr(r),c=t.mul(c,r),f=t.mul(f,u),a=e}return c}}(t)}const ar=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ur(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function cr(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function fr(t){const e=cr(t);return e+Math.ceil(e/2)}class lr extends _e{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,de(t);const r=ve(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return he(this),this.iHash.update(t),this}digestInto(t){he(this),le(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dr=(t,e,r)=>new lr(t,e).update(r).digest();dr.create=(t,e)=>new lr(t,e);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const hr=BigInt(0),pr=BigInt(1);function yr(t){return Ge(t.Fp,ar.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ge(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ur(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{Ph:gr,aT:br}=t,mr={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=mr;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(128&n[0])throw new e("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:gr(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=mr,r="string"==typeof t?br(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=mr._parseInt(r.subarray(2)),{d:s,l:a}=mr._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,a=r(o),u=r(s);return`30${r(s+o+4)}02${u}${i}02${a}${n}`}},vr=BigInt(0),_r=BigInt(1),wr=(BigInt(2),BigInt(3));BigInt(4);function Sr(t){const e=
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function(t){const e=yr(t);Ge(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{const i=e.toAffine();return ze(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function o(t){const{a:n,b:i}=e,o=r.sqr(t),s=r.mul(o,t);return r.add(r.add(s,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(t){return"bigint"==typeof t&&vr<t&&t<e.n}function a(t){if(!s(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=e;if(r&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=Re(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*n,"0")}let s;try{s="bigint"==typeof t?t:Le(Fe("private key",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return i&&(s=rr(s,o)),a(s),s}const c=new Map;function f(t){if(!(t instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof l)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?l.ZERO:new l(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(l.fromAffine)}static fromHex(t){const e=l.fromAffine(i(Fe("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return l.BASE.multiply(u(t))}_setWindowSize(t){this._WINDOW_SIZE=t,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=o(t);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){f(t);const{px:e,py:n,pz:i}=this,{px:o,py:s,pz:a}=t,u=r.eql(r.mul(e,a),r.mul(o,i)),c=r.eql(r.mul(n,a),r.mul(s,i));return u&&c}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,wr),{px:o,py:s,pz:a}=this;let u=r.ZERO,c=r.ZERO,f=r.ZERO,d=r.mul(o,o),h=r.mul(s,s),p=r.mul(a,a),y=r.mul(o,s);return y=r.add(y,y),f=r.mul(o,a),f=r.add(f,f),u=r.mul(t,f),c=r.mul(i,p),c=r.add(u,c),u=r.sub(h,c),c=r.add(h,c),c=r.mul(u,c),u=r.mul(y,u),f=r.mul(i,f),p=r.mul(t,p),y=r.sub(d,p),y=r.mul(t,y),y=r.add(y,f),f=r.add(d,d),d=r.add(f,d),d=r.add(d,p),d=r.mul(d,y),c=r.add(c,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,y),u=r.sub(u,d),f=r.mul(p,h),f=r.add(f,f),f=r.add(f,f),new l(u,c,f)}add(t){f(t);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:u}=t;let c=r.ZERO,d=r.ZERO,h=r.ZERO;const p=e.a,y=r.mul(e.b,wr);let g=r.mul(n,s),b=r.mul(i,a),m=r.mul(o,u),v=r.add(n,i),_=r.add(s,a);v=r.mul(v,_),_=r.add(g,b),v=r.sub(v,_),_=r.add(n,o);let w=r.add(s,u);return _=r.mul(_,w),w=r.add(g,m),_=r.sub(_,w),w=r.add(i,o),c=r.add(a,u),w=r.mul(w,c),c=r.add(b,m),w=r.sub(w,c),h=r.mul(p,_),c=r.mul(y,m),h=r.add(c,h),c=r.sub(b,h),h=r.add(b,h),d=r.mul(c,h),b=r.add(g,g),b=r.add(b,g),m=r.mul(p,m),_=r.mul(y,_),b=r.add(b,m),m=r.sub(g,m),m=r.mul(p,m),_=r.add(_,m),g=r.mul(b,_),d=r.add(d,g),g=r.mul(w,_),c=r.mul(v,c),c=r.sub(c,g),g=r.mul(v,b),h=r.mul(w,h),h=r.add(h,g),new l(c,d,h)}subtract(t){return this.add(t.negate())}is0(){return this.equals(l.ZERO)}wNAF(t){return h.wNAFCached(this,c,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(l.fromAffine)}))}multiplyUnsafe(t){const n=l.ZERO;if(t===vr)return n;if(a(t),t===_r)return this;const{endo:i}=e;if(!i)return h.unsafeLadder(this,t);let{k1neg:o,k1:s,k2neg:u,k2:c}=i.splitScalar(t),f=n,d=n,p=this;for(;s>vr||c>vr;)s&_r&&(f=f.add(p)),c&_r&&(d=d.add(p)),p=p.double(),s>>=_r,c>>=_r;return o&&(f=f.negate()),u&&(d=d.negate()),d=new l(r.mul(d.px,i.beta),d.py,d.pz),f.add(d)}multiply(t){a(t);let n,i,o=t;const{endo:s}=e;if(s){const{k1neg:t,k1:e,k2neg:a,k2:u}=s.splitScalar(o);let{p:c,f}=this.wNAF(e),{p:d,f:p}=this.wNAF(u);c=h.constTimeNegate(t,c),d=h.constTimeNegate(a,d),d=new l(r.mul(d.px,s.beta),d.py,d.pz),n=c.add(d),i=f.add(p)}else{const{p:t,f:e}=this.wNAF(o);n=t,i=e}return l.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){const n=l.BASE,i=(t,e)=>e!==vr&&e!==_r&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),o=i(this,e).add(i(t,r));return o.is0()?void 0:o}toAffine(t){const{px:e,py:n,pz:i}=this,o=this.is0();null==t&&(t=o?r.ONE:r.inv(i));const s=r.mul(e,t),a=r.mul(n,t),u=r.mul(i,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===_r)return!0;if(r)return r(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===_r?this:r?r(l,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(l,this,t)}toHex(t=!0){return Re(this.toRawBytes(t))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const d=e.nBitLength,h=function(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>hr;)r&pr&&(n=n.add(i)),i=i.double(),r>>=pr;return n},precomputeWindow(t,e){const{windows:r,windowSize:i}=n(e),o=[];let s=t,a=s;for(let t=0;t<r;t++){a=s,o.push(a);for(let t=1;t<i;t++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,i,o){const{windows:s,windowSize:a}=n(e);let u=t.ZERO,c=t.BASE;const f=BigInt(2**e-1),l=2**e,d=BigInt(e);for(let t=0;t<s;t++){const e=t*a;let n=Number(o&f);o>>=d,n>a&&(n-=l,o+=pr);const s=e,h=e+Math.abs(n)-1,p=t%2!=0,y=n<0;0===n?c=c.add(r(p,i[s])):u=u.add(r(y,i[h]))}return{p:u,f:c}},wNAFCached(t,e,r,n){const i=t._WINDOW_SIZE||1;let o=e.get(t);return o||(o=this.precomputeWindow(t,i),1!==i&&e.set(t,n(o))),this.wNAF(i,o,r)}}}(l,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:s}}function Ar(t){const e=function(t){const e=yr(t);return Ge(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(t){return rr(t,n)}function a(t){return or(t,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:l}=Sr({...e,toBytes(t,e,n){const i=e.toAffine(),o=r.toBytes(i.x),s=ze;return n?s(Uint8Array.from([e.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(t){const e=t.length,n=t[0],s=t.subarray(1);if(e!==i||2!==n&&3!==n){if(e===o&&4===n){return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const t=Le(s);if(!(vr<(a=t)&&a<r.ORDER))throw new Error("Point is not on curve");const e=f(t);let i=r.sqrt(e);return!(1&~n)!==((i&_r)===_r)&&(i=r.neg(i)),{x:t,y:i}}var a}}),d=t=>Re(Ne(t,e.nByteLength));function h(t){return t>n>>_r}const p=(t,e,r)=>Le(t.slice(e,r));class y{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=Fe("compactSignature",t,2*r),new y(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=mr.toSig(Fe("DER",t));return new y(e,r)}assertValidity(){if(!l(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new y(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s:i,recovery:o}=this,c=v(Fe("msgHash",t));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?n+e.n:n;if(f>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=1&o?"03":"02",h=u.fromHex(l+d(f)),p=a(f),y=s(-c*p),g=s(i*p),b=u.BASE.multiplyAndAddUnsafe(h,y,g);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return De(this.toDERHex())}toDERHex(){return mr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return De(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(t){try{return c(t),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const t=fr(e.n);return function(t,e,r=!1){const n=t.length,i=cr(e),o=fr(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const s=rr(r?Le(t):Ue(t),e-Xe)+Xe;return r?He(s,i):Ne(s,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=u.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function b(t){const e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===o:r?n===2*i||n===2*o:t instanceof u}const m=e.bits2int||function(t){const r=Le(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},v=e.bits2int_modN||function(t){return s(m(t))},_=Ke(e.nBitLength);function w(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(vr<=t&&t<_))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ne(t,e.nByteLength)}function S(t,n,i=A){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=e;let{lowS:d,prehash:p,extraEntropy:g}=i;null==d&&(d=!0),t=Fe("msgHash",t),p&&(t=Fe("prehashed msgHash",o(t)));const b=v(t),_=c(n),S=[w(_),w(b)];if(null!=g){const t=!0===g?f(r.BYTES):g;S.push(Fe("extraEntropy",t))}const x=ze(...S),E=b;return{seed:x,k2sig:function(t){const e=m(t);if(!l(e))return;const r=a(e),n=u.BASE.multiply(e).toAffine(),i=s(n.x);if(i===vr)return;const o=s(r*s(E+i*_));if(o===vr)return;let c=(n.x===i?0:2)|Number(n.y&_r),f=o;return d&&h(o)&&(f=function(t){return h(t)?s(-t):t}(o),c^=1),new y(i,f,c)}}}const A={lowS:e.lowS,prehash:!1},x={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return u.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(b(t))throw new Error("first arg must be private key");if(!b(e))throw new Error("second arg must be public key");return u.fromHex(e).multiply(c(t)).toRawBytes(r)},sign:function(t,r,n=A){const{seed:i,k2sig:o}=S(t,r,n),s=e;return $e(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(t,r,n,i=x){const o=t;if(r=Fe("msgHash",r),n=Fe("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:f}=i;let l,d;try{if("string"==typeof o||o instanceof Uint8Array)try{l=y.fromDER(o)}catch(t){if(!(t instanceof mr.Err))throw t;l=y.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:t,s:e}=o;l=new y(t,e)}}d=u.fromHex(n)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&l.hasHighS())return!1;f&&(r=e.hash(r));const{r:h,s:p}=l,g=v(r),b=a(p),m=s(g*b),_=s(h*b),w=u.BASE.multiplyAndAddUnsafe(d,m,_)?.toAffine();return!!w&&s(w.x)===h},ProjectivePoint:u,Signature:y,utils:g}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function xr(t){return{hash:t,hmac:(e,...r)=>dr(t,e,function(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!ge(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}(...r)),randomBytes:Se}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Er=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),kr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ir=BigInt(1),Tr=BigInt(2),Cr=(t,e)=>(t+e/Tr)/e;function Or(t){const e=Er,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,f=c*c*t%e,l=ir(f,r,e)*f%e,d=ir(l,r,e)*f%e,h=ir(d,Tr,e)*c%e,p=ir(h,i,e)*h%e,y=ir(p,o,e)*p%e,g=ir(y,a,e)*y%e,b=ir(g,u,e)*g%e,m=ir(b,a,e)*y%e,v=ir(m,r,e)*f%e,_=ir(v,s,e)*p%e,w=ir(_,n,e)*c%e,S=ir(w,Tr,e);if(!Pr.eql(Pr.sqr(S),t))throw new Error("Cannot find square root");return S}const Pr=function(t,e,r=!1,n={}){if(t<=Qe)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=ur(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=sr(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:Ke(i),ZERO:Qe,ONE:Xe,create:e=>rr(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return Qe<=e&&e<t},is0:t=>t===Qe,isOdd:t=>(t&Xe)===Xe,neg:e=>rr(-e,t),eql:(t,e)=>t===e,sqr:e=>rr(e*e,t),add:(e,r)=>rr(e+r,t),sub:(e,r)=>rr(e-r,t),mul:(e,r)=>rr(e*r,t),pow:(t,e)=>function(t,e,r){if(r<Qe)throw new Error("Expected power > 0");if(r===Qe)return t.ONE;if(r===Xe)return e;let n=t.ONE,i=e;for(;r>Qe;)r&Xe&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Xe;return n}(a,t,e),div:(e,r)=>rr(e*or(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>or(e,t),sqrt:n.sqrt||(t=>s(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),i=t.inv(n);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),i),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?He(t,o):Ne(t,o),fromBytes:t=>{if(t.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${t.length}`);return r?Ue(t):Le(t)}});return Object.freeze(a)}(Er,void 0,void 0,{sqrt:Or}),Mr=function(t,e){const r=e=>Ar({...t,...xr(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:Pr,n:kr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=kr,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ir*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Cr(o*t,e),u=Cr(-n*t,e);let c=rr(t-a*r-u*i,e),f=rr(-a*n-u*o,e);const l=c>s,d=f>s;if(l&&(c=e-c),d&&(f=e-f),c>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:d,k2:f}}}},Ce);BigInt(0);Mr.ProjectivePoint;BigInt(0),BigInt(1);BigInt(0),BigInt(1),BigInt(2),BigInt(27),BigInt(28),BigInt(35);Symbol.for("nodejs.util.inspect.custom");function Br(t,e,r,n,i){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return"OVERRUN"===t?r.length-e-1:0}Object.freeze({error:function(t,e,r,n,i){te(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Br,replace:function(t,e,r,n,i){return"OVERLONG"===t?(te("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Br(t,e,r))}});var Rr,jr;!function(t){t.Unknown="Unknown",t.BtcEcdsa="BtcEcdsa",t.EvmPersonal="EvmPersonal",t.JoyId="JoyId"}(Rr||(Rr={})),function(t){t.EVM="EVM",t.BTC="BTC",t.CKB="CKB"}(jr||(jr={}));__webpack_require__(33470),__webpack_require__(48287).Buffer;var Dr=__webpack_require__(33089),Lr=__webpack_require__(33701),Ur=__webpack_require__(30096),Nr=__webpack_require__(41600),Hr=__webpack_require__(71313),Fr=__webpack_require__(28670);function zr(t){return{capacity:t.capacity,lock:t.lock,type:t.type?t.type:void 0}}const{table:Kr,option:qr,vector:Wr,byteVecOf:$r}=Hr.molecule,{Uint8:Vr}=Hr.number,{bytify:Gr,hexify:Qr}=Hr.bytes;const Xr=$r({pack:Gr,unpack:Qr}),Yr=qr(Xr);var Jr;const Zr=Kr({codeHash:(Jr=32,(0,Hr.createFixedBytesCodec)({byteLength:Jr,pack:t=>Gr(t),unpack:t=>Qr(t)})),hashType:Vr,args:Xr},["codeHash","hashType","args"]),tn=Kr({owner_script:qr(Zr),owner_signature:Yr,raw_extension_data:qr(Wr(Zr)),extension_data:Wr(Xr)},["owner_script","owner_signature","raw_extension_data","extension_data"]),en=(()=>{const t=tn.pack({extension_data:[]}),e=tn.pack({extension_data:[]}),r=Nr.blockchain.WitnessArgs.pack({lock:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",inputType:t,outputType:e});return Hr.bytes.hexify(r)})();async function rn(t,e){console.debug("Starting conversion to TransactionSkeleton"),console.debug("Mapping rawTransaction to transaction object");const r={...t,witnesses:t.witnesses.map((t=>(console.debug(`Processing witness: ${"string"==typeof t?t:"non-string witness"}`),"string"==typeof t?t:en))),inputs:t.inputs.map((t=>(console.debug(`Converting cell input: ${JSON.stringify(t)}`),function(t){if(!t.previousOutput)throw new Error("CellInput previousOutput is required but was not provided.");return{previousOutput:t.previousOutput,since:t.since}}(t)))),outputs:t.outputs.map((t=>(console.debug(`Converting cell output: ${JSON.stringify(t)}`),zr(t)))),cellDeps:t.cellDeps.map((t=>(console.debug(`Converting cell dep: ${JSON.stringify(t)}`),function(t){if(!t.outPoint)throw new Error("CellDep outPoint is required but was not provided.");return{outPoint:t.outPoint,depType:t.depType}}(t))))};console.debug("Initializing TransactionSkeleton");let n=(0,Fr.TransactionSkeleton)();console.debug("Updating cellDeps and headerDeps in TransactionSkeleton"),n=n.update("cellDeps",(t=>(console.debug(`Adding cellDeps: ${JSON.stringify(r.cellDeps)}`),t.push(...r.cellDeps)))).update("headerDeps",(t=>(console.debug(`Adding headerDeps: ${JSON.stringify(r.headerDeps)}`),t.push(...r.headerDeps)))),console.debug("Fetching input cells");const i=(await e.getLiveCells(r.inputs.map((t=>t.previousOutput)),!0)).map(((t,e)=>{return n=t,i=r.inputs[e].previousOutput,{cellOutput:zr(n.output),data:n.data?n.data.content:"",outPoint:i};var n,i}));console.debug("Updating inputs in TransactionSkeleton"),n=n.update("inputs",(t=>(console.debug(`Adding inputCells: ${JSON.stringify(i)}`),t.push(...i)))),console.debug("Updating inputSinces in TransactionSkeleton"),n=n.update("inputSinces",(t=>(console.debug("Mapping inputSinces"),r.inputs.reduce(((t,e,r)=>(console.debug(`Setting since for input at index ${r}: ${e.since}`),t.set(r,e.since))),t)))),console.debug("Mapping output cells");const o=r.outputs.map(((t,e)=>(console.debug(`Creating output cell for output at index ${e}: ${JSON.stringify(t)}`),{cellOutput:t,data:r.outputsData[e]??"0x"})));return console.debug("Updating outputs and witnesses in TransactionSkeleton"),n=n.update("outputs",(t=>(console.debug(`Adding outputCells: ${JSON.stringify(o)}`),t.push(...o)))).update("witnesses",(t=>(console.debug(`Adding witnesses: ${JSON.stringify(r.witnesses)}`),t.push(...r.witnesses)))),console.debug("Conversion to TransactionSkeleton completed"),n}const nn=async(t,e,r)=>{const n=await rn(t,e);return{txHash:await r.sendTransaction(st.fromLumosSkeleton(n))}};class on{collector;isMainnet;constructor(t){this.isMainnet=t,this.collector=t?new r.Collector({ckbNodeUrl:"https://mainnet.ckbapp.dev",ckbIndexerUrl:"https://mainnet.ckbapp.dev/indexer"}):new r.Collector({ckbNodeUrl:"https://testnet.ckbapp.dev",ckbIndexerUrl:"https://testnet.ckb.dev"})}}class sn{btcDataSource;btcTestnetType;btcService;unisat;networkType;constructor(t,e,r){let n;this.btcTestnetType=r,this.networkType=e,n=void 0===r?"https://api.rgbpp.io":"Signet"===r?"https://api.signet.rgbpp.io":"https://api.testnet.rgbpp.io";this.btcService=Ur.zW.fromToken(n,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJNb2JpdCIsImF1ZCI6Im1vYml0LmFwcCIsImp0aSI6IjNjMTAzNGNmLTcwZWEtNDgzMy04MGUwLTRlMDA2NTNkNTY3YiIsImlhdCI6MTcxODM0Njg0OX0.97pGqGCPMpP9rVaqq1QNaDcjykQLThGildYJWu93DiM","https://mobit.app"),this.btcDataSource=new Ur.qS(this.btcService,e),this.unisat=t}}async function an(t,e){let r;r=t?Lr.MAINNET:Lr.TESTNET;const n=r.SCRIPTS,i=[],o=e.some((t=>(0,Dr.isOmnilockAddress)(t,r))),s=e.some((t=>(0,Dr.isAcpAddress)(t,r))),a=e.some((t=>(0,Dr.isSecp256k1Blake160Address)(t,r))),u=e.some((t=>(0,Dr.isSecp256k1Blake160MultisigAddress)(t,r)));if(o){const t=n.OMNILOCK;if(!t)throw new Error("OMNILOCK script configuration is missing.");i.push({outPoint:{txHash:t.TX_HASH,index:t.INDEX},depType:t.DEP_TYPE})}if(s){const t=n.ANYONE_CAN_PAY;if(!t)throw new Error("ANYONE_CAN_PAY script configuration is missing.");i.push({outPoint:{txHash:t.TX_HASH,index:t.INDEX},depType:t.DEP_TYPE})}if(a){const t=n.SECP256K1_BLAKE160;if(!t)throw new Error("SECP256K1_BLAKE160 script configuration is missing.");i.push({outPoint:{txHash:t.TX_HASH,index:t.INDEX},depType:t.DEP_TYPE})}if(u){const t=n.SECP256K1_BLAKE160_MULTISIG;if(!t)throw new Error("SECP256K1_BLAKE160_MULTISIG script configuration is missing.");i.push({outPoint:{txHash:t.TX_HASH,index:t.INDEX},depType:t.DEP_TYPE})}return i}const un=292,cn=41,fn=65,ln=130;function dn(t,e){let r;return r=e?Lr.MAINNET:Lr.TESTNET,(0,Dr.isOmnilockAddress)(t,r)?un:(0,Dr.isAcpAddress)(t,r)?cn:(0,Dr.isSecp256k1Blake160Address)(t,r)?fn:(0,Dr.isSecp256k1Blake160MultisigAddress)(t,r)?ln:(console.warn(`Unknown address type for address: ${t}. Using default witness size.`),fn)}async function hn({xudtArgs:t,burnAmount:n,ckbAddress:i,collector:o,isMainnet:s}){const a={...(0,r.getXudtTypeScript)(s),args:t},u=(0,e.addressToScript)(i),c=await o.getCells({lock:u,type:a});if(console.debug("Fetched xudt cells:",c),!c||0===c.length)throw new r.NoXudtLiveCellError("The address has no xudt cells");const{inputs:f,sumInputsCapacity:l,sumAmount:d}=o.collectUdtInputs({liveCells:c,needAmount:n});let h=l,p=f;if(console.debug("Collected inputs:",p),console.debug("Sum of inputs capacity:",l),console.debug("Sum of amount:",d),d<n)throw new Error("Not enough xUDT tokens to burn");const y=[],g=[];let b=BigInt(0);if(d>n){const t=(0,r.calculateUdtCellCapacity)(u);y.push({lock:u,type:a,capacity:(0,r.append0x)(t.toString(16))}),g.push((0,r.append0x)((0,r.u128ToLe)(d-n))),b+=t,console.debug("XUDT change capacity:",t),console.debug("Updated outputs:",y),console.debug("Updated outputs data:",g)}const m=r.MAX_FEE;if(l<=b){let t=await o.getCells({lock:u});if(console.debug("Fetched Empty Cells:",t),t=t.filter((t=>!t.output.type)),!t||0===t.length)throw new r.NoLiveCellError("The address has no empty cells");const e=b-l,{inputs:n,sumInputsCapacity:i}=o.collectInputs(t,e,m,{minCapacity:r.MIN_CAPACITY});p=[...p,...n],h+=i,console.debug("Need Capacity:",e),console.debug("Empty Inputs:",n),console.debug("Sum Empty Capacity:",i)}let v=h-b;y.push({lock:u,capacity:(0,r.append0x)(v.toString(16))}),g.push("0x"),console.debug("Change Capacity:",v),console.debug("Updated Outputs:",y),console.debug("Updated Outputs Data:",g);const _={lock:"",inputType:"",outputType:""},w=p.map(((t,e)=>0===e?_:"0x")),S={version:"0x0",cellDeps:[...await an(s,[i]),...await(0,r.fetchTypeIdCellDeps)(s,{xudt:!0})],headerDeps:[],inputs:p,outputs:y,outputsData:g,witnesses:w};if(console.debug("Unsigned transaction:",S),m===r.MAX_FEE){const t=(0,e.getTransactionSize)(S)+dn(i,s),n=(0,r.calculateTransactionFee)(t);v-=n,S.outputs[S.outputs.length-1].capacity=(0,r.append0x)(v.toString(16)),console.debug("Transaction size:",t),console.debug("Estimated transaction fee:",n),console.debug("Updated change capacity:",v),console.debug("Updated unsigned transaction:",S)}return S}async function pn({xudtTotalAmount:t,tokenInfo:n,ckbAddress:i,collector:o,isMainnet:s}){const a=(0,e.addressToScript)(i);let u=await o.getCells({lock:a});if(console.debug("Fetched empty cells:",u),!u||0===u.length)throw new r.NoLiveCellError("The address has no empty cells");u=u.filter((t=>!t.output.type)),console.debug("Filtered empty cells without a type:",u);const c=(0,r.calculateUdtCellCapacity)(a);console.debug("Calculated xUDT cell capacity:",c);const f=(0,r.calculateXudtTokenInfoCellCapacity)(n,a);console.debug("Calculated xUDT token info cell capacity:",f);const l=r.MAX_FEE;console.debug("Set transaction fee to maximum fee:",l);const{inputs:d,sumInputsCapacity:h}=o.collectInputs(u,c+f,l,{minCapacity:r.MIN_CAPACITY});console.debug("Collected inputs:",d),console.debug("Sum of inputs capacity:",h);const p={...(0,r.getXudtTypeScript)(s),args:(0,r.append0x)((0,e.scriptToHash)(a))};console.debug("Defined xUDT type script:",p),console.log("xUDT type script",p);let y=h-c-f;console.debug("Calculated change capacity:",y);const g=[{lock:a,type:p,capacity:(0,r.append0x)(c.toString(16))},{lock:a,type:{...(0,r.getUniqueTypeScript)(s),args:(0,r.generateUniqueTypeArgs)(d[0],1)},capacity:(0,r.append0x)(f.toString(16))},{lock:a,capacity:(0,r.append0x)(y.toString(16))}];console.debug("Defined outputs:",g);const b=t*BigInt(10**n.decimal);console.debug("Calculated total amount:",b);const m=[(0,r.append0x)((0,r.u128ToLe)(b)),(0,r.encodeRgbppTokenInfo)(n),"0x"];console.debug("Defined outputs data:",m);const v={lock:"",inputType:"",outputType:""};console.debug("Defined empty witness:",v);const _=d.map(((t,e)=>0===e?v:"0x"));console.debug("Defined witnesses:",_);const w=[...await an(s,[i]),...await(0,r.fetchTypeIdCellDeps)(s,{xudt:!0,unique:!0})];console.debug("Defined cell dependencies:",w);const S={version:"0x0",cellDeps:w,headerDeps:[],inputs:d,outputs:g,outputsData:m,witnesses:_};if(console.debug("Defined unsigned transaction:",S),l===r.MAX_FEE){const t=(0,e.getTransactionSize)(S)+dn(i,s),n=(0,r.calculateTransactionFee)(t);y-=n,S.outputs[S.outputs.length-1].capacity=(0,r.append0x)(y.toString(16)),console.debug("Adjusted transaction fee:",n),console.debug("Updated change capacity:",y)}return console.info("Unsigned transaction created:",S),S}const yn=async({outIndex:t,btcTxId:e,xudtTypeArgs:n,transferAmount:i,isMainnet:o,collector:s,ckbAddress:a,btcTestnetType:u,cccSigner:c})=>{const f=(0,r.buildRgbppLockArgs)(t,e),l={...(0,r.getXudtTypeScript)(o),args:n},d=await(0,r.genCkbJumpBtcVirtualTx)({collector:s,fromCkbAddress:a,toRgbppLockArgs:f,xudtTypeBytes:(0,r.serializeScript)(l),transferAmount:i,btcTestnetType:u}),h={...d,cellDeps:[...d.cellDeps,...await an(o,[a])],witnesses:[{lock:"",inputType:"",outputType:""},...d.witnesses.slice(1)]},{txHash:p}=await nn(h,s,c);return console.info(`Rgbpp asset has been jumped from CKB to BTC and CKB tx hash is ${p}`),p};async function gn({xudtArgs:t,ckbAddresses:n,collector:i,isMainnet:o},s=n[0]){const a=(0,e.addressToScript)(s),u={...(0,r.getXudtTypeScript)(o),args:t},c=await async function({ckbAddresses:t,type:r,collector:n}){const i=t.map(e.addressToScript);let o=[];console.debug("Starting to fetch indexer cells for addresses:",t),console.debug("Converted addresses to locks:",i);for(const t of i){console.debug("Fetching cells for lock:",t);try{const e=await n.getCells({lock:t,type:r});console.debug("Fetched cells for lock:",t,"Cells:",e),o=o.concat(e)}catch(e){throw console.error("Error fetching cells for lock:",t,"Error:",e),e}}return console.debug("Total indexer cells fetched:",o),o}({ckbAddresses:n,type:u,collector:i});if(console.debug("Fetched xudt cells:",c),!c||0===c.length)throw new r.NoXudtLiveCellError("The addresses have no xudt cells");if(1===c.length)throw new Error("Only one xudt cell found, no need to merge");const{inputs:f,sumInputsCapacity:l,sumAmount:d}=function(t){const e=[];let n=BigInt(0),i=BigInt(0);for(const o of t)"0x"!==o.outputData&&(e.push({previousOutput:{txHash:o.outPoint.txHash,index:o.outPoint.index},since:"0x0"}),n+=BigInt(o.output.capacity),i+=(0,r.leToU128)((0,r.remove0x)(o.outputData).slice(0,32)));return{inputs:e,sumInputsCapacity:n,sumAmount:i}}(c),h=l,p=f;console.debug("Collected inputs:",p),console.debug("Sum of inputs capacity:",l),console.debug("Sum of amount:",d);const y=(0,r.calculateUdtCellCapacity)(a),g=[{lock:a,type:u,capacity:(0,r.append0x)(y.toString(16))}],b=[(0,r.append0x)((0,r.u128ToLe)(d))],m=y;console.debug("Merged XUDT capacity:",y),console.debug("Updated outputs:",g),console.debug("Updated outputs data:",b);const v=r.MAX_FEE;if(l<=m)throw new Error("Thetotal input capacity is less than or equal to the total output capacity, which is not possible in a merge function.");let _=h-m;g.push({lock:a,capacity:(0,r.append0x)(_.toString(16))}),b.push("0x"),console.debug("Change Capacity:",_),console.debug("Updated Outputs:",g),console.debug("Updated Outputs Data:",b);const w={lock:"",inputType:"",outputType:""},S=p.map(((t,e)=>0===e?w:"0x")),A={version:"0x0",cellDeps:[...await an(o,n),...await(0,r.fetchTypeIdCellDeps)(o,{xudt:!0})],headerDeps:[],inputs:p,outputs:g,outputsData:b,witnesses:S};if(console.debug("Unsigned transaction:",A),v===r.MAX_FEE){const t=(0,e.getTransactionSize)(A)+dn(s,o),n=(0,r.calculateTransactionFee)(t);_-=n,A.outputs[A.outputs.length-1].capacity=(0,r.append0x)(_.toString(16)),console.debug("Transaction size:",t),console.debug("Estimated transaction fee:",n),console.debug("Updated change capacity:",_),console.debug("Updated unsigned transaction:",A)}return A}async function bn({xudtArgs:t,receivers:n,ckbAddress:i,collector:o,isMainnet:s}){const a={...(0,r.getXudtTypeScript)(s),args:t},u=(0,e.addressToScript)(i),c=await o.getCells({lock:u,type:a});if(console.debug("Fetched xudt cells:",c),!c||0===c.length)throw new r.NoXudtLiveCellError("The address has no xudt cells");const f=n.map((t=>t.transferAmount)).reduce(((t,e)=>t+e),BigInt(0));console.debug("Sum Transfer Amount:",f);let l=n.map((({toAddress:t})=>(0,r.calculateUdtCellCapacity)((0,e.addressToScript)(t)))).reduce(((t,e)=>t+e),BigInt(0));console.debug("Sum XUDT Output Capacity:",l);const{inputs:d,sumInputsCapacity:h,sumAmount:p}=o.collectUdtInputs({liveCells:c,needAmount:f});console.debug("Sum XUDT Inputs Capacity:",h),console.debug("Sum Amount:",p);let y=h,g=d;const b=n.map((({toAddress:t})=>({lock:(0,e.addressToScript)(t),type:a,capacity:(0,r.append0x)((0,r.calculateUdtCellCapacity)((0,e.addressToScript)(t)).toString(16))}))),m=n.map((({transferAmount:t})=>(0,r.append0x)((0,r.u128ToLe)(t))));if(console.debug("Outputs:",b),console.debug("Outputs Data:",m),p>f){const t=(0,r.calculateUdtCellCapacity)(u);b.push({lock:u,type:a,capacity:(0,r.append0x)(t.toString(16))}),m.push((0,r.append0x)((0,r.u128ToLe)(p-f))),l+=t,console.debug("XUDT Change Capacity:",t),console.debug("Updated Outputs:",b),console.debug("Updated Outputs Data:",m)}const v=r.MAX_FEE;if(h<=l){let t=await o.getCells({lock:u});if(console.debug("Fetched Empty Cells:",t),t=t.filter((t=>!t.output.type)),!t||0===t.length)throw new r.NoLiveCellError("The address has no empty cells");const e=l-h,{inputs:n,sumInputsCapacity:i}=o.collectInputs(t,e,v,{minCapacity:r.MIN_CAPACITY});g=[...g,...n],y+=i,console.debug("Need Capacity:",e),console.debug("Empty Inputs:",n),console.debug("Sum Empty Capacity:",i)}let _=y-l;b.push({lock:u,capacity:(0,r.append0x)(_.toString(16))}),m.push("0x"),console.debug("Change Capacity:",_),console.debug("Updated Outputs:",b),console.debug("Updated Outputs Data:",m);const w={lock:"",inputType:"",outputType:""},S=g.map(((t,e)=>0===e?w:"0x"));console.debug("Witnesses:",S);const A=[...await an(s,[i]),...await(0,r.fetchTypeIdCellDeps)(s,{xudt:!0})];console.debug("Cell Deps:",A);const x={version:"0x0",cellDeps:A,headerDeps:[],inputs:g,outputs:b,outputsData:m,witnesses:S};if(console.debug("Unsigned Transaction:",x),v===r.MAX_FEE){const t=(0,e.getTransactionSize)(x)+dn(i,s),n=(0,r.calculateTransactionFee)(t);_-=n,x.outputs[x.outputs.length-1].capacity=(0,r.append0x)(_.toString(16)),console.debug("Transaction Size:",t),console.debug("Estimated Transaction Fee:",n),console.debug("Updated Change Capacity:",_),console.debug("Updated Unsigned Transaction:",x)}return x}var mn=__webpack_require__(61611);async function vn(t,e,r){console.debug("Starting PSBT signing process..."),console.debug("PSBT before signing:",t.toHex());try{console.debug("test");const n=mn.bitcoin.Psbt.fromHex(await e.signPsbt(t.toHex()));console.debug("PSBT after signing:",n.toBase64());const i=n.extractTransaction(),o=i.toHex();console.debug("Extracted transaction hex:",o),console.debug("Sending transaction to service...");const{txid:s}=await r.sendBtcTransaction(o);console.debug("Transaction sent successfully. TXID:",s);const a=(0,mn.transactionToHex)(i,!1);return console.debug("Raw transaction hex (excluding witness):",a),{txHex:o,txId:s,rawTxHex:a}}catch(t){throw console.error("Error during PSBT signing or transaction sending:",t),t}}const _n=async({xudtTypeArgs:t,receivers:e,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:s,fromBtcAccount:a,fromBtcAccountPubkey:u,unisat:c,filterRgbppArgslist:f,btcService:l})=>{const d=await(async({xudtTypeArgs:t,fromBtcAccount:e,isMainnet:n,btcService:i})=>{const o=encodeURIComponent(JSON.stringify({codeHash:(0,r.getXudtTypeScript)(n).codeHash,args:t,hashType:"type"}));console.log(o);const s=await i.getRgbppAssetsByBtcAddress(e,{type_script:o,no_cache:!1});return console.log(s),{rgbppLockArgsList:s.map((t=>t.cellOutput.lock.args))}})({xudtTypeArgs:t,fromBtcAccount:a,isMainnet:s,btcService:l}),h=await f(d.rgbppLockArgsList),p=await(async({rgbppLockArgsList:t,receivers:e,xudtTypeArgs:n,collector:i,btcDataSource:o,btcTestnetType:s,isMainnet:a,fromBtcAccount:u,fromBtcAccountPubkey:c,unisat:f,btcService:l})=>{const d={...(0,r.getXudtTypeScript)(a),args:n},h=await(0,r.genBtcBatchTransferCkbVirtualTx)({collector:i,rgbppLockArgsList:t,xudtTypeBytes:(0,r.serializeScript)(d),rgbppReceivers:e,isMainnet:a,btcTestnetType:s}),{commitment:p,ckbRawTx:y,needPaymasterCell:g}=h,b=await(0,mn.sendRgbppUtxos)({ckbVirtualTx:y,commitment:p,tos:e.map((t=>t.toBtcAddress)),needPaymaster:g,ckbCollector:i,from:u,fromPubkey:c,source:o}),{txId:m,rawTxHex:v}=await vn(b,f,l);console.log(`BTC ${s} TxId: ${m}`),await l.sendRgbppCkbTransaction({btc_txid:m,ckb_virtual_result:h});try{const t=setInterval((async()=>{const{state:e,failedReason:r}=await l.getRgbppTransactionState(m);if(console.log("state",e),"completed"===e||"failed"===e)if(clearInterval(t),"completed"===e){const{txhash:t}=await l.getRgbppTransactionHash(m);console.info(`Rgbpp asset has been transferred on BTC and the related CKB tx hash is ${t}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(t){throw console.error(t),t}return{btcTxId:m}})({rgbppLockArgsList:h,receivers:e,xudtTypeArgs:t,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:s,fromBtcAccount:a,fromBtcAccountPubkey:u,unisat:c,btcService:l});return p},wn=async({rgbppTokenInfo:t,collector:n,isMainnet:i,btcTestnetType:o,btcAccount:s,btcDataSource:a,btcAccountPubkey:u,launchAmount:c,ckbAddress:f,filterUtxo:l,btcService:d,unisat:h,cccSigner:p})=>{const y=await d.getBtcUtxos(s,{only_non_rgbpp_utxos:!0,only_confirmed:!0,min_satoshi:1e4}),{outIndex:g,btcTxId:b}=await l(y),m=await(async({outIndex:t,btcTxId:n,rgbppTokenInfo:i,ckbAddress:o,collector:s,isMainnet:a,btcTestnetType:u})=>{const c=(0,e.addressToScript)(o);console.log("ckb address: ",o);const f=(0,r.calculateRgbppCellCapacity)()+(0,r.calculateRgbppTokenInfoCellCapacity)(i,a);let l=await s.getCells({lock:c});if(!l||0===l.length)throw new r.NoLiveCellError("The address has no empty cells");l=l.filter((t=>!t.output.type));const d=r.MAX_FEE,{inputs:h,sumInputsCapacity:p}=s.collectInputs(l,f,d),y=[{lock:(0,r.genRgbppLockScript)((0,r.buildRgbppLockArgs)(t,n),a,u),capacity:(0,r.append0x)(f.toString(16))}];let g=p-f;y.push({lock:c,capacity:(0,r.append0x)(g.toString(16))});const b={lock:"",inputType:"",outputType:""},m=h.map(((t,e)=>0===e?b:"0x")),v={version:"0x0",cellDeps:[...await an(a,[o])],headerDeps:[],inputs:h,outputs:y,outputsData:["0x","0x"],witnesses:m},_=(0,e.getTransactionSize)(v)+dn(o,a);return g-=(0,r.calculateTransactionFee)(_),v.outputs[v.outputs.length-1].capacity=(0,r.append0x)(g.toString(16)),v})({outIndex:g,btcTxId:b,rgbppTokenInfo:t,ckbAddress:f,collector:n,isMainnet:i,btcTestnetType:o}),{txHash:v}=await nn(m,n,p);console.info(`Launch cell has been created and the CKB tx hash ${v}`);const _=(0,r.buildRgbppLockArgs)(g,b),{btcTxId:w}=await(async({ownerRgbppLockArgs:t,rgbppTokenInfo:e,collector:n,isMainnet:i,btcTestnetType:o,btcAccount:s,btcDataSource:a,btcAccountPubkey:u,launchAmount:c,btcService:f,unisat:l})=>{const d=await(0,r.genRgbppLaunchCkbVirtualTx)({collector:n,ownerRgbppLockArgs:t,rgbppTokenInfo:e,launchAmount:c,isMainnet:i,btcTestnetType:o}),{commitment:h,ckbRawTx:p,needPaymasterCell:y}=d;console.log("RGB++ Asset type script args: ",p.outputs[0].type?.args);const g=await(0,mn.sendRgbppUtxos)({ckbVirtualTx:p,commitment:h,tos:[s],needPaymaster:y,ckbCollector:n,from:s,fromPubkey:u,source:a}),{txId:b,rawTxHex:m}=await vn(g,l,f);console.log(`BTC ${o} TxId: ${b}`);const v=setInterval((async()=>{try{console.log("Waiting for BTC tx and proof to be ready");const t=await f.getRgbppSpvProof(b,0);clearInterval(v);const e=(0,r.updateCkbTxWithRealBtcTxId)({ckbRawTx:p,btcTxId:b,isMainnet:i}),o=await(0,r.appendCkbTxWitnesses)({ckbRawTx:e,btcTxBytes:m,rgbppApiSpvProof:t}),s=await(0,r.sendCkbTx)({collector:n,signedTx:o});console.info(`RGB++ Asset has been launched and CKB tx hash is ${s}`)}catch(t){throw console.error(t),t}}),3e4);return{btcTxId:b}})({ownerRgbppLockArgs:_,rgbppTokenInfo:t,collector:n,isMainnet:i,btcAccount:s,btcDataSource:a,btcAccountPubkey:u,btcTestnetType:o,launchAmount:c,btcService:d,unisat:h});return{btcTxId:w,ckbTxHash:v}},Sn=async({rgbppLockArgsList:t,toCkbAddress:e,xudtTypeArgs:n,transferAmount:i,isMainnet:o,collector:s,btcTestnetType:a,fromBtcAccountPubkey:u,fromBtcAccount:c,btcDataSource:f,btcService:l,unisat:d})=>{const h={...(0,r.getXudtTypeScript)(o),args:n},p=await(0,r.genBtcJumpCkbVirtualTx)({collector:s,rgbppLockArgsList:t,xudtTypeBytes:(0,r.serializeScript)(h),transferAmount:i,toCkbAddress:e,isMainnet:o,btcTestnetType:a}),{commitment:y,ckbRawTx:g}=p,b=await(0,Ur.PE)({ckbVirtualTx:g,commitment:y,tos:[c],ckbCollector:s,from:c,fromPubkey:u,source:f}),{txId:m}=await vn(b,d,l);console.log(`BTC ${a} TxId: ${m}`),await l.sendRgbppCkbTransaction({btc_txid:m,ckb_virtual_result:p});try{const t=setInterval((async()=>{const{state:e,failedReason:r}=await l.getRgbppTransactionState(m);if(console.log("state",e),"completed"===e||"failed"===e)if(clearInterval(t),"completed"===e){const{txhash:t}=await l.getRgbppTransactionHash(m);console.info(`Rgbpp asset has been jumped from BTC to CKB and the related CKB tx hash is ${t}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(t){throw console.error(t),t}return{btcTxId:m}},An=async({toBtcAddress:t,xudtTypeArgs:e,transferAmount:n,collector:i,btcDataSource:o,btcTestnetType:s,isMainnet:a,fromBtcAccount:u,fromBtcAccountPubkey:c,unisat:f,btcService:l})=>{const d=await(async({xudtTypeArgs:t,fromBtcAccount:e,isMainnet:n,btcService:i})=>{const o=JSON.stringify({...(0,r.getXudtTypeScript)(n),args:t});console.log(o);const s=await i.getRgbppAssetsByBtcAddress(e,{type_script:encodeURIComponent(o),no_cache:!1});return console.log(s),{rgbppLockArgsList:s.map((t=>t.cellOutput.lock.args))}})({xudtTypeArgs:e,fromBtcAccount:u,isMainnet:a,btcService:l}),h=await(async({rgbppLockArgsList:t,toBtcAddress:e,xudtTypeArgs:r,transferAmount:n,collector:i,btcDataSource:o,btcTestnetType:s,isMainnet:a,fromBtcAccount:u,fromBtcAccountPubkey:c,unisat:f,btcService:l})=>{const{ckbVirtualTxResult:d,btcPsbtHex:h}=await(0,Ur.X9)({ckb:{collector:i,xudtTypeArgs:r,rgbppLockArgsList:t,transferAmount:n},btc:{fromAddress:u,toAddress:e,fromPubkey:c,dataSource:o,testnetType:s},isMainnet:a});console.log(h);const p=mn.bitcoin.Psbt.fromHex(h),{txId:y}=await vn(p,f,l);console.log(`BTC ${s} TxId: ${y}`),await l.sendRgbppCkbTransaction({btc_txid:y,ckb_virtual_result:d});try{const t=setInterval((async()=>{const{state:e,failedReason:r}=await l.getRgbppTransactionState(y);if(console.log("state",e),"completed"===e||"failed"===e)if(clearInterval(t),"completed"===e){const{txhash:t}=await l.getRgbppTransactionHash(y);console.info(`Rgbpp asset has been transferred on BTC and the related CKB tx hash is ${t}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(t){throw console.error(t),t}return{btcTxId:y}})({rgbppLockArgsList:d.rgbppLockArgsList,toBtcAddress:t,xudtTypeArgs:e,transferAmount:n,collector:i,btcDataSource:o,btcTestnetType:s,isMainnet:a,fromBtcAccount:u,fromBtcAccountPubkey:c,unisat:f,btcService:l});return h}})(),__webpack_exports__})()));
//# sourceMappingURL=sdk.js.map